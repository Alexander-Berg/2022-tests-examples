import { StoryModel, StoryVersion } from '../story.model';
import { StoryPageModel, StoryPageRatio, StoryPageTheme } from '../../story-page/story-page.model';

const IMAGE = {
    'group-id': 1398410,
    imagename: '4747.jpg_1654518939714',
    meta: {
        'orig-animated': false,
        'orig-format': 'JPEG',
        'orig-size': {
            x: 960,
            y: 1280,
        },
        'orig-size-bytes': 168385,
    },
    sizes: {
        '1098x1098': {
            height: 1098,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/1098x1098',
            width: 824,
        },
        '1200х1200': {
            height: 1200,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/1200х1200',
            width: 900,
        },
        '1252x1252': {
            height: 1252,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/1252x1252',
            width: 939,
        },
        '1428x1428': {
            height: 1280,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/1428x1428',
            width: 960,
        },
        '1600x1600': {
            height: 1280,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/1600x1600',
            width: 960,
        },
        '1920x1920': {
            height: 1280,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/1920x1920',
            width: 960,
        },
        '320x320': {
            height: 320,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/320x320',
            width: 240,
        },
        '338x338': {
            height: 338,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/338x338',
            width: 253,
        },
        '439x439': {
            height: 439,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/439x439',
            width: 329,
        },
        '460x460': {
            height: 460,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/460x460',
            width: 345,
        },
        '571x571': {
            height: 571,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/571x571',
            width: 428,
        },
        '650x650': {
            height: 650,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/650x650',
            width: 488,
        },
        '845x845': {
            height: 845,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/845x845',
            width: 634,
        },
        optimize: {
            height: 1280,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/optimize',
            width: 960,
        },
        orig: {
            height: 1280,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/orig',
            width: 960,
        },
    },
};

const AVATARS_RAW_RESPONSE = {
    'group-id': 1398410,
    imagename: '4747.jpg_1654518939714',
    meta: {
        crc64: 'D077E6C1CEDF41E2',
        md5: 'd1231912d32d8a11f031ab8776c5d6ba',
        'modification-time': 1654518940,
        'orig-animated': false,
        'orig-format': 'JPEG',
        'orig-orientation': '0',
        'orig-size': {
            x: 960,
            y: 1280,
        },
        'orig-size-bytes': 168385,
        processed_by_computer_vision: false,
        processed_by_computer_vision_description: 'computer vision is disabled',
        processing: 'finished',
    },
    sizes: {
        '1098x1098': {
            height: 1098,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/1098x1098',
            width: 824,
        },
        '1200x1200': {
            height: 1200,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/1200x1200',
            width: 900,
        },
        '1200х1200': {
            height: 1200,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/1200х1200',
            width: 900,
        },
        '1252x1252': {
            height: 1252,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/1252x1252',
            width: 939,
        },
        '1428x1428': {
            height: 1280,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/1428x1428',
            width: 960,
        },
        '1600x1600': {
            height: 1280,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/1600x1600',
            width: 960,
        },
        '1920x1920': {
            height: 1280,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/1920x1920',
            width: 960,
        },
        '200x200': {
            height: 200,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/200x200',
            width: 150,
        },
        '2560x2560': {
            height: 1280,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/2560x2560',
            width: 960,
        },
        '296x296': {
            height: 296,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/296x296',
            width: 222,
        },
        '320x320': {
            height: 320,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/320x320',
            width: 240,
        },
        '320х320': {
            height: 320,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/320х320',
            width: 240,
        },
        '338x338': {
            height: 338,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/338x338',
            width: 253,
        },
        '385x385': {
            height: 385,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/385x385',
            width: 289,
        },
        '439x439': {
            height: 439,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/439x439',
            width: 329,
        },
        '460x460': {
            height: 460,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/460x460',
            width: 345,
        },
        '460х460': {
            height: 460,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/460х460',
            width: 345,
        },
        '500x500': {
            height: 500,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/500x500',
            width: 375,
        },
        '571x571': {
            height: 571,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/571x571',
            width: 428,
        },
        '650x650': {
            height: 650,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/650x650',
            width: 488,
        },
        '741x741': {
            height: 741,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/741x741',
            width: 556,
        },
        '845x845': {
            height: 845,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/845x845',
            width: 634,
        },
        '964x964': {
            height: 964,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/964x964',
            width: 723,
        },
        optimize: {
            height: 1280,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/optimize',
            width: 960,
        },
        orig: {
            height: 1280,
            path: '/get-vertis-journal/1398410/4747.jpg_1654518939714/orig',
            width: 960,
        },
    },
};

const DEFAULT_STORY: Partial<StoryModel> = {
    urlPart: 'story-url-part',
    uuid: '59991017-3390-4065-ba4a-cb225645dc5b',
    title: 'Заголовок истории',
    textColor: '#fefefe',
    version: StoryVersion.images,
    image: IMAGE,
    xIosAppVersion: '1.0.42',
    xIosAppVersionTo: '1.0.212',
    xAndroidAppVersion: '1.0.42',
    xAndroidAppVersionTo: '1.0.212',
    rotationProbability: 0.212,
    dirty: true,
    geo: [1, 2],
};

const DEFAULT_STORY_PAGE: Partial<StoryPageModel> = {
    title: 'Заголовок слайда',
    body: 'Текст слайда',
    theme: StoryPageTheme.white,
    ratio: StoryPageRatio.square,
    backgroundColor: '#fffaaa',
    backgroundSolid: true,
    textColor: '#fffbbb',
    buttonColor: '#fffccc',
    buttonText: 'Текст кнопки',
    buttonUrl: 'https://example.com/',
    image: IMAGE,
    duration: 10,
};

export const fixtures = {
    'Internal story controller GET /internal/stories Возвращает отфильтрованные и отсортированные сторис с правильным размером страницы':
        {
            STORY_ATTRIBUTES_1: {
                urlPart: 'story-url-part-1',
                uuid: 'f130c380-fc5b-40be-88b5-ad6a599200a7',
                title: 'Заголовок истории 1',
                textColor: '#fefefe',
                version: StoryVersion.images,
                image: IMAGE,
                xIosAppVersion: '1.0.41',
                xIosAppVersionTo: '1.0.211',
                xAndroidAppVersion: '1.0.41',
                xAndroidAppVersionTo: '1.0.211',
                rotationProbability: 0.211,
                dirty: true,
                geo: [1, 2],
                published: true,
                publishedAt: '2022-04-29T01:00:00Z',
            },
            STORY_ATTRIBUTES_2: {
                urlPart: 'story-url-part-2',
                uuid: '5565fce5-02b7-4999-aa73-d13c07060e69',
                title: 'Заголовок истории 2',
                textColor: '#fefefe',
                version: StoryVersion.images,
                image: IMAGE,
                xIosAppVersion: '1.0.42',
                xIosAppVersionTo: '1.0.212',
                xAndroidAppVersion: '1.0.42',
                xAndroidAppVersionTo: '1.0.212',
                rotationProbability: 0.212,
                dirty: true,
                geo: [2, 3],
                published: true,
                publishedAt: '2022-04-29T02:00:00Z',
            },
            STORY_ATTRIBUTES_3: {
                urlPart: 'story-url-part-3',
                uuid: 'a71f664e-2db5-461b-9cdf-89d1bd3b7526',
                title: 'Заголовок истории 3',
                textColor: '#fefefe',
                version: StoryVersion.images,
                image: IMAGE,
                xIosAppVersion: '1.0.43',
                xIosAppVersionTo: '1.0.213',
                xAndroidAppVersion: '1.0.43',
                xAndroidAppVersionTo: '1.0.213',
                rotationProbability: 0.213,
                dirty: true,
                geo: [3, 4],
                published: true,
                publishedAt: '2022-04-29T03:00:00Z',
            },
            STORY_ATTRIBUTES_4: {
                published: true,
                publishedAt: '2022-04-28T00:00:00Z',
            },
            STORY_ATTRIBUTES_5: {
                published: false,
            },
        },
    'Internal story controller POST /internal/stories Создает и возвращает новый сторис': {
        STORY_ATTRIBUTES: {
            ...DEFAULT_STORY,
            image: AVATARS_RAW_RESPONSE,
        },
        STORY_PAGE_ATTRIBUTES: {
            ...DEFAULT_STORY_PAGE,
            image: AVATARS_RAW_RESPONSE,
        },
    },

    'Internal story controller PUT /internal/stories/:id Обновляет сторис по uuid и возвращает его': {
        STORY_ATTRIBUTES: {
            ...DEFAULT_STORY,
            image: AVATARS_RAW_RESPONSE,
        },
    },
    'Internal story controller PUT /internal/stories/:id Обновляет сторис по id и возвращает его': {
        STORY_ATTRIBUTES: {
            ...DEFAULT_STORY,
            image: AVATARS_RAW_RESPONSE,
        },
    },

    'Internal story controller POST /internal/stories/:id/publish Публикует сторис по id': {
        STORY_ATTRIBUTES: {
            ...DEFAULT_STORY,
        },
    },
    'Internal story controller POST /internal/stories/:id/publish Публикует сторис по uuid': {
        STORY_ATTRIBUTES: {
            ...DEFAULT_STORY,
        },
    },

    'Internal story controller POST /internal/stories/:id/unpublish Снимает с публикации сторис по id': {
        STORY_ATTRIBUTES: {
            ...DEFAULT_STORY,
        },
    },
    'Internal story controller POST /internal/stories/:id/unpublish Снимает с публикации сторис по uuid': {
        STORY_ATTRIBUTES: {
            ...DEFAULT_STORY,
        },
    },
};
