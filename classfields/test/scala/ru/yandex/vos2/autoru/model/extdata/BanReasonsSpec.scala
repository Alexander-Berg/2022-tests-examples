package ru.yandex.vos2.autoru.model.extdata

import java.io.ByteArrayInputStream

import com.google.common.base.Charsets
import org.junit.runner.RunWith
import org.scalatestplus.junit.JUnitRunner
import org.scalatest.OptionValues
import org.scalatest.funsuite.AnyFunSuite
import org.scalatest.matchers.should.Matchers
import ru.yandex.vertis.moderation.proto.Model.Reason

/**
  * Author: Vladislav Dolbilov (darl@yandex-team.ru)
  * Created: 13.02.18
  */
@RunWith(classOf[JUnitRunner])
class BanReasonsSpec extends AnyFunSuite with Matchers with OptionValues {
  test("parse BanReasons json") {
    val data =
      """{
        |   "no_docs":{
        |      "content":{
        |         "title":"–ü—Ä–æ–¥–∞–∂–∞ –¢–° –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤",
        |         "title_lk":"–ü—Ä–æ–¥–∞–∂–∞ –¢–° –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤",
        |         "comment":"–ë–∞–Ω–∏–º, –∫–æ–≥–¥–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–¥–∞–∂–∞ –¢–° –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –±–µ–∑ –ø–µ—Ä–µ–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è",
        |         "agreement":"11.2.1 11.2.5",
        |         "agreement_links":[
        |            "https://auto.ru/pages/terms_of_service/#rule-11.2.1",
        |            "https://auto.ru/pages/terms_of_service/#rule-11.2.5"
        |         ],
        |         "text":"<b>–ü—Ä–æ–¥–∞–∂–∞ –¢–° –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</b><br>–í—ã –ø—ã—Ç–∞–ª–∏—Å—å –ø—Ä–æ–¥–∞—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –∏–º–µ—é—â–µ–µ –∑–∞–ø—Ä–µ—Ç –Ω–∞ –ø–µ—Ä–µ–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏–ª–∏ —É—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ –¥–∞–Ω–Ω—ã–º –ì–ò–ë–î–î. –≠—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ <a target='_blank' href='https://yandex.ru/legal/autoru_terms_of_service/'> –ø—Ä–∞–≤–∏–ª–∞–º–∏ –ê–≤—Ç–æ.—Ä—É</a>.",
        |         "text_app":"–ü—Ä–æ–¥–∞–∂–∞ –¢–° –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –í—ã –ø—ã—Ç–∞–ª–∏—Å—å –ø—Ä–æ–¥–∞—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –∏–º–µ—é—â–µ–µ –∑–∞–ø—Ä–µ—Ç –Ω–∞ –ø–µ—Ä–µ–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏–ª–∏ —É—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ –¥–∞–Ω–Ω—ã–º –ì–ò–ë–î–î. –≠—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –ê–≤—Ç–æ.—Ä—É",
        |         "text_app_html":"–í—ã –ø—ã—Ç–∞–ª–∏—Å—å –ø—Ä–æ–¥–∞—Ç—å —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –∏–º–µ—é—â–µ–µ –∑–∞–ø—Ä–µ—Ç –Ω–∞ –ø–µ—Ä–µ–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏–ª–∏ —É—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ –¥–∞–Ω–Ω—ã–º –ì–ò–ë–î–î. –≠—Ç–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ <a target='_blank' href='https://yandex.ru/legal/autoru_terms_of_service/'> –ø—Ä–∞–≤–∏–ª–∞–º–∏ –ê–≤—Ç–æ.—Ä—É</a>.",
        |         "text_sms":"–ú—ã –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ –∏ —É–¥–∞–ª–∏–ª–∏ –≤–∞—à–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –æ –ø—Ä–æ–¥–∞–∂–µ –ú–ê–†–ö–ê / –ú–û–î–ï–õ–¨, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞—à–ª–∏ –≤ –Ω–µ–º –æ—à–∏–±–∫–∏. –ß—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É, –≤–æ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç auth.auto.ru/login",
        |         "text_user_ban":"111",
        |         "text_user_ban_sms":"–ú—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç, –≤—Å–µ —Ç–µ–∫—É—â–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å–Ω—è—Ç—ã —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã. –°–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –≤—ã —Å–µ—Ä—å–µ–∑–Ω–æ –Ω–∞—Ä—É—à–∏–ª–∏ –ø—Ä–∞–≤–∏–ª–∞ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è —Å–∞–π—Ç–∞. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ ‚Äî https://auto.ru/my/.",
        |         "text_user_ban_app":"–ü–∞—Å–ø–æ—Ä—Ç, –ø–µ—Ä–µ–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ, —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è. –ù–∞ auto.ru –Ω–µ–ª—å–∑—è —Ä–∞–∑–º–µ—â–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è –æ –ø—Ä–æ–¥–∞–∂–µ —É—Ç–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–ª–∏ –∑–∞–ª–æ–≥–æ–≤—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –∏ –º–æ—Ç–æ—Ü–∏–∫–ª–æ–≤, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –±–µ–∑ –ø–∞—Å–ø–æ—Ä—Ç–∞, –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ –ø–µ—Ä–µ–æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∏–ª–∏ —Å –¥–µ–π—Å—Ç–≤—É—é—â–∏–º –∑–∞–ø—Ä–µ—Ç–æ–º –Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é.",
        |         "push_name":"–û–±—ä—è–≤–ª–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ",
        |         "push_title":"–û–±—ä—è–≤–ª–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ üîí",
        |         "push_text":"–ú—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –æ –ø—Ä–æ–¥–∞–∂–µ {mark} {model}, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞—à–ª–∏ –æ—à–∏–±–∫–∏. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ.",
        |         "deeplink":"autoru://app/users.auto.ru/sales",
        |         "vos_sender_template":"moderation.block_ad",
        |         "passport_sender_template":"moderation.block_cheat",
        |         "show_only_one_vos":"true",
        |         "show_only_one_passport":true,
        |         "offer_editable":true,
        |         "text_lk_dealer":"222"
        |      }
        |   },
        |   "commercial":{
        |      "content":{
        |         "title":"–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å",
        |         "title_lk":"–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å",
        |         "comment":"–ë–∞–Ω–∏–º, –∫–æ–≥–¥–∞ –ø–æ–¥ –≤–∏–¥–æ–º —á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è —é–∑–µ—Ä—ã, –æ—Å—É—â–µ—Å—Ç–≤–ª—è—é—â–∏–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫—É—é –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å",
        |         "agreement":"1.1.7 3.2 3.3 10.4 11.4 11.5",
        |         "agreement_links":[
        |            "https://auto.ru/pages/terms_of_service/#rule-1.1.7",
        |            "https://auto.ru/pages/terms_of_service/#rule-3.2",
        |            "https://auto.ru/pages/terms_of_service/#rule-3.3",
        |            "https://auto.ru/pages/terms_of_service/#rule-10.4",
        |            "https://auto.ru/pages/terms_of_service/#rule-11.4",
        |            "https://auto.ru/pages/terms_of_service/#rule-11.5"
        |         ],
        |         "text":"<b>–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å</b><br>–ú—ã –ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ –≤—ã –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å –Ω–∞ –ê–≤—Ç–æ.—Ä—É –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ —Ä–∞–∑–º–µ—Å—Ç–∏–ª–∏ —ç—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–±—ã–ª–∏. –ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç–µ —Å–∞–ª–æ–Ω, —Ç–æ <a target='_blank' href='https://auto.ru/dealer/'>–ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫–∞–∫ –ø–∞—Ä—Ç–Ω–µ—Ä</a> –∏ –ø–æ–ª—É—á–∏—Ç–µ –≤—ã–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è.",
        |         "text_app":"–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –ú—ã –ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ –≤—ã –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å –Ω–∞ –ê–≤—Ç–æ.—Ä—É –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ —Ä–∞–∑–º–µ—Å—Ç–∏–ª–∏ —ç—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–±—ã–ª–∏. –ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç–µ —Å–∞–ª–æ–Ω, —Ç–æ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫–∞–∫ –ø–∞—Ä—Ç–Ω–µ—Ä –∏ –ø–æ–ª—É—á–∏—Ç–µ –≤—ã–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è.",
        |         "text_app_html":"–ú—ã –ø–æ–ª–∞–≥–∞–µ–º, —á—Ç–æ –≤—ã –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å –Ω–∞ –ê–≤—Ç–æ.—Ä—É –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ —Ä–∞–∑–º–µ—Å—Ç–∏–ª–∏ —ç—Ç–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∏–±—ã–ª–∏. –ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç–µ —Å–∞–ª–æ–Ω, —Ç–æ <a target='_blank' href='https://auto.ru/dealer/'>–ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫–∞–∫ –ø–∞—Ä—Ç–Ω–µ—Ä</a> –∏ –ø–æ–ª—É—á–∏—Ç–µ –≤—ã–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è.",
        |         "text_user_ban":"<b>–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å</b><br>–í—ã —Ä–∞–∑–º–µ—Å—Ç–∏–ª–∏ –º–Ω–æ–≥–æ –æ–±—ä—è–≤–ª–µ–Ω–∏–π —Å –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤ —Å —Ü–µ–ª—å—é –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∏–±—ã–ª–∏, —á—Ç–æ –ø–æ—Ö–æ–∂–µ –Ω–∞ <b>–∫–æ–º–º–µ—Ä—á–µ—Å–∫—É—é –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å</b>.  –°–µ–π—á–∞—Å –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç –∏ –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã.<br/>–ß—Ç–æ–±—ã –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –ê–≤—Ç–æ.—Ä—É, <a target='_blank' href='https://auto.ru/dealer/#client-form'>–ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫–∞–∫ –¥–∏–ª–µ—Ä</a> –∏ —Ç–æ—Ä–≥—É–π—Ç–µ —á–µ—Å—Ç–Ω–æ.",
        |         "text_user_ban_sms":"–ú—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç –∏ –≤—Å–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è. –•–æ—Ç–∏—Ç–µ –ø—Ä–æ–¥–∞–≤–∞—Ç—å —á–µ—Ä–µ–∑ —Å–∞–π—Ç –Ω–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –æ—Å–Ω–æ–≤–µ? –ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Äî https://auto.ru/dealer",
        |         "text_user_ban_app":"–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –≠–∫—Å–ø–µ—Ä—Ç—ã auto.ru –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª–∏ –≤–∞—à—É –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ —Å–∞–π—Ç–µ –∏ –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏, —á—Ç–æ –≤—ã —Ä–∞–∑–º–µ—Å—Ç–∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –æ–±—ä—è–≤–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ –≤—ã–º—ã—à–ª–µ–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –∏ / –∏–ª–∏ –ø—É–±–ª–∏–∫–æ–≤–∞–ª–∏ –∏—Ö —Å –æ—á–µ–≤–∏–¥–Ω–æ–π —Ä–µ–≥—É–ª—è—Ä–Ω–æ—Å—Ç—å—é.</br>–í–∞—à–∏ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ø–∞–¥–∞—é—Ç –ø–æ–¥ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ¬´–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å¬ª ‚Äî –∏ —ç—Ç–æ —Å–µ—Ä—å—ë–∑–Ω–æ–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —Å–∞–π—Ç–∞. –°–Ω—è—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –º—ã —Å–º–æ–∂–µ–º —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤—ã –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ —Å—Ç–∞–Ω–µ—Ç–µ –Ω–∞—à–∏–º –∫–ª–∏–µ–Ω—Ç–æ–º.",
        |         "push_name":"–û–±—ä—è–≤–ª–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ",
        |         "push_title":"–û–±—ä—è–≤–ª–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ üîí",
        |         "push_text":"–ú—ã –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –æ –ø—Ä–æ–¥–∞–∂–µ {mark} {model}, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–∞—à–ª–∏ –æ—à–∏–±–∫–∏. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ.",
        |         "deeplink":"autoru://app/users.auto.ru/sales",
        |         "passport_sender_template":"moderation.block_commercial",
        |         "offer_editable":false,
        |         "show_only_one_passport":false
        |      }
        |   }
        |}""".stripMargin
    val reasons = BanReasons.parse(new ByteArrayInputStream(data.getBytes(Charsets.UTF_8)))

    val map = reasons.getByKeys(Seq("1", "commercial", "no_docs"))
    map should have size 2
    val noDocs = map(Reason.NO_DOCS)

    noDocs.text should startWith("<b>–ü—Ä–æ–¥–∞–∂–∞ –¢–° –±–µ–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</b>")
    noDocs.textSms.value should startWith("–ú—ã –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ –∏ —É–¥–∞–ª–∏–ª–∏ –≤–∞—à–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –æ –ø—Ä–æ–¥–∞–∂–µ –ú–ê–†–ö–ê / –ú–û–î–ï–õ–¨")
    noDocs.offerEditable should equal(true)
    noDocs.links shouldBe Set(
      "https://auto.ru/pages/terms_of_service/#rule-11.2.1",
      "https://auto.ru/pages/terms_of_service/#rule-11.2.5"
    )
    noDocs.sendOnlyOne should equal(true)
    noDocs.senderTemplate shouldBe Some("moderation.block_ad")

    val commercial = map(Reason.COMMERCIAL)
    commercial.text should startWith("<b>–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∞—è –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å</b>")
    commercial.sendOnlyOne should equal(false)
    commercial.senderTemplate shouldBe None
  }
}
