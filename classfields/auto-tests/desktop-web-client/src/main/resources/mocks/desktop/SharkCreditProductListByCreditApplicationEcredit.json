{
  "predicates": [
    {
      "deepEquals": {
        "path": "/1.0/shark/credit-product/list",
        "method": "POST",
        "body": {
          "by_credit_application": {
            "credit_application_id": "72273450-26b1-4e4d-b64e-52bfa63bdc74"
          }
        }
      }
    }
  ],
  "responses": [
    {
      "is": {
        "statusCode": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "credit_products": [
            {
              "id": "sberbank-1",
              "bank_type": "SBERBANK",
              "product_type": "IFRAME",
              "domain": "DOMAIN_AUTO",
              "amount_range": {
                "from": "300000",
                "to": "2000000"
              },
              "interest_rate_range": {
                "from": 7.9,
                "to": 100
              },
              "term_months_range": {
                "from": 6,
                "to": 96
              },
              "geobase_ids": [
                "225"
              ],
              "credit_product_payload": {
                "iframe": {
                  "without_sending": true
                }
              },
              "is_active": true,
              "bank_id": "sberbank",
              "client_features": [
                "SHARK_BANK_ID_SUPPORT",
                "SHARK_IFRAME_WO_SENDING"
              ],
              "priority": 2,
              "rate_limit": {}
            },
            {
              "id": "dealer-1",
              "product_type": "DEALER",
              "domain": "DOMAIN_AUTO",
              "amount_range": {
                "from": "50000",
                "to": "15000000"
              },
              "interest_rate_range": {
                "from": 29.9,
                "to": 0
              },
              "term_months_range": {
                "from": 12,
                "to": 84
              },
              "geobase_ids": [
                "225"
              ],
              "credit_product_payload": {
                "dealer": {}
              },
              "credit_application_info_blocks": [
                {
                  "block_type": "OKB_STATEMENT_AGREEMENT",
                  "required_condition": {
                    "always": {}
                  }
                },
                {
                  "block_type": "ADVERT_STATEMENT_AGREEMENT",
                  "required_condition": {
                    "always": {}
                  }
                }
              ],
              "borrower_person_profile_blocks": [
                {
                  "block_type": "NAME",
                  "required_condition": {
                    "always": {}
                  }
                },
                {
                  "block_type": "PHONES",
                  "required_condition": {
                    "always": {}
                  }
                },
                {
                  "block_type": "EMAILS",
                  "required_condition": {
                    "always": {}
                  }
                }
              ],
              "is_active": true,
              "bank_id": "dealer",
              "client_features": [
                "SHARK_BANK_ID_SUPPORT"
              ],
              "priority": 100,
              "idempotency_type": "BY_PRODUCT_N_DEALER",
              "use_actual_state_when_sending": true
            }
          ],
          "banks": [
            {
              "id": "sberbank",
              "bank_type": "SBERBANK",
              "name": "Сбербанк",
              "logo_90x80_url": "https://yastatic.net/s3/vertis-frontend/shark/bank/90x80/sberbank-light.png",
              "logo_184x42_light_url": "https://yastatic.net/s3/vertis-frontend/shark/bank/184x42/sberbank-light.png",
              "logo_184x42_dark_url": "https://yastatic.net/s3/vertis-frontend/shark/bank/184x42/sberbank-dark.png",
              "logo_56x56_round_url": "https://yastatic.net/s3/vertis-frontend/shark/bank/56x56/sberbank-round.png",
              "logo_card_url": "https://yastatic.net/s3/vertis-frontend/shark/bank/184x42/sberbank-dark.png",
              "logo_90x80_dark_url": "https://yastatic.net/s3/vertis-frontend/shark/bank/90x80/sberbank-dark.png",
              "color_hex": "08a652"
            }
          ],
          "suitable": [
            {
              "credit_product_Id": "gazprombank-1",
              "requirements": {
                "matching": {
                  "passed": true,
                  "partial_matched": {
                    "requirements": {
                      "max_amount": "549000",
                      "term_months": 60
                    }
                  }
                },
                "term": true,
                "geo": true
              },
              "check_borrower": {
                "age": true,
                "min_last_experience_months": true,
                "income_after_expenses": true,
                "proofs": true,
                "score": {
                  "max_yandex_score_payment_segment": true,
                  "max_yandex_score_approval_segment": true,
                  "yandex_score_required": true,
                  "max_yandex_score_approval_auto_segment": true,
                  "max_yandex_score_bnpl_segment": true,
                  "min_yandex_product_score": true
                }
              },
              "info": {
                "required": [
                  "CONTROL_WORD"
                ]
              },
              "borrower_person_profile": {
                "required": [
                  "OLD_PASSPORT_RF",
                  "EDUCATION",
                  "PASSPORT_RF",
                  "BIRTH_PLACE",
                  "EMPLOYMENT",
                  "MARITAL_STATUS",
                  "REGISTRATION_ADDRESS",
                  "DEPENDENTS",
                  "BIRTH_DATE",
                  "OLD_NAME",
                  "RESIDENCE_ADDRESS",
                  "INCOME",
                  "PROPERTY_OWNERSHIP"
                ],
                "allowed": [
                  "EXPENSES",
                  "FOREIGN_PASSPORT",
                  "DRIVER_LICENSE",
                  "VEHICLE_OWNERSHIP",
                  "RELATED_PERSONS",
                  "INSURANCE_NUMBER"
                ]
              },
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "alfabank-1",
              "requirements": {
                "matching": {
                  "passed": true,
                  "matched": {}
                },
                "term": true,
                "geo": true
              },
              "check_borrower": {
                "age": true,
                "min_last_experience_months": true,
                "income_after_expenses": true,
                "proofs": true
              },
              "info": {
                "required": [
                  "CONTROL_WORD"
                ]
              },
              "borrower_person_profile": {
                "required": [
                  "OLD_PASSPORT_RF",
                  "EDUCATION",
                  "PASSPORT_RF",
                  "BIRTH_PLACE",
                  "EMPLOYMENT",
                  "MARITAL_STATUS",
                  "REGISTRATION_ADDRESS",
                  "DEPENDENTS",
                  "BIRTH_DATE",
                  "OLD_NAME",
                  "RESIDENCE_ADDRESS",
                  "INCOME",
                  "PROPERTY_OWNERSHIP"
                ],
                "allowed": [
                  "EXPENSES",
                  "FOREIGN_PASSPORT",
                  "DRIVER_LICENSE",
                  "VEHICLE_OWNERSHIP",
                  "RELATED_PERSONS",
                  "INSURANCE_NUMBER"
                ]
              },
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "integration-test-2",
              "requirements": {
                "matching": {
                  "passed": true,
                  "partial_matched": {
                    "requirements": {
                      "max_amount": "474136",
                      "initial_fee": "74864",
                      "term_months": 84
                    }
                  }
                },
                "term": true
              },
              "check_borrower": {
                "employment": true,
                "age": true,
                "min_last_experience_months": true,
                "income_after_expenses": true,
                "income_without_expenses": true,
                "proofs": true
              },
              "info": {
                "required": [
                  "NAME"
                ]
              },
              "borrower_person_profile": {},
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "vtb-1",
              "requirements": {
                "matching": {
                  "passed": true,
                  "partial_matched": {
                    "requirements": {
                      "max_amount": "549000",
                      "term_months": 60
                    }
                  }
                },
                "term": true,
                "geo": true
              },
              "check_borrower": {
                "age": true,
                "min_last_experience_months": true,
                "income_after_expenses": true,
                "proofs": true
              },
              "info": {
                "required": [
                  "CONTROL_WORD"
                ]
              },
              "borrower_person_profile": {
                "required": [
                  "EDUCATION",
                  "PASSPORT_RF",
                  "BIRTH_PLACE",
                  "EMPLOYMENT",
                  "MARITAL_STATUS",
                  "REGISTRATION_ADDRESS",
                  "RESIDENCE_ADDRESS",
                  "INCOME",
                  "DEPENDENTS",
                  "BIRTH_DATE"
                ]
              },
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "integration-test-1",
              "requirements": {
                "matching": {
                  "passed": true,
                  "partial_matched": {
                    "requirements": {
                      "max_amount": "488000",
                      "initial_fee": "61000",
                      "term_months": 84
                    }
                  }
                },
                "term": true
              },
              "check_borrower": {
                "employment": true,
                "age": true,
                "min_last_experience_months": true,
                "income_after_expenses": true,
                "income_without_expenses": true,
                "proofs": true
              },
              "info": {},
              "borrower_person_profile": {},
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "dealer-1",
              "passed": true,
              "requirements": {
                "matching": {
                  "passed": true,
                  "matched": {}
                },
                "term": true,
                "geo": true
              },
              "check_borrower": {
                "employment": true,
                "age": true,
                "min_last_experience_months": true,
                "income_after_expenses": true,
                "income_without_expenses": true,
                "proofs": true
              },
              "info": {},
              "borrower_person_profile": {},
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "sberbank-1",
              "passed": true,
              "requirements": {
                "matching": {
                  "passed": true,
                  "matched": {}
                },
                "term": true,
                "geo": true
              },
              "check_borrower": {
                "employment": true,
                "age": true,
                "min_last_experience_months": true,
                "income_after_expenses": true,
                "income_without_expenses": true,
                "proofs": true
              },
              "info": {},
              "borrower_person_profile": {},
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "raiffeisen-1",
              "requirements": {
                "matching": {
                  "passed": true,
                  "partial_matched": {
                    "requirements": {
                      "max_amount": "549000",
                      "term_months": 60
                    }
                  }
                },
                "term": true,
                "geo": true
              },
              "check_borrower": {
                "age": true,
                "min_last_experience_months": true,
                "income_without_expenses": true,
                "proofs": true
              },
              "info": {
                "required": [
                  "CONTROL_WORD"
                ]
              },
              "borrower_person_profile": {
                "required": [
                  "OLD_PASSPORT_RF",
                  "EDUCATION",
                  "PASSPORT_RF",
                  "BIRTH_PLACE",
                  "EMPLOYMENT",
                  "MARITAL_STATUS",
                  "REGISTRATION_ADDRESS",
                  "DEPENDENTS",
                  "BIRTH_DATE",
                  "OLD_NAME",
                  "RESIDENCE_ADDRESS",
                  "INCOME",
                  "PROPERTY_OWNERSHIP"
                ],
                "allowed": [
                  "EXPENSES",
                  "FOREIGN_PASSPORT",
                  "DRIVER_LICENSE",
                  "VEHICLE_OWNERSHIP",
                  "RELATED_PERSONS",
                  "INSURANCE_NUMBER"
                ]
              },
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "psb-1",
              "requirements": {
                "matching": {
                  "passed": true,
                  "partial_matched": {
                    "requirements": {
                      "max_amount": "549000",
                      "term_months": 60
                    }
                  }
                },
                "term": true,
                "geo": true
              },
              "check_borrower": {
                "age": true,
                "min_last_experience_months": true,
                "income_after_expenses": true,
                "income_without_expenses": true
              },
              "info": {
                "required": [
                  "CONTROL_WORD"
                ]
              },
              "borrower_person_profile": {
                "required": [
                  "OLD_PASSPORT_RF",
                  "EDUCATION",
                  "PASSPORT_RF",
                  "BIRTH_PLACE",
                  "EMPLOYMENT",
                  "MARITAL_STATUS",
                  "REGISTRATION_ADDRESS",
                  "DEPENDENTS",
                  "BIRTH_DATE",
                  "OLD_NAME",
                  "RESIDENCE_ADDRESS",
                  "INCOME",
                  "PROPERTY_OWNERSHIP"
                ],
                "allowed": [
                  "EXPENSES",
                  "FOREIGN_PASSPORT",
                  "DRIVER_LICENSE",
                  "VEHICLE_OWNERSHIP",
                  "RELATED_PERSONS",
                  "INSURANCE_NUMBER"
                ]
              },
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "expobank-1",
              "requirements": {
                "matching": {
                  "passed": true,
                  "matched": {}
                },
                "term": true,
                "geo": true
              },
              "check_borrower": {
                "age": true,
                "min_last_experience_months": true,
                "income_after_expenses": true,
                "income_without_expenses": true
              },
              "info": {
                "required": [
                  "CONTROL_WORD"
                ]
              },
              "borrower_person_profile": {
                "required": [
                  "OLD_PASSPORT_RF",
                  "EDUCATION",
                  "PASSPORT_RF",
                  "BIRTH_PLACE",
                  "EMPLOYMENT",
                  "MARITAL_STATUS",
                  "REGISTRATION_ADDRESS",
                  "DEPENDENTS",
                  "BIRTH_DATE",
                  "OLD_NAME",
                  "RESIDENCE_ADDRESS",
                  "INCOME",
                  "PROPERTY_OWNERSHIP"
                ],
                "allowed": [
                  "EXPENSES",
                  "FOREIGN_PASSPORT",
                  "DRIVER_LICENSE",
                  "VEHICLE_OWNERSHIP",
                  "RELATED_PERSONS",
                  "INSURANCE_NUMBER"
                ]
              },
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "raiffeisen-2",
              "requirements": {
                "matching": {
                  "passed": true,
                  "partial_matched": {
                    "requirements": {
                      "max_amount": "549000",
                      "term_months": 60
                    }
                  }
                },
                "term": true,
                "geo": true
              },
              "check_borrower": {
                "age": true,
                "min_last_experience_months": true,
                "income_without_expenses": true,
                "proofs": true
              },
              "info": {
                "required": [
                  "CONTROL_WORD"
                ]
              },
              "borrower_person_profile": {
                "required": [
                  "OLD_PASSPORT_RF",
                  "EDUCATION",
                  "PASSPORT_RF",
                  "BIRTH_PLACE",
                  "EMPLOYMENT",
                  "MARITAL_STATUS",
                  "REGISTRATION_ADDRESS",
                  "DEPENDENTS",
                  "BIRTH_DATE",
                  "OLD_NAME",
                  "RESIDENCE_ADDRESS",
                  "INCOME",
                  "PROPERTY_OWNERSHIP"
                ],
                "allowed": [
                  "EXPENSES",
                  "FOREIGN_PASSPORT",
                  "DRIVER_LICENSE",
                  "VEHICLE_OWNERSHIP",
                  "RELATED_PERSONS",
                  "INSURANCE_NUMBER"
                ]
              },
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "sravniru-1",
              "requirements": {
                "matching": {
                  "passed": true,
                  "partial_matched": {
                    "requirements": {
                      "max_amount": "549000",
                      "term_months": 60
                    }
                  }
                },
                "term": true,
                "geo": true
              },
              "check_borrower": {
                "age": true,
                "min_last_experience_months": true,
                "income_after_expenses": true,
                "proofs": true
              },
              "info": {},
              "borrower_person_profile": {
                "required": [
                  "EDUCATION",
                  "PASSPORT_RF",
                  "BIRTH_PLACE",
                  "EMPLOYMENT",
                  "MARITAL_STATUS",
                  "REGISTRATION_ADDRESS",
                  "RESIDENCE_ADDRESS",
                  "DEPENDENTS",
                  "BIRTH_DATE",
                  "INCOME",
                  "PROPERTY_OWNERSHIP"
                ],
                "allowed": [
                  "EXPENSES",
                  "VEHICLE_OWNERSHIP",
                  "RELATED_PERSONS"
                ]
              },
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "alfabank-2",
              "requirements": {
                "matching": {
                  "passed": true,
                  "partial_matched": {
                    "requirements": {
                      "max_amount": "100000",
                      "initial_fee": "449000",
                      "term_months": 60
                    }
                  }
                },
                "term": true,
                "geo": true
              },
              "check_borrower": {
                "age": true,
                "min_last_experience_months": true,
                "income_after_expenses": true,
                "proofs": true
              },
              "info": {
                "required": [
                  "CONTROL_WORD"
                ]
              },
              "borrower_person_profile": {
                "required": [
                  "OLD_PASSPORT_RF",
                  "EDUCATION",
                  "PASSPORT_RF",
                  "BIRTH_PLACE",
                  "EMPLOYMENT",
                  "MARITAL_STATUS",
                  "REGISTRATION_ADDRESS",
                  "DEPENDENTS",
                  "BIRTH_DATE",
                  "OLD_NAME",
                  "RESIDENCE_ADDRESS",
                  "INCOME",
                  "PROPERTY_OWNERSHIP"
                ],
                "allowed": [
                  "EXPENSES",
                  "FOREIGN_PASSPORT",
                  "DRIVER_LICENSE",
                  "VEHICLE_OWNERSHIP",
                  "RELATED_PERSONS",
                  "INSURANCE_NUMBER"
                ]
              },
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "tinkoff-2",
              "requirements": {
                "matching": {
                  "passed": true,
                  "partial_matched": {
                    "requirements": {
                      "max_amount": "549000",
                      "term_months": 60
                    }
                  }
                },
                "term": true,
                "geo": true
              },
              "check_borrower": {
                "employment": true,
                "age": true,
                "min_last_experience_months": true,
                "income_after_expenses": true,
                "income_without_expenses": true,
                "proofs": true
              },
              "info": {
                "required": [
                  "CONTROL_WORD"
                ]
              },
              "borrower_person_profile": {
                "required": [
                  "OLD_PASSPORT_RF",
                  "EDUCATION",
                  "PASSPORT_RF",
                  "BIRTH_PLACE",
                  "EMPLOYMENT",
                  "MARITAL_STATUS",
                  "REGISTRATION_ADDRESS",
                  "DEPENDENTS",
                  "BIRTH_DATE",
                  "OLD_NAME",
                  "RESIDENCE_ADDRESS",
                  "INCOME",
                  "PROPERTY_OWNERSHIP"
                ],
                "allowed": [
                  "EXPENSES",
                  "FOREIGN_PASSPORT",
                  "DRIVER_LICENSE",
                  "VEHICLE_OWNERSHIP",
                  "RELATED_PERSONS",
                  "INSURANCE_NUMBER"
                ]
              },
              "rate_limit": {
                "max_claims_per_1d": true
              }
            },
            {
              "credit_product_Id": "tinkoff-1",
              "requirements": {
                "matching": {
                  "passed": true,
                  "partial_matched": {
                    "requirements": {
                      "max_amount": "549000",
                      "term_months": 60
                    }
                  }
                },
                "term": true,
                "geo": true
              },
              "check_borrower": {
                "employment": true,
                "age": true,
                "min_last_experience_months": true,
                "income_after_expenses": true,
                "income_without_expenses": true,
                "proofs": true
              },
              "info": {
                "required": [
                  "CONTROL_WORD"
                ]
              },
              "borrower_person_profile": {
                "required": [
                  "OLD_PASSPORT_RF",
                  "EDUCATION",
                  "PASSPORT_RF",
                  "BIRTH_PLACE",
                  "EMPLOYMENT",
                  "MARITAL_STATUS",
                  "REGISTRATION_ADDRESS",
                  "DEPENDENTS",
                  "BIRTH_DATE",
                  "OLD_NAME",
                  "RESIDENCE_ADDRESS",
                  "INCOME",
                  "PROPERTY_OWNERSHIP"
                ],
                "allowed": [
                  "EXPENSES",
                  "FOREIGN_PASSPORT",
                  "DRIVER_LICENSE",
                  "VEHICLE_OWNERSHIP",
                  "RELATED_PERSONS",
                  "INSURANCE_NUMBER"
                ]
              },
              "rate_limit": {
                "max_claims_per_1d": true
              }
            }
          ],
          "view_payloads": [
            {
              "product_id": "dealer-1",
              "tags": [
                "APPROVAL_PROBABILITY_MEDIUM"
              ]
            },
            {
              "product_id": "sberbank-1",
              "tags": [
                "APPROVAL_PROBABILITY_MEDIUM"
              ]
            }
          ]
        }
      }
    }
  ]
}