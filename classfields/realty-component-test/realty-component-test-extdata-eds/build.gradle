plugins {
    id 'ru.yandex.realty.java-conventions'
}

description = 'realty-component-test-extdata-eds'

configurations {
    testOutput
}

dependencies {
    api(project(':realty-common'))
    api(project(path: ':realty-common', configuration: 'testOutput'))
    api(project(':realty-component-test-common'))
    api(project(':realty-component-test-data'))
    api(project(':realty-component-test-extdata'))
    api(project(':realty-datatypes-shiva-core'))
    api(project(':realty-extdata-core'))
    api(project(':realty-extdataclient'))
    api(project(':realty-feeds'))
    api(project(':realty-model'))
    api(project(path: ':realty-model', configuration: 'testOutput'))
    api(project(':realty-mortgages-core'))
    api(project(':realty-unification'))
    api(project(':realty2-extdataserver'))
    api(project(':realty3-search-common'))
    api(project(':region-graph'))
    api('ch.qos.logback:logback-core:1.1.7')
    api("com.dimafeng:testcontainers-scala-cassandra_${versions.scala_major_version}:0.40.2") {
        exclude group: 'org.testcontainers', module: 'cassandra'
    }
    api("com.dimafeng:testcontainers-scala-kafka_${versions.scala_major_version}:0.40.2") {
        exclude group: 'org.testcontainers', module: 'kafka'
    }
    api("com.dimafeng:testcontainers-scala-mysql_${versions.scala_major_version}:0.40.2")
    api("com.dimafeng:testcontainers-scala-postgresql_${versions.scala_major_version}:0.40.2")
    api("com.dimafeng:testcontainers-scala-scalatest-selenium_${versions.scala_major_version}:0.40.2") {
        exclude group: 'org.seleniumhq.selenium', module: 'selenium-java'
        exclude group: 'org.testcontainers', module: 'selenium'
    }
    api("com.dimafeng:testcontainers-scala-vault_${versions.scala_major_version}:0.40.2") {
        exclude group: 'org.testcontainers', module: 'vault'
    }
    api("com.typesafe.akka:akka-http-core_${versions.scala_major_version}:10.2.3")
    api('jaxen:jaxen:1.1.3')
    api('jdom:jdom:1.0')
    api('net.bytebuddy:byte-buddy-agent:1.5.5')
    api('net.bytebuddy:byte-buddy:1.5.5')
    api('org.codehaus.janino:commons-compiler:2.6.1')
    api('org.hamcrest:hamcrest-core:1.3')
    api("org.scalactic:scalactic_${versions.scala_major_version}:3.0.5")
    api("org.typelevel:cats-kernel_${versions.scala_major_version}:2.5.0")
    api("org.typelevel:simulacrum-scalafix-annotations_${versions.scala_major_version}:0.5.4")
    api('xom:xom:1.0')
    testImplementation("org.testcontainers:mysql:${versions.testcontainers_mysql_version}")
}

tasks.register('testsJar', Jar) {
    archiveClassifier = 'tests'
    from(sourceSets.test.output)
}

artifacts {
    testOutput testsJar
}


