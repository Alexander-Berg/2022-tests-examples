from typing import Any


PAYMENT_REFERENCES = {
    "contracts": [
        {
            "id": 3770888,
            "version_id": 0,
            "client_id": 1351796565,
            "external_id": "2226549/21",
            "passport_id": "16571028",
            "person_id": 16043349,
            "person_type": "ur",
            "type": "GENERAL",
            "update_dt": "2021-07-27T00:54:34",
            "collaterals": {
                "0": {
                    "attribute_batch_id": 18731446,
                    "bank_details_id": 977,
                    "collateral_type_id": None,
                    "commission": 0,
                    "contract2_id": 3770888,
                    "create_dt": "2021-07-27T00:54:34",
                    "credit_type": 1,
                    "currency": 810,
                    "discount_policy_type": None,
                    "dt": "2021-06-27T00:00:00",
                    "fake_id": 0,
                    "firm": 121,
                    "id": 4527621,
                    "is_cancelled": None,
                    "is_faxed": None,
                    "is_signed": "2021-07-27T00:00:00",
                    "lift_credit_on_payment": 0,
                    "manager_code": 20453,
                    "memo": "Договор создан автоматически\n",
                    "no_acts": 0,
                    "num": None,
                    "partner_credit": 1,
                    "passport_id": 16571028,
                    "payment_term": 10,
                    "payment_type": 3,
                    "personal_account": 1,
                    "print_tpl_barcode": 999994787529,
                    "services": {
                        "638": 1,
                        "118": 1,
                    },
                    "unilateral": 1,
                    "update_dt": "2021-07-27T00:54:34",
                }
            },
        }
    ],
    "firms": [
        {
            "alter_permition_code": "AlterFirmRU",
            "config": {"mnclose_close_tasks": ["monthly_close_firms"]},
            "contract_id": None,
            "currency_rate_src": "cbr",
            "default_currency": "RUR",
            "default_iso_currency": "RUB",
            "email": "info@balance.yandex.ru",
            "export_type": "OEBS",
            "id": 121,
            "inn": "9705121040",
            "invoice_paysys_id": None,
            "kpp": "770501001",
            "legaladdress": "115035, Россия, г. Москва, улица Садовническая, дом 82, строение 2, помещение 10А05",
            "mdh_id": "bacb61a4-7562-49aa-94a1-51fc55110741",
            "mnclose_email": "2320@direct.yandex.ru",
            "nds_pct": None,
            "oebs_org_id": None,
            "oebs_user_id": None,
            "pa_prefix": "ЛСБ",
            "payment_invoice_email": "payment-invoice@yandex-team.ru",
            "person_categories": [
                {"category": "yt", "is_legal": 1, "is_resident": 0},
                {"category": "endbuyer_yt", "is_legal": 1, "is_resident": 0},
                {"category": "ph_autoru", "is_legal": 0, "is_resident": 1},
                {"category": "ur_autoru", "is_legal": 1, "is_resident": 1},
                {"category": "endbuyer_ur", "is_legal": 1, "is_resident": 1},
                {"category": "endbuyer_ph", "is_legal": 0, "is_resident": 1},
                {"category": "yt_kzu", "is_legal": 1, "is_resident": 0},
                {"category": "yt_kzp", "is_legal": 0, "is_resident": 0},
                {"category": "ytph", "is_legal": 0, "is_resident": 0},
                {"category": "ph", "is_legal": 0, "is_resident": 1},
                {"category": "ur", "is_legal": 1, "is_resident": 1},
            ],
            "phone": "(495) 739–22–22 добавочный 2345",
            "postpay": 0,
            "region_id": 225,
            "tax_policies": [
                {
                    "default_tax": 1,
                    "hidden": 0,
                    "id": 1,
                    "mdh_id": "93fb537f-e424-49b6-8b3a-b735f9164708",
                    "name": "Россия, резидент, НДС облагается",
                    "percents": [
                        {
                            "dt": "2019-01-01T00:00:00+03:00",
                            "hidden": 0,
                            "id": 281,
                            "mdh_id": "91f77dca-81d8-4f6e-b3d1-04fa78ce6b50",
                            "nds_pct": 20,
                            "nsp_pct": 0,
                        },
                        {
                            "dt": "2003-01-01T00:00:00+03:00",
                            "hidden": 0,
                            "id": 2,
                            "mdh_id": "9feab74e-4252-4507-a572-124304d9b9eb",
                            "nds_pct": 20,
                            "nsp_pct": 5,
                        },
                        {
                            "dt": "2004-01-01T00:00:00+03:00",
                            "hidden": 0,
                            "id": 1,
                            "mdh_id": "cd174c94-b588-451a-81df-78d765bd258f",
                            "nds_pct": 18,
                            "nsp_pct": 0,
                        },
                    ],
                    "region_id": 225,
                    "resident": 1,
                    "spendable_nds_id": 18,
                },
                {
                    "default_tax": 0,
                    "hidden": 1,
                    "id": 203,
                    "mdh_id": "418f42d1-552f-411d-a110-c851d961c19b",
                    "name": "Без НДС (осв.) - медицина",
                    "percents": [
                        {
                            "dt": "2019-01-01T00:00:00+03:00",
                            "hidden": 0,
                            "id": 343,
                            "mdh_id": "855c453c-7bf6-48b7-9b80-94b043198cf3",
                            "nds_pct": 0,
                            "nsp_pct": 0,
                        }
                    ],
                    "region_id": 225,
                    "resident": 1,
                },
                {
                    "default_tax": 0,
                    "hidden": 1,
                    "id": 12,
                    "mdh_id": "10cad9b2-4e02-4502-a440-3c002b2caf87",
                    "name": "Резидент РФ для Авто.ру",
                    "percents": [
                        {
                            "dt": "2015-01-01T00:00:00+03:00",
                            "hidden": 1,
                            "id": 101,
                            "mdh_id": "18311966-8888-47af-93cb-aef87f0234e7",
                            "nds_pct": 18,
                            "nsp_pct": 0,
                        }
                    ],
                    "region_id": 225,
                    "resident": 1,
                },
                {
                    "default_tax": 0,
                    "hidden": 0,
                    "id": 11,
                    "mdh_id": "67d9783c-9d14-4ae9-b526-8e8f5186d2b4",
                    "name": "Россия, резидент, НДС не облагается",
                    "percents": [
                        {
                            "dt": "2004-01-01T00:00:00+03:00",
                            "hidden": 0,
                            "id": 81,
                            "mdh_id": "6696ede3-7505-42a2-b4aa-559c4d57886b",
                            "nds_pct": 0,
                            "nsp_pct": 0,
                        }
                    ],
                    "region_id": 225,
                    "resident": 1,
                },
                {
                    "default_tax": 0,
                    "hidden": 0,
                    "id": 10,
                    "mdh_id": "201d0a70-430a-4606-b826-6c85ccc98740",
                    "name": "Россия, нерезидент, НДС облагается",
                    "percents": [
                        {
                            "dt": "2019-01-01T00:00:00+03:00",
                            "hidden": 0,
                            "id": 301,
                            "mdh_id": "02af481c-7bec-43ac-b90b-1f6a1f544e1c",
                            "nds_pct": 20,
                            "nsp_pct": 0,
                        },
                        {
                            "dt": "2004-01-01T00:00:00+03:00",
                            "hidden": 0,
                            "id": 61,
                            "mdh_id": "a281beab-0d17-49a1-88e7-90256c769557",
                            "nds_pct": 18,
                            "nsp_pct": 0,
                        },
                    ],
                    "region_id": 225,
                    "resident": 0,
                },
                {
                    "default_tax": 1,
                    "hidden": 0,
                    "id": 2,
                    "mdh_id": "799ed901-ab97-47e9-8120-d07d78c146fc",
                    "name": "Россия, нерезидент, НДС не облагается",
                    "percents": [
                        {
                            "dt": "2004-01-01T00:00:00+03:00",
                            "hidden": 0,
                            "id": 3,
                            "mdh_id": "cfd45ffb-c654-4d98-8fc1-355ca295d4b8",
                            "nds_pct": 0,
                            "nsp_pct": 0,
                        },
                        {
                            "dt": "2003-01-01T00:00:00+03:00",
                            "hidden": 0,
                            "id": 4,
                            "mdh_id": "7afb2d22-bbc2-4592-b033-8861b90e3cf3",
                            "nds_pct": 0,
                            "nsp_pct": 5,
                        },
                    ],
                    "region_id": 225,
                    "resident": 0,
                    "spendable_nds_id": 0,
                },
            ],
            "tax_policy_id": None,
            "test_env": 0,
            "title": "ООО «Яндекс.Медиасервисы»",
            "unilateral": 1,
        }
    ],
    "migration_info": [
        {"dry_run": 0, "filter": "Firm", "from_dt": "2021-09-30T21:00:00Z", "namespace": "trust", "object_id": 121}
    ],
    "keys": [
        {
            "namespace": "dummy-namespace",
            "key": "1",
            "value": "111222333",
            "revision": 1,
            "service_id": "96be196b-0207-48b9-9eb4-e2a66e8f424d",
            "created": False,
            "created_at": "2021-12-08T17:40:55.494415Z",
            "updated_at": "2021-12-14T09:40:39.275156Z",
        },
    ],
}

PAYMENT_EVENT: dict[str, Any] = {
    # 'rrn': '437799',
    # 'user_account': '510000****9128',
    # 'resp_desc': 'paid ok',
    "payment_method": "card-x04f1ec28585ff787eb9cd9ea",
    # 'force_3ds': None,
    # 'user_phone': '+79999999999',
    "terminal_id": 96000105,
    "currency": "RUB",
    "payment_method_id": 1101,
    # 'partners': [
    #     {
    #         'city': 'TestCity',
    #         'fax': None,
    #         'name': 'Vasya Pupkin',
    #         'url': None,
    #         'fullname': None,
    #         'id': 1351796565,
    #         'phone': None,
    #         'passport_id': None,
    #         'dt': '2021-10-05T14:55:56+00:00',
    #         'email': 'RestTest@mail.ru',
    #         'region_id': 225
    #     }
    # ],
    # 'composite_payment_id': None,
    # 'paysys_partner_id': None,
    # 'acs_redirect_url': None,
    # 'platform': None,
    # 'cashback_parent_id': None,
    # 'user_ip': '86.57.167.10',
    # 'application': None,
    # 'version': 1633445827705,
    # 'cardholder': 'TEST TEST',
    "payment_status": "postauthorized",
    "postauth_dt": "2021-10-05T14:56:02+00:00",
    # 'real_postauth_dt': '2021-10-05T14:56:02+00:00',
    "payment_dt": "2021-10-05T14:56:02+00:00",
    "transaction_id": "1t53mc17cfyi5virhsv0",
    # 'resp_dt': '2021-10-05T14:56:04+00:00',
    # 'description': None,
    "firm_id": 121,
    "postauth_amount": 1200.15,
    # 'approval_code': '966310',
    # 'payment_mode': None,
    "rows": [
        {
            # 'fiscal_nds': 'nds_none',
            # 'fiscal_inn': '',
            # 'fiscal_title': 'test_fiscal_title',
            "price": 1200.15,
            "order": {
                # 'contract_id': None,
                "commission_category": None,
                # 'update_dt': '2021-10-05T14:55:57+00:00',
                "service_product_id": 1351796565,
                # 'price': None,
                "service_order_id_number": 168366440,
                # 'start_dt_utc': None,
                "service_product_external_id": "1626979513690-DTQA22CMFK-5877",
                "clid": None,
                "service_order_id": "168366439",
                # 'text': None,
                # 'start_dt_offset': None,
                "service_id": 638,
                "dt": "2021-10-05T14:55:57+00:00",
                # 'passport_id': 4011632014,
                # 'region_id': None
            },
            "amount": 1200.15,
            # 'fiscal_item_code': '',
            # 'fiscal_agent_type': '',
            "cancel_dt": None,
            "id": 37829399,
            # 'quantity': 0.0
        }
    ],
    "dt": "2021-10-05T14:55:59+00:00",
    "trust_payment_id": "615c677fb955d7f0c0cf5720",
    "purchase_token": "e3f9654b438f860927a5ab02a70c412c",
    "processing_id": 50402,
    "refunds": [],
    "cancel_dt": None,
    # 'fraud_status': {
    #     'payment_id': None,
    #     'afs_status': None,
    #     'afs_resp_desc': None,
    #     'trust_payment_id': None,
    #     'afs_tx_id': None,
    #     'afs_tags': None,
    #     'afs_rule_score': None,
    #     'afs_risk_score': None,
    #     'afs_additional_info': None,
    #     'partition_dt': None,
    #     'afs_action': None,
    #     'afs_check_method': None
    # },
    "developer_payload": "{'use_ws_emulator': true}",
    # 'card_id': '04f1ec28585ff787eb9cd9ea',
    # 'binding_result': None,
    "amount": 1200.15,
    # 'resp_code': 'success',
    "products": [
        {
            "partner_id": 1351796565,
            # 'product_type': 'app',
            "name": "TestTestAppProduct",
            # 'package_name': None,
            # 'fiscal_title': 'test_fiscal_title',
            # 'single_purchase': None,
            "id": 786020877,
            # 'subs_period': None,
            # 'parent_id': None,
            # 'active_until_dt': None,
            "service_fee": None,
            # 'fiscal_nds': 'nds_20_120',
            # 'hidden': None,
            "external_id": "638076723262902886",
            # 'subs_trial_period': None,
            # 'inapp_name': None,
            "service_id": 638,
        }
    ],
    "payment_type": "TRUST_PAYMENT",
    # 'notify_url': None,
    # 'transaction_request_id': None,
    "service_id": 638,
    # 'fiscal_info': {
    #     'fiscal_agent_type': 'agent',
    #     'fiscal_status': 'success'
    # },
    # 'start_dt': '2021-10-05T14:56:01+00:00',
    # 'passport_id': 4011632014,
    # 'user_email': None
}

PAYMENT_WITH_REFUNDS_EVENT = {
    # 'rrn': '437799',
    # 'user_account': '510000****9128',
    # 'resp_desc': 'paid ok',
    "payment_method": "card-x04f1ec28585ff787eb9cd9ea",
    # 'force_3ds': None,
    # 'user_phone': '+79999999999',
    "terminal_id": 96000105,
    "currency": "RUB",
    "payment_method_id": 1101,
    # 'partners': [
    #     {
    #         'city': 'TestCity',
    #         'fax': None,
    #         'name': 'Vasya Pupkin',
    #         'url': None,
    #         'fullname': None,
    #         'id': 1351796565,
    #         'phone': None,
    #         'passport_id': None,
    #         'dt': '2021-10-05T14:55:56+00:00',
    #         'email': 'RestTest@mail.ru',
    #         'region_id': 225
    #     }
    # ],
    # 'composite_payment_id': None,
    # 'paysys_partner_id': None,
    # 'acs_redirect_url': None,
    # 'platform': None,
    # 'cashback_parent_id': None,
    # 'user_ip': '86.57.167.10',
    # 'application': None,
    # 'version': 1633445827705,
    # 'cardholder': 'TEST TEST',
    "payment_status": "refunded",
    "postauth_dt": "2021-10-05T14:56:02+00:00",
    # 'real_postauth_dt': '2021-10-05T14:56:02+00:00',
    "payment_dt": "2021-10-05T14:56:02+00:00",
    "transaction_id": "1t53mc17cfyi5virhsv0",
    # 'resp_dt': '2021-10-05T14:56:04+00:00',
    "description": None,
    "firm_id": 121,
    "postauth_amount": 1200.15,
    # 'approval_code': '966310',
    # 'payment_mode': None,
    "rows": [
        {
            # 'fiscal_nds': 'nds_none',
            # 'fiscal_inn': '',
            # 'fiscal_title': 'test_fiscal_title',
            "price": 1200.15,
            "order": {
                # 'contract_id': None,
                "commission_category": None,
                # 'update_dt': '2021-10-05T14:55:57+00:00',
                "service_product_id": 135179656500,
                # 'price': None,
                "service_order_id_number": 168366440,
                # 'start_dt_utc': None,
                "service_product_external_id": "1626979513690-DTQA22CMFK-5877",
                "clid": None,
                "service_order_id": "168366439",
                # 'text': None,
                # 'start_dt_offset': None,
                "service_id": 638,
                "dt": "2021-10-05T14:55:57+00:00",
                # 'passport_id': 4011632014,
                # 'region_id': None
            },
            "amount": 1200.15,
            # 'fiscal_item_code': '',
            # 'fiscal_agent_type': '',
            "cancel_dt": None,
            "id": 37829399,
            # 'quantity': 0.0
        }
    ],
    "dt": "2021-10-05T14:55:59+00:00",
    "trust_payment_id": "615c677fb955d7f0c0cf5720",
    "purchase_token": "e3f9654b438f860927a5ab02a70c412c",
    "processing_id": 50402,
    "refunds": [
        {
            # 'resp_desc': None,
            "terminal_id": None,
            "trust_refund_id": "615c678a5b095cb6e55af28e",
            "currency": "RUB",
            "rows": [
                {
                    # 'fiscal_nds': 'nds_none',
                    # 'fiscal_inn': '',
                    # 'fiscal_title': 'test_fiscal_title',
                    "price": 1200.15,
                    "order": {
                        # 'region_id': None,
                        "commission_category": None,
                        # 'update_dt': '2021-10-05T14:55:57+00:00',
                        # 'text': None,
                        # 'price': None,
                        "service_order_id_number": 168366440,
                        # 'start_dt_utc': None,
                        "clid": None,
                        "service_order_id": "168366439",
                        "service_product_id": 135179656500,
                        # 'start_dt_offset': None,
                        "service_id": 638,
                        "dt": "2021-10-05T14:55:57+00:00",
                        # 'passport_id': 4011632014,
                        # 'contract_id': None
                    },
                    "amount": 1200.15,
                    # 'fiscal_item_code': '',
                    # 'fiscal_agent_type': '',
                    "cancel_dt": None,
                    "id": 37829524,
                    # 'quantity': 0.0
                }
            ],
            "is_reversal": 0,
            "payment_dt": "2021-10-05T14:56:12+00:00",
            "cancel_dt": None,
            # 'resp_dt': None,
            "description": "cancel payment",
            "dt": "2021-10-05T14:56:10+00:00",
            # 'refund_to': 'paysys',
            "type": "REFUND",
            "amount": 1200.15,
            # 'resp_code': 'success',
            "service_id": 638,
            # 'passport_id': 4011632014
        }
    ],
    "cancel_dt": "2021-10-05T14:56:12+00:00",
    # 'fraud_status': {
    #     'payment_id': None,
    #     'afs_status': None,
    #     'afs_resp_desc': None,
    #     'trust_payment_id': None,
    #     'afs_tx_id': None,
    #     'afs_tags': None,
    #     'afs_rule_score': None,
    #     'afs_risk_score': None,
    #     'afs_additional_info': None,
    #     'partition_dt': None,
    #     'afs_action': None,
    #     'afs_check_method': None
    # },
    "developer_payload": "{'use_ws_emulator': true}",
    # 'card_id': '04f1ec28585ff787eb9cd9ea',
    # 'binding_result': None,
    "amount": 1200.15,
    # 'resp_code': 'success',
    "products": [
        {
            "partner_id": 1351796565,
            "product_type": "app",
            "name": "TestTestAppProduct",
            # 'package_name': None,
            # 'fiscal_title': 'test_fiscal_title',
            # 'single_purchase': None,
            "id": 786020877,
            # 'subs_period': None,
            # 'parent_id': None,
            # 'active_until_dt': None,
            "service_fee": None,
            # 'fiscal_nds': 'nds_20_120',
            # 'hidden': None,
            "external_id": "638076723262902886",
            # 'subs_trial_period': None,
            # 'inapp_name': None,
            "service_id": 638,
        }
    ],
    "payment_type": "TRUST_PAYMENT",
    # 'notify_url': None,
    # 'transaction_request_id': None,
    "service_id": 638,
    # 'fiscal_info': {
    #     'fiscal_agent_type': 'agent',
    #     'fiscal_status': 'success'
    # },
    "start_dt": "2021-10-05T14:56:01+00:00",
    "passport_id": 4011632014,
    # 'user_email': None
}

PAYMENT_COMPOSITE_EVENT = {
    # 'rrn': None,
    # 'user_account': '401288****1881',
    # 'resp_desc': 'in progress',
    "payment_method": "composite",
    # 'force_3ds': None,
    # 'user_phone': '+79861734142',
    "terminal_id": 96000108,
    "currency": "RUB",
    "payment_method_id": 1525,
    # 'partners': [
    #     {
    #         'city': None,
    #         'fax': None,
    #         'name': '\\u041a\\u0438\\u043d\\u043e 26.07',
    #         'url': None,
    #         'fullname': None,
    #         'id': 1351789055,
    #         'phone': None,
    #         'passport_id': None,
    #         'dt': '2021-07-26T14:02:20+00:00',
    #         'email': 'e.grishch@gmail.com',
    #         'region_id': 0
    #     }
    # ],
    # 'composite_payment_id': None,
    # 'paysys_partner_id': None,
    # 'acs_redirect_url': None,
    # 'platform': None,
    # 'cashback_parent_id': None,
    # 'user_ip': '127.0.0.1',
    # 'application': None,
    # 'version': 1633454388821,
    "composite_components": [
        {
            # 'rrn': None,
            # 'user_account': None,
            # 'resp_desc': 'Successful payment',
            "payment_method": "yandex_account-w/743d5921-ef39-509f-a226-60dd73e50865",
            # 'force_3ds': None,
            # 'user_phone': '+79861734142',
            "terminal_id": 96000990,
            "currency": "RUB",
            "payment_method_id": 1534,
            # 'partners': [
            #     {
            #         'city': None,
            #         'fax': None,
            #         'name': '\\u041a\\u0438\\u043d\\u043e 26.07',
            #         'url': None,
            #         'fullname': None,
            #         'id': 1351789055,
            #         'phone': None,
            #         'passport_id': None,
            #         'dt': '2021-07-26T14:02:20+00:00',
            #         'email': 'e.grishch@gmail.com',
            #         'region_id': 0
            #     }
            # ],
            "composite_payment_id": 1663387893,
            # 'paysys_partner_id': None,
            # 'acs_redirect_url': None,
            # 'platform': None,
            # 'cashback_parent_id': None,
            # 'user_ip': '127.0.0.1',
            # 'application': None,
            # 'cardholder': None,
            "payment_status": "postauthorized",
            "postauth_dt": "2021-10-05T17:19:41+00:00",
            # 'real_postauth_dt': '2021-10-05T17:19:41+00:00',
            "payment_dt": "2021-10-05T17:19:41+00:00",
            "transaction_id": "5349970248",
            # 'resp_dt': '2021-10-05T17:19:41+00:00',
            # 'description': None,
            "trust_group_id": "615c88f2b955d7edaacf571b",
            "firm_id": 1,
            "postauth_amount": 1999.0,
            # 'approval_code': None,
            # 'payment_mode': None,
            "rows": [
                {
                    # 'fiscal_nds': 'nds_0',
                    # 'fiscal_inn': '1234567890',
                    # 'fiscal_title': '\\u0411\\u0438\\u043b\\u0435\\u0442 \\u043d\\u0430 \\u0444\\u0438\\u043b\\u044c'
                    #                 '\\u043c: \\u0417\\u0430\\u043b: \\u041a\\u0443\\u0440\\u043e\\u0441\\u0430\\u0432'
                    #                 '\\u0430, \\u0440\\u044f\\u0434 3, \\u043c\\u0435\\u0441\\u0442\\u043e 3',
                    "price": 399.8,
                    "order": {
                        # 'contract_id': None,
                        "commission_category": "100",
                        # 'update_dt': '2021-10-05T17:18:41+00:00',
                        "service_product_id": 784474259,
                        # 'price': None,
                        "service_order_id_number": 5517030076,
                        # 'start_dt_utc': None,
                        "developer_payload": "{'email':'testur@yandex.ru','phone':'+79861734142'}",
                        "service_product_external_id": "product_1627308140521",
                        "clid": None,
                        "service_order_id": "5517030076",
                        # 'text': None,
                        # 'start_dt_offset': None,
                        "service_id": 118,
                        "dt": "2021-10-05T17:18:41+00:00",
                        # 'passport_id': 4072725426,
                        # 'region_id': None
                    },
                    "amount": 399.8,
                    # 'fiscal_item_code': None,
                    # 'fiscal_agent_type': None,
                    "cancel_dt": None,
                    "id": 788262369,
                    # 'quantity': 0.0
                },
                {
                    # 'fiscal_nds': 'nds_0',
                    # 'fiscal_inn': '1234567890',
                    # 'fiscal_title': '\\u0411\\u0438\\u043b\\u0435\\u0442 \\u043d\\u0430 \\u0444\\u0438\\u043b\\u044c'
                    #                 '\\u043c: \\u0417\\u0430\\u043b: \\u041a\\u0443\\u0440\\u043e\\u0441\\u0430\\u0432'
                    #                 '\\u0430, \\u0440\\u044f\\u0434 6, \\u043c\\u0435\\u0441\\u0442\\u043e 2',
                    "price": 399.8,
                    "order": {
                        # 'contract_id': None,
                        "commission_category": "100",
                        # 'update_dt': '2021-10-05T17:18:41+00:00',
                        "service_product_id": 784474259,
                        # 'price': None,
                        "service_order_id_number": 5517030074,
                        # 'start_dt_utc': None,
                        "developer_payload": "{'email':'testur@yandex.ru','phone':'+79861734142'}",
                        "service_product_external_id": "product_1627308140521",
                        # 'clid': None,
                        "service_order_id": "5517030074",
                        # 'text': None,
                        # 'start_dt_offset': None,
                        "service_id": 118,
                        "dt": "2021-10-05T17:18:41+00:00",
                        # 'passport_id': 4072725426,
                        # 'region_id': None
                    },
                    "amount": 399.8,
                    # 'fiscal_item_code': None,
                    # 'fiscal_agent_type': None,
                    "cancel_dt": None,
                    "id": 788262370,
                    # 'quantity': 0.0
                },
            ],
            "dt": "2021-10-05T17:19:38+00:00",
            "trust_payment_id": "615c892a910d3914b92f07a0",
            "purchase_token": "32ed929e02622422728f210c22c27b43",
            "processing_id": 50307,
            # 'cancel_dt': None,
            # 'fraud_status': {
            #     'payment_id': None,
            #     'afs_status': None,
            #     'afs_resp_desc': None,
            #     'trust_payment_id': None,
            #     'afs_tx_id': None,
            #     'afs_tags': None,
            #     'afs_rule_score': None,
            #     'afs_risk_score': None,
            #     'afs_additional_info': None,
            #     'partition_dt': None,
            #     'afs_action': None,
            #     'afs_check_method': None
            # },
            "developer_payload": "{}",
            # 'card_id': None,
            # 'binding_result': None,
            "amount": 798.0,
            # 'resp_code': 'success',
            "products": [
                {
                    "partner_id": 1351789055,
                    # 'product_type': None,
                    "name": "PRODUCT",
                    # 'package_name': None,
                    # 'fiscal_title': None,
                    # 'single_purchase': None,
                    "id": 784474259,
                    # 'subs_period': None,
                    # 'parent_id': None,
                    # 'active_until_dt': None,
                    "service_fee": 0,
                    # 'fiscal_nds': None,
                    # 'hidden': None,
                    "external_id": "product_1627308140521",
                    # 'subs_trial_period': None,
                    # 'inapp_name': None,
                    "service_id": 118,
                }
            ],
            "payment_type": "TRUST_PAYMENT",
            # 'notify_url': None,
            # 'transaction_request_id': None,
            "service_id": 118,
            # 'fiscal_info': {
            #     'fiscal_agent_type': 'agent'
            # },
            "start_dt": "2021-10-05T17:19:40+00:00",
            # 'passport_id': 4072725426,
            # 'user_email': 'testur@yandex.ru'
        },
        {
            # 'rrn': None,
            # 'user_account': '401288****1881',
            # 'resp_desc': 'in progress',
            "payment_method": "card-x8e61e71d7ce6f0428a832575",
            # 'force_3ds': None,
            "user_phone": "+79861734142",
            "terminal_id": 96001101,
            "currency": "RUB",
            "payment_method_id": 1101,
            # 'partners': [
            #     {
            #         'city': None,
            #         'fax': None,
            #         'name': '\\u041a\\u0438\\u043d\\u043e 26.07',
            #         'url': None,
            #         'fullname': None,
            #         'id': 1351789055,
            #         'phone': None,
            #         'passport_id': None,
            #         'dt': '2021-07-26T14:02:20+00:00',
            #         'email': 'e.grishch@gmail.com',
            #         'region_id': 0
            #     }
            # ],
            # 'composite_payment_id': 1663387893,
            # 'paysys_partner_id': None,
            # 'acs_redirect_url': None,
            # 'platform': None,
            # 'cashback_parent_id': None,
            # 'user_ip': '127.0.0.1',
            # 'application': None,
            # 'cardholder': 'CARD HOLDER',
            "payment_status": "initial",
            "postauth_dt": None,
            # 'real_postauth_dt': None,
            # 'payment_dt': None,
            "transaction_id": "bl9e36zw-if2m-b6t2-msku-gucf6ul0adby",
            "resp_dt": "2021-10-05T17:19:41+00:00",
            "description": None,
            "trust_group_id": "615c88f2b955d7edaacf571b",
            "firm_id": 1,
            "postauth_amount": None,
            # 'approval_code': None,
            # 'payment_mode': None,
            "rows": [
                {
                    # 'fiscal_nds': 'nds_0',
                    # 'fiscal_inn': '1234567890',
                    # 'fiscal_title': '\\u0411\\u0438\\u043b\\u0435\\u0442 \\u043d\\u0430 \\u0444\\u0438\\u043b\\u044c'
                    #                 '\\u043c: \\u0417\\u0430\\u043b: \\u041a\\u0443\\u0440\\u043e\\u0441\\u0430\\u0432'
                    #                 '\\u0430, \\u0440\\u044f\\u0434 3, \\u043c\\u0435\\u0441\\u0442\\u043e 3',
                    "price": 0.2,
                    "order": {
                        # 'contract_id': None,
                        "commission_category": "100",
                        # 'update_dt': '2021-10-05T17:18:41+00:00',
                        "service_product_id": 784474259,
                        # 'price': None,
                        "service_order_id_number": 5517030076,
                        # 'start_dt_utc': None,
                        # 'developer_payload': '{\'email\':\'testur@yandex.ru\',\'phone\':\'+79861734142\'}',
                        "service_product_external_id": "product_1627308140521",
                        # 'clid': None,
                        "service_order_id": "5517030076",
                        # 'text': None,
                        # 'start_dt_offset': None,
                        "service_id": 118,
                        "dt": "2021-10-05T17:18:41+00:00",
                        # 'passport_id': 4072725426,
                        # 'region_id': None
                    },
                    "amount": 0.2,
                    # 'fiscal_item_code': None,
                    # 'fiscal_agent_type': None,
                    "cancel_dt": None,
                    "id": 788262374,
                    "quantity": 0.0,
                },
            ],
            "dt": "2021-10-05T17:19:38+00:00",
            "trust_payment_id": "615c892bb955d70914cf571b",
            "purchase_token": "d9cbc83cf2b78a85f4ccc7197460efa1",
            "processing_id": 50401,
            "cancel_dt": None,
            # 'fraud_status': {
            #     'payment_id': None,
            #     'afs_status': None,
            #     'afs_resp_desc': None,
            #     'trust_payment_id': None,
            #     'afs_tx_id': None,
            #     'afs_tags': None,
            #     'afs_rule_score': None,
            #     'afs_risk_score': None,
            #     'afs_additional_info': None,
            #     'partition_dt': None,
            #     'afs_action': None,
            #     'afs_check_method': None
            # },
            "developer_payload": "{}",
            "card_id": "8e61e71d7ce6f0428a832575",
            # 'binding_result': None,
            "amount": 0.2,
            "resp_code": "wait_for_notification",
            "products": [
                {
                    "partner_id": 1351789055,
                    # 'product_type': None,
                    "name": "PRODUCT",
                    # 'package_name': None,
                    # 'fiscal_title': None,
                    # 'single_purchase': None,
                    "id": 784474259,
                    # 'subs_period': None,
                    # 'parent_id': None,
                    # 'active_until_dt': None,
                    "service_fee": 0,
                    # 'fiscal_nds': None,
                    # 'hidden': None,
                    "external_id": "product_1627308140521",
                    # 'subs_trial_period': None,
                    # 'inapp_name': None,
                    "service_id": 118,
                }
            ],
            "payment_type": "TRUST_PAYMENT",
            # 'notify_url': None,
            # 'transaction_request_id': None,
            "service_id": 118,
            # 'fiscal_info': {
            #     'fiscal_agent_type': 'agent'
            # },
            "start_dt": "2021-10-05T17:19:41+00:00",
            "passport_id": 4072725426,
            "user_email": "testur@yandex.ru",
        },
    ],
    "cardholder": "CARD HOLDER",
    "payment_status": "initial",
    "postauth_dt": None,
    "real_postauth_dt": None,
    "payment_dt": None,
    "transaction_id": None,
    "resp_dt": "2021-10-05T17:19:39+00:00",
    "description": None,
    "firm_id": 1,
    "postauth_amount": None,
    # 'approval_code': None,
    # 'payment_mode': None,
    "rows": [
        {
            # 'fiscal_nds': 'nds_0',
            # 'fiscal_inn': '1234567890',
            # 'fiscal_title': '\\u0411\\u0438\\u043b\\u0435\\u0442 \\u043d\\u0430 \\u0444\\u0438\\u043b\\u044c'
            #                 '\\u043c: \\u0417\\u0430\\u043b: \\u041a\\u0443\\u0440\\u043e\\u0441\\u0430\\u0432'
            #                 '\\u0430, \\u0440\\u044f\\u0434 0, \\u043c\\u0435\\u0441\\u0442\\u043e 4',
            "price": 400.0,
            "order": {
                # 'contract_id': None,
                "commission_category": "100",
                # 'update_dt': '2021-10-05T17:18:42+00:00',
                "service_product_id": 784474259,
                # 'price': None,
                "service_order_id_number": 5517030078,
                # 'start_dt_utc': None,
                "service_product_external_id": "product_1627308140521",
                "clid": None,
                "service_order_id": "5517030078",
                # 'text': None,
                # 'start_dt_offset': None,
                "service_id": 118,
                "dt": "2021-10-05T17:18:42+00:00",
                # 'passport_id': 4072725426,
                # 'region_id': None
            },
            "amount": 400.0,
            # 'fiscal_item_code': None,
            # 'fiscal_agent_type': None,
            # 'cancel_dt': None,
            "id": 788262336,
            # 'quantity': 0.0
        },
        {
            # 'fiscal_nds': 'nds_0',
            # 'fiscal_inn': '1234567890',
            # 'fiscal_title': '\\u0411\\u0438\\u043b\\u0435\\u0442 \\u043d\\u0430 \\u0444\\u0438\\u043b\\u044c'
            #                 '\\u043c: \\u0417\\u0430\\u043b: \\u041a\\u0443\\u0440\\u043e\\u0441\\u0430\\u0432'
            #                 '\\u0430, \\u0440\\u044f\\u0434 6, \\u043c\\u0435\\u0441\\u0442\\u043e 2',
            "price": 400.0,
            "order": {
                # 'contract_id': None,
                "commission_category": "100",
                # 'update_dt': '2021-10-05T17:18:41+00:00',
                "service_product_id": 784474259,
                # 'price': None,
                "service_order_id_number": 5517030074,
                # 'start_dt_utc': None,
                "service_product_external_id": "product_1627308140521",
                # 'clid': None,
                "service_order_id": "5517030074",
                # 'text': None,
                # 'start_dt_offset': None,
                "service_id": 118,
                "dt": "2021-10-05T17:18:41+00:00",
                # 'passport_id': 4072725426,
                # 'region_id': None
            },
            "amount": 400.0,
            # 'fiscal_item_code': None,
            # 'fiscal_agent_type': None,
            "cancel_dt": None,
            "id": 788262337,
            "quantity": 0.0,
        },
    ],
    "dt": "2021-10-05T17:18:42+00:00",
    "trust_payment_id": "615c88f2b955d7edaacf571b",
    "purchase_token": "b26e09e063fa9778b50ff205e70b0bae",
    "processing_id": 50305,
    "cancel_dt": None,
    # 'fraud_status': {
    #     'payment_id': None,
    #     'afs_status': None,
    #     'afs_resp_desc': None,
    #     'trust_payment_id': None,
    #     'afs_tx_id': None,
    #     'afs_tags': None,
    #     'afs_rule_score': None,
    #     'afs_risk_score': None,
    #     'afs_additional_info': None,
    #     'partition_dt': None,
    #     'afs_action': None,
    #     'afs_check_method': None
    # },
    "developer_payload": "{}",
    "card_id": "8e61e71d7ce6f0428a832575",
    "binding_result": None,
    "amount": 800.0,
    # 'resp_code': 'wait_for_notification',
    "products": [
        {
            "partner_id": 1351796565,
            # 'product_type': None,
            "name": "PRODUCT",
            # 'package_name': None,
            # 'fiscal_title': None,
            # 'single_purchase': None,
            "id": 784474259,
            # 'subs_period': None,
            # 'parent_id': None,
            # 'active_until_dt': None,
            "service_fee": 0,
            # 'fiscal_nds': None,
            # 'hidden': None,
            "external_id": "product_1627308140521",
            # 'subs_trial_period': None,
            # 'inapp_name': None,
            "service_id": 118,
        }
    ],
    "payment_type": "COMPOSITE_PAYMENT2",
    # 'notify_url': 'https://api.tickets.afisha.tst.yandex.net/payment/callback/balance-simple/'
    #               '1633454313409@1835552b-c585-4d17-9220-4f43b1b05c15',
    # 'transaction_request_id': None,
    "service_id": 118,
    "fiscal_info": {"fiscal_agent_type": "agent"},
    "start_dt": "2021-10-05T17:18:44+00:00",
    "passport_id": 4072725426,
    # 'user_email': 'testur@yandex.ru'
}

PAYMENT_METHOD = {"event": PAYMENT_EVENT, "references": PAYMENT_REFERENCES}
PAYMENT_WITH_REFUNDS_METHOD = {"event": PAYMENT_WITH_REFUNDS_EVENT, "references": PAYMENT_REFERENCES}
PAYMENT_COMPOSITE_METHOD = {"event": PAYMENT_COMPOSITE_EVENT, "references": PAYMENT_REFERENCES}

PAYMENT_TRANSACTION_BATCH = {
    "event": PAYMENT_EVENT,
    "client_transactions": [
        {
            "batch_id": "110101",
            "client_id": PAYMENT_EVENT["products"][0]["partner_id"],
            "dt": 1644849059,
            "transactions": [
                {
                    "loc": {},
                    "amount": "10.22",
                    "type": "debit",
                    "dt": 132532324322,
                }
            ],
        },
    ],
    "params": {
        "keys": [
            {
                "namespace": "trust_calculator",
                "key": "111222333",
                "value": "1",
            }
        ],
    },
}
