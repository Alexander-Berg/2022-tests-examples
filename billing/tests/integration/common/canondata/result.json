{
    "test_dyntable_update.test_empty_interval": {
        "meta": {
            "is_updating": 0,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c1",
                        "partitions": [
                            {
                                "first_offset": 20,
                                "next_offset": 20,
                                "partition": 0
                            },
                            {
                                "first_offset": 25,
                                "next_offset": 25,
                                "partition": 1
                            }
                        ],
                        "topic": "t1"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 10,
                "CurrencyID": 1,
                "OrderID": 1
            }
        ]
    },
    "test_dyntable_update.test_force_update": {
        "meta": {
            "is_updating": 0,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c1",
                        "partitions": [
                            {
                                "first_offset": 10,
                                "next_offset": 20,
                                "partition": 0
                            },
                            {
                                "first_offset": 15,
                                "next_offset": 25,
                                "partition": 1
                            }
                        ],
                        "topic": "t1"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 11,
                "CurrencyID": 1,
                "OrderID": 1
            }
        ]
    },
    "test_dyntable_update.test_interval_mismatch[in_progress_following]": {
        "meta": {
            "is_updating": 1,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c",
                        "partitions": [
                            {
                                "first_offset": 10,
                                "next_offset": 20,
                                "partition": 0
                            }
                        ],
                        "topic": "t"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 10,
                "CurrencyID": 1,
                "OrderID": 1
            }
        ]
    },
    "test_dyntable_update.test_interval_mismatch[in_progress_intersecting]": {
        "meta": {
            "is_updating": 1,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c",
                        "partitions": [
                            {
                                "first_offset": 10,
                                "next_offset": 20,
                                "partition": 0
                            }
                        ],
                        "topic": "t"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 10,
                "CurrencyID": 1,
                "OrderID": 1
            }
        ]
    },
    "test_dyntable_update.test_interval_mismatch[new_ahead]": {
        "meta": {
            "is_updating": 0,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c",
                        "partitions": [
                            {
                                "first_offset": 10,
                                "next_offset": 20,
                                "partition": 0
                            }
                        ],
                        "topic": "t"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 10,
                "CurrencyID": 1,
                "OrderID": 1
            }
        ]
    },
    "test_dyntable_update.test_interval_mismatch[new_intersecting]": {
        "meta": {
            "is_updating": 0,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c",
                        "partitions": [
                            {
                                "first_offset": 10,
                                "next_offset": 20,
                                "partition": 0
                            }
                        ],
                        "topic": "t"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 10,
                "CurrencyID": 1,
                "OrderID": 1
            }
        ]
    },
    "test_dyntable_update.test_main_lock": {
        "meta": {
            "is_updating": 0,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c1",
                        "partitions": [
                            {
                                "first_offset": 10,
                                "next_offset": 20,
                                "partition": 0
                            },
                            {
                                "first_offset": 15,
                                "next_offset": 25,
                                "partition": 1
                            }
                        ],
                        "topic": "t1"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 10,
                "CurrencyID": 1,
                "OrderID": 1
            }
        ]
    },
    "test_dyntable_update.test_meta_lock": {
        "meta": {
            "is_updating": 0,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c1",
                        "partitions": [
                            {
                                "first_offset": 10,
                                "next_offset": 20,
                                "partition": 0
                            },
                            {
                                "first_offset": 15,
                                "next_offset": 25,
                                "partition": 1
                            }
                        ],
                        "topic": "t1"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 10,
                "CurrencyID": 1,
                "OrderID": 1
            }
        ]
    },
    "test_dyntable_update.test_new[enable_dynamic_store_read=False]": {
        "meta": {
            "is_updating": 0,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c1",
                        "partitions": [
                            {
                                "first_offset": 20,
                                "next_offset": 30,
                                "partition": 0
                            },
                            {
                                "first_offset": 25,
                                "next_offset": 35,
                                "partition": 1
                            }
                        ],
                        "topic": "t1"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 11,
                "CurrencyID": 1,
                "OrderID": 1
            },
            {
                "Amount": 66,
                "CurrencyID": 2,
                "OrderID": 1
            },
            {
                "Amount": 42,
                "CurrencyID": 1,
                "OrderID": 2
            },
            {
                "Amount": 7,
                "CurrencyID": 2,
                "OrderID": 2
            },
            {
                "Amount": 97,
                "CurrencyID": 1,
                "OrderID": 3
            }
        ]
    },
    "test_dyntable_update.test_new[enable_dynamic_store_read=True]": {
        "meta": {
            "is_updating": 0,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c1",
                        "partitions": [
                            {
                                "first_offset": 20,
                                "next_offset": 30,
                                "partition": 0
                            },
                            {
                                "first_offset": 25,
                                "next_offset": 35,
                                "partition": 1
                            }
                        ],
                        "topic": "t1"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 11,
                "CurrencyID": 1,
                "OrderID": 1
            },
            {
                "Amount": 66,
                "CurrencyID": 2,
                "OrderID": 1
            },
            {
                "Amount": 42,
                "CurrencyID": 1,
                "OrderID": 2
            },
            {
                "Amount": 7,
                "CurrencyID": 2,
                "OrderID": 2
            },
            {
                "Amount": 97,
                "CurrencyID": 1,
                "OrderID": 3
            }
        ]
    },
    "test_dyntable_update.test_procession_retries[completed]": {
        "meta": {
            "is_updating": 0,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c1",
                        "partitions": [
                            {
                                "first_offset": 10,
                                "next_offset": 20,
                                "partition": 0
                            },
                            {
                                "first_offset": 15,
                                "next_offset": 25,
                                "partition": 1
                            }
                        ],
                        "topic": "t1"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 10,
                "CurrencyID": 1,
                "OrderID": 1
            }
        ]
    },
    "test_dyntable_update.test_procession_retries[in_progress]": {
        "meta": {
            "is_updating": 0,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c1",
                        "partitions": [
                            {
                                "first_offset": 10,
                                "next_offset": 20,
                                "partition": 0
                            },
                            {
                                "first_offset": 15,
                                "next_offset": 25,
                                "partition": 1
                            }
                        ],
                        "topic": "t1"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 11,
                "CurrencyID": 1,
                "OrderID": 1
            }
        ]
    },
    "test_dyntable_update.test_procession_retries[previous]": {
        "meta": {
            "is_updating": 0,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c1",
                        "partitions": [
                            {
                                "first_offset": 10,
                                "next_offset": 20,
                                "partition": 0
                            },
                            {
                                "first_offset": 15,
                                "next_offset": 25,
                                "partition": 1
                            }
                        ],
                        "topic": "t1"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 10,
                "CurrencyID": 1,
                "OrderID": 1
            }
        ]
    },
    "test_dyntable_update.test_update_fail": {
        "meta": {
            "is_updating": 1,
            "log_interval": {
                "topics": [
                    {
                        "cluster": "c1",
                        "partitions": [
                            {
                                "first_offset": 20,
                                "next_offset": 30,
                                "partition": 0
                            },
                            {
                                "first_offset": 25,
                                "next_offset": 35,
                                "partition": 1
                            }
                        ],
                        "topic": "t1"
                    }
                ]
            }
        },
        "rows": [
            {
                "Amount": 10,
                "CurrencyID": 1,
                "OrderID": 1
            }
        ]
    },
    "test_prepare_reference_update.test_calculations[custom]": {
        "meta": {
            "log_interval": {
                "topics": [
                    {
                        "cluster": "a",
                        "partitions": [
                            {
                                "first_offset": 20,
                                "next_offset": 30,
                                "partition": 0
                            }
                        ],
                        "topic": "a"
                    }
                ]
            },
            "ref_log_interval": {
                "topics": [
                    {
                        "cluster": "a",
                        "partitions": [
                            {
                                "first_offset": 20,
                                "next_offset": 30,
                                "partition": 0
                            }
                        ],
                        "topic": "a"
                    }
                ]
            },
            "run_id": "666"
        },
        "rows": [
            {
                "ID": 3,
                "Version": 31,
                "some_int": 4,
                "some_string": "3"
            },
            {
                "ID": 4,
                "Version": 41,
                "some_int": 9,
                "some_string": "b"
            },
            {
                "ID": 5,
                "Version": 53,
                "some_int": 3,
                "some_string": "c"
            },
            {
                "ID": 6,
                "Version": 0,
                "some_int": 10,
                "some_string": "preved"
            }
        ]
    },
    "test_prepare_reference_update.test_calculations[default]": {
        "meta": {
            "log_interval": {
                "topics": [
                    {
                        "cluster": "a",
                        "partitions": [
                            {
                                "first_offset": 20,
                                "next_offset": 30,
                                "partition": 0
                            }
                        ],
                        "topic": "a"
                    }
                ]
            },
            "run_id": "666"
        },
        "rows": [
            {
                "ID": 3,
                "Version": 31,
                "some_int": 4,
                "some_string": "3"
            },
            {
                "ID": 4,
                "Version": 41,
                "some_int": 9,
                "some_string": "b"
            },
            {
                "ID": 5,
                "Version": 53,
                "some_int": 3,
                "some_string": "c"
            },
            {
                "ID": 6,
                "Version": 0,
                "some_int": 10,
                "some_string": "preved"
            }
        ]
    },
    "test_prepare_reference_update.test_empty_interval": {
        "meta": {
            "log_interval": {
                "topics": [
                    {
                        "cluster": "a",
                        "partitions": [
                            {
                                "first_offset": 20,
                                "next_offset": 20,
                                "partition": 0
                            }
                        ],
                        "topic": "a"
                    }
                ]
            },
            "run_id": "666"
        },
        "rows": []
    }
}
