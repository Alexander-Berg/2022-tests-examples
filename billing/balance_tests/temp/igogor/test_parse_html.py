# coding: utf-8
from lxml import etree


def test_parse_for_simple():
    html_string = '<!doctype html><html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7,IE=edge"/><title>Yandex.Trust</title><link rel="stylesheet" href="css/50a3370e7f71079b14d6431e009bf342.css"/></head><body data-lang="ru" data-status="wait_for_notification" data-target-origin="tmongo1f.fin" data-env="test" data-env-specific="{&quot;config&quot;:{&quot;fakeCardPrefixes&quot;:[&quot;500000&quot;,&quot;400000&quot;,&quot;0000&quot;,&quot;510000&quot;,&quot;5555555555554444&quot;,&quot;5105105105105100&quot;,&quot;4000000000000002&quot;,&quot;4111111111111111&quot;,&quot;4444000000001111&quot;,&quot;4444333322221111&quot;,&quot;4444444411111111&quot;,&quot;4444444444443333&quot;,&quot;4444444444444422&quot;,&quot;4444444444444455&quot;,&quot;4444444444446666&quot;,&quot;4444444499999999&quot;,&quot;5100000000000008&quot;,&quot;5432543254325430&quot;,&quot;5555555544444442&quot;,&quot;5555555555555557&quot;,&quot;5555555555555599&quot;,&quot;6011000000000004&quot;,&quot;639002000000000003&quot;,&quot;1234561999999999&quot;,&quot;4100401111100062&quot;,&quot;4100401111100328&quot;,&quot;4100401111100724&quot;,&quot;4100401111103025&quot;,&quot;4111101000000046&quot;,&quot;4111111111100023&quot;,&quot;4111111111100031&quot;,&quot;4111111111100056&quot;,&quot;4111111111100072&quot;,&quot;4111111111100080&quot;,&quot;4111111111100221&quot;,&quot;4111111111100627&quot;,&quot;4111111111102029&quot;,&quot;4111111111111112&quot;,&quot;4111111111111114&quot;,&quot;4111111111111115&quot;,&quot;5486732058864471&quot;,&quot;7000000000000007&quot;,&quot;7600000000000006&quot;,&quot;8000000000000008&quot;,&quot;4000000000000002&quot;,&quot;4012888888881881&quot;,&quot;41111111111111113&quot;,&quot;411111111111111134&quot;,&quot;4111111111111111342&quot;,&quot;4111111111111117&quot;,&quot;4111444422221117&quot;,&quot;4111444444444440&quot;,&quot;4154816999756302&quot;,&quot;4222222222220000&quot;,&quot;4222222222220018&quot;,&quot;4314160041535019&quot;,&quot;4321432143214327&quot;,&quot;433311111111116&quot;,&quot;433311111111124&quot;,&quot;4433442244334424&quot;,&quot;4444444444444448&quot;,&quot;4563960122001999&quot;,&quot;4627290472448804&quot;,&quot;4789789089321233&quot;,&quot;5011111111111119&quot;,&quot;5222222222222227&quot;,&quot;5308271370800505&quot;,&quot;5308272140363634&quot;,&quot;5308277131640114&quot;,&quot;5333333333333336&quot;,&quot;5435186425990919&quot;,&quot;5444444444444445&quot;,&quot;639002000000000409&quot;,&quot;5534960020501739&quot;]}}"><script src="js/bc08ec8dc6578ca38569a0c3bcbf0c72.js"></script><div class="js_payment_item_card"><form action="start_payment" method="post" class="js_card-form" data-cards="{&quot;card-x5715&quot;:{&quot;number&quot;:&quot;555555****4444&quot;,&quot;name&quot;:&quot;&quot;,&quot;id&quot;:&quot;x5715&quot;}}"><input type="hidden" name="payment_method" value="new_card"/><input type="hidden" name="card_number" id="card_number_hid"/><input type="hidden" name="trust_payment_id" value="596495d2795be27131d3ed91"/><input type="hidden" name="purchase_token" value="3b4c335833a1f1125482fe07d191ec6a"/><input type="hidden" name="xrf_token" value=""/><div class="card shaker"><div class="card_front"><div class="card_front-inner"><span class="card_number-label">\xd0\x9d\xd0\xbe\xd0\xbc\xd0\xb5\xd1\x80 \xd0\xba\xd0\xb0\xd1\x80\xd1\x82\xd1\x8b</span><span class="card_number"><span class="card_number-item"><div class="input"><input type="text" placeholder="1234" class="input_field" data-value=""/></div></span><span class="card_number-item"><div class="input"><input type="text" placeholder="5678" class="input_field" data-value=""/></div></span><span class="card_number-item"><div class="input"><input type="text" placeholder="9012" class="input_field" data-value=""/></div></span><span class="card_number-item card_number-item_last"><div class="input"><input type="text" placeholder="3456789" class="input_field" data-value=""/></div></span></span><span class="card_valid"><span class="card_valid-inner"><span class="card_valid-label">\xd0\xa1\xd1\x80\xd0\xbe\xd0\xba<br />\xd0\xb4\xd0\xb5\xd0\xb9\xd1\x81\xd1\x82\xd0\xb2\xd0\xb8\xd1\x8f</span><span class="card_valid-date"><span class="card_valid-item"><div class="input"><input type="text" placeholder="01" class="input_field" data-value="" name="expiration_month"/></div></span><span class="card_valid-separator">/</span><span class="card_valid-item"><div class="input"><input type="text" placeholder="14" class="input_field" data-value="" name="expiration_year"/></div></span></span></span></span><span class="card_owner"><div class="input"><input type="text" placeholder="IVAN IVANOV" class="input_field" data-value="" name="cardholder"/></div></span><span class="card_logos"><i class="card-icon card_maestro-icon"></i><i class="card-icon card_mastercard-icon"></i><i class="card-icon card_visa-icon"></i><i class="card-icon card_mir-icon"></i></span></div></div><div class="card_back"><i class="card_magnet-line"></i><div class="card_back-inner"><span class="card_cvc-label">CVC/CVV <i class="card_cvc-help-icon">?<span class="informer"><i class="informer_arrow"><i class="informer_arrow-inner"></i></i><span class="informer_inner"><div class="informer_image"></div><span class="informer_caption">CVC/CVV \xe2\x80\x94 \xd0\xba\xd0\xbe\xd0\xb4 \xd0\xb1\xd0\xb5\xd0\xb7\xd0\xbe\xd0\xbf\xd0\xb0\xd1\x81\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd0\xb8</span><span class="informer_text">\xd0\x9d\xd1\x83\xd0\xb6\xd0\xb5\xd0\xbd \xd0\xb4\xd0\xbb\xd1\x8f \xd0\xbf\xd0\xbe\xd0\xb4\xd1\x82\xd0\xb2\xd0\xb5\xd1\x80\xd0\xb6\xd0\xb4\xd0\xb5\xd0\xbd\xd0\xb8\xd1\x8f \xd0\xbf\xd0\xbe\xd0\xb4\xd0\xbb\xd0\xb8\xd0\xbd\xd0\xbd\xd0\xbe\xd1\x81\xd1\x82\xd0\xb8 \xd0\xb2\xd0\xb0\xd1\x88\xd0\xb5\xd0\xb9 \xd0\xba\xd0\xb0\xd1\x80\xd1\x82\xd1\x8b</span></span></span></i></span><span class="card_cvc-field"><div class="input"><input type="password" placeholder="" class="input_field" data-value="" name="cvn"/></div></span><span class="card_cvc-note">\xd0\x9f\xd0\xbe\xd1\x81\xd0\xbb\xd0\xb5\xd0\xb4\xd0\xbd\xd0\xb8\xd0\xb5 \xd1\x82\xd1\x80\xd0\xb8 \xd1\x86\xd0\xb8\xd1\x84\xd1\x80\xd1\x8b \xd0\xbd\xd0\xb0&nbsp;\xd0\xbe\xd0\xb1\xd0\xbe\xd1\x80\xd0\xbe\xd1\x82\xd0\xb5 \xd0\xba\xd0\xb0\xd1\x80\xd1\x82\xd1\x8b</span></div></div></div></form></div><script src="//yastatic.net/jquery/2.1.4/jquery.min.js"></script><script src="js/8c93eba0550d15e675edd467786d4835.js"></script></body></html>'

    root = etree.HTML(html_string)
    tree = etree.ElementTree(root)

    xrf_token = tree.xpath('//input[@name="xrf_token"]')[0].get('value')
