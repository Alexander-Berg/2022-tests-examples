interactions:
- request:
    body: !!python/unicode '{"page_size": 100, "filters": [{"namespace": "test_awacs.juggler_testing"}]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '76'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.19.1
    method: POST
    uri: http://juggler-api.search.yandex.net/api/notify_rules/get_notify_rules?do=1
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA6tWKirNSS1WslKIjtVRUCrJL0nMAXIMagHgmtfEGQAAAA==
    headers:
      access-control-allow-credentials:
      - 'true'
      access-control-allow-headers:
      - Origin, Content-Type, X-Auth-Token, Cookie
      access-control-allow-methods:
      - GET, POST, OPTIONS
      access-control-allow-origin:
      - '*'
      content-encoding:
      - gzip
      content-type:
      - application/json
      date:
      - Fri, 28 May 2021 13:57:19 GMT
      x-authentication:
      - ''
      x-juggler-node:
      - sas-prod.juggler.search.yandex.net
    status:
      code: 200
      message: OK
- request:
    body: !!python/unicode '{"template_name": "on_status_change", "template_kwargs":
      {"status": [{"to": "CRIT", "from": "OK"}], "login": ["i-dyachkov"], "method":
      "sms"}, "namespace": "test_awacs.juggler_testing", "description": "testing juggler",
      "selector": "tag=testing_juggler_checks"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '261'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.19.1
      authorization:
      - DUMMY
    method: POST
    uri: http://juggler-api.search.yandex.net/api/notify_rules/add_or_update_notify_rule?do=1
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA6tWKi5NTk4tLlayUigpKk3VUVAqSi0uzSmJz0wBCimZGSQZpJklpRmmJZklGxum
        WJiYpSSlJhko1QIAcOyHzzoAAAA=
    headers:
      access-control-allow-credentials:
      - 'true'
      access-control-allow-headers:
      - Origin, Content-Type, X-Auth-Token, Cookie
      access-control-allow-methods:
      - GET, POST, OPTIONS
      access-control-allow-origin:
      - '*'
      content-encoding:
      - gzip
      content-type:
      - application/json
      date:
      - Fri, 28 May 2021 13:57:19 GMT
      x-authentication:
      - OAuth
      x-juggler-node:
      - iva-prod.juggler.search.yandex.net
    status:
      code: 200
      message: OK
- request:
    body: !!python/unicode '{"page_size": 100, "filters": [{"namespace": "test_awacs.juggler_testing"}]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '76'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.19.1
    method: POST
    uri: http://juggler-api.search.yandex.net/api/notify_rules/get_notify_rules?do=1
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA1WQwU7DMAyGX6XKGaamg0KROHFCHJAQtwlFbuqmoWkyJd4mNPXdqdNNglscf7H/
        L2cRDw6TeCp253xUtlsKUZdt2ddtL/u21lvZPd7VXYttKW4KkdChphCZIzDPhImsN+r7YIzDqPSA
        ekxMEk57B4TKw4SMB68SAR3SAoE3+A8aTxANRzmLFVpTUeCXLx+vn0z3MUxcv7+J+WupXTDWMyjs
        bfcDehjDUXBjQhpCdklTEjPfAOlBRTgpPKInHt+DS7i0Okw62j3Z4LPValRcjHivjgjcVmSziqyr
        qpJltW02D/dSNrJZINZMe9B4HaLgBDptrj9zmcvzBrsm2HHW/GN//OesRoHA8ar5F+RsjTimAQAA
    headers:
      access-control-allow-credentials:
      - 'true'
      access-control-allow-headers:
      - Origin, Content-Type, X-Auth-Token, Cookie
      access-control-allow-methods:
      - GET, POST, OPTIONS
      access-control-allow-origin:
      - '*'
      content-encoding:
      - gzip
      content-type:
      - application/json
      date:
      - Fri, 28 May 2021 13:57:19 GMT
      x-authentication:
      - ''
      x-juggler-node:
      - man-prod.juggler.search.yandex.net
    status:
      code: 200
      message: OK
- request:
    body: !!python/unicode '{"template_name": "on_status_change", "template_kwargs":
      {"status": [{"to": "CRIT", "from": "WARN"}], "login": ["i-dyachkov"], "method":
      "sms"}, "namespace": "test_awacs.juggler_testing", "description": "testing juggler
      2", "selector": "tag=testing_juggler_checks"}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '265'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.19.1
      authorization:
      - DUMMY
    method: POST
    uri: http://juggler-api.search.yandex.net/api/notify_rules/add_or_update_notify_rule?do=1
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA6tWKi5NTk4tLlayUigpKk3VUVAqSi0uzSmJz0wBCimZGSQZpJklG5hamKakGCQl
        GZgkG5sZG6Uq1QIAAcBQaDoAAAA=
    headers:
      access-control-allow-credentials:
      - 'true'
      access-control-allow-headers:
      - Origin, Content-Type, X-Auth-Token, Cookie
      access-control-allow-methods:
      - GET, POST, OPTIONS
      access-control-allow-origin:
      - '*'
      content-encoding:
      - gzip
      content-type:
      - application/json
      date:
      - Fri, 28 May 2021 13:57:20 GMT
      x-authentication:
      - OAuth
      x-juggler-node:
      - myt-prod.juggler.search.yandex.net
    status:
      code: 200
      message: OK
- request:
    body: !!python/unicode rule_id=60b0f6bf1fb6c31d846dbeb0
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '32'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - python-requests/2.19.1
      authorization:
      - DUMMY
    method: POST
    uri: http://juggler-api.search.yandex.net/api/notify_rules/remove_notify_rule?do=1
  response:
    body:
      string: !!python/unicode '{"success": true}'
    headers:
      access-control-allow-credentials:
      - 'true'
      access-control-allow-headers:
      - Origin, Content-Type, X-Auth-Token, Cookie
      access-control-allow-methods:
      - GET, POST, OPTIONS
      access-control-allow-origin:
      - '*'
      content-length:
      - '17'
      content-type:
      - application/json
      date:
      - Fri, 28 May 2021 13:57:20 GMT
      x-authentication:
      - OAuth
      x-juggler-node:
      - myt-prod.juggler.search.yandex.net
    status:
      code: 200
      message: OK
- request:
    body: !!python/unicode '{"page_size": 100, "filters": [{"namespace": "test_awacs.juggler_testing"}]}'
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '76'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.19.1
    method: POST
    uri: http://juggler-api.search.yandex.net/api/notify_rules/get_notify_rules?do=1
  response:
    body:
      string: !!binary |
        H4sIAAAAAAAAA1WQQU/DMAyF/0qVM0xZtlWAxAFx4sJhQuIwochL3TQ0TabE24Sm/nfqdJPgFttf
        /N7zRaSjxyyeqt2lPLVrpkLUci/b2sjNw6Zp5H4v12ZVrxSKu0pk9GgoJuYI7DNhJhes/j5a6zFp
        06HpM5OEw8EDoQ4wIOMx6ExAxzxBECz+g/ozJMtWLmKGZlcU+efr9u2D6TbFgevPl+27GL+mjo/W
        BUaFu29+wHR9PAkeDEhdLGnykMXIHSDT6QRnjScMxAIt+IzTqMFskjuQi6HkmjNV10yVYm2TEBjQ
        5EqcZa2UWkq1lguppHysJ4aT5gMYvG3RcAaTF7fjXBfzus7NFnZsthztzwnGko0igWel8Rc7kPXm
        qQEAAA==
    headers:
      access-control-allow-credentials:
      - 'true'
      access-control-allow-headers:
      - Origin, Content-Type, X-Auth-Token, Cookie
      access-control-allow-methods:
      - GET, POST, OPTIONS
      access-control-allow-origin:
      - '*'
      content-encoding:
      - gzip
      content-type:
      - application/json
      date:
      - Fri, 28 May 2021 13:57:20 GMT
      x-authentication:
      - ''
      x-juggler-node:
      - myt-prod.juggler.search.yandex.net
    status:
      code: 200
      message: OK
- request:
    body: !!python/unicode rule_id=60b0f6c0585dd0bb04c3632e
    headers:
      Accept:
      - '*/*'
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '32'
      Content-Type:
      - application/x-www-form-urlencoded
      User-Agent:
      - python-requests/2.19.1
      authorization:
      - DUMMY
    method: POST
    uri: http://juggler-api.search.yandex.net/api/notify_rules/remove_notify_rule?do=1
  response:
    body:
      string: !!python/unicode '{"success": true}'
    headers:
      access-control-allow-credentials:
      - 'true'
      access-control-allow-headers:
      - Origin, Content-Type, X-Auth-Token, Cookie
      access-control-allow-methods:
      - GET, POST, OPTIONS
      access-control-allow-origin:
      - '*'
      content-length:
      - '17'
      content-type:
      - application/json
      date:
      - Fri, 28 May 2021 13:57:20 GMT
      x-authentication:
      - OAuth
      x-juggler-node:
      - iva-prod.juggler.search.yandex.net
    status:
      code: 200
      message: OK
version: 1
