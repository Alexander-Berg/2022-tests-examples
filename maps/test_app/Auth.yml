Components:
  - mobile_app_test
Feature:
  - Auth

specs:
  Авторизация Yandex-аккаунтом:
    - description: Авторизация пользователя
    - info: Установить приложение MRC TestApp.
    - do: Открыть приложение.
    - assert: |
        - Открылся экран авторизации со списком аккаунтов
        - Если аккаунтов нет - сообщение "Аккаунты не найдены"
    - do: Тапнуть по логину нужного пользователя или добавить нового через меню ⋮
    - assert: |
        - Произошла авторизация выбранного пользователя
        - Открылся главный экран со списком кнопок-сценариев работы с приложением

    - Test_type:
      - Acceptance
    - OS:
      - Android


  Авторизация. Независимость данных разных аккаунтов:
    - description: Происходит логин другим аккаунтом, список заданий и количество фотографий обновились
    - info: Залогиниться в приложении.
    - do: |
        Зайти в раздел "Работа с заданиями", таб "Мои задания"
        Если список пуст, взять задание в работу. Для этого:
        - Перейти в "Доступные"
        - Отзумить карту и тапнуть по любой выделенной синим области на карте 
        - Тапнуть "Взять задание"
    - assert: |
        - В списке есть задания (запомнить, какие)
    - do: |
        - С помощью приложения Mock Location включить подмену координат и начать движение по маршруту.
        - В преложении MrcTestApp вернуться на главный экран.
        - Зтем зайти в раздел "Свободный заезд".
        - Нажать "СТАРТ".
    - assert: |
        - Счетчик "Количество фотографий увеличивается.
    - do: |
        - Остновить съемку, тапнув "СТОП".
        - Запомнить, сколько фотографий сделано.
    - assert: |
        - Съемка остановлена
    - do: |
        - Вернуться на главный экран кнопкой "Назад".
        - Зайти в раздел "Авторизация".
    - assert: |
        - Открылся список аккаунтов
        - Напротив активного аккаунта включен чекбокс
    - do: |
        - Тапнуть по любому другому аккаунту.
        - Если второго аккаунта нет, добавить аккаунт через пункт меню.
    - assert: |
        - Произошёл перелогин
        - Произошёл возврат на главный экран со списком сценариев
    - do: Зайти в раздел "Работа с заданиями", таб "Мои задания".
    - assert: |
        - Список заданий обновился
        - Среди заданий нет взятых в работу с другого аккаунта
    - do: |
        - Вернуться на главный экран с помощью кнопки "Назад".
        - Зайти в раздел "Свободный заезд".
    - assert: |
        - Счетчик "Количество фотографий" показывает значение, отличное от значения на первом аккаунте.

    - Test_type:
      - Regression
    - OS:
      - Android
