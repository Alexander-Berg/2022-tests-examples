// vector format: [N = vector size] [N objects listed with one or more spaces between them]
// polyline format: [vector of points in the polyline]
// polylines_set format: [vector of polylines with keys in the set]
// findKClosest format: [bounding box as two points] [int K] [searched point]
//                      [vector of first no more than K polylines with keys in the box sorted by distance to searched point descending]


// tests taken from points closest to point and adjusted for polyline case
polylines_set  0
findKClosest -1000.0 -1000.0  1000.0 1000.0  3  0.0 0.0  0
findKClosest -1.0 -1.0  1.0 1.0  0  0.0 0.0  0
findKClosest 10.0 10.0  300.0 20.0  7  5.0 -2.0  0

polylines_set  1  1  0.0 0.0 43
findKClosest  2.0 3.0  5.0 7.0  4  0.0 0.0  0
findKClosest  -100.0 -100.0  100.0 100.0  1  500.0 1000.0  1  1  0.0 0.0 43
findKClosest  -10.0 -20.0  30.0 40.0  10  10.0 -1543.0  1  1  0.0 0.0 43

polylines_set  5  1  0.0 0.0 0  1  0.0 1.0 1  1  1.0 1.0 2  1  1.0 0.0 3  1  0.5 0.5 4
findKClosest  -100.0 -100.0  100.0 100.0  1  0.1 0.1  1  1  0.0 0.0 0
findKClosest  -100.0 -100.0  100.0 100.0  1  0.3 0.7  1  1  0.5 0.5 4
findKClosest  -100.0 -100.0  100.0 100.0  2  0.4 1.5  2  1  0.0 1.0 1  1  1.0 1.0 2
findKClosest  -100.0 -100.0  100.0 100.0  3  0.6 0.2  3  1  0.5 0.5 4  1  1.0 0.0 3  1  0.0 0.0 0
findKClosest  -100.0 -100.0  100.0 100.0  1  -1543.0 -1543.0  1  1  0.0 0.0 0
findKClosest  -5.0 0.2  5.0 1.2  1  0.0 0.0  1  1  0.5 0.5 4
findKClosest  -5.0 0.2  5.0 1.2  1  1.0 0.0  1  1  0.5 0.5 4
findKClosest  -5.0 0.2  5.0 1.2  2  0.6 0.0  2  1  0.5 0.5 4  1  1.0 1.0 2
findKClosest  -5.0 0.2  5.0 1.2  7  0.0 0.0  3  1  0.5 0.5 4  1  0.0 1.0 1  1  1.0 1.0 2
findKClosest   0.3 0.4  0.6 0.7  0  0.0 0.0  0
findKClosest   0.3 0.4  0.6 0.7  1  -100.0 -100.0  1  1  0.5 0.5 4
findKClosest   0.3 0.4  0.6 0.7  5  3.0 2.0  1  1  0.5 0.5 4


polylines_set  7  1  -3.0 0.0 -3  1  -2.0 0.0 -2  1  -1.0 0.0 -1  1  0.0 0.0 0  1  1.0 0.0 1  1  2.0 0.0 2  1  3.0 0.0 3
findKClosest  -100.0 -100.0  100.0 100.0  1  0.0 0.0  1  1  0.0 0.0 0
findKClosest  -100.0 -100.0  100.0 100.0  3  0.1 8.8  3  1  0.0 0.0 0  1  1.0 0.0 1  1  -1.0 0.0 -1
findKClosest  -100.0 -100.0  100.0 100.0  2  -43.0 -43.0  2  1  -3.0 0.0 -3  1  -2.0 0.0 -2
findKClosest  -100.0 -100.0  100.0 100.0  18  -1543.0 0.0  7  1 -3.0 0.0 -3  1  -2.0 0.0 -2  1  -1.0 0.0 -1  1  0.0 0.0 0  1  1.0 0.0 1  1  2.0 0.0 2  1  3.0 0.0 3
findKClosest  -100.0 -100.0  100.0 100.0  2  2.6 -4.0  2  1  3.0 0.0 3  1  2.0 0.0 2

// tests taken from segments closest to point and adjusted for polyline case
polylines_set  0
findKClosest -1000.0 -1000.0  1000.0 1000.0  3  0.0 0.0  0
findKClosest -1.0 -1.0  1.0 1.0  0  10.0 -10.0  0
findKClosest 10.0 10.0  300.0 20.0  7  5.0 -2.0  0

polylines_set 1  2  0.0 0.0  1.0 1.0  12
findKClosest -1000.0 -1000.0 1000.0 1000.0  0  0.0 0.0  0
findKClosest 0.0 0.0 1.0 1.0  5  0.0 0.0  1  2  0.0 0.0  1.0 1.0  12
findKClosest 0.0 0.6 0.5 1.0  5  0.0 0.0  1  2  0.0 0.0  1.0 1.0  12
findKClosest 2.0 2.0 3.0 3.0  1  0.0 0.0  0

polylines_set 2  2  0.0 0.0  1.0 -1.0  11   2  0.0 2.0  2.0 2.0  12
findKClosest -100.0 -100.0  100.0 100.0  0  0.0 0.0  0
findKClosest -100.0 -100.0  100.0 100.0  1  0.0 0.0  1  2  0.0 0.0  1.0 -1.0 11
findKClosest -100.0 -100.0  100.0 100.0  2  0.0 0.0  2  2  0.0 0.0  1.0 -1.0 11  2  0.0 2.0  2.0 2.0 12
findKClosest -100.0 -100.0  100.0 100.0  2  1.0 1.0  2  2  0.0 2.0  2.0 2.0 12  2  0.0 0.0  1.0 -1.0 11
findKClosest 0.0 -0.1  1.0 1.0  2  2.0 2.0  1  2  0.0 0.0  1.0 -1.0  11

polylines_set
5
2  -2.0 2.0  3.0 2.0  91
2  0.0 0.0  2.0 2.0  92
2  -1.0 1.0  2.0 0.0  93
2  1.0 -2.0  1.0 3.0  94
2  1.0 1.0  2.0 -1.0  95

findKClosest  -100.0 -100.0  100.0 100.0  5  0.0  0.0
5
2  0.0 0.0  2.0 2.0  92
2  -1.0 1.0  2.0 0.0  93
2  1.0 -2.0  1.0 3.0  94
2  1.0 1.0  2.0 -1.0  95
2  -2.0 2.0  3.0 2.0  91

findKClosest  -100.0 -100.0  100.0 100.0  5  3.0  3.0
5
2  -2.0 2.0  3.0 2.0  91
2  0.0 0.0  2.0 2.0  92
2  1.0 -2.0  1.0 3.0  94
2  1.0 1.0  2.0 -1.0  95
2  -1.0 1.0  2.0 0.0  93

findKClosest  -100.0 -100.0  100.0 100.0  3  2.0  1.0
3
2  0.0 0.0  2.0 2.0  92
2  1.0 1.0  2.0 -1.0  95
2  -1.0 1.0  2.0 0.0  93

findKClosest  -100.0 -100.0  100.0 100.0  2  -1.0  0.0
2
2  -1.0 1.0  2.0 0.0  93
2  0.0 0.0  2.0 2.0  92


findKClosest  0.0 0.0  1.1 1.0  5  2.0  1.0
4
2  0.0 0.0  2.0 2.0  92
2  1.0 1.0  2.0 -1.0  95
2  -1.0 1.0  2.0 0.0  93
2  1.0 -2.0  1.0 3.0  94

findKClosest  1.0 1.1  2.0 2.0  3  -1.0  3.0
3
2  -2.0 2.0  3.0 2.0  91
2  1.0 -2.0  1.0 3.0  94
2  0.0 0.0  2.0 2.0  92

polylines_set
3
2  0.0 0.0  1e9 1e9  21
2  -1e9 0.0  1e9 1.0  22
2  1.0 -1e8  0.0 1e8  23

findKClosest 0.0 0.0  1.0 1.0  3  1.0 1.0
3
2  0.0 0.0  1e9 1e9  21
2  -1e9 0.0  1e9 1.0  22
2  1.0 -1e8  0.0 1e8  23

findKClosest 1.0 1.0  1.0 1.0  3  1.0 1.0
3
2  0.0 0.0  1e9 1e9  21
2  -1e9 0.0  1e9 1.0  22
2  1.0 -1e8  0.0 1e8  23

findKClosest -1.0 -1.0  0.0 0.0  3  1.0 0.0
3
2  1.0 -1e8  0.0 1e8  23
2  -1e9 0.0  1e9 1.0  22
2  0.0 0.0  1e9 1e9  21

findKClosest 2.0 2.0  3.0 3.0  3  1.0 1.0
1
2  0.0 0.0  1e9 1e9  21

findKClosest -1.0 -1.0  0.0 0.0  2  0.0 1.0
2
2  1.0 -1e8  0.0 1e8  23
2  -1e9 0.0  1e9 1.0  22


// original polyline tests with not only two-points polylines
polylines_set
4
4  1.0 0.0  0.0 1.0  1.0 2.0  0.0 3.0  11
4  3.0 0.0  2.0 1.0  3.0 2.0  2.0 3.0  12
4  5.0 0.0  4.0 1.0  5.0 2.0  4.0 3.0  13
4  7.0 0.0  6.0 1.0  7.0 2.0  6.0 3.0  14

findKClosest  -100.0 -100.0  100.0 100.0  10  0.0 0.0
4
4  1.0 0.0  0.0 1.0  1.0 2.0  0.0 3.0  11
4  3.0 0.0  2.0 1.0  3.0 2.0  2.0 3.0  12
4  5.0 0.0  4.0 1.0  5.0 2.0  4.0 3.0  13
4  7.0 0.0  6.0 1.0  7.0 2.0  6.0 3.0  14

findKClosest  -100.0 -100.0  100.0 100.0  5  3.0 1.0
4
4  3.0 0.0  2.0 1.0  3.0 2.0  2.0 3.0  12
4  5.0 0.0  4.0 1.0  5.0 2.0  4.0 3.0  13
4  1.0 0.0  0.0 1.0  1.0 2.0  0.0 3.0  11
4  7.0 0.0  6.0 1.0  7.0 2.0  6.0 3.0  14

findKClosest  -100.0 -100.0  100.0 100.0  3  1543.0 43.0
3
4  7.0 0.0  6.0 1.0  7.0 2.0  6.0 3.0  14
4  5.0 0.0  4.0 1.0  5.0 2.0  4.0 3.0  13
4  3.0 0.0  2.0 1.0  3.0 2.0  2.0 3.0  12

findKClosest  -1.0 -1.0  3.0 8.0  4  43.0 0.0
2
4  3.0 0.0  2.0 1.0  3.0 2.0  2.0 3.0  12
4  1.0 0.0  0.0 1.0  1.0 2.0  0.0 3.0  11

findKClosest  -2.0 5.0  8.0 6.0  8  2.0 2.0
0

findKClosest  7.5 -4.0  100.0 10.0  6  0.0 1.0
0


polylines_set
5
3  -1.0 0.0  -1.0 1.0  0.0 2.0  11
3  +1.0 0.0  +1.0 1.0  0.0 2.0  12
2  -2.0 -1.0  2.0 -1.0  13
3  -1.0 -2.0  0.0 -1.0  1.0 -2.0  14
1  0.0 0.0  15

findKClosest -100.0 -100.0  100.0 100.0  27  1.0 2.0
5
3  +1.0 0.0  +1.0 1.0  0.0 2.0  12
3  -1.0 0.0  -1.0 1.0  0.0 2.0  11
1  0.0 0.0  15
2  -2.0 -1.0  2.0 -1.0  13
3  -1.0 -2.0  0.0 -1.0  1.0 -2.0  14

findKClosest -100.0 -100.0  100.0 100.0  4  2.0 -4.0
4
3  -1.0 -2.0  0.0 -1.0  1.0 -2.0  14
2  -2.0 -1.0  2.0 -1.0  13
3  +1.0 0.0  +1.0 1.0  0.0 2.0  12
1  0.0 0.0  15

findKClosest  -1.0 -5.0  -0.5 5.0  10  -1.0 -0.2
3
3  -1.0 0.0  -1.0 1.0  0.0 2.0  11
2  -2.0 -1.0  2.0 -1.0  13
3  -1.0 -2.0  0.0 -1.0  1.0 -2.0  14

findKClosest -8.0 -0.4  5.0 -0.2  6  0.0 0.0
0