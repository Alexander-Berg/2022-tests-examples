<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>shape.Rectangle</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!-- YUI -->
    <script type="text/javascript" src="../../../test/yui3combo/combo.js"></script>
    <link rel="stylesheet" href="../../../test/yui3combo/combo.css" />
    <script type="text/javascript" src="../../../test/run-test-case.js"></script>
    <!-- Code -->
    <script type="text/javascript">
        initAPI({
            lang: "ru-RU",
            ns: "ym",
            load: "geometry.pixel.Rectangle,shape.Rectangle",
            mode: "debug"
        });
    </script>

</head>
<body class="yui3-skin-sam">
<script type="text/javascript">
    function getTestCase(Y) {
        return {
            name: "shape.Rectangle",
                        
            testRectangle: function() {
                var coords = [[2, 2], [100, 100]],
                    pixelRectangle = new ym.geometry.pixel.Rectangle(coords),
                    rectangle = new ym.shape.Rectangle(pixelRectangle),
                    bounds = rectangle.getBounds(),
                    pointIn = [40, 40],
                    pointOut = [0, 0],
                    pointBounds = [2, 2];
                
                Y.assert(bounds[0][0] == coords[0][0] &&
                    bounds[0][1] == coords[0][1] &&
                    bounds[1][0] == coords[1][0] &&
                    bounds[1][1] == coords[1][1], "Неверно определяются границы прямоугольной геометрии.");
                
                Y.assert(rectangle.contains(pointIn), "Неверно опеределилось положение точки, лежащей внутри прямоугольника.");
                Y.assert(!rectangle.contains(pointOut), "Неверно определилось положение точки, лежащей вне прямоугольника.");
                Y.assert(rectangle.contains(pointBounds), "Неверно опеределилось положение точки, лежащей на границе прямоугольника.");
            },
            
            testRectangleStroke: function() {
                var coords = [[2, 2], [98, 98]],
                    pixelRectangle = new ym.geometry.pixel.Rectangle(coords),
                    rectangle = new ym.shape.Rectangle(pixelRectangle, {strokeWidth: 4, fill: false}),
                    bounds = rectangle.getBounds(),
                    pointIn = [98, 98],
                    pointOut = [101, 101],
                    pointBounds = [96, 96],
                    realBounds = [[0, 0], [100, 100]];

                Y.assert(bounds[0][0] == realBounds[0][0] &&
                    bounds[0][1] == realBounds[0][1] &&
                    bounds[1][0] == realBounds[1][0] &&
                    bounds[1][1] == realBounds[1][1], "Неверно определяются границы прямоугольной геометрии.");
                
                Y.assert(rectangle.contains(pointIn), "Неверно опеределилось положение точки, лежащей внутри прямоугольника.");
                Y.assert(!rectangle.contains(pointOut), "Неверно определилось положение точки, лежащей вне прямоугольника.");
                Y.assert(rectangle.contains(pointBounds), "Неверно опеределилось положение точки, лежащей на границе прямоугольника.");
            }
        }
    }

    ym.ready(runTestCase);
</script>
</body>
</html>
