ymaps.modules.define(util.testfile(), [
    'util.base64'
], function (provide, base64) {

    describe('util.base64', function () {

        var dataDecoded = '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="34px" height="41px" viewBox="0 0 34 41" xml:space="preserve"><style>.white_opacity{fill:#fff;fill-opacity: 0.8;}.custom_color_solid{fill:#{% color %};}.white_solid{fill:#fff;}.black_solid_start,.black_solid_finish{stop-color:#000;}.black_solid_finish{stop-opacity: 0;}.shadow{opacity: 0.5;}</style><g><linearGradient id="shadow-gradient2" gradientUnits="userSpaceOnUse" x1="-440.9565" y1="71.6738" x2="-440.0565" y2="70.8738" gradientTransform="matrix(21.2161 0 0 21.7879 9368.4883 -1524.5322)"><stop offset="0" class="black_solid_start"/><stop offset="1" class="black_solid_finish"/></linearGradient><path class="shadow" fill="url(#shadow-gradient2)" d="M12.719,39.7c4.711-2.395,17.818-11.518,18.304-11.979c0.553-0.521,1.062-1.062,1.49-1.619 c3-4,1.12-7.621-4.431-8.03c-0.478-0.036-1.067-0.107-1.681-0.161c-0.959,3.427-3.222,7.604-6.433,12.329 c-1.471,2.166-3.044,4.299-4.615,6.3c-0.551,0.705-1.062,1.344-1.521,1.905c-0.246,0.302-0.432,0.524-0.547,0.662 c-0.118,0.153-0.27,0.321-0.467,0.5C12.787,39.6,12.8,39.6,12.7,39.666h0.019V39.7z"/><path class="white_opacity" d="M0,13.5C0,6,6,0,13.5,0S27,6,27,13.5c0,0.782-0.066,1.557-0.198,2.317l0.013,0.166l-0.037,0.229 c-0.596,3.702-3.053,8.472-6.803,14c-1.472,2.166-3.045,4.299-4.617,6.31c-0.549,0.705-1.061,1.344-1.521,1.905 c-0.246,0.302-0.433,0.524-0.547,0.7c-0.118,0.153-0.271,0.321-0.468,0.495c-0.223,0.195-0.463,0.361-0.727,0.482 c-0.406,0.187-0.865,0.264-1.4,0.2c-0.116-0.022-0.148-0.028-0.217-0.049c-0.863-0.226-1.463-0.881-1.66-1.68 c-0.106-0.434-0.088-0.814-0.006-1.182c0.017-0.07,0.032-0.135,0.051-0.193l2.77-10.258C5.059,26,0,20.3,0,13.5L0,13.5z"/><path class="custom_color_solid" d="M2,13.5C2,7.1,7.1,2,13.5,2S25,7.1,25,13.5c0,0.768-0.075,1.517-0.219,2.2c0.01,0,0,0.1,0,0.151 c-1.284,8.002-13.083,21.948-13.083,21.948s-0.375,0.523-0.732,0.4c-0.367-0.094-0.204-0.562-0.204-0.562l3.432-12.709 C13.977,25,13.7,25,13.5,25C7.148,25,2,19.9,2,13.5L2,13.5z"/><circle class="white_solid" cx="13.5" cy="13.5" r="8.5"/></g></svg>';
        var dataEncoded = 'PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIzNHB4IiBoZWlnaHQ9IjQxcHgiIHZpZXdCb3g9IjAgMCAzNCA0MSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlPi53aGl0ZV9vcGFjaXR5e2ZpbGw6I2ZmZjtmaWxsLW9wYWNpdHk6IDAuODt9LmN1c3RvbV9jb2xvcl9zb2xpZHtmaWxsOiN7JSBjb2xvciAlfTt9LndoaXRlX3NvbGlke2ZpbGw6I2ZmZjt9LmJsYWNrX3NvbGlkX3N0YXJ0LC5ibGFja19zb2xpZF9maW5pc2h7c3RvcC1jb2xvcjojMDAwO30uYmxhY2tfc29saWRfZmluaXNoe3N0b3Atb3BhY2l0eTogMDt9LnNoYWRvd3tvcGFjaXR5OiAwLjU7fTwvc3R5bGU+PGc+PGxpbmVhckdyYWRpZW50IGlkPSJzaGFkb3ctZ3JhZGllbnQyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9Ii00NDAuOTU2NSIgeTE9IjcxLjY3MzgiIHgyPSItNDQwLjA1NjUiIHkyPSI3MC44NzM4IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDIxLjIxNjEgMCAwIDIxLjc4NzkgOTM2OC40ODgzIC0xNTI0LjUzMjIpIj48c3RvcCBvZmZzZXQ9IjAiIGNsYXNzPSJibGFja19zb2xpZF9zdGFydCIvPjxzdG9wIG9mZnNldD0iMSIgY2xhc3M9ImJsYWNrX3NvbGlkX2ZpbmlzaCIvPjwvbGluZWFyR3JhZGllbnQ+PHBhdGggY2xhc3M9InNoYWRvdyIgZmlsbD0idXJsKCNzaGFkb3ctZ3JhZGllbnQyKSIgZD0iTTEyLjcxOSwzOS43YzQuNzExLTIuMzk1LDE3LjgxOC0xMS41MTgsMTguMzA0LTExLjk3OWMwLjU1My0wLjUyMSwxLjA2Mi0xLjA2MiwxLjQ5LTEuNjE5IGMzLTQsMS4xMi03LjYyMS00LjQzMS04LjAzYy0wLjQ3OC0wLjAzNi0xLjA2Ny0wLjEwNy0xLjY4MS0wLjE2MWMtMC45NTksMy40MjctMy4yMjIsNy42MDQtNi40MzMsMTIuMzI5IGMtMS40NzEsMi4xNjYtMy4wNDQsNC4yOTktNC42MTUsNi4zYy0wLjU1MSwwLjcwNS0xLjA2MiwxLjM0NC0xLjUyMSwxLjkwNWMtMC4yNDYsMC4zMDItMC40MzIsMC41MjQtMC41NDcsMC42NjIgYy0wLjExOCwwLjE1My0wLjI3LDAuMzIxLTAuNDY3LDAuNUMxMi43ODcsMzkuNiwxMi44LDM5LjYsMTIuNywzOS42NjZoMC4wMTlWMzkuN3oiLz48cGF0aCBjbGFzcz0id2hpdGVfb3BhY2l0eSIgZD0iTTAsMTMuNUMwLDYsNiwwLDEzLjUsMFMyNyw2LDI3LDEzLjVjMCwwLjc4Mi0wLjA2NiwxLjU1Ny0wLjE5OCwyLjMxN2wwLjAxMywwLjE2NmwtMC4wMzcsMC4yMjkgYy0wLjU5NiwzLjcwMi0zLjA1Myw4LjQ3Mi02LjgwMywxNGMtMS40NzIsMi4xNjYtMy4wNDUsNC4yOTktNC42MTcsNi4zMWMtMC41NDksMC43MDUtMS4wNjEsMS4zNDQtMS41MjEsMS45MDUgYy0wLjI0NiwwLjMwMi0wLjQzMywwLjUyNC0wLjU0NywwLjdjLTAuMTE4LDAuMTUzLTAuMjcxLDAuMzIxLTAuNDY4LDAuNDk1Yy0wLjIyMywwLjE5NS0wLjQ2MywwLjM2MS0wLjcyNywwLjQ4MiBjLTAuNDA2LDAuMTg3LTAuODY1LDAuMjY0LTEuNCwwLjJjLTAuMTE2LTAuMDIyLTAuMTQ4LTAuMDI4LTAuMjE3LTAuMDQ5Yy0wLjg2My0wLjIyNi0xLjQ2My0wLjg4MS0xLjY2LTEuNjggYy0wLjEwNi0wLjQzNC0wLjA4OC0wLjgxNC0wLjAwNi0xLjE4MmMwLjAxNy0wLjA3LDAuMDMyLTAuMTM1LDAuMDUxLTAuMTkzbDIuNzctMTAuMjU4QzUuMDU5LDI2LDAsMjAuMywwLDEzLjVMMCwxMy41eiIvPjxwYXRoIGNsYXNzPSJjdXN0b21fY29sb3Jfc29saWQiIGQ9Ik0yLDEzLjVDMiw3LjEsNy4xLDIsMTMuNSwyUzI1LDcuMSwyNSwxMy41YzAsMC43NjgtMC4wNzUsMS41MTctMC4yMTksMi4yYzAuMDEsMCwwLDAuMSwwLDAuMTUxIGMtMS4yODQsOC4wMDItMTMuMDgzLDIxLjk0OC0xMy4wODMsMjEuOTQ4cy0wLjM3NSwwLjUyMy0wLjczMiwwLjRjLTAuMzY3LTAuMDk0LTAuMjA0LTAuNTYyLTAuMjA0LTAuNTYybDMuNDMyLTEyLjcwOSBDMTMuOTc3LDI1LDEzLjcsMjUsMTMuNSwyNUM3LjE0OCwyNSwyLDE5LjksMiwxMy41TDIsMTMuNXoiLz48Y2lyY2xlIGNsYXNzPSJ3aGl0ZV9zb2xpZCIgY3g9IjEzLjUiIGN5PSIxMy41IiByPSI4LjUiLz48L2c+PC9zdmc+'; 

        it('Правильно кодирует данные', function () {
            expect(base64.encode(dataDecoded)).to.be(dataEncoded);            
        });
        
        it('Правильно декодирует данные', function () {
            expect(base64.decode(dataEncoded)).to.be(dataDecoded);
        });

    });

    provide();

});
