ymaps.modules.define(util.testfile(), [
    'yandex.searchToGeocodeConverter',
    'geoXml.parser.ymapsml.geoObjects'
], function (provide, converter, geoObjects) {

    describe('yandex.searchToGeocodeConverter', function () {
        var testData = [
            {
                name: "Ленинский",
                search: {"status":"success","data":{"type":"FeatureCollection","properties":{"Attribution":"","ResponseMetaData":{"SearchRequest":{"request":"Ленинский","results":10,"skip":0,"boundedBy":[[37.048426749999997,55.436448290000001],[38.175902260000001,56.046901239999997]]},"SearchResponse":{"found":211,"Point":{"type":"Point","coordinates":[36.036735090000001,45.242888579999999]},"boundedBy":[[35.320993399999999,44.818924000000003],[36.752476780000002,45.663691980000003]],"display":"single","context":"BQAAAAAAAAAAAACQdkAAAAAAAKBmQAAAAAAAAPC\/AAAAAAAA8L8AAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAQ=="}}},"features":[{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"area","text":"Россия, Республика Крым, Ленинский район","precision":"other", "AddressDetails":{"Country":{"AddressLine":"Республика Крым, Ленинский район","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Республика Крым","SubAdministrativeArea":{"SubAdministrativeAreaName":"Ленинский район"}}}}},"description":"Республика Крым, Россия","name":"Ленинский район","boundedBy":[[35.320993000000001,44.818917999999996],[36.752468,45.663691999999998]]},"geometry":{"type":"Point","coordinates":[36.038127000000003,45.264975]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Санкт-Петербург, Ленинский проспект","precision":"street"},"Stops":{"items":[{"name":"Проспект Ветеранов","Distance":{"value":1165.1500000000001,"text":"1,2 км"},"Style":{"color":"#cc0000"},"Point":{"type":"Point","coordinates":[30.250499999999999,59.842199999999998]}},{"name":"Ленинский Проспект","Distance":{"value":1437.1500000000001,"text":"1,4 км"},"Style":{"color":"#cc0000"},"Point":{"type":"Point","coordinates":[30.268599999999999,59.851799999999997]}},{"name":"Автово","Distance":{"value":1991.8199999999999,"text":"2 км"},"Style":{"color":"#cc0000"},"Point":{"type":"Point","coordinates":[30.261500000000002,59.867199999999997]}}]},"description":"Санкт-Петербург, Россия","name":"Ленинский проспект","boundedBy":[[30.164304000000001,59.851728999999999],[30.321635000000001,59.864851000000002]]},"geometry":{"type":"Point","coordinates":[30.242961000000001,59.851945999999998]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Москва, Ленинский проспект","precision":"street"},"description":"Москва, Россия","name":"Ленинский проспект","boundedBy":[[37.459603999999999,55.638916999999999],[37.611832,55.728757999999999]]},"geometry":{"type":"Point","coordinates":[37.536724,55.682346000000003]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Украина, Донецк, Ленинский проспект","precision":"street"},"description":"Донецк, Украина","name":"Ленинский проспект","boundedBy":[[37.769072999999999,47.944400000000002],[37.793264999999998,47.990051000000001]]},"geometry":{"type":"Point","coordinates":[37.773834000000001,47.963963]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Воронеж, Ленинский проспект","precision":"street"},"description":"Воронеж, Россия","name":"Ленинский проспект","boundedBy":[[39.230974000000003,51.630628999999999],[39.276842000000002,51.708098999999997]]},"geometry":{"type":"Point","coordinates":[39.251742999999998,51.670516999999997]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Республика Марий Эл, Йошкар-Ола, Ленинский проспект","precision":"street"},"description":"Йошкар-Ола, Республика Марий Эл, Россия","name":"Ленинский проспект","boundedBy":[[47.870961000000001,56.623914999999997],[47.932153999999997,56.638728999999998]]},"geometry":{"type":"Point","coordinates":[47.900803000000003,56.628025000000001]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Самарская область, Тольятти, Ленинский проспект","precision":"street"},"description":"Тольятти, Самарская область, Россия","name":"Ленинский проспект","boundedBy":[[49.259881999999998,53.516970999999998],[49.309092,53.521858999999999]]},"geometry":{"type":"Point","coordinates":[49.284495999999997,53.519545999999998]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Московская область, Химки, Ленинский проспект","precision":"street"},"description":"Химки, Московская область, Россия","name":"Ленинский проспект","boundedBy":[[37.452705000000002,55.894933999999999],[37.474102000000002,55.913848000000002]]},"geometry":{"type":"Point","coordinates":[37.465209000000002,55.903585]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Калининград, Ленинский проспект","precision":"street"},"description":"Калининград, Россия","name":"Ленинский проспект","boundedBy":[[20.500031,54.694825999999999],[20.509274999999999,54.719881999999998]]},"geometry":{"type":"Point","coordinates":[20.506686999999999,54.70635]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"area","text":"Россия, Московская область, Ленинский район","precision":"other"},"description":"Московская область, Россия","name":"Ленинский район","boundedBy":[[37.57846,55.484433000000003],[37.965848999999999,55.6233]]},"geometry":{"type":"Point","coordinates":[37.771571000000002,55.547657000000001]}}]}},
                geocode: {"Attribution":"","GeoObjectCollection":{"metaDataProperty":{"GeocoderResponseMetaData":{"request":"Ленинский","found":"211","results":"10"}},"featureMember":[{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"area","text":"Россия, Республика Крым, Ленинский район","precision":"other","AddressDetails":{"Country":{"AddressLine":"Республика Крым, Ленинский район","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Республика Крым","SubAdministrativeArea":{"SubAdministrativeAreaName":"Ленинский район"}}}}}},"description":"Республика Крым, Россия","name":"Ленинский район","boundedBy":{"Envelope":{"lowerCorner":"35.320993 44.818918","upperCorner":"36.752468 45.663692"}},"Point":{"pos":"36.038127 45.264975"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Санкт-Петербург, Ленинский проспект","precision":"street","AddressDetails":{"Country":{"AddressLine":"Санкт-Петербург, Ленинский проспект","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Северо-Западный федеральный округ","SubAdministrativeArea":{"SubAdministrativeAreaName":"Санкт-Петербург","Locality":{"LocalityName":"Санкт-Петербург","Thoroughfare":{"ThoroughfareName":"Ленинский проспект"}}}}}}}},"description":"Санкт-Петербург, Россия","name":"Ленинский проспект","boundedBy":{"Envelope":{"lowerCorner":"30.164304 59.851729","upperCorner":"30.321635 59.864851"}},"Point":{"pos":"30.242961 59.851946"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Москва, Ленинский проспект","precision":"street","AddressDetails":{"Country":{"AddressLine":"Москва, Ленинский проспект","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Центральный федеральный округ","SubAdministrativeArea":{"SubAdministrativeAreaName":"Москва","Locality":{"LocalityName":"Москва","Thoroughfare":{"ThoroughfareName":"Ленинский проспект"}}}}}}}},"description":"Москва, Россия","name":"Ленинский проспект","boundedBy":{"Envelope":{"lowerCorner":"37.459604 55.638917","upperCorner":"37.611832 55.728758"}},"Point":{"pos":"37.536724 55.682346"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Украина, Донецк, Ленинский проспект","precision":"street","AddressDetails":{"Country":{"AddressLine":"Донецк, Ленинский проспект","CountryNameCode":"UA","CountryName":"Украина","AdministrativeArea":{"AdministrativeAreaName":"Донецкая область","SubAdministrativeArea":{"SubAdministrativeAreaName":"Донецкий городской совет","Locality":{"LocalityName":"Донецк","Thoroughfare":{"ThoroughfareName":"Ленинский проспект"}}}}}}}},"description":"Донецк, Украина","name":"Ленинский проспект","boundedBy":{"Envelope":{"lowerCorner":"37.769073 47.9444","upperCorner":"37.793265 47.990051"}},"Point":{"pos":"37.773834 47.963963"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Воронеж, Ленинский проспект","precision":"street","AddressDetails":{"Country":{"AddressLine":"Воронеж, Ленинский проспект","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Воронежская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Воронеж","Locality":{"LocalityName":"Воронеж","Thoroughfare":{"ThoroughfareName":"Ленинский проспект"}}}}}}}},"description":"Воронеж, Россия","name":"Ленинский проспект","boundedBy":{"Envelope":{"lowerCorner":"39.230974 51.630629","upperCorner":"39.276842 51.708099"}},"Point":{"pos":"39.251743 51.670517"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Республика Марий Эл, Йошкар-Ола, Ленинский проспект","precision":"street","AddressDetails":{"Country":{"AddressLine":"Республика Марий Эл, Йошкар-Ола, Ленинский проспект","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Республика Марий Эл","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Йошкар-Ола","Locality":{"LocalityName":"Йошкар-Ола","Thoroughfare":{"ThoroughfareName":"Ленинский проспект"}}}}}}}},"description":"Йошкар-Ола, Республика Марий Эл, Россия","name":"Ленинский проспект","boundedBy":{"Envelope":{"lowerCorner":"47.870961 56.623915","upperCorner":"47.932154 56.638729"}},"Point":{"pos":"47.900803 56.628025"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Самарская область, Тольятти, Ленинский проспект","precision":"street","AddressDetails":{"Country":{"AddressLine":"Самарская область, Тольятти, Ленинский проспект","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Самарская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Тольятти","Locality":{"LocalityName":"Тольятти","Thoroughfare":{"ThoroughfareName":"Ленинский проспект"}}}}}}}},"description":"Тольятти, Самарская область, Россия","name":"Ленинский проспект","boundedBy":{"Envelope":{"lowerCorner":"49.259882 53.516971","upperCorner":"49.309092 53.521859"}},"Point":{"pos":"49.284496 53.519546"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Московская область, Химки, Ленинский проспект","precision":"street","AddressDetails":{"Country":{"AddressLine":"Московская область, Химки, Ленинский проспект","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Московская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Химки","Locality":{"LocalityName":"Химки","Thoroughfare":{"ThoroughfareName":"Ленинский проспект"}}}}}}}},"description":"Химки, Московская область, Россия","name":"Ленинский проспект","boundedBy":{"Envelope":{"lowerCorner":"37.452705 55.894934","upperCorner":"37.474102 55.913848"}},"Point":{"pos":"37.465209 55.903585"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Калининград, Ленинский проспект","precision":"street","AddressDetails":{"Country":{"AddressLine":"Калининград, Ленинский проспект","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Калининградская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Калининград","Locality":{"LocalityName":"Калининград","Thoroughfare":{"ThoroughfareName":"Ленинский проспект"}}}}}}}},"description":"Калининград, Россия","name":"Ленинский проспект","boundedBy":{"Envelope":{"lowerCorner":"20.500031 54.694826","upperCorner":"20.509275 54.719882"}},"Point":{"pos":"20.506687 54.706350"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"area","text":"Россия, Московская область, Ленинский район","precision":"other","AddressDetails":{"Country":{"AddressLine":"Московская область, Ленинский район","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Московская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"Ленинский район"}}}}}},"description":"Московская область, Россия","name":"Ленинский район","boundedBy":{"Envelope":{"lowerCorner":"37.57846 55.484433","upperCorner":"37.965849 55.6233"}},"Point":{"pos":"37.771571 55.547657"}}}]}}
            }, {
                name: 'Москва',
                search: {"status":"success","data":{"type":"FeatureCollection","properties":{"Attribution":"","ResponseMetaData":{"SearchRequest":{"request":"Москва","results":10,"skip":0,"boundedBy":[[37.048426749999997,55.436448290000001],[38.175902260000001,56.046901239999997]]},"SearchResponse":{"found":30,"Point":{"type":"Point","coordinates":[37.64696524,55.725047140000001]},"boundedBy":[[37.326248710000002,55.491130640000002],[37.967681759999998,55.957564789999999]],"display":"single","context":"BQAAAAAAAAAAAACQdkAAAAAAAKBmQAAAAAAAAPC\/AAAAAAAA8L8AAAAAyAAAAAAAAAAAAAAAAAAAAAAAAAAAAQ=="}}},"features":[{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"locality","text":"Россия, Москва","precision":"other"},"description":"Россия","name":"Москва","boundedBy":[[37.326239999999999,55.491126000000001],[37.967682000000003,55.957565000000002]]},"geometry":{"type":"Point","coordinates":[37.619898999999997,55.753675999999999]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"hydro","text":"Россия, река Москва","precision":"other"},"description":"Россия","name":"река Москва","boundedBy":[[35.27093,55.073808999999997],[38.847968000000002,55.830219999999997]]},"geometry":{"type":"Point","coordinates":[37.049280000000003,55.709448999999999]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"hydro","text":"Польша, Великопольское воеводство, Москва","precision":"other"},"description":"Великопольское воеводство, Польша","name":"Москва","boundedBy":[[17.043465999999999,52.103270000000002],[17.386434000000001,52.320926]]},"geometry":{"type":"Point","coordinates":[17.286694000000001,52.168989000000003]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Липецкая область, Липецкий район, село Подгорное, улица Москва","precision":"street"},"description":"село Подгорное, Липецкий район, Липецкая область, Россия","name":"улица Москва","boundedBy":[[39.499175000000001,52.539358],[39.513807999999997,52.544697999999997]]},"geometry":{"type":"Point","coordinates":[39.506270999999998,52.541553999999998]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"locality","text":"Россия, Кировская область, Верхошижемский район, деревня Москва","precision":"other"},"description":"Верхошижемский район, Кировская область, Россия","name":"деревня Москва","boundedBy":[[49.105426000000001,57.963808],[49.109234999999998,57.969222000000002]]},"geometry":{"type":"Point","coordinates":[49.107419999999998,57.966448]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"locality","text":"Россия, Тверская область, Пеновский район, деревня Москва","precision":"other"},"description":"Пеновский район, Тверская область, Россия","name":"деревня Москва","boundedBy":[[32.158070000000002,56.914822000000001],[32.171554,56.918982999999997]]},"geometry":{"type":"Point","coordinates":[32.164816999999999,56.916350000000001]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"hydro","text":"Россия, Омская область, Седельниковский район, река Москва","precision":"other"},"description":"Седельниковский район, Омская область, Россия","name":"река Москва","boundedBy":[[75.885605999999996,56.781084],[75.920486999999994,56.799340000000001]]},"geometry":{"type":"Point","coordinates":[75.897570999999999,56.784022999999998]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"hydro","text":"Россия, Тюменская область, Сладковский район, болото Москва","precision":"other"},"description":"Сладковский район, Тюменская область, Россия","name":"болото Москва","boundedBy":[[70.067712,55.611134],[70.079210000000003,55.618150999999997]]},"geometry":{"type":"Point","coordinates":[70.073766000000006,55.614550999999999]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"hydro","text":"Россия, Пермский край, Добрянский район, река Москва","precision":"other"},"description":"Добрянский район, Пермский край, Россия","name":"река Москва","boundedBy":[[56.726247999999998,58.540182999999999],[56.765351000000003,58.566001999999997]]},"geometry":{"type":"Point","coordinates":[56.759126000000002,58.563223999999998]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"metro","text":"Казахстан, Алматы, Первая линия, метро Москва","precision":"other"},"Stops":{"items":[{"name":"Алатау","Distance":{"value":2568.2800000000002,"text":"2,6 км"},"Style":{"color":"#003399"},"Point":{"type":"Point","coordinates":[76.897311000000002,43.238635000000002]}},{"name":"Драмтеатр имени Ауэзова","Distance":{"value":4172.3100000000004,"text":"4,2 км"},"Style":{"color":"#003399"},"Point":{"type":"Point","coordinates":[76.917154999999994,43.240616000000003]}},{"name":"Байконур","Distance":{"value":4991.8699999999999,"text":"5 км"},"Style":{"color":"#003399"},"Point":{"type":"Point","coordinates":[76.927420999999995,43.241028999999997]}}]},"description":"Первая линия, Алматы, Казахстан","name":"метро Москва","boundedBy":[[76.859380000000002,43.224696000000002],[76.875837000000004,43.236730000000001]]},"geometry":{"type":"Point","coordinates":[76.867608000000004,43.230713000000002]}}]}},
                geocode: {"Attribution":"","GeoObjectCollection":{"metaDataProperty":{"GeocoderResponseMetaData":{"request":"Москва","found":"30","results":"10"}},"featureMember":[{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"locality","text":"Россия, Москва","precision":"other","AddressDetails":{"Country":{"AddressLine":"Москва","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Центральный федеральный округ","SubAdministrativeArea":{"SubAdministrativeAreaName":"Москва","Locality":{"LocalityName":"Москва"}}}}}}},"description":"Россия","name":"Москва","boundedBy":{"Envelope":{"lowerCorner":"37.32624 55.491126","upperCorner":"37.967682 55.957565"}},"Point":{"pos":"37.619899 55.753676"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"hydro","text":"Россия, река Москва","precision":"other","AddressDetails":{"Country":{"AddressLine":"река Москва","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Центральный федеральный округ","Locality":{"Premise":{"PremiseName":"река Москва"}}}}}}},"description":"Россия","name":"река Москва","boundedBy":{"Envelope":{"lowerCorner":"35.27093 55.073809","upperCorner":"38.847968 55.83022"}},"Point":{"pos":"37.049280 55.709449"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"hydro","text":"Польша, Великопольское воеводство, Москва","precision":"other","AddressDetails":{"Country":{"AddressLine":"Великопольское воеводство, Москва","CountryNameCode":"PL","CountryName":"Польша","AdministrativeArea":{"AdministrativeAreaName":"Великопольское воеводство","Locality":{"Premise":{"PremiseName":"Москва"}}}}}}},"description":"Великопольское воеводство, Польша","name":"Москва","boundedBy":{"Envelope":{"lowerCorner":"17.043466 52.10327","upperCorner":"17.386434 52.320926"}},"Point":{"pos":"17.286694 52.168989"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Липецкая область, Липецкий район, село Подгорное, улица Москва","precision":"street","AddressDetails":{"Country":{"AddressLine":"Липецкая область, Липецкий район, село Подгорное, улица Москва","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Липецкая область","SubAdministrativeArea":{"SubAdministrativeAreaName":"Липецкий район","Locality":{"LocalityName":"село Подгорное","Thoroughfare":{"ThoroughfareName":"улица Москва"}}}}}}}},"description":"село Подгорное, Липецкий район, Липецкая область, Россия","name":"улица Москва","boundedBy":{"Envelope":{"lowerCorner":"39.499175 52.539358","upperCorner":"39.513808 52.544698"}},"Point":{"pos":"39.506271 52.541554"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"locality","text":"Россия, Кировская область, Верхошижемский район, деревня Москва","precision":"other","AddressDetails":{"Country":{"AddressLine":"Кировская область, Верхошижемский район, деревня Москва","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Кировская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"Верхошижемский район","Locality":{"LocalityName":"деревня Москва"}}}}}}},"description":"Верхошижемский район, Кировская область, Россия","name":"деревня Москва","boundedBy":{"Envelope":{"lowerCorner":"49.105426 57.963808","upperCorner":"49.109235 57.969222"}},"Point":{"pos":"49.107420 57.966448"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"locality","text":"Россия, Тверская область, Пеновский район, деревня Москва","precision":"other","AddressDetails":{"Country":{"AddressLine":"Тверская область, Пеновский район, деревня Москва","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Тверская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"Пеновский район","Locality":{"LocalityName":"деревня Москва"}}}}}}},"description":"Пеновский район, Тверская область, Россия","name":"деревня Москва","boundedBy":{"Envelope":{"lowerCorner":"32.15807 56.914822","upperCorner":"32.171554 56.918983"}},"Point":{"pos":"32.164817 56.916350"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"hydro","text":"Россия, Омская область, Седельниковский район, река Москва","precision":"other","AddressDetails":{"Country":{"AddressLine":"Омская область, Седельниковский район, река Москва","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Омская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"Седельниковский район","Locality":{"Premise":{"PremiseName":"река Москва"}}}}}}}},"description":"Седельниковский район, Омская область, Россия","name":"река Москва","boundedBy":{"Envelope":{"lowerCorner":"75.885606 56.781084","upperCorner":"75.920487 56.79934"}},"Point":{"pos":"75.897571 56.784023"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"hydro","text":"Россия, Тюменская область, Сладковский район, болото Москва","precision":"other","AddressDetails":{"Country":{"AddressLine":"Тюменская область, Сладковский район, болото Москва","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Тюменская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"Сладковский район","Locality":{"Premise":{"PremiseName":"болото Москва"}}}}}}}},"description":"Сладковский район, Тюменская область, Россия","name":"болото Москва","boundedBy":{"Envelope":{"lowerCorner":"70.067712 55.611134","upperCorner":"70.07921 55.618151"}},"Point":{"pos":"70.073766 55.614551"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"hydro","text":"Россия, Пермский край, Добрянский район, река Москва","precision":"other","AddressDetails":{"Country":{"AddressLine":"Пермский край, Добрянский район, река Москва","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Пермский край","SubAdministrativeArea":{"SubAdministrativeAreaName":"Добрянский район","Locality":{"Premise":{"PremiseName":"река Москва"}}}}}}}},"description":"Добрянский район, Пермский край, Россия","name":"река Москва","boundedBy":{"Envelope":{"lowerCorner":"56.726248 58.540183","upperCorner":"56.765351 58.566002"}},"Point":{"pos":"56.759126 58.563224"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"metro","text":"Казахстан, Алматы, Первая линия, метро Москва","precision":"other","AddressDetails":{"Country":{"AddressLine":"Алматы, Первая линия, метро Москва","CountryNameCode":"KZ","CountryName":"Казахстан","AdministrativeArea":{"AdministrativeAreaName":"Алматы","Locality":{"LocalityName":"Алматы","Thoroughfare":{"ThoroughfareName":"Первая линия","Premise":{"PremiseName":"метро Москва"}}}}}}}},"description":"Первая линия, Алматы, Казахстан","name":"метро Москва","boundedBy":{"Envelope":{"lowerCorner":"76.85938 43.224696","upperCorner":"76.875837 43.23673"}},"Point":{"pos":"76.867608 43.230713"}}}]}}
            }, {
                name: 'Набережная',
                search: {"status":"success","data":{"type":"FeatureCollection","properties":{"Attribution":"","ResponseMetaData":{"SearchRequest":{"request":"Набережная","results":10,"skip":0,"boundedBy":[[37.048426749999997,55.436448290000001],[38.175902260000001,56.046901239999997]]},"SearchResponse":{"found":752,"Point":{"type":"Point","coordinates":[46.293672049999998,60.75576744]},"boundedBy":[[46.268725840000002,60.739802930000003],[46.318618270000002,60.771723989999998]],"display":"single","context":"BQAAAAAAAAAAAACQdkAAAAAAAKBmQAAAAAAAAPC\/AAAAAAAA8L8BAAAAAMgAAAAAAAAAAAAAAAAAAAAAAAAAAAE="}}},"features":[{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Вологодская область, Великий Устюг, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Вологодская область, Великий Устюг, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Вологодская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"Великоустюгский район","Locality":{"LocalityName":"Великий Устюг","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}},"description":"Великий Устюг, Вологодская область, Россия","name":"Набережная улица","boundedBy":[[46.268717000000002,60.739798999999998],[46.318618000000001,60.771723999999999]]},"geometry":{"type":"Point","coordinates":[46.295279999999998,60.761212999999998]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Амурская область, Благовещенск, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Амурская область, Благовещенск, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Амурская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Благовещенск","Locality":{"LocalityName":"Благовещенск","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}},"description":"Благовещенск, Амурская область, Россия","name":"Набережная улица","boundedBy":[[127.571074,50.250366],[127.576482,50.314621000000002]]},"geometry":{"type":"Point","coordinates":[127.571074,50.277949]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Ленинградская область, Кировск, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Ленинградская область, Кировск, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Ленинградская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"Кировский район","Locality":{"LocalityName":"Кировск","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}},"description":"Кировск, Ленинградская область, Россия","name":"Набережная улица","boundedBy":[[30.952414000000001,59.848126999999998],[30.989720999999999,59.890143999999999]]},"geometry":{"type":"Point","coordinates":[30.975626999999999,59.868400999999999]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Красноярский край, Зеленогорск, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Красноярский край, Зеленогорск, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Красноярский край","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Зеленогорск","Locality":{"LocalityName":"Зеленогорск","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}},"description":"Зеленогорск, Красноярский край, Россия","name":"Набережная улица","boundedBy":[[94.547692999999995,56.099516000000001],[94.587756999999996,56.119523999999998]]},"geometry":{"type":"Point","coordinates":[94.566755000000001,56.111158000000003]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, ЯНАО, Салехард, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"ЯНАО, Салехард, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"ЯНАО","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Салехард","Locality":{"LocalityName":"Салехард","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}},"description":"Салехард, ЯНАО, Россия","name":"Набережная улица","boundedBy":[[66.610688999999994,66.524023999999997],[66.662611999999996,66.527086999999995]]},"geometry":{"type":"Point","coordinates":[66.638240999999994,66.527086999999995]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Республика Татарстан, Елабуга, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Республика Татарстан, Елабуга, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Республика Татарстан","SubAdministrativeArea":{"SubAdministrativeAreaName":"Елабужский район","Locality":{"LocalityName":"Елабуга","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}},"description":"Елабуга, Республика Татарстан, Россия","name":"Набережная улица","boundedBy":[[52.048369999999998,55.748665000000003],[52.085909999999998,55.757308000000002]]},"geometry":{"type":"Point","coordinates":[52.077331000000001,55.750737999999998]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Тамбов, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Тамбов, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Тамбовская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Тамбов","Locality":{"LocalityName":"Тамбов","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}},"description":"Тамбов, Россия","name":"Набережная улица","boundedBy":[[41.460133999999996,52.700645000000002],[41.480435999999997,52.720243000000004]]},"geometry":{"type":"Point","coordinates":[41.471164999999999,52.711635000000001]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Красноярский край, Минусинск, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Красноярский край, Минусинск, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Красноярский край","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Минусинск","Locality":{"LocalityName":"Минусинск","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}},"description":"Минусинск, Красноярский край, Россия","name":"Набережная улица","boundedBy":[[91.656097000000003,53.691276999999999],[91.703113999999999,53.712994000000002]]},"geometry":{"type":"Point","coordinates":[91.679974000000001,53.708452999999999]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Россия, Республика Башкортостан, Уфа, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Республика Башкортостан, Уфа, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Республика Башкортостан","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Уфа","Locality":{"LocalityName":"Уфа","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}},"description":"Уфа, Республика Башкортостан, Россия","name":"Набережная улица","boundedBy":[[55.913668000000001,54.705668000000003],[55.967243000000003,54.726917999999998]]},"geometry":{"type":"Point","coordinates":[55.939548000000002,54.713521999999998]}},{"type":"Feature","properties":{"GeocoderMetaData":{"kind":"street","text":"Украина, Донецкая область, Мариуполь, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Донецкая область, Мариуполь, Набережная улица","CountryNameCode":"UA","CountryName":"Украина","AdministrativeArea":{"AdministrativeAreaName":"Донецкая область","SubAdministrativeArea":{"SubAdministrativeAreaName":"Мариупольский городской совет","Locality":{"LocalityName":"Мариуполь","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}},"description":"Мариуполь, Донецкая область, Украина","name":"Набережная улица","boundedBy":[[37.572450000000003,47.100971999999999],[37.612909999999999,47.115789999999997]]},"geometry":{"type":"Point","coordinates":[37.592599,47.108682000000002]}}]}},
                geocode: {"Attribution":"","GeoObjectCollection":{"metaDataProperty":{"GeocoderResponseMetaData":{"request":"Набережная","found":"752","results":"10"}},"featureMember":[{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Вологодская область, Великий Устюг, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Вологодская область, Великий Устюг, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Вологодская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"Великоустюгский район","Locality":{"LocalityName":"Великий Устюг","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}}},"description":"Великий Устюг, Вологодская область, Россия","name":"Набережная улица","boundedBy":{"Envelope":{"lowerCorner":"46.268717 60.739799","upperCorner":"46.3186180 60.771724"}},"Point":{"pos":"46.29528 60.761213"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Амурская область, Благовещенск, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Амурская область, Благовещенск, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Амурская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Благовещенск","Locality":{"LocalityName":"Благовещенск","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}}},"description":"Благовещенск, Амурская область, Россия","name":"Набережная улица","boundedBy":{"Envelope":{"lowerCorner":"127.571074 50.250366","upperCorner":"127.576482 50.314621"}},"Point":{"pos":"127.571074 50.277949"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Ленинградская область, Кировск, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Ленинградская область, Кировск, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Ленинградская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"Кировский район","Locality":{"LocalityName":"Кировск","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}}},"description":"Кировск, Ленинградская область, Россия","name":"Набережная улица","boundedBy":{"Envelope":{"lowerCorner":"30.952414 59.848127","upperCorner":"30.989721 59.890144"}},"Point":{"pos":"30.975627 59.868401"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Красноярский край, Зеленогорск, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Красноярский край, Зеленогорск, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Красноярский край","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Зеленогорск","Locality":{"LocalityName":"Зеленогорск","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}}},"description":"Зеленогорск, Красноярский край, Россия","name":"Набережная улица","boundedBy":{"Envelope":{"lowerCorner":"94.547693 56.099516","upperCorner":"94.587757 56.119524"}},"Point":{"pos":"94.566755 56.111158"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, ЯНАО, Салехард, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"ЯНАО, Салехард, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"ЯНАО","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Салехард","Locality":{"LocalityName":"Салехард","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}}},"description":"Салехард, ЯНАО, Россия","name":"Набережная улица","boundedBy":{"Envelope":{"lowerCorner":"66.610689 66.524024","upperCorner":"66.662612 66.527087"}},"Point":{"pos":"66.638241 66.527087"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Республика Татарстан, Елабуга, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Республика Татарстан, Елабуга, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Республика Татарстан","SubAdministrativeArea":{"SubAdministrativeAreaName":"Елабужский район","Locality":{"LocalityName":"Елабуга","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}}},"description":"Елабуга, Республика Татарстан, Россия","name":"Набережная улица","boundedBy":{"Envelope":{"lowerCorner":"52.04837 55.748665","upperCorner":"52.08591 55.757308"}},"Point":{"pos":"52.077331 55.750738"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Тамбов, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Тамбов, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Тамбовская область","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Тамбов","Locality":{"LocalityName":"Тамбов","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}}},"description":"Тамбов, Россия","name":"Набережная улица","boundedBy":{"Envelope":{"lowerCorner":"41.460134 52.700645","upperCorner":"41.480436 52.720243"}},"Point":{"pos":"41.471165 52.711635"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Красноярский край, Минусинск, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Красноярский край, Минусинск, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Красноярский край","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Минусинск","Locality":{"LocalityName":"Минусинск","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}}},"description":"Минусинск, Красноярский край, Россия","name":"Набережная улица","boundedBy":{"Envelope":{"lowerCorner":"91.656097 53.691277","upperCorner":"91.703114 53.712994"}},"Point":{"pos":"91.679974 53.708453"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Россия, Республика Башкортостан, Уфа, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Республика Башкортостан, Уфа, Набережная улица","CountryNameCode":"RU","CountryName":"Россия","AdministrativeArea":{"AdministrativeAreaName":"Республика Башкортостан","SubAdministrativeArea":{"SubAdministrativeAreaName":"городской округ Уфа","Locality":{"LocalityName":"Уфа","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}}},"description":"Уфа, Республика Башкортостан, Россия","name":"Набережная улица","boundedBy":{"Envelope":{"lowerCorner":"55.913668 54.705668","upperCorner":"55.967243 54.726918"}},"Point":{"pos":"55.939548 54.713522"}}},{"GeoObject":{"metaDataProperty":{"GeocoderMetaData":{"kind":"street","text":"Украина, Донецкая область, Мариуполь, Набережная улица","precision":"street","AddressDetails":{"Country":{"AddressLine":"Донецкая область, Мариуполь, Набережная улица","CountryNameCode":"UA","CountryName":"Украина","AdministrativeArea":{"AdministrativeAreaName":"Донецкая область","SubAdministrativeArea":{"SubAdministrativeAreaName":"Мариупольский городской совет","Locality":{"LocalityName":"Мариуполь","Thoroughfare":{"ThoroughfareName":"Набережная улица"}}}}}}}},"description":"Мариуполь, Донецкая область, Украина","name":"Набережная улица","boundedBy":{"Envelope":{"lowerCorner":"37.57245 47.100972","upperCorner":"37.61291 47.11579"}},"Point":{"pos":"37.592599 47.108682"}}}]}}
            }
        ];

        for (var i = 0, k = testData.length; i < k; i++) {
            var item = testData[i];
            (function (testItem) {
                describe('Запрос: ' + testItem.name, function () {
                    var convertered;

                    beforeEach(function () {
                        convertered = converter.convert(testItem.search);
                    });

                    it('Должен корректно сконвертивать MetaData', function () {
                        var converteredMetaData = convertered.GeoObjectCollection.metaDataProperty.GeocoderResponseMetaData;
                        var geocodeMetaData = testItem.geocode.GeoObjectCollection.metaDataProperty.GeocoderResponseMetaData;

                        expect(converteredMetaData.request).to.be(geocodeMetaData.request);
                        expect(converteredMetaData.results).to.be(geocodeMetaData.results);
                        expect(converteredMetaData.found).to.be(geocodeMetaData.found);
                    });

                    it('Должен корректно сконвертировать мета-данные геообъкта', function () {
                        var searchFirst = convertered.GeoObjectCollection.featureMember[0].GeoObject.metaDataProperty.GeocoderMetaData;
                        var geocodeFirst = testItem.geocode.GeoObjectCollection.featureMember[0].GeoObject.metaDataProperty.GeocoderMetaData;

                        expect(searchFirst.kind).to.be(geocodeFirst.kind);
                        expect(searchFirst.precision).to.be(geocodeFirst.precision);
                        expect(searchFirst.text).to.be(geocodeFirst.text);

                        // expect(searchFirst).to.have.key('AddressDetails');
                    });

                    it('Должен корректно сконвертировать данные геообъкта', function () {
                        var searchFirst = convertered.GeoObjectCollection.featureMember[0].GeoObject;
                        var geocodeFirst = testItem.geocode.GeoObjectCollection.featureMember[0].GeoObject;

                        expect(searchFirst.description).to.be(geocodeFirst.description);
                        expect(searchFirst.name).to.be(geocodeFirst.name);

                        expect(searchFirst.boundedBy.Envelope).to.have.keys(['lowerCorner', 'upperCorner']);
                        expect(searchFirst.Point).to.eql(geocodeFirst.Point);
                    });

                    it('Должен корректно распрарсить сконвертированные данные', function () {
                        var response = geoObjects(convertered);
                        expect(response.getLength()).to.be(10);
                    });
                });
            })(item);
        }
    });

    provide();
});
