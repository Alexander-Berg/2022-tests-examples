<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>geometry.pixel.Polygon</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!-- YUI -->
    <script type="text/javascript" src="../../../../test/yui3combo/combo.js"></script>
    <link rel="stylesheet" href="../../../../test/yui3combo/combo.css" />
    <script type="text/javascript" src="../../../../test/run-test-case.js"></script>
    <!-- Code -->
    <script type="text/javascript">
        initAPI({
            lang: "ru-RU",
            load: "Map,geometry.pixel.Polygon",
            mode: "dev"
        });
    </script>
    <script type="text/javascript" src="../../../../test/util/event-eye.js"></script>
</head>

<body class="yui3-skin-sam">
    <div id="container" style="width: 600px; height: 400px;"></div>
</body>

<script type="text/javascript">
    function getTestCase(Y) { return {
        name: "geometry.pixel.Polygon",

        setUp: function () {
        },

        tearDown: function () {
        },

        testGetClosest: function () {
            this.poly = new ymaps.geometry.pixel.Polygon([
                [[0, 0], [0, 2]],
                [[1, 0], [1, 2], [2, 2]]
            ]);

            var result = this.poly.getClosest([-1, 0]);
            Y.assert(
                result.position == "0,0" &&
                result.closestPointIndex == 0 &&
                result.pathIndex == 0
            );

            result = this.poly.getClosest([-1, 0.5]);
            Y.assert(
                result.position == "0,0.5" &&
                result.closestPointIndex == 0 &&
                result.nextPointIndex == 1 &&
                result.prevPointIndex == 0 &&
                result.pathIndex == 0
            );

            result = this.poly.getClosest([-1, 1.5]);
            Y.assert(
                result.position == "0,1.5" &&
                result.closestPointIndex == 1 &&
                result.nextPointIndex == 1 &&
                result.prevPointIndex == 0 &&
                result.pathIndex == 0
            );
        }
    }}
    ymaps.ready(runTestCase);
</script>
</html>
