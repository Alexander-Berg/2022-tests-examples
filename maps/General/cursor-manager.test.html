<!doctype html>
<html>
<head>
    <title>util.cursor.Manager test</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <!-- YUI -->
    <script type="text/javascript" src="../../../../tests/yui3combo/combo.js"></script>
    <link rel="stylesheet" href="../../../../tests/yui3combo/combo.css" />
    <script type="text/javascript" src="../../../../tests/run-test-case.js"></script>
    <!-- Code -->
    <script type="text/javascript">
        initAPI({
            lang: "ru-RU",
            mode: "dev",
            load: "util.cursor.Manager",
            ns: "ym"
        });
    </script>
</head>

<body class="yui3-skin-sam">

<script type="text/javascript">
    window.getTestCase = function (Y) {
        var elem = document.getElementById('element'),
                cursor,
                manager = new ym.util.cursor.Manager(elem);

        return {
            name: "util.array",

            testPush: function () {
                cursor && cursor.remove();
                cursor = manager.push('move');
                Y.assert(elem.style.cursor.indexOf('move') != -1, 'Неправильно отработал testPush');
            },

            testSetKey: function () {
                cursor && cursor.remove();
                cursor = manager.push('move');
                cursor.setKey('pointer');
                Y.assert(elem.style.cursor.indexOf('pointer') != -1, 'Неправильно отработал testSetKey');
            },

            testGetKey: function () {
                cursor && cursor.remove();
                cursor = manager.push('pointer');
                Y.assert(cursor.getKey() == 'pointer', 'Неправильно отработал testGetKey');
            },

            testRemoveCursor: function () {
                cursor && cursor.remove();
                manager.push('crosshair');
                cursor = manager.push('move');
                cursor.remove();
                Y.assert(elem.style.cursor.indexOf('crosshair') != -1, 'Неправильно отработал testRemoveCursor');
            }
        }
    };
    ym.ready(runTestCase);
</script>

<div id="element"></div>

</body>
</html>
