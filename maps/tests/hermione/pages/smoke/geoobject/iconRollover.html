<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <link rel="stylesheet" type="text/css" href="https://yastatic.net/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="../../../helper.js"></script>
    <script type=text/javascript>

        Api('init');

        function init(ymaps) {

            var myMap = new ymaps.Map('map', {
                center: [55.84, 37.73],
                zoom: 12,
                controls: []
            }, {
                searchControlProvider: 'yandex#search'
            });
            var myPlacemark1 = new ymaps.Placemark([55.80, 37.71], {iconContent: 'Очень длиннный, но невероятно интересный текс.'}, {preset: 'islands#blueSportCircleIcon'});
            var myPlacemark2 = new ymaps.Placemark([55.81, 37.71], {iconContent: 'Очень длиннный, но невероятно интересный текс.'}, {preset: 'islands#blueSportIcon'});
            var myPlacemark3 = new ymaps.Placemark([55.82, 37.71], {iconContent: '22'}, {preset: 'islands#blueIcon'});
            var myPlacemark4 = new ymaps.Placemark([55.83, 37.71], {iconContent: 'Очень длиннный, но невероятно интересный текс.'}, {preset: 'islands#blueStretchyIcon'});
            var myPlacemark5 = new ymaps.Placemark([55.84, 37.71], {iconContent: '22'}, {preset: 'islands#blueDotIcon'});
            var myPlacemark6 = new ymaps.Placemark([55.85, 37.71], {iconContent: '22'}, {preset: 'islands#blueCircleIcon'});
            var myPlacemark7 = new ymaps.Placemark([55.80, 37.73], {iconContent: 'Очень длиннный, но невероятно интересный текс.'}, {preset: 'islands#blueCircleDotIcon'});
            var myPlacemark8 = new ymaps.Placemark([55.81, 37.73], {iconCaption: 'Очень длиннный, но невероятно интересный текс.'}, {preset: 'islands#blueCircleDotIconWithCaption'});
            var myPlacemark9 = new ymaps.Placemark([55.82, 37.73], {iconCaption: 'Очень длиннный, но невероятно интересный текс.'}, {preset: 'islands#blueDotIconWithCaption'});

            var myPlacemark11 = new ymaps.Placemark([55.86, 37.73], {iconContent: '22'});
            var myPlacemark10 = new ymaps.Placemark([55.83, 37.73], {iconContent: '22'}, {
                preset: 'islands#glyphIcon',
                iconGlyph: "tower",
                iconGlyphColor: 'blue',
                iconColor: 'blue'
            });
            var myPlacemark12 = new ymaps.Placemark([55.84, 37.73], {iconContent: '22'}, {
                preset: 'islands#glyphCircleIcon',
                iconGlyph: "tower",
                iconGlyphColor: 'blue',
                iconColor: 'blue'
            });
            var myPlacemark13 = new ymaps.Placemark([55.85, 37.73], {iconContent: '22'}, {
                preset: 'islands#blueGlyphIcon',
                iconGlyph: "tower",
                iconGlyphColor: 'blue'
            });
            var collection = new ymaps.GeoObjectCollection();

            link(myMap);

            function callback1(e) {
                // Ссылку на объект, вызвавший событие,
                // можно получить из поля 'target'.
                //e.get('target').properties.set('iconContent','');
                e.get('target').options.set('preset', 'islands#redSportCircleIcon');
            }

            function callback2(e) {
                // Ссылку на объект, вызвавший событие,
                // можно получить из поля 'target'.
                //e.get('target').properties.set('iconContent','');
                e.get('target').options.set('preset', 'islands#redSportIcon');
            }

            function callback3(e) {
                // Ссылку на объект, вызвавший событие,
                // можно получить из поля 'target'.
                e.get('target').properties.set('iconContent', '22');
                e.get('target').options.set('preset', 'islands#redIcon');
            }

            function callback4(e) {
                // Ссылку на объект, вызвавший событие,
                // можно получить из поля 'target'.
                e.get('target').properties.set('iconContent', 'Очень длиннный, но невероятно интересный текс.');
                e.get('target').options.set('preset', 'islands#redStretchyIcon');
            }

            function callback5(e) {
                // Ссылку на объект, вызвавший событие,
                // можно получить из поля 'target'.
                e.get('target').properties.set('iconContent', '22');
                e.get('target').options.set('preset', 'islands#redDotIcon');
            }

            function callback6(e) {
                // Ссылку на объект, вызвавший событие,
                // можно получить из поля 'target'.
                e.get('target').properties.set('iconContent', '22');
                e.get('target').options.set('preset', 'islands#redCircleIcon');
            }

            function callback7(e) {
                // Ссылку на объект, вызвавший событие,
                // можно получить из поля 'target'.
                //e.get('target').properties.set('iconContent','');
                e.get('target').options.set('preset', 'islands#redCircleDotIcon');
            }

            function callback8(e) {
                // Ссылку на объект, вызвавший событие,
                // можно получить из поля 'target'.
                e.get('target').properties.set('iconCaption', 'Очень длиннный, но невероятно интересный текс.');
                e.get('target').options.set('preset', 'islands#redCircleDotIconWithCaption');
            }

            function callback9(e) {
                // Ссылку на объект, вызвавший событие,
                // можно получить из поля 'target'.
                e.get('target').properties.set('iconCaption', 'Очень длиннный, но невероятно интересный текс.');
                e.get('target').options.set('preset', 'islands#redDotIconWithCaption');
            }

            function callback10(e) {
                // Ссылку на объект, вызвавший событие,
                // можно получить из поля 'target'.
                //e.get('target').properties.set('iconContent','');
                e.get('target').options.set('preset', 'islands#glyphIcon');
                e.get('target').options.set('iconGlyph', 'road');
                e.get('target').options.set('iconGlyphColor', 'red');
                e.get('target').options.set('iconColor', 'red');
            }

            function callback11(e) {
                // Ссылку на объект, вызвавший событие,
                // можно получить из поля 'target'.
                //e.get('target').properties.set('iconContent','');
                e.get('target').options.unset('preset');
                e.get('target').properties.set('iconContent', '');
            }

            function callback12(e) {
                // Ссылку на объект, вызвавший событие,
                // можно получить из поля 'target'.
                //e.get('target').properties.set('iconContent','');

                e.get('target').options.set('preset', 'islands#glyphCircleIcon');
                e.get('target').options.set('iconGlyph', 'road');
                e.get('target').options.set('iconGlyphColor', 'red');
                e.get('target').options.set('iconColor', 'red');
            }

            function callback13(e) {
                // Ссылку на объект, вызвавший событие,
                // можно получить из поля 'target'.
                //e.get('target').properties.set('iconContent','');

                e.get('target').options.set('preset', 'islands#redGlyphIcon');
                e.get('target').options.set('iconGlyph', 'road');
                e.get('target').options.set('iconGlyphColor', 'red');
                e.get('target').options.unset('iconColor');
            }

            collection
                .add(myPlacemark1)
                .add(myPlacemark2)
                .add(myPlacemark3)
                .add(myPlacemark4)
                .add(myPlacemark5)
                .add(myPlacemark6)
                .add(myPlacemark7)
                .add(myPlacemark8)
                .add(myPlacemark9)
                .add(myPlacemark10)
                .add(myPlacemark11)
                .add(myPlacemark12)
                .add(myPlacemark13);
            collection.each(function (e) {
                e.properties.set({
                    balloonContent: "fsdfdsfsdf"
                })
            });
            myMap.geoObjects.add(collection);
            myPlacemark1.events
                .add('mouseleave', function (e) {
                    e.get('target').options.set('preset', "islands#blueSportCircleIcon");
                    e.get('target').properties.set({iconContent: 'Очень длиннный, но невероятно интересный текс.'});
                    e.get('target').options.unset('iconColor');
                });
            myPlacemark2.events
                .add('mouseleave', function (e) {
                    e.get('target').options.set('preset', "islands#blueSportIcon");
                    e.get('target').properties.set({iconContent: 'Очень длиннный, но невероятно интересный текс.'});
                    e.get('target').options.unset('iconColor');
                });
            myPlacemark3.events
                .add('mouseleave', function (e) {
                    e.get('target').options.set('preset', "islands#blueIcon");
                    e.get('target').properties.set({iconContent: '22'});
                    e.get('target').options.unset('iconColor');
                });
            myPlacemark4.events
                .add('mouseleave', function (e) {
                    e.get('target').options.set('preset', "islands#blueStretchyIcon");
                    e.get('target').properties.set({iconContent: 'Очень длиннный, но невероятно интересный текс.'});
                    e.get('target').options.unset('iconColor');
                });
            myPlacemark5.events
                .add('mouseleave', function (e) {
                    e.get('target').options.set('preset', "islands#blueDotIcon");
                    e.get('target').properties.set({iconContent: '22'});
                    e.get('target').options.unset('iconColor');
                });
            myPlacemark6.events
                .add('mouseleave', function (e) {
                    e.get('target').options.set('preset', "islands#blueCircleIcon");
                    e.get('target').properties.set({iconContent: '22'});
                    e.get('target').options.unset('iconColor');
                });
            myPlacemark7.events
                .add('mouseleave', function (e) {
                    e.get('target').options.set('preset', "islands#blueCircleDotIcon");
                    e.get('target').properties.set({iconContent: 'Очень длиннный, но невероятно интересный текс.'});
                    e.get('target').options.unset('iconColor');
                });
            myPlacemark8.events
                .add('mouseleave', function (e) {
                    e.get('target').options.set('preset', "islands#blueCircleDotIconWithCaption");
                    e.get('target').properties.set({iconCaption: 'Очень длиннный, но невероятно интересный текс.'});
                    e.get('target').options.unset('iconColor');
                });
            myPlacemark9.events
                .add('mouseleave', function (e) {
                    e.get('target').options.set('preset', "islands#blueDotIconWithCaption");
                    e.get('target').properties.set({iconCaption: 'Очень длиннный, но невероятно интересный текс.'});
                    e.get('target').options.unset('iconColor');
                });
            myPlacemark10.events
                .add('mouseleave', function (e) {
                    e.get('target').options.set({
                        preset: 'islands#glyphIcon',
                        iconGlyph: "tower",
                        iconGlyphColor: 'blue',
                        iconColor: 'blue'
                    });
                    e.get('target').properties.set({iconContent: '22'});
                });
            myPlacemark11.events
                .add('mouseleave', function (e) {
                    e.get('target').options.unset('preset');
                    e.get('target').properties.set({iconContent: '22'});
                    e.get('target').options.unset('iconColor');
                });

            myPlacemark12.events
                .add('mouseleave', function (e) {
                    e.get('target').options.set({
                        preset: 'islands#glyphCircleIcon',
                        iconGlyph: "tower",
                        iconGlyphColor: 'blue',
                        iconColor: 'blue'
                    });
                    e.get('target').properties.set({iconContent: '22'});
                });

            myPlacemark13.events
                .add('mouseleave', function (e) {
                    e.get('target').options.set({
                        preset: 'islands#blueGlyphIcon',
                        iconGlyph: "tower",
                        iconGlyphColor: 'blue'
                    });
                    e.get('target').properties.set({iconContent: '22'});

                    e.get('target').options.unset('iconColor');
                });
            var Button1 = new ymaps.control.Button({
                data: {content: 'islands#redSportCircleIcon'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button2 = new ymaps.control.Button({
                data: {content: 'islands#redSportIcon'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button3 = new ymaps.control.Button({
                data: {content: 'islands#redIcon'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button4 = new ymaps.control.Button({
                data: {content: 'islands#redStretchyIcon'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button5 = new ymaps.control.Button({
                data: {content: 'islands#redDotIcon'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button6 = new ymaps.control.Button({
                data: {content: 'islands#redCircleIcon'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button7 = new ymaps.control.Button({
                data: {content: 'islands#redCircleDotIcon'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button8 = new ymaps.control.Button({
                data: {content: 'islands#redCircleDotIconWithCaption'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button9 = new ymaps.control.Button({
                data: {content: 'islands#redDotIconWithCaption'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button10 = new ymaps.control.Button({
                data: {content: 'islands#glyphIcon'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button11 = new ymaps.control.Button({
                data: {content: 'noPreset'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button12 = new ymaps.control.Button({
                data: {content: 'islands#glyphCircleIcon'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button13 = new ymaps.control.Button({
                data: {content: 'islands#redGlyphIcon'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button14 = new ymaps.control.Button({
                data: {content: 'allRedSportCircleIcon'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button15 = new ymaps.control.Button({
                data: {content: 'allGlyphIcon'},
                options: {selectOnClick: true, maxWidth: 16000}
            });
            var Button16 = new ymaps.control.Button({
                data: {content: 'allNoPreset'},
                options: {selectOnClick: true, maxWidth: 16000}
            });


            Button1.events
                .add('select', function () {
                    collection.each(function (e) {
                        e.events.add('mouseenter', callback1);
                    })
                })
                .add('deselect', function () {
                    collection.each(function (e) {
                        e.events.remove('mouseenter', callback1);
                    })
                });
            Button2.events
                .add('select', function () {
                    collection.each(function (e) {
                        e.events.add('mouseenter', callback2);
                    })
                })
                .add('deselect', function () {
                    collection.each(function (e) {
                        e.events.remove('mouseenter', callback2);
                    })
                });
            Button3.events
                .add('select', function () {
                    collection.each(function (e) {
                        e.events.add('mouseenter', callback3);
                    })
                })
                .add('deselect', function () {
                    collection.each(function (e) {
                        e.events.remove('mouseenter', callback3);
                    })
                });
            Button4.events
                .add('select', function () {
                    collection.each(function (e) {
                        e.events.add('mouseenter', callback4);
                    })
                })
                .add('deselect', function () {
                    collection.each(function (e) {
                        e.events.remove('mouseenter', callback4);
                    })
                });
            Button5.events
                .add('select', function () {
                    collection.each(function (e) {
                        e.events.add('mouseenter', callback5);
                    })
                })
                .add('deselect', function () {
                    collection.each(function (e) {
                        e.events.remove('mouseenter', callback5);
                    })
                });
            Button6.events
                .add('select', function () {
                    collection.each(function (e) {
                        e.events.add('mouseenter', callback6);
                    })
                })
                .add('deselect', function () {
                    collection.each(function (e) {
                        e.events.remove('mouseenter', callback6);
                    })
                });
            Button7.events
                .add('select', function () {
                    collection.each(function (e) {
                        e.events.add('mouseenter', callback7);
                    })
                })
                .add('deselect', function () {
                    collection.each(function (e) {
                        e.events.remove('mouseenter', callback7);
                    })
                });
            Button8.events
                .add('select', function () {
                    collection.each(function (e) {
                        e.events.add('mouseenter', callback8);
                    })
                })
                .add('deselect', function () {
                    collection.each(function (e) {
                        e.events.remove('mouseenter', callback8);
                    })
                });
            Button9.events
                .add('select', function () {
                    collection.each(function (e) {
                        e.events.add('mouseenter', callback9);
                    })
                })
                .add('deselect', function () {
                    collection.each(function (e) {
                        e.events.remove('mouseenter', callback9);
                    })
                });
            Button10.events
                .add('select', function () {
                    collection.each(function (e) {
                        e.events.add('mouseenter', callback10);
                    })
                })
                .add('deselect', function () {
                    collection.each(function (e) {
                        e.events.remove('mouseenter', callback10);
                    })
                });
            Button11.events
                .add('select', function () {
                    collection.each(function (e) {
                        e.events.add('mouseenter', callback11);
                    })
                })
                .add('deselect', function () {
                    collection.each(function (e) {
                        e.events.remove('mouseenter', callback11);
                    })
                });

            Button12.events
                .add('select', function () {
                    collection.each(function (e) {
                        e.events.add('mouseenter', callback12);
                    })
                })
                .add('deselect', function () {
                    collection.each(function (e) {
                        e.events.remove('mouseenter', callback12);
                    })
                });

            Button13.events
                .add('select', function () {
                    collection.each(function (e) {
                        e.events.add('mouseenter', callback13);
                    })
                })
                .add('deselect', function () {
                    collection.each(function (e) {
                        e.events.remove('mouseenter', callback13);
                    })
                });
            Button14.events
                .add('click', function () {
                    collection.each(function (e) {
                        e.options.set('preset', "islands#blueSportIcon");
                        e.properties.set({iconContent: 'Очень длиннный, но невероятно интересный текс.'});
                        e.options.unset('iconColor');
                    })
                });
            Button15.events
                .add('click', function () {
                    collection.each(function (e) {

                        e.options.set('preset', 'islands#glyphIcon');
                        e.options.set('iconGlyph', 'road');
                        e.options.set('iconGlyphColor', 'red');
                        e.options.set('iconColor', 'red');
                    })
                });
            Button16.events
                .add('click', function () {
                    collection.each(function (e) {

                        e.options.unset('preset');
                        e.properties.set('iconContent', '');
                    })
                });
            myMap.controls.add(Button1, {float: 'none', position: {right: 5, top: 5}})
                .add(Button2, {float: 'none', position: {right: 5, top: 35}})
                .add(Button3, {float: 'none', position: {right: 5, top: 65}})
                .add(Button4, {float: 'none', position: {right: 5, top: 95}})
                .add(Button5, {float: 'none', position: {right: 5, top: 125}})
                .add(Button6, {float: 'none', position: {right: 5, top: 155}})
                .add(Button7, {float: 'none', position: {right: 5, top: 185}})
                .add(Button8, {float: 'none', position: {right: 5, top: 215}})
                .add(Button9, {float: 'none', position: {right: 5, top: 245}})
                .add(Button10, {float: 'none', position: {right: 5, top: 275}})
                .add(Button11, {float: 'none', position: {right: 5, top: 305}})
                .add(Button12, {float: 'none', position: {right: 5, top: 335}})
                .add(Button13, {float: 'none', position: {right: 5, top: 365}})
                .add(Button14, {float: 'none', position: {right: 5, top: 395}})
                .add(Button15, {float: 'none', position: {right: 5, top: 425}})
                .add(Button16, {float: 'none', position: {right: 5, top: 455}});

        }
    </script>
</head>
<body>
<div id="map" style="height: 512px; width: 512px;"></div>
</body>
</html>