<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="../../../helper.js"></script>
    <style>
        .my-button-selected {
            color: #f5f5f5;
            background-color: #333333;
            outline: 2px dashed #333;
            outline: 5px auto -webkit-focus-ring-color;
            outline-offset: -2px;
            display: inline-block;
            padding: 4px 14px;
            margin-bottom: 0;
            font-size: 14px;
            line-height: 20px;
            text-align: center;
            vertical-align: middle;
            cursor: pointer;
            border: 1px solid #bbbbbb;
            border-color: #e6e6e6 #e6e6e6 #bfbfbf;
            font-family: Arial;
        }

        .my-button {
            display: inline-block;
            padding: 4px 14px;
            margin-bottom: 0;
            font-size: 14px;
            line-height: 20px;
            color: #333333;
            text-align: center;
            vertical-align: middle;
            cursor: pointer;
            background-color: #f5f5f5;
            border: 1px solid #bbbbbb;
            border-color: #e6e6e6 #e6e6e6 #bfbfbf;
            font-family: Arial;
        }
    </style>
    <script type=text/javascript>

        Api('init');

        function init(ymaps) {
            var map = myMap = new ymaps.Map('map', {
                center: [55.73259667357658, 37.70153663432529],
                zoom: 9,
                behaviors: ['default', 'scrollZoom'],
                controls: []
            }, {
                suppressObsoleteBrowserNotifier: true
            });
            var button1 = new ymaps.control.Button({
                data: {
                    // Текст на кнопке.
                    content: 'Сохранить',
                    // Текст всплывающей подсказки.
                    title: 'maxWidth: [30, 100, 150]'
                },
                options: {
                    // Зададим опции для кнопки.
                    selectOnClick: false,
                    // Зададим три значения ширины кнопки.
                    maxWidth: [30, 100, 150]
                }
            });

            var button3 = new ymaps.control.Button({
                data: {
                    // Текст на кнопке.
                    content: 'Сохранить',
                    // Текст всплывающей подсказки.
                    title: 'maxWidth: undefined'
                },
                options: {
                    // Зададим опции для кнопки.
                    selectOnClick: false
                }
            });

            var button2 = new ymaps.control.Button({
                data: {
                    // Текст на кнопке.
                    content: 'Сохранить как pdf',
                    // Текст всплывающей подсказки.
                    title: 'maxWidth: undefined'
                },
                options: {
                    // Зададим опции для кнопки.
                    selectOnClick: false
                }
            });

            var button4 = new ymaps.control.Button({
                data: {
                    // Текст на кнопке.
                    content: 'Сохранить как длинный длинный pdf ',
                    // Текст всплывающей подсказки.
                    title: 'maxWidth: 9999'
                },
                options: {
                    // Зададим опции для кнопки.
                    selectOnClick: false,
                    maxWidth: 9999
                }
            });

            map.controls
                .add(button1, {float: 'left', floatIndex: 100})
                .add(button2, {float: 'left', floatIndex: 150})
                .add(button3, {float: 'left', floatIndex: 200});

            var button5 = new ymaps.control.Button({
                data: {
                    image: 'http://png-4.findicons.com/files/icons/2146/realistik_reloaded/16/filesave.png',
                    content: 'Save',
                    title: 'Save'
                },
                options: {selectOnClick: false, size: 'small'}
            });

            var button6 = new ymaps.control.Button({
                data: {
                    image: 'http://png-2.findicons.com/files/icons/2166/oxygen/16/pencil2.png',
                    content: 'Edit',
                    title: 'Edit'
                },
                options: {selectOnClick: false, size: 'large'}
            });

            var button7 = new ymaps.control.Button({
                data: {
                    image: 'http://png-1.findicons.com/files/icons/1580/devine_icons_part_2/16/rss.png',
                    content: 'Subscribe',
                    title: 'Subscribe'
                },
                options: {selectOnClick: true, size: 'medium'},
                state: {selected: true}
            });

            var button8 = new ymaps.control.Button({
                data: {
                    image: 'http://png-2.findicons.com/files/icons/2344/faenza/16/edit_copy.png',
                    content: 'Copy',
                    title: 'Copy'
                },
                options: {selectOnClick: false},
                state: {enabled: false}
            });
            myMap.controls
                .add(button5, {float: 'left'})
                .add(button6, {float: 'left'})
                .add(button7, {float: 'left'})
                .add(button8, {float: 'left'});

            //control/button/dataSet
            var button11 = new ymaps.control.Button({
                data: {
                    image: 'http://png-4.findicons.com/files/icons/2146/realistik_reloaded/16/filesave.png',
                    content: 'Save',
                    title: 'Save'
                },
                options: {selectOnClick: false, size: 'small'}
            });

            var button21 = new ymaps.control.Button({
                data: {
                    image: 'http://png-2.findicons.com/files/icons/2166/oxygen/16/pencil2.png',
                    content: 'Edit',
                    title: 'Edit'
                },
                options: {selectOnClick: false, size: 'medium'}
            });

            var button31 = new ymaps.control.Button({
                data: {
                    image: 'http://png-1.findicons.com/files/icons/1580/devine_icons_part_2/16/rss.png',
                    title: 'Subscribe'
                },
                options: {selectOnClick: true},
                state: {selected: true}
            });

            var button41 = new ymaps.control.Button({
                data: {
                    image: 'http://png-2.findicons.com/files/icons/2344/faenza/16/edit_copy.png',
                    content: 'Copy',
                    title: 'Copy'
                },
                options: {selectOnClick: false},
                state: {enabled: false}
            });

            var button12 = new ymaps.control.Button({
                data: {
                    image: 'http://png-4.findicons.com/files/icons/2146/realistik_reloaded/16/filesave.png',
                    content: 'Save',
                    title: 'Save'
                },
                options: {selectOnClick: false, size: 'small'}
            });

            var button22 = new ymaps.control.Button({
                data: {
                    image: 'http://png-2.findicons.com/files/icons/2166/oxygen/16/pencil2.png',
                    content: 'Edit',
                    title: 'Edit'
                },
                options: {selectOnClick: false, size: 'medium'}
            });

            var button32 = new ymaps.control.Button({
                data: {
                    image: 'http://png-1.findicons.com/files/icons/1580/devine_icons_part_2/16/rss.png',
                    title: 'Subscribe'
                },
                options: {selectOnClick: true},
                state: {selected: true}
            });

            var button42 = new ymaps.control.Button({
                data: {
                    image: 'http://png-2.findicons.com/files/icons/2344/faenza/16/edit_copy.png',
                    content: 'Copy',
                    title: 'Copy'
                },
                options: {selectOnClick: false},
                state: {enabled: false}
            });

            button11.data.set('title', 'new1');
            button21.data.set('title', 'new1');
            button31.data.set('title', 'new1');
            button41.data.set('title', 'new1');

            __log__(button11.data.get('title'));
            __log__(button21.data.get('title'));
            __log__(button31.data.get('title'));
            __log__(button41.data.get('title'));
            __log__(button12.data.get('title'));
            __log__(button22.data.get('title'));
            __log__(button32.data.get('title'));
            __log__(button42.data.get('title'));

            button11.data.unset('image');
            button21.data.unset('image');
            button31.data.unset('image');
            button41.data.unset('image');

            button12.data.unsetAll();
            button22.data.unsetAll();
            button32.data.unsetAll();
            button42.data.unsetAll();
            button12.options.set('visible', false);

            map.controls
                .add(button11, {float: 'left'})
                .add(button21, {float: 'left'})
                .add(button31, {float: 'left'})
                .add(button41, {float: 'left'})
                .add(button12, {float: 'left'})
                .add(button22, {float: 'left'})
                .add(button32, {float: 'left'})
                .add(button42, {float: 'left'});
            //control/button/enable
            var button13 = new ymaps.control.Button({
                data: {
                    image: 'http://png-4.findicons.com/files/icons/2146/realistik_reloaded/16/filesave.png',
                    content: 'Save',
                    title: 'Save'
                },
                options: {selectOnClick: false, size: 'small'}
            });

            var button23 = new ymaps.control.Button({
                data: {
                    image: 'http://png-2.findicons.com/files/icons/2166/oxygen/16/pencil2.png',
                    content: 'Edit',
                    title: 'Edit'
                },
                options: {selectOnClick: false, size: 'medium'}
            });

            var button33 = new ymaps.control.Button({
                data: {
                    image: 'http://png-1.findicons.com/files/icons/1580/devine_icons_part_2/16/rss.png',
                    title: 'Subscribe'
                },
                options: {selectOnClick: true},
                state: {selected: true}
            });

            var button43 = new ymaps.control.Button({
                data: {
                    image: 'http://png-2.findicons.com/files/icons/2344/faenza/16/edit_copy.png',
                    content: 'Copy',
                    title: 'Copy'
                },
                options: {selectOnClick: false},
                state: {enabled: false}
            });

            button13.disable();
            button23.disable();
            button33.disable();
            button43.disable();
            __log__(button13.isEnabled());
            __log__(button12.isEnabled());

            myMap.controls
                .add(button13, {float: 'left'})
                .add(button23, {float: 'left'})
                .add(button33, {float: 'left'})
                .add(button43, {float: 'left'});
            //control/button/events
            var button14 = new ymaps.control.Button({
                data: {
                    image: 'http://png-4.findicons.com/files/icons/2146/realistik_reloaded/16/filesave.png',
                    content: 'Save',
                    title: 'Save'
                },
                options: {selectOnClick: false}
            });

            var callback1 = function (e) {
                    __log__('button1: ' + e.get('type'))
                },
                callback2 = function (e) {
                    __log__('button2: ' + e.get('type'))
                },
                callback3 = function (e) {
                    __log__('button3: ' + e.get('type'))
                },
                callback4 = function (e) {
                    __log__('button4: ' + e.get('type'));
                    if (e.get('type') == 'mapchange') {
                        try {
                            __log__('oldMap: ' + e.get('oldMap').getCenter().toFixed(1));
                        } catch (e) {
                            __log__('oldMap is null')
                        }
                        try {
                            __log__('newMap: ' + e.get('newMap').getCenter().toFixed(1));
                        } catch (e) {
                            __log__('newMap is null')
                        }
                    }
                },
                events = ['click', 'select', 'deselect', 'enable', 'disable', 'mapchange',
                    'optionschange', 'parentchange', 'press'];
            button14.events.add(events, callback1);
            button14.events.add(events, callback2);
            button14.events.add(events, callback3);
            button14.events.add(events, callback4);
            myMap.controls.add(button14);
            button14.state.set('enabled', false);
            button14.state.set('enabled', true);

            myMap.controls.remove(button14);
            myMap.controls.add(button14, {float: 'left'});


            button14.options.set('visible', false);
            button14.options.set('visible', true);

            button14.options.freeze();
            button14.options.set('visible', false);
            button14.options.unfreeze();

            button14.select();
            button14.deselect();

            var button15 = new ymaps.control.Button({
                data: {
                    content: '1',
                    title: '1'
                },
                options: {float: 'left'}
            });
            var button25 = new ymaps.control.Button({
                data: {
                    content: '2',
                    title: '2'
                },
                options: {float: 'right'}
            });

            var button35 = new ymaps.control.Button({
                data: {
                    content: '3',
                    title: '3'
                },
                options: {float: 'right'}
            });

            myMap.controls
                .add(button15)
                .add(button25)
                .add(button35)
                .add(button4, {float: 'left', floatIndex: -1});
            button15.options.set('float', 'right');

            button35.options.unset('float');

            //layout
            // Создание кнопки с пользовательским макетом
            var button16 = new ymaps.control.Button({
                data: {
                    content: 'Кастомная кнопка',
                    title: 'Нажмите на кнопку'
                },
                options: {
                    layout: ymaps.templateLayoutFactory.createClass(
                        // Если кнопка не нажата, к ней применится css-стиль 'myButton'
                        // Если кнопка нажата, к ней применятся 'myButtonSelected'.
                        "<div class='[if state.selected]my-button-selected[else]my-button[endif]' title='$[data.title]'>" +
                        "$[data.content]" +
                        "</div>"
                    ),
                    // Чтобы другие элементы управления корректно позиционировались по горизонтали,
                    // нужно обязательно задать максимальную ширину для макета.
                    maxWidth: 150
                }
            });
            button16.select();
            map.controls.add(button16, {float: 'none', position: {left: '10px', top: '70px'}});

            link(map);
        }
    </script>
</head>
<body style="position: relative; padding: 0; margin: 0;">
<div id="map" style="height: 312px; width: 812px;"></div>
</body>
</html>