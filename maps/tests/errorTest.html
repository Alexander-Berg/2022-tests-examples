<!doctype html>
<html style='height:100%;width:100%;'>
<head>
    <title>Graphics simplify test</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="initial-scale=1.0; user-scalable=0"/>

    <script src='http://localhost:8080/2.0/?lang=ru-RU&mode=debug&load=package.full'></script>

</head>
<body>

<style>
    body {
        font-family: Arial;
    }

    table td {
        padding: 5px;
        font-size: 14px;
        overflow: hidden;
    }

    div.testdiv {
        width: 400px;
        height: 270px;
        border: 1px solid #EEE;
        padding: 10px;
        font-size: 10px;
        position: relative;
        float: left;
    }

    p {
        font-size: 12px;
        float: left;
        clear: left;
        width: 300px;
    }


</style>


<script>
    var imports,
            coordinates = [
                {"type": "LineString", "coordinates": [
                    [37.699526, 55.634496],
                    [37.65523, 55.651963],
                    [37.632233, 55.662557],
                    [37.62987, 55.664908],
                    [37.626052, 55.675052]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.732745, 55.589056],
                    [37.733401, 55.588771],
                    [37.733653, 55.588654]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.729224, 55.591844],
                    [37.726897, 55.594346],
                    [37.724921, 55.597429]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.729449, 55.59193],
                    [37.727338, 55.594148],
                    [37.725074, 55.597556]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.724921, 55.597429],
                    [37.725074, 55.597556]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.724921, 55.597429],
                    [37.721651, 55.602434]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.725074, 55.597556],
                    [37.721957, 55.602505]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.721651, 55.602434],
                    [37.721534, 55.602607],
                    [37.721301, 55.602983],
                    [37.721229, 55.60311]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.721957, 55.602505],
                    [37.721876, 55.6025],
                    [37.72175, 55.602474],
                    [37.721651, 55.602434]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.721957, 55.602505],
                    [37.721903, 55.602591],
                    [37.721606, 55.603085],
                    [37.721454, 55.603329],
                    [37.721256, 55.603715],
                    [37.721193, 55.603837],
                    [37.720906, 55.604366],
                    [37.720573, 55.605032],
                    [37.720241, 55.605699]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.721229, 55.60311],
                    [37.721058, 55.602851]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.721229, 55.60311],
                    [37.721022, 55.603476],
                    [37.72042, 55.604615],
                    [37.720088, 55.605266]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.720088, 55.605266],
                    [37.719864, 55.605063]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.707072, 55.629303],
                    [37.706829, 55.629201]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.707305, 55.629374],
                    [37.706164, 55.630324],
                    [37.704969, 55.631315]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.704502, 55.631142],
                    [37.702589, 55.632703],
                    [37.701511, 55.633414]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.704969, 55.631315],
                    [37.704502, 55.631142]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.704969, 55.631315],
                    [37.704628, 55.63159],
                    [37.704251, 55.6319],
                    [37.703918, 55.632179],
                    [37.703083, 55.632799],
                    [37.702876, 55.632931],
                    [37.70258, 55.63313],
                    [37.701861, 55.633556]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.701511, 55.633414],
                    [37.701664, 55.633414],
                    [37.701745, 55.633429],
                    [37.701807, 55.63346],
                    [37.701834, 55.6335],
                    [37.701861, 55.633556]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.701511, 55.633414],
                    [37.701161, 55.633628],
                    [37.700819, 55.633826],
                    [37.700792, 55.633841],
                    [37.700559, 55.633973],
                    [37.700199, 55.634166],
                    [37.699813, 55.634359],
                    [37.699526, 55.634496]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.701861, 55.633556],
                    [37.701745, 55.633622],
                    [37.701628, 55.633694],
                    [37.701394, 55.633826],
                    [37.701349, 55.633851],
                    [37.700684, 55.634192],
                    [37.700163, 55.634441],
                    [37.699903, 55.634563],
                    [37.699813, 55.634598]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.699526, 55.634496],
                    [37.699813, 55.634598]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.733365, 55.588445],
                    [37.73297, 55.588633],
                    [37.732494, 55.588893]
                ]},
                {"type": "LineString", "coordinates": [
                    [37.699813, 55.634598],
                    [37.6554, 55.652095],
                    [37.632314, 55.662715],
                    [37.630068, 55.664934],
                    [37.626466, 55.674971]
                ]}
            ];
    ymaps.ready(function () {

        if (!coordinates.map) {
            Array.prototype.map = function (fn) {
                var result = [];
                for (var i = 0, l = this.length; i < l; ++i) {
                   result[i] = fn(this[i]);
                }
                return result;
            }
        }

        var obj = new ymaps.GeoObject(
                {
                    geometry: {
                        type: 'Polygon',
                        coordinates: coordinates.slice(2,4).map(function (geometry) { // Hack! MAPS-9522
                            var coords = geometry.coordinates.map(function (cr) {
                                return [cr[1], cr[0]];
                            });
                            return coords.concat(coords.slice(1,-1).reverse());
                        })
                    }
                }, {
                    strokeWidth: 3
                });

        var map = new ymaps.Map('map', {
            center: [55.777153093859496, 37.639130078124964],
            zoom: 10,

            behaviors: ['drag', 'scrollZoom', 'dblClickZoom']
        });
        map.geoObjects.add(obj);

    });


</script>
<div id="map" style='width:1000px;height:500px'></div>
</body>


