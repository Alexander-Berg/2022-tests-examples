<!DOCTYPE html>
<html>
<head>
    <title>API 2.0</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="../helper.js"></script>
    <style>
        td {
            width: 250px;
            height: 250px;
        }
    </style>
    <script type="text/javascript">
        Api('init');
        function init(ymaps){
            var center = [40, 40];
            var without = new ymaps.Map('map1', {
                center: center,
                zoom: 3,
                type: "yandex#map"
            });
            without.events.add("click", function(e){
                setSize("0");
            });
            var ifNull = new ymaps.Map('map2', {
                center: center,
                zoom: 3
            }, {
                autoFitToViewport: 'ifNull'
            });
            ifNull.events.add("click", function(e){
                setSize("100px");
            });
            var none = new ymaps.Map('map3', {
                center: center,
                zoom: 3
            }, {
                autoFitToViewport: 'none'
            });
            var always = new ymaps.Map('map4', {
                center: center,
                zoom: 3
            }, {
                autoFitToViewport: 'always'
            });
            always.events.add("click", function(e){
                setSize("250px");
            });
            var maps = [without, ifNull, none, always];
            window.setTimeout(function(){setSize("200px");}, 2000);
            var setSize = function(x){
                for(var i = 0; i < maps.length; i++){
                    if(maps[i].container.getElement().parentNode.style.display) {
                        maps[i].container.getElement().parentNode.style.display = '';
                    }
                    else {
                        maps[i].container.getElement().parentNode.style.width = x;
                        maps[i].container.getElement().parentNode.style.height = x;
                    }
                }
            }
        }
    </script>
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td>
            <div id="map1" style="padding: 5px; border: 1px solid black; width:200px; height:200px; display: none;"></div>
        </td>
        <td>
            <div id="map2" style="width:0; height:0"></div>
        </td>
    </tr>
    <tr>
        <td>
            <div id="map3" style="width:0; height:0"></div>
        </td>
        <td>
            <div id="map4" style="width:0; height:0"></div>
        </td>
    </tr>
</table>
<p><a href="https://tech.yandex.ru/maps/archive/doc/jsapi/2.0/ref/reference/Map-docpage/#Map__param-options.autoFitToViewport" target="_blank">Docs</a></p>
</body>
</html>
