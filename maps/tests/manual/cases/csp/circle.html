<!DOCTYPE HTML>
<!--
Title:
CSP: добавление фигуры круга при применении правил CSP

Description:
Проверка добавления фигуры круга при применении правил CSP.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
CSP

Estimated time:
90000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
   Осмотреть карту и элементы на ней. 

  Expectation:
  Карта отобразилась корректно.
  На карте спан Москвы, на спане карты внутри МКАД фигура - синий полупрозрачный круг.

Step:
  Action:
  Навести курсор на область круга.

  Expectation:
  При наведении на круги курсор - палец, хинт отсуствует.
-->
<html>
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="Content-Security-Policy"
          content="img-src 'self' data: blob: filesystem: *;media-src 'self' ;script-src 'self' 'unsafe-eval' https://*.yandex.ru 'nonce-eef8264c4994bf6409c51ac7c9614446' ;style-src 'self' 'unsafe-eval' data: blob: 'nonce-eef8264c4994bf6409c51ac7c9614446';">
    <script src="../../helper.js" nonce="eef8264c4994bf6409c51ac7c9614446"></script>
    <script type="text/javascript" nonce="eef8264c4994bf6409c51ac7c9614446">
        var define = function () {
                },
                module = {
                    exports: {}
                },
                exports = module.exports,
                modules = {};
    </script>
    <script type="text/javascript" src="https://api-maps.tst.c.maps.yandex.ru/2.1-dev/?mode=debug&namespace=ymaps&lang=ru_RU&csp[style_nonce]=eef8264c4994bf6409c51ac7c9614446&csp[_data_style]=1&host_config[hosts]"></script>
    <!--<script type="text/javascript" src="https://api-maps.tst.c.maps.yandex.ru/2.1-dev?&csp=true&mode=debag&lang=ru_RU"></script>-->
    <script type="text/javascript" nonce="eef8264c4994bf6409c51ac7c9614446">

        ymaps.ready(function(ymaps) {
            var map = new ymaps.Map('map', {
                    center: [55.72725771214265, 37.640390506634006],
                    zoom: 10,
                    behaviors: ['default', 'scrollZoom'],
                    controls: ['fullscreenControl']
                }),
                circleGeometry = new ymaps.geometry.Circle([55.72725771214265, 37.640390506634006], 5000),
                circleGeoObject = new ymaps.GeoObject({ geometry: circleGeometry });

            addGrid(map);

            circleGeoObject.geometry.setRadius(1000);

            map.geoObjects.add(circleGeoObject);

            circleGeometry.setRadius(10000);
        });
    </script>
</head>
<style type="text/css" nonce="eef8264c4994bf6409c51ac7c9614446">
    html, body, #map {
        margin: 0;
        padding: 0;
        height: 512px;
        width: 512px;
    }
</style>
<body>
    <div id="map"></div>
</body>
</html>