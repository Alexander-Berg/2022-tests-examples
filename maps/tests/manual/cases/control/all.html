<!DOCTYPE HTML>
<!--
Title:
Контрол: проверка всех контролов на карте

Description:
Проверка функциональности всех контролов.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
control

Estimated time:
360000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть карту и элементы на ней. 

  Expectation:
  Карта отобразилась корректно.
  На карте спан водной поверхности. 
  На карте имееются контролы зума "+/-" с линейкой и ползунком, контрол "Маршруты"(иконка с изогнутой стрелкой), контрол местоположения, контрол "Найти", контрол "Пробки", контрол "Слои", контрол фулскрин, контрол "Город", контролы зума "+/-"(без линейки), контрол измерителя с масштабной линией.

Step:
  Action:
  Клик в контрол "Найти".
    
  Expectation:
  Сверху по всей длине контейнера с картой выпадает поисковая панель с поисковым инпутом.
  Поисковый инпут активный, в начале мигает каретка, в инпуте подсказка "Адрес или объект".
  За поисковым инпутом желтая кнопка "Найти", за которой кнопка со стрелкой наверх.

Step:
  Action:
  Ввести в поисковый инпут "Москва", клик в кнопку "Найти".
    
  Expectation:
  Происходит смена спана карты, поисковая панель с инпутом пропадает.
  Набор контролов аналогичен первому шагу.
  На спане карты открыт балун с содержанием: "Москва; Россия". В футере балуна кнопка "Исправить неточность".
  У балуна имеется кнопка закрытия - крестик.

Step:
  Action:
  Выполнить отзум карты кликом в контрол зума(с линейкой и ползунком) "-" до упора, пока контрол "-" не станет неактивным.  
    
  Expectation:
  Происходит корректный отзум: нет миганий, постепенно меняется отрисовка карты(пропадает цветовая рельефность, подписи).
  Кнопка "-" контрола зума(без линейки) также неактивна.
  Балун с карточкой не пропадает со спана.

Step:
  Action:
  Выполнить зум карты кликом в контрол масштабирования(с линейкой и ползунком) "+" до упора, пока контрол "+" не станет неактивным.    
  
  Expectation:
  Происходит корректный зум: нет миганий, постепенно меняется отрисовка карты(появляются подписи, появляется цветовая рельефность)
  На последнем значении зума на карте метки организаций - ПОИ, подписи дорог, иконки остановок, стрелки направления движений на некоторых дорогах.
  Кнопка "+" контрола зума(без линейки) также неактивна.

Step:
  Action:
  Выполнить 10 кликов в контрол зума "-" (без линейки и ползунка).  
    
  Expectation:
  Происходит корректный отзум: нет миганий, постепенно меняется отрисовка карты(пропадает цветовая рельефность, подписи).
  В области видимости появляется балун с карточкой "Москва; Россия".

Step:
  Action:
  Клик в контрол "Маршруты".
    
  Expectation:
  Контрол "Маршруты" окрашен желтым.
  
Step:
  Action:
  Выполнить клик в карту.
    
  Expectation:
  В месте клика появляется синяя метка "1".

Step:
  Action:
  Выполнить клик в карту на удалении от метки "1".
    
  Expectation:
  В месте клика появляется синяя метка "2".
  Между метками "1" и "2" появляется маршрутная нитка фиолетового цвета.

Step:
  Action:
  Клик в контрол "Маршруты".
    
  Expectation:
  Со спана карты пропадает маршрут и метки "1", "2".

Step:
  Action:
  Клик в контрол "Слои".
    
  Expectation:
  Под кнопкой появляется выпадающая панель со списком слоев: "Схема"(стоит галка); "Спутник"; "Гибрид"; разделитель; "Панорама".

Step:
  Action:
  Клик в списке в "Спутник".
    
  Expectation:
  Список слоев сворачивается.
  Спан карты - спутниковый снимок.
  Балун с карточкой "Москва; Россия" не пропадает.

Step:
  Action:
  Клик в контрол "Слои".
    
  Expectation:
  Под кнопкой появляется выпадающая панель со списком слоев: "Схема"; "Спутник"(стоит галка); "Гибрид"; разделитель; "Панорама".

Step:
  Action:
  Клик в списке в "Гибрид".
    
  Expectation:
  Список слоев сворачивается.
  Спан карты - спутниковый снимок с прорисованными улицами, подписями топонимов, метками ПОИ.
  Балун с карточкой "Москва; Россия" не пропадает.

Step:
  Action:
  Клик в контрол "Слои".
    
  Expectation:
  Под кнопкой появляется выпадающая панель со списком слоев: "Схема"; "Спутник"; "Гибрид"(стоит галка); разделитель; "Панорама".

Step:
  Action:
  Клик в списке в "Панорамы".
    
  Expectation:
  Список слоев сворачивается.
  Спан карты - спутниковый снимок с прорисованными улицами, подписями топонимов, метками ПОИ на которые накладываются фиолетовые нитки панорам.  
  Балун с карточкой "Москва; Россия" пропадает, на месте балуна остается синяя метка коллекции.

Step:
  Action:
  Клик в контрол фулскрин.
    
  Expectation:
  Контейнер карты и карта разворачиваются на всю величину окна браузера.
  Вместо контрола "Найти" - появляется поисковый инпут с кнопкой "Найти". В поисковом инпуте значение "Москва", под инпутом панель со сниппетом "Москва; Россия".
  В контрол "Слои" добавляется иконка с накладывающимися квадратами.
  Контрол разворачивания окна видоизменился - стрелки направлены внутрь, контрол окрашен желтым. 
  Панорамные линии и метка не пропадают.

Step:
  Action:
  Клик в контрол сворачивания карты со стрелками.
    
  Expectation:
  Контейнер карты и карта свернулись.
  Иконки из контрола "Слои" пропадают.
  Поисковая панель с инпутом пропала, вместо нее контрол "Найти".
  Контрол разворачивания карты окрашен белым.
  Панорамные линии и метка на спане карты.

Step:
  Action:
  Клик в контрол "Пробки".
    
  Expectation:
  Со спана карты пропадают линии панорам, на спане появляются разноцветные пробочные линии.
  Метка со спана карты не пропадает.

Step:
  Action:
  Клик в контрол "Город".
    
  Expectation:
  Под контролом появляется выпадающий список: "Москва"; "Новосибирск"; разделитель; "Нью-Йорк".

Step:
  Action:
  Поочередно навести курсор на значения "Москва"; "Новосибирск"; "Нью-Йорк" и выполнить клик в каждое.
    
  Expectation:
  При наведени курсора, значение в списке выделяется желтым фоном.
  По клику напротив значения появляется галка.
  Спан карты без изменений.
-->
<html>
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <script src="../../helper.js"></script>
    <script type=text/javascript>

        window.jsErrors = [];
        window.onerror = function (errorMessage) {
            window.jsErrors[window.jsErrors.length] = errorMessage;
            console.log(window.jsErrors[window.jsErrors.length])
        };

        Api('init');

        function init(ymaps) {
            ymaps = ym;

            var log = new Log();

            var myMap = new ym.Map('map', {
                center: [43.14377234385919, -25.547926780816155],
                zoom: 10,
                behaviors: ['default', 'scrollZoom']
            });

            addGrid(myMap);

            myMap.controls.add(new ymaps.control.ZoomControl({options: {size: 'small'}}), {float: 'none', position: {bottom: 75, right: 10}});
            myMap.controls.add(new ymaps.control.RouteEditor({options: {}}), {float: 'none', position: {bottom: 35, left: 10}});
            myMap.controls.add(new ymaps.control.ListBox({
                data: {
                    content: 'Город',
                    title: 'Город'
                },
                items: [
                    new ymaps.control.ListBoxItem({data: {content: 'Москва'}}),
                    new ymaps.control.ListBoxItem({data: {content: 'Новосибирск'}}),
                    new ymaps.control.ListBoxItem({options: {type: 'separator'}}),
                    new ymaps.control.ListBoxItem({data: {content: 'Нью-Йорк'}})
                ],
                options: {
                    float: 'none',
                    position: {
                        top: 60,
                        right: 9
                    }
                }
            }));
        }
    </script>
</head>
<body style="position: relative; padding: 0; margin: 0;">
<div id="map" style="height: 512px; width: 512px;"></div>
</body>
</html>