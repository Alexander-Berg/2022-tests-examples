<!DOCTYPE HTML>
<!--
Title:
Контрол: фулскрин для карты в небольшом контейнере

Description:
Проверка работы контрола фулскрин для небольшого контейнера с картой.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
control

Estimated time:
120000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть карту и элементы на ней.

  Expectation:
  Карта отобразилась корректно в небольшом контейнере.
  Над контейнером имеется кнопка "Развернуть/Свернуть".
  На карте спан Москвы, сверху справа имеется контрол масштабирования контейнера с картой.  

Step:
  Action:
  Выполнить клик в контрол масштабирования контейнера с картой.

  Expectation:
  Контейнер с картой разворачивается на всю страницу браузера.
  Контрол масштабирования активный - окрашен желтым, внутри контрола стрелки направлены внутрь.

Step:
  Action:
  Выполнить клик в контрол масштабирования контейнера с картой.

  Expectation:
  Контейнер с картой свернулся до первоначальных размеров.
  Контрол масштабирования неактивный - фон окрашен белым, внутри контрола стрелки направлены наружу.

Step:
  Action:
  Выполнить клик в кнопку "Развернуть/Свернуть".

  Expectation:
  Контейнер с картой разворачивается и увеличивается вместе с контейнером в несколько раз.

Step:
  Action:
  Выполнить клик в контрол масштабирования контейнера с картой.

  Expectation:
  Контейнер с картой разворачивается на всю страницу браузера.
  Контрол масштабирования активный - окрашен желтым, внутри контрола стрелки направлены внутрь.  

Step:
  Action:
  Выполнить клик в контрол масштабирования контейнера с картой.

  Expectation:
  Контейнер с картой свернулся до размера установленного на 4 шаге(после нажатия кнопки "Развернуть/Свернуть").
  Контрол масштабирования неактивный - фон окрашен белым, внутри контрола стрелки направлены наружу.

Step:
  Action:
  Выполнить клик в кнопку "Развернуть/Свернуть".

  Expectation:
  Контейнер с картой свернулся до первоначального размера (первый шаг).
  Контрол масштабирования неактивный - фон окрашен белым, внутри контрола стрелки направлены наружу.
-->
<html>
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="https://yandex.st/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
    <script src="../../../helper.js"></script>
    <script type=text/javascript>

        Api('init');

        var bigMap = false;

        function init(ym) {
            var map = new ym.Map('map', {
                        center: [55.72725771214265, 37.640390506634006],
                        zoom: 10,
                        behaviors: ['default', 'scrollZoom'],
                        controls: ['fullscreenControl']
                    }, {
                        autoFitToViewport: 'always'
                    });

            $('#toggler').click(toggle);
            map.container.fitToViewport();

//            addGrid(map);
        }

        function toggle() {
            bigMap = !bigMap;
            if (bigMap) {
                $('#map').removeClass('smallMap');
            } else {
                $('#map').addClass('smallMap');
            }
        }
    </script>

    <style type="text/css">
        html, body {
            width: 100%;
            height: 100%;
            font-size: 14px;
        }

        #container {
            margin: 10px;
        }

        #map {
            width: 500px;
            height: 500px;
            border: 1px solid black;
            margin: 0;
            padding: 0;
            background-color: #ccc;
            overflow: hidden;
        }

        .smallMap {
            width: 200px !important;
            height: 200px !important;
        }

        #toggler {
            left: 5px;
            top: 5px;
            font-size: 12px;
            margin-bottom: 5px;
        }
    </style>
</head>
<body>
<div id=container>
    <input type="button" value="Развернуть/Cвернуть" id="toggler"/>
    <div id="map" class="smallMap"></div>
</div>
</body>
</html>