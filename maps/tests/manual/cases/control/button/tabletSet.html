<!DOCTYPE HTML>
<!--
Title:
Контрол: дефолтный набор контролов в полноэкранном режиме 

Description:
Проверка набора контролов по умолчанию в полноэкранном режиме.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
control

Estimated time:
240000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть карту и элементы на ней.

  Expectation:
  Карта отобразилась корректно.
  На карте спан Москвы.
  На карте имеются контролы масштабирования "+/-", местоположения(стрелка), поисковый инпут с кнопкой "Найти", контрол "Пробки", "Слои", контрол масштабирования контейнера с картой, контрол линейки с масштабной линией. 

Step:
  Action:
  Выполнить 4 клика в контрол масштабирования "-".

  Expectation:
  Происходит корректный отзум карты: карта не мигает, не пропадает.
  Ползунок масштабирования перемещается вниз.
  Меняется значение на масштабной линии возле контрола линейки.
 
Step:
  Action:
  Выполнить 4 клика в контрол масштабирования "+".

  Expectation:
  Происходит корректный призум карты: карта не мигает, не пропадает.
  Ползунок масштабирования перемещается вверх.
  Меняется значение на масштабной линии возле контрола линейки.

Step:
  Action:
  Выполнить клик в контрол местоположения(стрелку).
  (Перед этим шагом необходимо настроить браузер для запроса геоданных. В Google Chrome в настройках "Конфиденциальность и безопастность" в блоке "Геоданные" выставить флаг "Спрашивать разрешение на доступ". 
  В списке разрешенных адресов вкладки "Геоданные" в подблоке "Разрешить" не должно быть URL адресов ...yandex.ru...Если URL адреса "yandex.ru" имеются удалите их, для корректного прохождения теста и появления запроса на определение местоположения)

  Expectation:
  Появляется диалоговое окно о разрешении доступа к данным о вашем местоположении, с кнопками "разрешить", "блокировать". (конфигурация кнопок и диалогового окна может варьироваться в зависимости от браузера).
  
Step:
  Action:
  В появившемся окне разрешаем доступ к данным о геолокации.

  Expectation:
  Происходит смена спана с призумом к области местоположения.
  На спане карты в центре появляется красная метка геолокации с буквой "Я".
  (местоположение метки геолокации может быть не точным)

Step:
  Action:
  Выполнить клик в поисковый инпут, ввести "Москва Кремль", выполнить клик в "Найти".

  Expectation:
  Происходит смена спана с призумом к области точки запроса.
  На карте открывается балун с карточкой Кремля.

Step:
  Action:
  Выполнить клик в кнопку "Пробки".

  Expectation:
  Кнопка меняет внешний вид: становится активной, иконка светофора окрашивается в цвет текущего значения пробок, в кнопке появляется значение бала пробок, и время.
  Также в пробке появляется шестеренка настроек.
  На спане карты появляются линии пробок.
  Балун с карточкой Кремля не закрылся.

Step:
  Action:
  Клик в "Слои", в выпавшем списке выбрать и выполнить клик в "Гибрид".

  Expectation:
  Карта меняет слой отображения на гибридный(спутниковый снимок с разметкой улиц и иконками), линии пробок и балун с карточкой Кремля не пропадают.

Step:
  Action:
  Выполнить клик в контрол масштабирования контейнера с картой.

  Expectation:
  Контейнер с картой разворачивается на всю страницу браузера.
  Спан карты без изменений(пробочные линии и балун карточки не пропадают).  
  Меняется внешний вид контрола масштабирования контейнера с картой - стрелки направлены внутрь.

Step:
  Action:
  Выполнить клик в контрол линейки.
  Выполнить два клика в спан карты на расстоянии друг от друга.

  Expectation:
  Контрол линейки становится активным - окрашен желтым.
  При клике в спан карты на нем появляется метка линейки (круглая белая метка).
  После второго клика на спане появляется вторая метка линейки, первая и вторая метки соединяются серой прямой линией, на последней выставленной метке балун с расстоянием между метками и кнопкой закрытия.
  Спан карты без изменений(пробочные линии и балун карточки не пропадают). 
-->
<html>
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <script src="../../../helper.js"></script>
    <script type=text/javascript>

        Api('init');

        function init(ymaps) {
            ymaps = ym;

            var myMap = new ym.Map('map', {
                center: [55.72725771214265, 37.640390506634006],
                zoom: 10,
                behaviors: ['default', 'scrollZoom']
            });

            addGrid(myMap);
            var log = new Log();

            log.info('Default mobile set: geolocation, search (large), traffic (large), layers (large), fullscreen, ' +
                    'zoom (large), ruler (with scale line).')
        }
    </script>
</head>
<body style="position: relative; padding: 0; margin: 0;">
<div id="map" style="height: 768px; width: 1024px;"></div>
</body>
</html>