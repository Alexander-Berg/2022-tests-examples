<!DOCTYPE HTML>
<!--
Title:
Контрол: маршрутная панель рассчет доставки

Description:
Проверка рассчета доставки с маршрутной панелью.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
control

Estimated time:
180000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть карту и элементы на ней.

  Expectation:
  Карта отобразилась корректно. 
  На карте спан Ленинградской области.
  На карте открыта маршрутная панель с заголовком "Рассчет доставки", с инпутами точек "А"(откуда) и "B"(куда), сверху панели режим маршрутов в виде иконок: авто(выделен желтым кругом), общественный траснпорт, пешеходный, такси.
  К курсору в виде руки с пальцем прилипает красная метка "A".

Step:
  Action:
  Выполнить клик в спан карты в район Приозерска.

  Expectation:
  На спане карты в месте клика появляется красная метка "A" с адресом.
  Адрес метки автоматически появляется в инпуте точки "A" в маршрутной панели.
  К курсору в виде руки с пальцем прилипает синяя метка "B".

Step:
  Action:
  Выполнить клик в спан карты на удалении от точки "A"(в район Саперное).

  Expectation:
  На спане карты в месте клика появляется синяя метка "B" с адресом.
  Адрес метки автоматически появляется в инпуте точки "B" в маршрутной панели.
  Между метками "А" и "B" появляется фиолетовая маршрутная линия(основная) и серые линии(альтернативные).
  Спан может призумится(сместиться) к области маршрута.

Step:
  Action:
  Выполнить клик иконку автобуса в маршрутной панели.

  Expectation:
  В маршрутной панели желтым кругом выделена метка с автобусом.
  Возле меток "A" и "B" появляются метки с иконкой автобусов, возле метки "B" наименование в метке с автобусом наименование остановки.
  На спане осталась только основная маршрутная линия, альтернативные линии пропадают.

Step:
  Action:
  Выполнить клик иконку с человеком в маршрутной панели.

  Expectation:
  В маршрутной панели желтым кругом выделена метка с человеком.
  Возле метки "A" появляется метка с иконкой человека с расстоянием маршрута.
  На спане основная маршрутная линия становится пунктирной.

Step:
  Action:
  Выполнить клик иконку с "шашечками" такси.

  Expectation:
  В маршрутной панели желтым кругом выделена метка с с "шашечками" такси.
  На спане основная маршрутная линия и могут быть альтернативные линии.
  В центре маршрута открывается балун с содержанием: иконка "шашечек" такси, время пути, расстояние; примерная стоимость вида: ~1115 руб.; желтая кнопка "Заказать такси".
-->
<html>
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="../../../../helper.js"></script>
    <script type=text/javascript>

        Api('init');

        function init(ymaps) {
            var myMap = new ymaps.Map('map', {
                    center: [60.906882, 30.067233],
                    zoom: 9,
                    controls: []
                }),
                // Создадим панель маршрутизации.
                routePanelControl = new ymaps.control.RoutePanel({
                    options: {
                        // Добавим заголовок панели.
                        showHeader: true,
                        title: 'Расчёт доставки'
                    }
                }),
                zoomControl = new ymaps.control.ZoomControl({
                    options: {
                        size: 'small',
                        float: 'none',
                        position: {
                            bottom: 145,
                            right: 10
                        }
                    }
                });
            // Пользователь сможет построить только автомобильный маршрут.
            routePanelControl.routePanel.options.set({
                types: {auto: true, taxi: true, pedestrian: true, masstransit: true}
            });

            myMap.controls.add(routePanelControl).add(zoomControl);
        }
    </script>
</head>
<body style="position: relative; padding: 0; margin: 0;">
<div id="map" style="height: 512px; width: 512px;"></div>
</body>
</html>