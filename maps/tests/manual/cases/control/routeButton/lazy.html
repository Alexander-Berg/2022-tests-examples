<!DOCTYPE HTML>
<!--
Title:
Контрол: открытые маршутной панели без задержек

Description:
Проверка открыти маршрутной панели без задержек в разных коонтейнерах с картой.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
control

Estimated time:
180000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть страницу и элементы на ней.

  Expectation:
  Карта отобразилась корректно. 
  На странице отображаются 4 контейнера с картой разного размера.
  
Step:
  Action:
  Осмотреть верхний контейнер.

  Expectation:
  Карта отображается корректно. 
  Контрол маршрутов отображается в виде кнопки с иконкой изогнутой стрелки.

Step:
  Action:
  Выполнить клик в контрол маршрутов.

  Expectation:
  Контрол становится активным - окрашен желтым.
  Под контролом, без задержки и появления спиннера загрузки открывается маршрутная панель, с инпутами точек "А"(откуда) и "B"(куда), сверху панели режим маршрутов в виде иконок: авто(выделен желтым кругом), общественный траснпорт, пешеходный, велосипедный.
  Инпут точки "А" активный, рамка желтая, в конце инпута стрелка геолокации.
  К курсору в виде руки с пальцем прилипает красная метка "A".  

Step:
  Action:
  Осмотреть второй сверху контейнер.

  Expectation:
  Карта отображается корректно. 
  Контрол маршрутов отображается в виде кнопки с иконкой изогнутой стрелки.

Step:
  Action:
  Выполнить клик в контрол маршрутов.

  Expectation:
  Контрол становится активным - окрашен желтым.
  Под контролом, без задержки и появления спиннера загрузки открывается маршрутная панель, с инпутами точек "А"(откуда) и "B"(куда), сверху панели режим маршрутов в виде иконок: авто(выделен желтым кругом), общественный траснпорт, пешеходный, велосипедный.
  Инпут точки "А" активный, рамка желтая, в конце инпута стрелка геолокации.
  К курсору в виде руки с пальцем прилипает красная метка "A".  

Step:
  Action:
  Осмотреть третий сверху контейнер.

  Expectation:
  Карта отображается корректно. 
  Контрол маршрутов отображается в виде кнопки с иконкой изогнутой стрелки и текстом "Маршруты".

Step:
  Action:
  Выполнить клик в контрол "Маршруты".

  Expectation:
  Контрол становится активным - окрашен желтым.
  Под контролом, без задержки и появления спиннера загрузки открывается маршрутная панель, с инпутами точек "А"(откуда) и "B"(куда), сверху панели режим маршрутов в виде иконок: авто(выделен желтым кругом), общественный траснпорт, пешеходный, велосипедный.
  Инпут точки "А" активный, рамка желтая, в конце инпута стрелка геолокации.
  К курсору в виде руки с пальцем прилипает красная метка "A".  

Step:
  Action:
  Осмотреть четвертый сверху контейнер.

  Expectation:
  Карта отображается корректно. 
  Контрол маршрутов отсуствует, в контейнере отображается маршрутная панель.

Step:
  Action:
  Выполнить клик в инпут точки "А", навести курсор на спан карты в контейнере.

  Expectation:
  Инпут точки "А" активный, рамка желтая, в конце инпута стрелка геолокации.
  К курсору в виде руки с пальцем прилипает красная метка "A".  
-->
<html>
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script src="../../../helper.js"></script>
    <script type=text/javascript>

        Api('init');

        function init(ymaps) {
            //ymaps = ym;
            __log__('Все панели должны открываться без задержек. Параметр lazy: false фиксирует это поведение. Код подгружается до фактического открытия панели');
            var map = myMap = new ymaps.Map('map', {
                center: [55.72725771214265, 37.640390506634006],
                zoom: 10
            });

            addGrid(myMap);
            myMap.controls.add(new ymaps.control.RouteButton(({lazy: false, options: {}}), {float: 'none', position: {bottom: 35, left: 10}}));

            var map1 = myMap1 = new ymaps.Map('map1', {
                center: [55.72725771214265, 37.640390506634006],
                zoom: 10
            });

            addGrid(myMap1);
            myMap1.controls.add(new ymaps.control.RouteButton(({lazy: false, options: {}})));

            var map2 = myMap2 = new ymaps.Map('map2', {
                center: [55.72725771214265, 37.640390506634006],
                zoom: 10
            });

            addGrid(myMap2);
            myMap2.controls.add(new ymaps.control.RouteButton(({lazy: false, options: {}})));

            var map3 = myMap3 = new ymaps.Map('map3', {
                center: [55.72725771214265, 37.640390506634006],
                zoom: 10
            });

            addGrid(myMap3);
            myMap3.controls.add(new ymaps.control.RoutePanel(({lazy: false, options: {}})));

        }
    </script>
    <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #map3 {
            width: 50%;
            height: 30%;
            margin: 0;
            padding: 10px;
        }
        #map2 {
            width: 50%;
            height: 30%;
            margin: 0;
            padding: 10px;
        }
        #map1 {
            width: 30%;
            height: 30%;
            margin: 0;
            padding: 10px;
        }
        #map {
            width: 20%;
            height: 30%;
            margin: 0;
            padding: 10px;
        }
    </style>
</head>
<body>
<div id="map"></div>
<div id="map1"></div>
<div id="map2"></div>
<div id="map3"></div>
</body>
</html>