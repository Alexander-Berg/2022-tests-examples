<!doctype html>
<!--
Title:
Контрол: контрол измерителя расстояний с масштабной линейкой

Description:
Проверка работы контрола измерителя расстояний с масштабной линейкой.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
control

Estimated time:
180000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть карту и элементы на ней.

  Expectation:
  Карта отобразилась корректно. 
  На карте спан водной поверхности, на спане снизу справа контрол измерителя расстояний с масштабной линейкой внутри которой значение 300км.

Step:
  Action:
  Выполнить клик в контрол измерителя расстояний.

  Expectation:
  Контрол измерителя расстояний становится активными, окрашен желтым.
  
Step:
  Action:
  Выполнить клик в спан карты.

  Expectation:
  На спане карты в месте клика появляется серая метка измерителя расстояний.

Step:
  Action:
  Выполнить клик в спан карты на удалении от первой метки.

  Expectation:
  На спане карты в месте клика появляется серая круглая метка измерителя расстояний.
  Между метками появляется немного изогнутая серая линия измерителя, на последней метке появляется балун с расстоянием между метками.
  Спан карты может сместиться для открытия балуна с расстоянием на метке измерителя.

Step:
  Action:
  Выполнить отзум скролом мыши на одно значение.

  Expectation:
  В масштабной линейке возле контрола измерителя расстояний корректное значение масштаба(~600км).
  Метки, линия измерителя и балун с расстоянием не пропадают.

Step:
  Action:
  Выполнить максимальный отзум скролом мыши.

  Expectation:
  В масштабной линейке возле контрола измерителя расстояний корректное значение (~9000-10000км, значение в линейке корректно менялось).
  Метки, линия измерителя и балун с расстоянием не пропадают.

Step:
  Action:
  Выполнить максимальный призум скролом мыши к области с меткой с балуном с расстоянием между метками.

  Expectation:
  В масштабной линейке возле контрола измерителя расстояний корректное значение (~3-5м, значение в линейке корректно менялось).
  Метка, линия измерителя и балун с расстоянием не пропадают.  
-->
<html>
<head>
    <title>API 2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <script src="../../../helper.js"></script>
    <script type="text/javascript">
        Api('init');
        function init(ym) {
            var map = myMap = new ym.Map('map', {
                        center: [34.8006, -37.5181],
                        zoom: 5,
                        controls: ["fullscreenControl"]
                    }),
                    log = new Log();

            addGrid(map);

            map.controls.add(new ym.control.RulerControl(), { floatIndex: 0 });
        }

    </script>
</head>
<body style="position: relative; padding: 0; margin: 0;">
<div id="map" style="height: 512px; width: 512px;">
</div>
</body>
</html>
