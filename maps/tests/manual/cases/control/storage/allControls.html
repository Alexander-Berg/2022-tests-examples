<!doctype html>
<!--(skip)(description)
storage basic test
-->
<!--(commands)
sleep(1000);
test();
-->
<html>
<head>
    <title>API 2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <script src="../../../helper.js"></script>
    <script type="text/javascript">
        Api('init');
        function init(ym) {
            ym.load(['control.storage'], function () {
                var map = myMap = new ym.Map('map', {
                            center: [34.8006, -37.5181],
                            zoom: 5,
                            controls: []
                        }),
                        log = new Log(),
                        storage = ym.control.storage;

                addGrid(map);

                storage.add('myControl', new ym.control.Button('ololo'));
                log.info('"myControl" added to storage - content "ololo"');
                storage.add('deletedControl', new ym.control.Button('ololo'));
                log.info('"deletedControl" added to storage - content "ololo"');
                storage.remove('deletedControl');
                log.info('"deletedControl" removed from storage');
                map.controls.add(storage.get("myControl"), { floatIndex: 0 });
                log.info('"myControl" added to map');
                log.info('storage.get(deletedControl): ' + storage.get('deletedControl'));

                map.controls.add(new (storage.get("fullscreenControl")), { floatIndex: 0 });
                map.controls.add(new (storage.get("geolocationControl")), { floatIndex: 0 });
                map.controls.add(new (storage.get("routeEditor")), { floatIndex: 0 });
                map.controls.add(new (storage.get("rulerControl")), { floatIndex: 0 });
                map.controls.add(new (storage.get("searchControl")), { floatIndex: 0 });
                map.controls.add(new (storage.get("trafficControl")), { floatIndex: 0 });
                map.controls.add(new (storage.get("typeSelector")), { floatIndex: 0 });
                map.controls.add(new (storage.get("zoomControl")), { floatIndex: 0 });
                log.info('fullscreenControl, geolocationControl, routeEditor, rulerControl, searchControl, ' +
                        'trafficControl, typeSelector, zoomControl added to map')
            });
        }

    </script>
</head>
<body style="position: relative; padding: 0; margin: 0;">
<div id="map" style="height: 512px; width: 512px;">
</div>
</body>
</html>
