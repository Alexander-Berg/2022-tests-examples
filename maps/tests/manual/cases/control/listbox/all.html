<!DOCTYPE HTML>
<!--
Title:
Контрол: виды выпадающих списков

Description:
Проверка контролов выпадающих списков.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
control

Estimated time:
240000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть карту и элементы на ней.

  Expectation:
  Карта отобразилась корректно. 
  На карте спан, сверху справа имеется контрол масштабирования контейнера с картой.  
  На спане открыто 5 выпадающих списков(контрол "Слои", контрол "content", контрол "content" с голубой меткой, контрол с изображением зеленой галки, контрол с текстом "loo..ong listbox").

Step:
  Action:
  Выполнить клик в контрол списка "Слои".

  Expectation:
  При клике все списки на спане карты свернулись, на спане только контролы.

Step:
  Action:
  Последовательно навести курсор на все контролы выпадающих списков(контрол "Слои", контрол "content", контрол "content" с голубой меткой, контрол с изображением зеленой галки, контрол с текстом "loo..ong listbox").

  Expectation:
  При наведении курсора на контрол смена курсора на палец.  
  На контролах "Слои", "content" с голубой меткой хинт отсутсвует.
  На контроле "content" хинт: "контент", на контроле с изображением зеленой галки, хинт: "картинка", на контроле с текстом "loo..ong listbox", хинт: "long listbox".

Step:
  Action:
  Выполнить клик в контрол списка с изображением зеленой галки.

  Expectation:
  Под контролом открывается выпадающий список с узким полем и одним значением: "Первый".

Step:
  Action:
  Навести курсор на значение в списке, выполнить клик в него.

  Expectation:
  Значение в выпадающем списке при наведении курсора подсвечивается желтым фоном, по клику напротив значения появляется галка.

Step:
  Action:
  Выполнить клик в контрол списка "content" с голубой меткой.

  Expectation:
  Предыдущий список свернулся. 
  Под контролом "content" с голубой меткой открывается выпадающий список со значениями "первый", "второй", "третий", в списке напротив значения "первый" стоит галка.

Step:
  Action:
  Навести курсор на значение "первый" в списке, выполнить клик в него.

  Expectation:
  Значение в выпадающем списке при наведении курсора подсвечивается желтым фоном, по клику галка напротив значения "первый" пропала.

Step:
  Action:
  Выполнить клик в контрол списка "content".

  Expectation:
  Предыдущий список свернулся. 
  Под контролом "content" открывается выпадающий список с широким полем и одним значениями "первый".

Step:
  Action:
  Навести курсор на значение "первый" в списке, выполнить клик в него.

  Expectation:
  Значение в выпадающем списке при наведении курсора подсвечивается желтым фоном, по клику напротив значения "первый" появляется галка. 

Step:
  Action:
  Выполнить клик в контрол списка "Слои".

  Expectation:
  Предыдущий список свернулся. 
  Под контролом "Слои" открывается выпадающий список со значениями: "Схема", "Спутник", "Гибрид", "Панорама"(напротив значения "Схема" стоит галка).

Step:
  Action:
  Навести курсор на значение "Гибрид" в списке, выполнить клик в него.
  Отзумить карту скролом мыши на несколько значений.

  Expectation:
  Значение в выпадающем списке при наведении курсора подсвечивается желтым фоном, по клику список сворачивается в котрол "Слои". 
  Спан меняет отображение со схемы на спутниковый снимок с отображением элементов схемы, при отзуме в область видимости попадают материки, на которых отображаются подписи стран и топонимов, а также видны линии границ.

Step:
  Action:
  Выполнить клик в контрол списка "loo..ong listbox".

  Expectation:
  Под контролом "loo..ong listbox" открывается выпадающий список со списком значений от 1 до 20, внесто значения 11 - "выбрано:".
  Напротив значения "4" стоит галка.

Step:
  Action:
  Навести курсор на значение "выбрано:" в списке, выполнить клик в него.

  Expectation:
  Значение в выпадающем списке при наведении курсора подсвечивается желтым фоном, по клику напротив значения "выбрано:" появляется галка. 

Step:
  Action:
  Выполнить клик в контрол масштабирования карты.

  Expectation:
  Контейнер с картой разворачивается на всю страницу браузера, карта в контейнере отображается корректно.
  Контрол масштабирования активный - окрашен желтым, внутри контрола стрелки направлены внутрь.
  Выпадающий список свернулся, на спане контрол "loo..ong listbox".
-->
<html>
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <script src="../../../helper.js"></script>
    <script type=text/javascript>

        Api('init');

        function init(ymaps) {
            var map = myMap = new ym.Map('map', {
                        center: [34.8006, -37.5181],
                        zoom: 5,
                        controls: ["fullscreenControl"]
                    }),
                    log = new Log(),
                    listBoxItems1 = [
                        new ym.control.ListBoxItem({
                            data: {
                                content: "первый"
                            }
                        })
                    ],
                    listBoxItems2 = [
                        new ym.control.ListBoxItem({
                            data: {
                                content: "первый"
                            }
                        })
                    ],
                    listBoxItems3 = [
                        new ym.control.ListBoxItem({
                            data: {
                                content: "первый"
                            }
                        }),
                        new ym.control.ListBoxItem({
                            data: {
                                content: "второй"
                            }
                        }),
                        new ym.control.ListBoxItem({
                            data: {
                                content: "третий"
                            }
                        })
                    ], i = 0;

            var listBoxItems = [
                new ym.control.ListBoxItem({data: {content: "1"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({options: {selectOnClick: true,type: 'separator'}}),
                new ym.control.ListBoxItem({data: {content: "2"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "3"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "4"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "5"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "6"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "7"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "8"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "9"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "10"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "выбрано: "},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "12"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "13"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "14"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "15"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "16"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "17"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "18"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "19"},options: {selectOnClick: true}}),
                new ym.control.ListBoxItem({data: {content: "20"},options: {selectOnClick: true}})

            ];

            addGrid(map);

            log.info('Controls: content+image, image, content');

            var listBoxContent = new ym.control.ListBox({
                data: {
                    content: 'content',
                    title: 'контент'
                },
                items: listBoxItems1
            });

            var listBoxImage = new ym.control.ListBox({
                data: {
                    image: '../../../img/mark.png',
                    title: 'картинка'
                },
                items: listBoxItems2
            });

            var listBoxImageAndContent = new ym.control.ListBox({
                data: {
                    content: 'content',
                    image: 'https://cdn1.iconfinder.com/data/icons/orb/16/5.png'
                },
                items: listBoxItems3
            });

            var typeSelector = new ym.control.TypeSelector();
            var scrollListBox = new ym.control.ListBox({
                data: {
                    content: 'looooooooooooooooooooooooooong listbox',
                    title: 'long listbox'
                },
                items: listBoxItems
            });

            map.controls.add(listBoxContent, { float: 'none', position: {top: 195, left: 10} });
            map.controls.add(listBoxImage, { float: 'none', position: {bottom: 65, left: 10} });
            map.controls.add(listBoxImageAndContent, { float: 'none', position: {top: 285, left: 10} });
            map.controls.add(typeSelector, { floatIndex: 0 });
            map.controls.add(scrollListBox, { float: 'right' });

            console.log(window.myMap);

            listBoxContent.expand();
            listBoxImage.expand();
            listBoxImageAndContent.expand();
            typeSelector.expand();
            scrollListBox.expand();

            listBoxItems[4].select();
            listBoxItems3[0].select();
        }
    </script>
</head>
<body style="position: relative; padding: 0; margin: 0;">
<div id="map" style="height: 512px; width: 512px;"></div>
</body>
</html>