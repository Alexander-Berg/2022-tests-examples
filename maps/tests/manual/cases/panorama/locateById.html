<!DOCTYPE html>
<!--
Title:
Панорама: получение панорамы по заданному id

Description:
Проверка получения панорамы по заданному id.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
panorama

Estimated time:
90000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть страницу и элементы на ней. 

  Expectation:
  На странице инициализируется панорамный плеер с панорамой с видом дороги в Стамбуле.
  На панораме имеются контролы масштабирования "+/-", контрол разворачивания панорамы, контрол закрытия панорамного плеера - крестик, на наземной панораме имеются стрелки перехода к следующей панораме.
  Под панорамой имеется блок полученных данных.

Step:
  Action:
  Открыть инструменты разработчика командами Windows: Ctrl + Shift + I если у вас MacOS: ⌥ + ⌘ + I, вкладку "Console". 
  Выполнить скриншот блока данных, совместно с консолью разработчика, скрин прикрепите к тест-кейсу.

  Expectation:
  В консоли отсуствуют сообщения об ошибках, строки под панорамой дублируются в консоли, под строками объекты и массивы данных.
-->
<html>
<head>
    <title>ymaps.panorama.* Test Stand</title>
    <meta
            name="viewport"
            content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <style>
        html, body {
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
        .full, #panoPlayer {
            width: 100%;
            height: 0px;
        }
    </style>
    <script src="../../helper.js"></script>

    <script src="//yastatic.net/jquery/1.8.3/jquery.min.js"></script>
    <script>
        Api('init', 'panorama.createPlayer,panorama.locateById');

        function init(ymaps) {
            ymaps.panorama.locateById('1246494820_806458977_23_1310909688', {layer: 'yandex#panorama'}).then(function(obj){
                __log__("");
                obj[0].createPlayer('panoPlayer');
                __log__("Возвращает сферические координаты, которые задают на панорамной сфере область, занимаемую изображением. Координаты указываются в формате [thetaTop, phiRight, thetaBottom, phiLeft]");
                __log__(obj[0].getAngularBBox());
                __log__("Возвращает массив связей панорамы.");
                __log__(obj[0].getConnections());
                __log__("Возвращает систему координат, в которой заданы позиции панорамы и всех связанных с ней маркеров и связей.");
                __log__(obj[0].getCoordSystem());
                __log__("Возвращает направление взгляда по умолчанию. Будет использовано плеером при открытии панорамы.");
                __log__(obj[0].getDefaultDirection());
                __log__("Возвращает размер области обзора по умолчанию. Будет использовано плеером при открытии панорамы.");
                __log__(obj[0].getDefaultSpan());
                __log__("Возвращает граф панорам, связанных с текущей, для осуществления быстрых переходов.");
                __log__(obj[0].getGraph());
                __log__("Возвращает слой, которому принадлежит панорама.");
                __log__(obj[0].getLayer());
                __log__("Возвращает массив маркеров в панораме.");
                __log__(obj[0].getMarkers());
                __log__("Возвращает название панорамы, отображаемое плеером в интерфейсе.");
                __log__(obj[0].getName());
                __log__("Возвращает положение панорамы в указанной в опциях системе координат. Задается в формате [lon, lat, height], [lat, lon, height] или [x, y, height] в зависимости от системы и порядка координат. height – высота панорамы, заданная относительно некоторого уровня (не обязательно уровня моря).");
                __log__(obj[0].getPosition());
                __log__("Возвращает массив переходов на связанные панорамы.");
                __log__(obj[0].getThoroughfares());
                __log__("Возвращает массив уровней масштабирования панорамного изображения.");
                __log__(obj[0].getTileLevels());
                __log__("Возвращает размер тайлов, на которые нарезано панорамное изображение.");
                __log__(obj[0].getTileSize());
            })
        }
    </script>
</head>
<style>
    html, body {
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
    }

    .wrapper {
        position: relative;
    }

    #panoPlayer {
        width: 100%;
        height: 100%;
    }
</style>
<body>
<div id="panoPlayer"></div>
</div>
</body>
</html>
