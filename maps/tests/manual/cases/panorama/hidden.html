<!DOCTYPE HTML>
<!--
Title:
Панорама: инициализация панорамного плеера во вкладках

Description:
Проверка инициализации панорамного плеера во вкладках.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
panorama

Estimated time:
120000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть страницу и элементы на ней. 

  Expectation:
  На странице контейнер с вкладками, во вкладке "Описание" панорама ВДНХ.
  На панораме имеются контролы масштабирования "+/-", контрол разворачивания панорамы, контрол закрытия панорамного плеера - крестик, также на панораме имеются стрелка перехода к следующей панораме.

Step:
  Action:
  Выполнить клик во вкладку "Москва".
  Зажав ЛКМ на панорамном плеере перемещать панорамное изображение и просмотреть всю панораму изображения (сделать оборот на 360 градусов).

  Expectation:
  Происходит смена вкладки, во вкладке панорама центра Москвы.
  На панораме имеются контролы масштабирования "+/-", контрол разворачивания панорамы, контрол закрытия панорамного плеера - крестик, также на панораме имеются стрелка перехода к следующей панораме.
  Перемещение панорамного изображение внутри контейнера корректное, панорама не пропадает, не мигает, нет заметных тормозов.

Step:
  Action:
  Выполнить клик во вкладку "Питер".
  Зажав ЛКМ выполнить драг панорманого изображения. 

  Expectation:
  Происходит смена вкладки, во вкладке панорама центра Санкт-Петербурга.
  На панораме имеются контролы масштабирования "+/-", контрол разворачивания панорамы, контрол закрытия панорамного плеера - крестик, также на панораме имеются стрелка перехода к следующей панораме.
  Драг панорамного изображение внутри контейнера корректный, панорама не пропадает, не мигает, нет заметных тормозов.

Step:
  Action:
  Выполнить клик во вкладку "Казань".
  Клик в стрелку перехода к следующей панораме панорамного плеера.

  Expectation:
  Происходит смена вкладки, во вкладке панорама центра Казани.
  На панораме имеются контролы масштабирования "+/-", контрол разворачивания панорамы, контрол закрытия панорамного плеера - крестик, также на панораме имеются стрелка перехода к следующей панораме.
  По клику в стрелку, панорамное изображение переместилось в новую точку панорамы.
-->
<html>
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <script src="https://yandex.st/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
    <script src="https://yandex.st/jquery-ui/1.8.16/jquery-ui.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="https://yandex.st/jquery-ui/1.8.15/themes/humanity/jquery.ui.all.min.css"
          type="text/css"/>
    <script src="../../helper.js"></script>
    <script type=text/javascript>

        Api('init');

        function init(ymaps) {
            ymaps = ym;

            $('#tabs').tabs();
            ymaps.ready(['panorama.createPlayer'])
                    .then(function () {
                        return ymaps.panorama.createPlayer(
                                'tab-1',
                                [55.834039, 37.623359],
                                {
                                    direction: [0, 0],
                                    renderer: location.search.slice(1) || 'gl'
                                }
                        );
                    });

            ymaps.ready(['panorama.createPlayer'])
                    .then(function () {
                        return ymaps.panorama.createPlayer(
                                'tab-2',
                                [55.753215, 37.622504],
                                {
                                    direction: [0, 0],
                                    renderer: location.search.slice(1) || 'gl'
                                }
                        );
                    });
            ymaps.ready(['panorama.createPlayer'])
                    .then(function () {
                        return ymaps.panorama.createPlayer(
                                'tab-3',
                                [59.939095, 30.315868],
                                {
                                    direction: [0, 0],
                                    renderer: location.search.slice(1) || 'gl'
                                }
                        );
                    });
            ymaps.ready(['panorama.createPlayer'])
                    .then(function () {
                        return ymaps.panorama.createPlayer(
                                'tab-4',
                                [55.798551, 49.106324],
                                {
                                    direction: [0, 0],
                                    renderer: location.search.slice(1) || 'gl'
                                }
                        );
                    });

        }
    </script>
</head>
<body style="position: relative; padding: 0; margin: 0;">
<div id="tabs" style="width: 512px; height: 570px;">
    <ul>
        <li><a href="#tab-1">Описание</a></li>
        <li><a href="#tab-2">Москва</a></li>
        <li><a href="#tab-3">Питер</a></li>
        <li><a href="#tab-4">Казань</a></li>
        <li><a href="#tab-5">iframe</a></li>
    </ul>
    <div id="tab-1" style="width: 512px; height: 512px; padding: 0;">
    </div>
    <div id="tab-2" style="width: 512px; height: 512px; padding: 0;"></div>
    <div id="tab-3" style="width: 512px; height: 512px; padding: 0;"></div>
    <div id="tab-4" style="width: 512px; height: 512px; padding: 0;"></div>
    <div id="tab-5" style="width: 512px; height: 512px; padding: 0;">
        <iframe src="http://jsapi.sergeiiak.alexa.maps.dev.yandex.ru/api/2.1/panorama/locate.html" frameborder="1" allowfullscreen="true" width="512px" height="512px"></iframe>
    </div>
</div>
</body>
</html>