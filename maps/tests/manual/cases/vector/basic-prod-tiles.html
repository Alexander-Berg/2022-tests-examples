<!DOCTYPE html>
<html>
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <script src="../../helper.js"></script>
    <script type="text/javascript" src="https://api-maps.tst.c.maps.yandex.ru/2.1.77/?lang=ru_RU&mode=debug&apikey=b027f76e-cc66-f012-4f64-696c7961c395&host_config[hosts][mapTiles]=https%3A%2F%2Fvec0%25d.maps.yandex.net%2Ftiles%3Fl%3Dmap%26%25c%26%25l&host_config[hosts][apiCoverageService]=https%3A%2F%2Fapi-maps.yandex.ru%2Fservices%2Fcoverage%2F&host_config[hosts][traffic]=https%3A%2F%2Fcore-jams-rdr.maps.yandex.net%2F&host_config[hosts][trafficArchive]=https%3A%2F%2Fjft.maps.yandex.net%2F&host_config[hosts][stvTiles]=https%3A%2F%2F0%25d.core-stv-renderer.maps.yandex.net%2F2.x%2Ftiles%3Fl%3Dstv%26%25c%26v%3D%25v%26%25l%26format%3Dpng&host_config[hosts][vectorMapTiles]=https%3A%2F%2Fvec0%7B%7BhostAlias%7D%7D.maps.yandex.net%2Fvmap2%2F&host_config[hosts][vectorTiles]=https%3A%2F%2Fvec0%7B%7BhostAlias%7D%7D.maps.yandex.net%2Fvmap2%2Ftiles%3Flang%3D%7B%7Blang%7D%7D%26x%3D%7B%7Bx%7D%7D%26y%3D%7B%7By%7D%7D%26z%3D%7B%7Bz%7D%7D%26zmin%3D%7B%7Bzmin%7D%7D%26zmax%3D%7B%7Bzmax%7D%7D&host_config[hosts][vectorImages]=https%3A%2F%2Fvec0%7B%7BhostAlias%7D%7D.maps.yandex.net%2Fvmap2%2Ficons%3Fid%3D%7B%7Bid%7D%7D%26scale%3D%7B%7Bscale%7D%7D&host_config[hosts][vectorMeshes]=https%3A%2F%2Fvec0%7B%7BhostAlias%7D%7D.maps.yandex.net%2Fvmap2%2Fmeshes%3Fid%3D%7B%7Bid%7D%7D&host_config[hosts][vectorGlyphs]=https%3A%2F%2Fvec0%7B%7BhostAlias%7D%7D.maps.yandex.net%2Fvmap2%2Fglyphs%3Flang%3D%7B%7Blang%7D%7D%26font_id%3D%7B%7BfontId%7D%7D%26range%3D%7B%7Brange%7D%7D"></script>
    <style>
        html, body, #map {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<script type=text/javascript>
    addLinks();

    window.onerror = function(err) {
        __log__(err);
    };

    ymaps.ready(init);

    function init() {
        ymaps.modules.require(['Map']).spread(
            function (Map, vectorInit) {
                var map = new Map('map', {
                    center: [55.753930, 37.621401],
                    zoom: 10
                }, {
                    vector: true,
                    layerVectorRevealThreshold: 0
                });

                map.events.add('boundschange', () => {
                    console.log('zoom: ' + map.getZoom());
                });
                map.layers.events.add('vectorreveal', () => __log__('Вектор показался'));
                map.layers.events.add('vectorerror', () => __log__('Вектор упал'));
            },
            function () {
                console.log(arguments);
            }
        ).fail(function (err) {
            console.log(err);
        });
    }
</script>
<div id="map"></div>
</body>
</html>
