<!DOCTYPE HTML>
<!--
Title:
Вектор: опция отключения интерактивности ПОИ и зданий

Description:
Проверка опции отключения интерактивности ПОИ и зданий.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components:
vector

Estimated time:
240000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть страницу и элементы на ней. 

  Expectation:
  Карта отобразилась корректно, со спаном Москвы(Москва-сити), отображается векторная карта.
  Сверху слева имеются кнопки "POI", "Build".

Step:
  Action:
  Поводить курсором по меткам ПОИ/транспортным меткам, а также моделям зданий на карте.
  
  Expectation:
  При наведении курсора на ПОИ/транспортные метки курсор меняется на палец, ховер эффект на иконках - окрашивание иконки в красный цвет.
  При наведении курсора на модель здания курсор меняется на палец, ховер эффект на зданиях - цвет модели здания затемняется.

Step:
  Action:
  Выполнить клик в несколько меток ПОИ/транспортных меток, а также несколько моделей зданий на карте.
  
  Expectation:
  По клику в ПОИ/транспортную метку/модель здания на карте открывается балун с корректной информацией о ПОИ/метке/здании.

Step:
  Action:
  Закрыть последний открытый балун на карте, затем выполнить клик в кнопку "POI".
  Поводить курсором по меткам ПОИ/транспортным меткам, а также моделям зданий на карте.
  
  Expectation:
  После клика в "POI" при наведении на ПОИ/транспортные метки курсор остается рукой, ховер эффекта нет.
  При наведении курсора на модель здания курсор меняется на палец, ховер эффект на зданиях - цвет модели здания затемняется.

Step:
  Action:
  Выполнить клик в несколько меток ПОИ/транспортных меток, а также несколько моделей зданий на карте.
  
  Expectation:
  По клику в ПОИ/транспортную метку на карте ничего не происходит, балун не открывается.
  По клику в модель здания на карте открывается балун с корректной информацией о здании.

Step:
  Action:
  Закрыть последний открытый балун на карте, затем выполнить клик в кнопку "Build".
  Поводить курсором по меткам ПОИ/транспортным меткам, а также моделям зданий на карте.
  
  Expectation:
  После клика в "Build" при наведении на ПОИ/транспортные метки/модели зданий курсор остается рукой, ховер эффекта нет.

Step:
  Action:
  Выполнить клик в несколько меток ПОИ/транспортных меток, а также несколько моделей зданий на карте.
  
  Expectation:
  По клику в ПОИ/транспортную метку/модели зданий на карте ничего не происходит, балун не открывается.

Step:
  Action:
  Выполнить клик в кнопку "POI".
  Поводить курсором по меткам ПОИ/транспортным меткам, а также моделям зданий на карте.
  
  Expectation:
  При наведении курсора на ПОИ/транспортные метки курсор меняется на палец, ховер эффект на иконках - окрашивание иконки в красный цвет.
  При наведении курсора на модель здания курсор курсор остается рукой, ховер эффекта нет.

Step:
  Action:
  Выполнить зум/отзум спана карты, а также статичный и инертный драг карты.
  Поводить курсором по меткам ПОИ/транспортным меткам, а также моделям зданий на карте.
  
  Expectation:
  При зуме/отзуме есть анимация вырастания зданий, при взаимодейтсвии с картой отображение векторной карты корректное.
  При наведении курсора на ПОИ/транспортные метки курсор меняется на палец, ховер эффект на иконках - окрашивание иконки в красный цвет.
  При наведении курсора на модель здания курсор курсор остается рукой, ховер эффекта нет.

Step:
  Action:
  Выполнить клик в несколько меток ПОИ/транспортных меток, а также несколько моделей зданий на карте.
  
  Expectation:
  По клику в ПОИ/транспортную метку на карте открывается балун с корректной информацией.
  По клику в модель здания на карте ничего не происходит, балун не открывается.

Step:
  Action:
  Выполнить клик в кнопку "Build".
  Поводить курсором по меткам ПОИ/транспортным меткам, а также моделям зданий на карте.
  
  Expectation:
  При наведении курсора на ПОИ/транспортные метки курсор меняется на палец, ховер эффект на иконках - окрашивание иконки в красный цвет.
  При наведении курсора на модель здания курсор меняется на палец, ховер эффект на зданиях - цвет модели здания затемняется.

Step:
  Action:
  Выполнить зум/отзум спана карты, а также статичный и инертный драг карты.
  Поводить курсором по меткам ПОИ/транспортным меткам, а также моделям зданий на карте.
  
  Expectation:
  При зуме/отзуме есть анимация вырастания зданий, при взаимодейтсвии с картой отображение векторной карты корректное.
  При наведении курсора на ПОИ/транспортные метки курсор меняется на палец, ховер эффект на иконках - окрашивание иконки в красный цвет.
  При наведении курсора на модель здания курсор меняется на палец, ховер эффект на зданиях - цвет модели здания затемняется.

Step:
  Action:
  Выполнить клик в несколько меток ПОИ/транспортных меток, а также несколько моделей зданий на карте.
  
  Expectation:
  По клику в ПОИ/транспортную метку/модель здания на карте открывается балун с корректной информацией о ПОИ/метке/здании.
-->
<html>
<head>
    <title>2.1</title>
    <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script src="../../helper.js"></script>
    <script type=text/javascript>
    Api('init', undefined, undefined, undefined, undefined, 'ymaps', undefined);

        function init(ymaps) {
            //ymaps = ym;

            var map = new ymaps.Map('map', {
                center: [55.748609, 37.539852],
                zoom: 17,
                controls:[],
                behaviors: ['default', 'scrollZoom']
            }, {
                vector: true
            });

            var disablePoi = new ymaps.control.Button('POI');
            disablePoi.events
                    .add('select', function () {
                        map.options.set('layerVectorDisablePoiInteractivity', true);
                    })
                    .add('deselect', function () {
                        map.options.set('layerVectorDisablePoiInteractivity', false);
                    }); 
            var disableBuild = new ymaps.control.Button('Build');
            disableBuild.events
                    .add('select', function () {
                        map.options.set('layerVectorDisableBuildingsInteractivity', true);
                    })
                    .add('deselect', function () {
                        map.options.set('layerVectorDisableBuildingsInteractivity', false);
                    });     
            map.controls.add(disablePoi, {position: {top: 45, left: 50}});
            map.controls.add(disableBuild, {position: {top: 45, left: 100}});
            addGrid(map);
            var log = new Log();

            map.layers.events.add('vectorreveal', () => __log__('Вектор показался'));
            map.layers.events.add('vectorerror', () => __log__('Вектор упал'));

        }
    </script>
    <style>
        html, body, #map {
            width: 90%;
            height: 90%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div id="map"></div>
</body>
</html>