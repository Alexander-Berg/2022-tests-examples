<!DOCTYPE HTML>
<!--
Title:
Менеджер объектов: добавление не точечных объектов через менеджер объектов

Description:
Проверка добавления не точечных объектов через менеджер объектов. 
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
objectManager

Estimated time:
60000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть карту и элементы на ней.

  Expectation:
  Карта отобразилась корректно, на спане слева метка коллекции, в центре треугольник с внутренним контуром треугольника, справ видна линия.
  
Step:
  Action:
  Поводить курсором по метке коллекции, фигурам.

  Expectation:
  При наведении на объекты появляется хинт "Текст всплывающей подсказки".

Step:
  Action:
  Выполнить клик в метку коллекции.

  Expectation:
  Происходит смещение спана карты, вместо метки открывается балун "Содержимое балуна".
-->
<html>
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <script src="../../helper.js"></script>
    <script type=text/javascript>

        Api('init');

        function init(ymaps) {
            ymaps = ym;

            var map = myMap = new ymaps.Map('map', {
                center: [55.71466959795576, 36.19405097363206],
                zoom: 8,
                // Добавим к стандартным поведениям карты зум колесом мыши.
                behaviors: ['default', 'scrollZoom'],
                controls: ['fullscreenControl']
            });
            var currentId = 0;

            addGrid(myMap);
            var log = new Log();

            var objectManager = new ym.ObjectManager({clusterize: false});

            objectManager.add({
                type: 'Feature',
                id: currentId++,
                geometry: { type: "Polygon", coordinates: [
                    [
                        [55.71466959795576, 36.19405097363206],
                        [55.69916152384017, 35.87476081249928],
                        [55.542183219694834, 35.947545236327414],
                        [55.71466959795576, 36.19405097363206]
                    ],[
                        [55.670455288692956, 35.91595954296804],
                        [55.59820829805356, 35.96127814648367],
                        [55.68597480037769, 36.12469977734303],
                        [55.670455288692956, 35.91595954296804]
                    ]
                ] },
                properties: {
                    hintContent: 'Текст всплывающей подсказки',
                    balloonContent: 'Содержимое балуна'
                }
            });
            objectManager.add({
                type: 'Feature',
                id: currentId++,
                geometry: { type: "LineString", coordinates: [
                    [55.790716316844474, 37.50037536621043],
                    [55.680690559796844, 37.442572021483656],
                    [55.788698241203036, 37.38720397949171]
                ] },
                properties: {
                    hintContent: 'Текст всплывающей подсказки',
                    balloonContent: 'Содержимое балуна'
                }
            });
            objectManager.add({
                type: 'Feature',
                id: currentId++,
                geometry: { type: "Circle", coordinates: [55.73211355439117, 38.097131347654376], radius: 5000 },
                properties: {
                    hintContent: 'Текст всплывающей подсказки',
                    balloonContent: 'Содержимое балуна'
                }
            });
            objectManager.add({
                type: 'Feature',
                id: currentId++,
                geometry: { type: "Rectangle", coordinates: [
                    [55.785448262083506, 37.816636657710355],
                    [55.68782209653647, 37.945726013178486]
                ] },
                properties: {
                    hintContent: 'Текст всплывающей подсказки',
                    balloonContent: 'Содержимое балуна'
                }
            });
            objectManager.add({
                type: 'Feature',
                id: currentId++,
                geometry: {
                    type: 'Point',
                    coordinates: [56.23, 34.79]
                },
                properties: {
                    hintContent: 'Текст всплывающей подсказки',
                    balloonContent: 'Содержимое балуна'
                }
            });
            objectManager.add({
                type: 'Feature',
                id: currentId++,
                geometry: {
                    type: 'Point',
                    coordinates: [56.23, 34.79]
                },
                properties: {
                    hintContent: 'Текст всплывающей подсказки',
                    balloonContent: 'Содержимое балуна'
                }
            });
            map.geoObjects.add(objectManager);

        }
    </script>
</head>
<body style="position: relative; padding: 0; margin: 0;">
<div id="map" style="height: 512px; width: 512px;"></div>
</body>
</html>