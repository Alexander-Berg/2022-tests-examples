<!DOCTYPE HTML>
<!--
Title:
Карта: определение координат клика при скрол зуме

Description:
Проверка определения координат клика при скрол зуме.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
map

Estimated time:
120000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть карту и элементы на ней. 
  
  Expectation:
  Карта отобразилась корректно, со спаном Углича, в контейнере дефолтный набор контролов.
  
Step:
  Action:
  Выполнить 11 кликов в контрол зума "-". 
  
  Expectation:
  Происходит корректный отзум спана карты, на последнем значении контрол зума "-" неактивен, на спане карта мира.

Step:
  Action:
  Выполнить сильный призум скролом с помощью колеса мыши, во время призума выполнить клик в спан карты. 
  
  Expectation:
  Происходит корректный призум: карта не пропадает, не мигает цветами.
  При клике под контейнером с картой появляются координаты клика(если клик в районе Москвы координаты вида: 55.75..., 37.62...).

Step:
  Action:
  Выполнить сильный отзум скролом с помощью колеса мыши, во время отзума выполнить клик в спан карты. 
  
  Expectation:
  Происходит корректный отзум: карта не пропадает, не мигает цветами.
  При клике под контейнером с картой появляются координаты клика(если клик в районе Москвы координаты вида: 55.75..., 37.62...).

Step:
  Action:
  Выполнить сильный призум с помощью тачпада, во время призума выполнить клик в спан карты(при отсуствии тачпада повторить действия с использованием мыши). 
  
  Expectation:
  Происходит корректный призум: карта не пропадает, не мигает цветами.
  При клике под контейнером с картой появляются координаты клика(если клик в районе Москвы координаты вида: 55.75..., 37.62...).

Step:
  Action:
  Выполнить сильный отзум с помощью тачпада, во время отзума выполнить клик в спан карты(при отсуствии тачпада повторить действия с использованием мыши). 
  
  Expectation:
  Происходит корректный отзум: карта не пропадает, не мигает цветами.
  При клике под контейнером с картой появляются координаты клика(если клик в районе Москвы координаты вида: 55.75..., 37.62...).
-->
<html>
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <script src="../../../helper.js"></script>
    <script type=text/javascript>

        Api('init');

        function init(ymaps) {
            var myMap = new ymaps.Map("map", {
                center: [57.5262, 38.3061], // Углич
                zoom: 11
            }, {
                balloonMaxWidth: 200
            });
            __log__("Должны показываться правильные координаты клика во время зума.");
            myMap.events.add('click', function (e) {
                var coords = e.get('coords');
                if(coords[0] > 58 || coords[0] < 57 || coords[1] > 39 || coords[1] < 38) __log__(coords);
            });

        }
    </script>
</head>
<body>
<div id="map" style="height: 512px; width: 512px;"></div>
</body>
</html>