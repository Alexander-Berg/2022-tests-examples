<!DOCTYPE HTML>
<!--
Title:
Геообъект: содержимое иконки метки

Description:
Проверка опции содержимого иконки метки.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
geoobject

Estimated time:
180000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть карту и элементы на ней. 
  
  Expectation:
  Карта отобразилась корректно.
  На спане карты вертикально в рядах расположены круглые метки разных цветов внутри меток цифры от 1 до 15, также на спане метки с цифрами "99", "999".

Step:
  Action:
  Поочередно навести курсор на все метки на спане карты.
  
  Expectation:
  При наведении курсор меняется на палец, у метки ховер эффект - меняется пресет, обрамление метки становится красного цвета.
  После покидания курсором пресет метки возвращается к первоначальному.
  Содержимое метки при наведении курсора и ховере не пропадает, не мигает.
-->
<html>
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <script src="../../../helper.js"></script>
    <script type=text/javascript>

        Api('init');

        function init(ymaps) {
            ymaps = ym;

            var map = myMap = new ym.Map('map', {
                center: [55.716901946294286, 37.30336807048247],
                zoom: 15,
                behaviors: ['default', 'scrollZoom'],
                controls: ['fullscreenControl']
            });

            addGrid(myMap);
            var log = new Log();

            log.info('Preset changes on hover.');
            log.info('Check iconContent before and after statechange.');

            var collection = new ymaps.GeoObjectCollection();

            var circle1 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.711, 37.307] }, properties: {iconContent: '1'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#blueCircleIcon'});
            var circle2 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.712, 37.307] }, properties: {iconContent: '2'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#darkblueCircleIcon'});
            var circle3 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.713, 37.307] }, properties: {iconContent: '3'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#darkgreenCircleIcon'});
            var circle4 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.714, 37.307] }, properties: {iconContent: '4'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#darkorangeCircleIcon'});
            var circle5 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.715, 37.307] }, properties: {iconContent: '5'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#greenCircleIcon'});
            var circle6 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.716, 37.307] }, properties: {iconContent: '6'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#greyCircleIcon'});
            var circle7 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.717, 37.307] }, properties: {iconContent: '7'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#lightblueCircleIcon'});
            var circle8 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.718, 37.307] }, properties: {iconContent: '8'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#nightCircleIcon'});
            var circle9 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.719, 37.307] }, properties: {iconContent: '9'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#orangeCircleIcon'});
            var circle10 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.720, 37.307] }, properties: {iconContent: '10'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#pinkCircleIcon'});
            var circle11 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.721, 37.307] }, properties: {iconContent: '11'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#redCircleIcon'});
            var circle12 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.722, 37.307] }, properties: {iconContent: '12'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#violetCircleIcon'});
            var circle13 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.711, 37.3085] }, properties: {iconContent: '13'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#oliveCircleIcon'});
            var circle14 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.712, 37.3085] }, properties: {iconContent: '14'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#yellowCircleIcon'});
            var circle15 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.713, 37.3085] }, properties: {iconContent: '15'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#brownCircleIcon'});
            var circle16 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.714, 37.3085] }, properties: {iconContent: '99'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#blackCircleIcon'});
            var circle17 = new ymaps.GeoObject({
                geometry: { type: "Point", coordinates: [55.715, 37.3085] }, properties: {iconContent: '999'}
            }, {id: 'geoObjectPlacemark', preset: 'islands#grayCircleIcon'});

            collection
                    .add(circle1)
                    .add(circle2)
                    .add(circle3)
                    .add(circle4)
                    .add(circle5)
                    .add(circle6)
                    .add(circle7)
                    .add(circle8)
                    .add(circle9)
                    .add(circle10)
                    .add(circle11)
                    .add(circle12)
                    .add(circle13)
                    .add(circle14)
                    .add(circle15)
                    .add(circle16)
                    .add(circle17);

            myMap.geoObjects.add(collection);

            changePreset(circle1, 'islands#redCircleIcon', 'islands#blueCircleIcon');
            changePreset(circle2, 'islands#redCircleIcon', 'islands#darkblueCircleIcon');
            changePreset(circle3, 'islands#redCircleIcon', 'islands#darkgreenCircleIcon');
            changePreset(circle4, 'islands#redCircleIcon', 'islands#darkorangeCircleIcon');
            changePreset(circle5, 'islands#redCircleIcon', 'islands#greenCircleIcon');
            changePreset(circle6, 'islands#redCircleIcon', 'islands#greyCircleIcon');
            changePreset(circle7, 'islands#redCircleIcon', 'islands#lightblueCircleIcon');
            changePreset(circle8, 'islands#redCircleIcon', 'islands#nightCircleIcon');
            changePreset(circle9, 'islands#redCircleIcon', 'islands#orangeCircleIcon');
            changePreset(circle10, 'islands#redCircleIcon', 'islands#pinkCircleIcon');
            changePreset(circle11, 'islands#redCircleIcon', 'islands#redCircleIcon');
            changePreset(circle12, 'islands#redCircleIcon', 'islands#violetCircleIcon');
            changePreset(circle13, 'islands#redCircleIcon', 'islands#oliveCircleIcon');
            changePreset(circle14, 'islands#redCircleIcon', 'islands#yellowCircleIcon');
            changePreset(circle15, 'islands#redCircleIcon', 'islands#brownCircleIcon');
            changePreset(circle16, 'islands#redCircleIcon', 'islands#blackCircleIcon');
            changePreset(circle17, 'islands#redCircleIcon', 'islands#grayCircleIcon');

            function changePreset(obj, newPreset, oldPreset) {
                obj.events
                        .add('mouseenter', function () {
                            obj.options.set('preset', newPreset)
                        })
                        .add('mouseleave', function () {
                            obj.options.set('preset', oldPreset)
                        });
            }
        }
    </script>
</head>
<body style="position: relative; padding: 0; margin: 0;">
<div id="map" style="height: 512px; width: 512px;"></div>
</body>
</html>