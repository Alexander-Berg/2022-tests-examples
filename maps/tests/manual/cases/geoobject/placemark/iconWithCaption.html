<!DOCTYPE html>
<!--
Title:
Геообъект: ховер эффект подписи иконки метки

Description:
Проверка ховер эффекта подписи иконки метки.
Памятка по терминам: https://wiki.yandex-team.ru/eva/testing/Projects/maps-api/

Components: 
geoobject

Estimated time:
180000

Precondition:
Открыть ссылку ${currentPagePath}

Step:
  Action:
  Осмотреть карту и элементы на ней. 
  
  Expectation:
  Карта отобразилась корректно. В контейнере с картой дефолтный набор контролов.
  На спане карты 10 меток коллекции. Внизу спана круглая черная метка с подписью "О...", черная метка - запятая с подписью "1".

Step:
  Action:
  Навести курсор на черную круглую метку с подписью "О..".
  Увести курсор с метки на свободное место на спане карты.
  
  Expectation:
  При наведении курсора на метку у метки появляется хинт "1", увеличивается подпись, в котором текст "Очень длиннный, но невероятно интересный текс. '<p><br>Очень длиннный...".
  После перевода курсора на свободное место на спане карты подпись у метки пропадает.

Step:
  Action:
  Навести курсор на черную метку запятую с подписью "1".
  Увести курсор с метки на свободное место на спане карты.
  
  Expectation:
  При наведении курсора на метку у метки появляется хинт "1", увеличивается подпись, в котором текст "Очень длиннный, но неверо...".
  После перевода курсора на свободное место на спане карты подпись у метки пропадает.

Step:
  Action:
  Навести курсор на черную круглую метку. 
  Выполнить клик в метку.
  
  Expectation:
  При наведении курсора на метку у метки появляется хинт "1", увеличивается подпись, в котором текст "Очень длиннный, но невероятно интересный текс. '<p><br>Очень длиннный...".
  После клика метка пропадает, на месте метки открывается балун с содержимым: заголовком "fsdfdsfsdf"; телом "fsdfdsfsdf"; футером "fsdfdsfsdf".

Step:
  Action:
  Выполнить клик в кнопку закрытия балуна метки.
  
  Expectation:
  Балун закрывается на спане появляется круглая черная метка с подисью "Очень длиннный, но невероятно интересный текс. '<p><br>Очень длиннный...".

Step:
  Action:
  Навести курсор на черную метку запятую.
  Выполнить клик в метку.
  
  Expectation:
  При наведении курсора на метку у метки появляется хинт "1", увеличивается подпись, в котором текст "Очень длиннный, но неверо...".
  После клика метка пропадает, на месте метки открывается балун с содержимым: заголовком "fsdfdsfsdf"; телом "fsdfdsfsdf"; футером "fsdfdsfsdf".

Step:
  Action:
  Выполнить клик в кнопку закрытия балуна метки.
  
  Expectation:
  Балун закрывается на спане появляется черная метка запятая с подисью "Очень длиннный, но неверо...".
-->
<html lang="en">
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <link rel="stylesheet" type="text/css" href="https://yastatic.net/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="../../../helper.js"></script>
    <script type=text/javascript>

        Api('init');

        function init(ymaps) {

            var myMap = new ymaps.Map('map', {
                        center: [55.84, 37.73],
                        zoom: 12
                    }, {
                        searchControlProvider: 'yandex#search'
                    }),
                    myPlacemark0 = new ymaps.Placemark([55.79, 37.71], {iconCaption: '1'}, {preset: 'islands#blueDotIconWithCaption', iconColor: "black"}),
                    myPlacemark1 = new ymaps.Placemark([55.80, 37.71], {iconCaption: 'Очень длиннный, но невероятно интересный текс. ' +
                    '<p><br>Очень длиннный, но невероятно интересный текс.Очень длиннный, но невероятно интересный текс.Очень длиннный, ' +
                    'но невероятно интересный текс.Очень длиннный, но невероятно интересный текс..Очень длиннный, но невероятно интересный текс..' +
                    'Очень длиннный, но невероятно интересный текс..Очень длиннный, но невероятно интересный текс..Очень длиннный, но невероятно ' +
                    'интересный текс..Очень длиннный, но невероятно интересный текс..Очень длиннный, но невероятно интересный текс..Очень длиннный, ' +
                    'но невероятно интересный текс..Очень длиннный, но невероятно интересный текс..Очень длиннный, но невероятно интересный текс..' +
                    'Очень длиннный, но невероятно интересный текс.'}, {preset: 'islands#blueCircleDotIconWithCaption', iconCaptionMaxWidth: '20', iconColor: "black"}),
                    myPlacemark2 = new ymaps.Placemark([55.81, 37.71], {iconCaption: ''}, {preset: 'islands#blueDotIconWithCaption', iconCaptionMaxWidth: '20'}),
                    myPlacemark3 = new ymaps.Placemark([55.82, 37.71], {iconCaption: ''}, {preset: 'islands#blueCircleDotIconWithCaption'}),
                    myPlacemark4 = new ymaps.Placemark([55.83, 37.71], {iconCaption: '...........'}, {preset: 'islands#blueDotIconWithCaption'}),
                    myPlacemark5 = new ymaps.Placemark([55.84, 37.71], {iconCaption: '...........'}, {preset: 'islands#blueCircleDotIconWithCaption'}),
                    myPlacemark6 = new ymaps.Placemark([55.85, 37.71], {iconCaption: '22'}, {preset: 'islands#blueDotIconWithCaption'}),
                    myPlacemark7 = new ymaps.Placemark([55.86, 37.71], {iconCaption: 'Очень длиннный, но невероятн'}, {preset: 'islands#blueCircleDotIconWithCaption', iconCaptionMaxWidth: 200}),
                    myPlacemark8 = new ymaps.Placemark([55.87, 37.71], {iconCaption: 'Очень длиннный, но невероятно интересный текс.'}, {preset: 'islands#blueDotIconWithCaption'}),
                    myPlacemark9 = new ymaps.Placemark([55.88, 37.71], {iconCaption: 'Очень длиннный, но невероятно интересный текс.'}, {preset: 'islands#blueCircleDotIconWithCaption'}),
                    myPlacemark10 = new ymaps.Placemark([55.89, 37.71], {iconCaption: '22'}, {preset: 'islands#blueDotIconWithCaption'}),
                    myPlacemark11 = new ymaps.Placemark([55.90, 37.71],{iconCaption: '22'}, {preset: 'islands#blueCircleDotIconWithCaption'}),
                    collection = new ymaps.GeoObjectCollection();

            myPlacemark1.options.set('iconCaptionMaxWidth', 10);
            myPlacemark1.events
                    .add('mouseenter', function (e) {
                        myPlacemark1.options.set('iconCaptionMaxWidth', 3000);
                    })
                    .add('mouseleave', function (e) {

                        myPlacemark1.options.set('iconCaptionMaxWidth', 0);
                    });
            myPlacemark0.events
                    .add('mouseenter', function (e) {
                        myPlacemark0.properties.set('iconCaption', "Очень длиннный, но невероятно интересный текс.");
                    })
                    .add('mouseleave', function (e) {
                        myPlacemark0.properties.set('iconCaption', "");
                    });
            collection
                    .add(myPlacemark0)
                    .add(myPlacemark1)
                    .add(myPlacemark2)
                    .add(myPlacemark3)
                    .add(myPlacemark4)
                    .add(myPlacemark5)
                    .add(myPlacemark6)
                    .add(myPlacemark7)
                    .add(myPlacemark8)
                    .add(myPlacemark9)
                    .add(myPlacemark10)
                    .add(myPlacemark11);
            var count = 1;

            myMap.geoObjects.add(collection);
            collection.each(function(e){
                e.properties.set({
                    balloonContent: "fsdfdsfsdf",
                    balloonContentHeader: "fsdfdsfsdf",
                    balloonContentFooter: "fsdfdsfsdf",
                    balloonContentBody: "fsdfdsfsdf",
                    hintContent: count
                });

                e.options.set({
                    //iconColor: "black",
                    //cursor: "move",
                    draggable: true,
                    //hasBalloon: false,
                    hasHint: true
                    //hideIconOnBalloonOpen: false,
                    //iconOffset: [32,32],
                    //interactiveZIndex: false,
                    //interactivityModel: 'default#silent'
                    //openBalloonOnClick: false
                    //openEmptyBalloon: true,
                    //openEmptyHint: true,
                    //openHintOnHover: false,
                    //pointOverlay: 'html#placemark'
                    //syncOverlayInit: true,
                    //visible: false,
                    //zIndex: count++
                })
            })
        }
    </script>
</head>
<body>
<div id="map" style="height: 512px; width: 512px;"></div>
</body>
</html>