<!DOCTYPE HTML>
<!--(skip)(description)
geoObject.geometry: get()
-->
<!--(version)
2.1
-->
<!--(commands)
click(2);
test();
-->
<html>
<head>
    <title>2.1</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

    <script src="../../../helper.js"></script>
    <script src="../geoCS.js"></script>
    <script type=text/javascript>

        Api('init');

        function init(ymaps) {
            ymaps = ym; // hack

            var map = myMap = new ym.Map('map', {
                center: [55.73259667357658, 37.70153663432529],
                zoom: 9,
                behaviors: ['default', 'scrollZoom'],
                controls: ['fullscreenControl']
            });

            geoCSSource(ym, myMap, this);
            addGrid(myMap);
            var log = new Log();

            myMap.geoObjects
                    .add(geoObjectPlacemark)
                    .add(geoObjectPolyline)
                    .add(geoObjectPolygon)
                    .add(geoObjectRectangle)
                    .add(geoObjectRectangle)
                    .add(geoObjectCircle)
                    .add(placemark)
                    .add(polyline)
                    .add(polygon)
                    .add(rectangle)
                    .add(circle);
            check();
            function check() {
                validateValue(geoObjectPlacemark.geometry.getCoordinates(), "55.71574031323344,37.29753265380539");
                validateValue(geoObjectPolyline.geometry.getCoordinates(), "55.790716316844474,37.50037536621043,55.680690559796844,37.442572021483656,55.788698241203036,37.38720397949171");
                validateValue(geoObjectPolygon.geometry.getCoordinates(), "55.787092634473694,37.667663574218096,55.68797724922255,37.666976928710035,55.68754896639797,37.57658996581947,55.78474860376539,37.57684020996037,55.787092634473694,37.667663574218096,55.78709263446105,37.71984863281182,55.68797724922255,37.666976928710035,55.68599735621169,37.78258361816322,55.78709263446105,37.71984863281182");
                validateValue(geoObjectRectangle.geometry.getCoordinates(), "55.785448262083506,37.816636657710355,55.68782209653647,37.945726013178486");
                validateValue(geoObjectCircle.geometry.getCoordinates(), "55.73211355439117,38.097131347654376");
                validateValue(placemark.geometry.getCoordinates(), "55.912150224943986,37.29753265380539");
                validateValue(polyline.geometry.getCoordinates(), "55.97596807270264,37.49213562011659,55.86646804437069,37.43433227538992,55.97395964586614,37.37896423339792");
                validateValue(polygon.geometry.getCoordinates(), "55.97698207150061,37.571533203124304,55.977780948987515,37.66869354247962,55.876808118310706,37.66697692871001,55.87638191482625,37.565603637694494,55.97698207150061,37.571533203124304,55.97544201439153,37.71984863281182,55.876808118310706,37.66697692871001,55.8748378377763,37.78258361816322,55.97544201439153,37.71984863281182");
                validateValue(rectangle.geometry.getCoordinates(), "55.973805634187,37.81389007567776,55.87510965298843,37.95396575927215");
                validateValue(circle.geometry.getCoordinates(), "55.9238145091058,38.097131347654376");
                log.info('');
                log.info('Bounds: ');
                validateValue(geoObjectPlacemark.geometry.getBounds(), "55.71574031323344,37.29753265380539,55.71574031323344,37.29753265380539");
                validateValue(geoObjectPolyline.geometry.getBounds(), "55.68069055979064,37.38720397949171,55.79071631683815,37.50037536621038");
                validateValue(geoObjectPolygon.geometry.getBounds(), "55.68599735620547,37.57658996581947,55.787092634467356,37.78258361816322");
                validateValue(geoObjectRectangle.geometry.getBounds(), "55.68782209653028,37.81663665771033,55.7854482620772,37.945726013178486");
                validateValue(geoObjectCircle.geometry.getBounds(), "55.68717890634621,38.01754353221784,55.77699631919082,38.1767191630909");
                validateValue(placemark.geometry.getBounds(), "55.912150224943986,37.29753265380539,55.912150224943986,37.29753265380539");
                validateValue(polyline.geometry.getBounds(), "55.86646804436426,37.37896423339792,55.97596807269609,37.49213562011659");
                validateValue(polygon.geometry.getBounds(), "55.87483783776988,37.565603637694494,55.97778094898097,37.78258361816322");
                validateValue(rectangle.geometry.getBounds(), "55.87510965298202,37.81389007567776,55.97380563418048,37.95396575927215");
                validateValue(circle.geometry.getBounds(), "55.87888108521963,38.017151160222994,55.96869568029856,38.17711153508575");
                log.info('');
                log.info('Map: (map center)');
                validateValue(geoObjectPlacemark.geometry.getMap().getCenter(), "55.73259667357031,37.70153663432529");
                validateValue(geoObjectPolyline.geometry.getMap().getCenter(), "55.73259667357031,37.70153663432529");
                validateValue(geoObjectPolygon.geometry.getMap().getCenter(), "55.73259667357031,37.70153663432529");
                validateValue(geoObjectRectangle.geometry.getMap().getCenter(), "55.73259667357031,37.70153663432529");
                validateValue(geoObjectCircle.geometry.getMap().getCenter(), "55.73259667357031,37.70153663432529");
                validateValue(placemark.geometry.getMap().getCenter(), "55.73259667357031,37.70153663432529");
                validateValue(polyline.geometry.getMap().getCenter(), "55.73259667357031,37.70153663432529");
                validateValue(polygon.geometry.getMap().getCenter(), "55.73259667357031,37.70153663432529");
                validateValue(rectangle.geometry.getMap().getCenter(), "55.73259667357031,37.70153663432529");
                validateValue(circle.geometry.getMap().getCenter(), "55.73259667357031,37.70153663432529");
                log.info('');
                log.info('Pixel geometry: (pixel geometry bounds)');
                validateValue(geoObjectPlacemark.geometry.getPixelGeometry().getBounds(), "79115.61722222106,41114.91229912236,79115.61722222106,41114.91229912236");
                validateValue(geoObjectPolyline.geometry.getPixelGeometry().getBounds(), "79148.26555555538,41066.508219368865,79189.4699999998,41137.50821935377");
                validateValue(geoObjectPolygon.geometry.getPixelGeometry().getBounds(), "79217.21888888859,41068.84979834421,79292.21888888859,41134.08833388511");
                validateValue(geoObjectRectangle.geometry.getPixelGeometry().getBounds(), "79304.61722222058,41069.91229940675,79351.61722222036,41132.9122996284");
                validateValue(geoObjectCircle.geometry.getPixelGeometry().getBounds(), "79377.76518293016,41075.37275957285,79435.71926151292,41133.326838155604");
                validateValue(placemark.geometry.getPixelGeometry().getBounds(), "79115.61722222106,40987.912300310854,79115.61722222106,40987.912300310854");
                validateValue(polyline.geometry.getPixelGeometry().getBounds(), "79145.26555555536,40946.50821963655,79186.46999999978,41017.50821961539");
                validateValue(polygon.geometry.getPixelGeometry().getBounds(), "79213.21888888859,40945.331050656205,79292.21888888859,41012.08833430154");
                validateValue(rectangle.geometry.getPixelGeometry().getBounds(), "79303.6172222201,40947.91230010958,79354.61722222033,41011.91229986144");
                validateValue(circle.geometry.getPixelGeometry().getBounds(), "79377.62232464652,40951.229901619205,79435.86211979655,41009.469696769236");
                log.info('');
                log.info('Type: ');
                validateValue(geoObjectPlacemark.geometry.getType(), "Point");
                validateValue(geoObjectPolyline.geometry.getType(), "LineString");
                validateValue(geoObjectPolygon.geometry.getType(), "Polygon");
                validateValue(geoObjectRectangle.geometry.getType(), "Rectangle");
                validateValue(geoObjectCircle.geometry.getType(), "Circle");
                validateValue(placemark.geometry.getType(), "Point");
                validateValue(polyline.geometry.getType(), "LineString");
                validateValue(polygon.geometry.getType(), "Polygon");
                validateValue(rectangle.geometry.getType(), "Rectangle");
                validateValue(circle.geometry.getType(), "Circle");
                log.info('');
                log.info('Radius: (5000)');
                validateValue(geoObjectCircle.geometry.getRadius(), "5000");
                validateValue(circle.geometry.getRadius(), "5000");
                log.info('');
                log.info('Length: (3-2-3-2)');
                validateValue(geoObjectPolyline.geometry.getLength(), "3");
                validateValue(geoObjectPolygon.geometry.getLength(), "2");
                validateValue(polyline.geometry.getLength(), "3");
                validateValue(polygon.geometry.getLength(), "2");
                log.info('');
                log.info('Child geometry: (coordinates)');
                validateValue(geoObjectPolyline.geometry.getChildGeometry(1).getCoordinates(), "55.680690559796844,37.442572021483656");
                validateValue(geoObjectPolygon.geometry.getChildGeometry(1).getCoordinates(), "55.78709263446105,37.71984863281182,55.68797724922255,37.666976928710035,55.68599735621169,37.78258361816322,55.78709263446105,37.71984863281182");
                validateValue(polyline.geometry.getChildGeometry(1).getCoordinates(), "55.86646804437069,37.43433227538992");
                validateValue(polygon.geometry.getChildGeometry(1).getCoordinates(), "55.97544201439153,37.71984863281182,55.876808118310706,37.66697692871001,55.8748378377763,37.78258361816322,55.97544201439153,37.71984863281182");
                log.info('');
                log.info('Closest: (position + distance)');
                validateValue(geoObjectPolyline.geometry.getClosest([55.73259667357658, 37.70153663432529]).position, "55.768205902628736,37.48853592795018");
                validateValue(geoObjectPolyline.geometry.getClosest([55.73259667357658, 37.70153663432529]).distance, "13950.443066588685");
                validateValue(geoObjectPolygon.geometry.getClosest([55.73259667357658, 37.70153663432529]).position, "55.734274424426,37.691656722861204");
                validateValue(geoObjectPolygon.geometry.getClosest([55.73259667357658, 37.70153663432529]).distance, "648.1708052249675");
                validateValue(geoObjectRectangle.geometry.getClosest([55.73259667357658, 37.70153663432529]).position, "55.73259667357031,37.81663665771033");
                validateValue(geoObjectRectangle.geometry.getClosest([55.73259667357658, 37.70153663432529]).distance, "7230.914519946253");
                validateValue(geoObjectCircle.geometry.getClosest([55.73259667357658, 37.70153663432529]).position, "55.732210751086704,38.01754371862402");
                validateValue(geoObjectCircle.geometry.getClosest([55.73259667357658, 37.70153663432529]).distance, "19852.603450690043");
                validateValue(polyline.geometry.getClosest([55.73259667357658, 37.70153663432529]).position, "55.86646804436426,37.43433227538992");
                validateValue(polyline.geometry.getClosest([55.73259667357658, 37.70153663432529]).distance, "22427.258106347672");
                validateValue(polygon.geometry.getClosest([55.73259667357658, 37.70153663432529]).position, "55.876087497070635,37.70926023813843");
                validateValue(polygon.geometry.getClosest([55.73259667357658, 37.70153663432529]).distance, "15983.359373701041");
                validateValue(rectangle.geometry.getClosest([55.73259667357658, 37.70153663432529]).position, "55.87510965298202,37.81389007567776");
                validateValue(rectangle.geometry.getClosest([55.73259667357658, 37.70153663432529]).distance, "17361.027854183336");
                validateValue(circle.geometry.getClosest([55.73259667357658, 37.70153663432529]).position, "55.89454643913744,38.03645430178214");
                validateValue(circle.geometry.getClosest([55.73259667357658, 37.70153663432529]).distance, "27676.57840254828");
                log.info('');
                log.info('FillRule: (evenOdd)');
                validateValue(geoObjectPolygon.geometry.getFillRule(), "evenOdd");
                validateValue(polygon.geometry.getFillRule(), "evenOdd");
                log.info('');
                log.info('Contour coords: (coords)');
                validateValue(geoObjectPolygon.geometry.get([0][0]), "55.787092634473694,37.667663574218096,55.68797724922255,37.666976928710035,55.68754896639797,37.57658996581947,55.78474860376539,37.57684020996037,55.787092634473694,37.667663574218096");
                validateValue(polygon.geometry.get([0][0]), "55.97698207150061,37.571533203124304,55.977780948987515,37.66869354247962,55.876808118310706,37.66697692871001,55.87638191482625,37.565603637694494,55.97698207150061,37.571533203124304");
            }
        }
    </script>
</head>
<body style="position: relative; padding: 0; margin: 0;">
<div id="map" style="height: 512px; width: 512px;"></div>
</body>
</html>