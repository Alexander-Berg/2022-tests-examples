{
    "reactor": {
        "reactions": [
            {
                "path": "/maps/front/simple/name",
                "project": "/maps/front/Project",
                "ttl_days": 1,
                "triggers": [
                    {
                        "type": "CRON",
                        "name": "cron_trigger",
                        "cron_expression": "0 0 2 ? * MON,TUE,WED,THU,FRI *",
                        "misfire_policy": "FIRE_ALL"
                    }
                ],
                "parameters": {
                    "workflow_id": "9e21896c-bb79-474f-938d-852d9e496876",
                    "workflow_owner": "zomb-podrick",
                    "quota": "maps-front",
                    "block_results_ttl": 1,
                    "retry_policy": {
                        "type": "UNIFORM",
                        "delay": 600000,
                        "retries": 1,
                        "result_cloning_policy": "DO_NOT_CLONE"
                    }
                },
                "expressions": {},
                "inputs": {
                    "globals": {
                        "path": {
                            "type": "CONST",
                            "value": "//home/maps/front/schedulers/binary/simple/name"
                        },
                        "version": {
                            "type": "CONST",
                            "value": 1
                        }
                    }
                }
            }
        ]
    },
    "solomon": {
        "project_id": "maps-front-schedulers",
        "alerts": [
            {
                "id": "_maps_front_simple_name_delay",
                "projectId": "maps-front-schedulers",
                "name": "Reaction /maps/front/simple/name was successfully completed too long ago",
                "channels": [
                    {
                        "id": "FrontendMonitorings",
                        "config": {
                            "notifyAboutStatuses": [
                                "ALARM",
                                "ERROR",
                                "NO_DATA",
                                "OK",
                                "WARN"
                            ],
                            "repeatDelaySecs": 0
                        }
                    }
                ],
                "type": {
                    "expression": {
                        "program": "let source = series_max({project='reactor', cluster='prod', service='prod_push', mode='usertime', path='/maps/front/simple/name', attribute='status_completed_count', sensor='reaction*'});\n\n let last_point_timestamp = last(get_timestamps(source));\n\n alarm_if(false);",
                        "checkExpression": ""
                    }
                },
                "annotations": {
                    "solomon_graph_id": "reactor-reactions-failures",
                    "reactor_path": "/maps/front/simple/name",
                    "message": "",
                    "description": "{{#isAlarm}}Reaction /maps/front/simple/name was successfully completed too long ago{{/isAlarm}}",
                    "juggler_host": "maps-front-schedulers",
                    "juggler_service": "/maps/front/simple/name_delay"
                },
                "windowSecs": 90000,
                "delaySecs": 0,
                "resolvedEmptyPolicy": "RESOLVED_EMPTY_DEFAULT",
                "noPointsPolicy": "NO_POINTS_ALARM"
            }
        ]
    },
    "juggler": {
        "checks": [
            {
                "host": "maps-front-schedulers",
                "namespace": "geo.maps-front",
                "notifications": [
                    {
                        "template_name": "on_status_change",
                        "description": "telegram CRIT notification",
                        "template_kwargs": {
                            "status": [
                                "CRIT"
                            ],
                            "login": [
                                "FrontendMonitorings"
                            ],
                            "method": [
                                "telegram"
                            ]
                        }
                    },
                    {
                        "template_name": "on_status_change",
                        "description": "telegram WARN notification",
                        "template_kwargs": {
                            "status": [
                                "WARN"
                            ],
                            "login": [
                                "FrontendMonitoringsWarn"
                            ],
                            "method": [
                                "telegram"
                            ]
                        }
                    },
                    {
                        "template_name": "startrek",
                        "description": "startrek notification",
                        "template_kwargs": {
                            "status": [
                                "CRIT"
                            ],
                            "queue": "GEOMONITORINGS",
                            "components": [
                                "maps-front"
                            ],
                            "assignee": "@svc_maps-front:on-call"
                        }
                    },
                    {
                        "template_name": "on_status_change",
                        "description": "slack notification",
                        "template_kwargs": {
                            "status": [
                                "CRIT"
                            ],
                            "login": [
                                "C01LKQ0FMR7"
                            ],
                            "method": [
                                "slack"
                            ]
                        }
                    }
                ],
                "service": "/maps/front/simple/name_delay"
            }
        ]
    }
}