<!DOCTYPE html PUBLIC "-W3CDTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" style="height: 100%">
<head>
    <title>Тест</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=7"/>
    <script type="text/javascript" src="../run-test-case.js"></script>
    <!-- Code -->
    <script type="text/javascript">
        initAPI({
//            url: "production",
//            version: "2.0-stable",
            load: "package.full",
            mode: "dev"
        });
    </script>
    <script type='text/javascript'>
        ymaps.ready(function() {
            myMap = new ymaps.Map('YMapsID', {
                center: [22.8624, -11.4201],
                zoom: 5}, {
                geoObjectDraggable: true
            });
        
            var encoded = "enAdARhGZf-TUSwAtd-w_w9BAQCU418A_SnS_-DKsP9NmEkAFoQfABSrtv_B7R4A";
            var geometry = ymaps.geometry.Polygon.fromEncodedCoordinates(encoded);
            var polygon = new ymaps.GeoObject({
                geometry: geometry,
                properties: {
                    balloonContent: 'polygon'
                }
            });
            myMap.geoObjects.add(polygon);

            polygon.editor.options.set('drawOver', false);

            polygon.editor.startEditing();
            polygon.editor.startDrawing();

            polygon.events.add("balloonopen", function(e){
                var self = e.get('target');
                self.properties.set({
                    balloonContent: self.geometry.getCoordinates().length
                });
            });
        });
    </script>
</head>
<body style="height: 100%;margin: 0px 0px 0px 0px; font-family: arial, helvetica, sans-serif; font-size: 100%; background-color: #F0F0F0;">
    <div id="YMapsID" style="width: 100%; height: 100%;zoom: 1"></div>
</body>
</html>
