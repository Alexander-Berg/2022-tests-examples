// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM mail/model/login/multi-account-model.ts >>>

import Foundation

open class MultiAccountModel: MultiAccount {
  private var accountDataHandler: MailAppModelHandler
  public init(_ accountDataHandler: MailAppModelHandler) {
    self.accountDataHandler = accountDataHandler
  }

  @discardableResult
  open func switchToAccount(_ login: Login) throws -> Void {
    self.accountDataHandler.switchToAccountByLogin(login)
  }

  @discardableResult
  open func getLoggedInAccountsList() throws -> YSArray<Login> {
    return self.accountDataHandler.getLoggedInAccounts().map({
      (acc) in
      acc.login
    })
  }

  @discardableResult
  open func logoutFromAccount(_ login: Login) throws -> Void {
    return self.accountDataHandler.logoutAccount(login)
  }

  @discardableResult
  open func getCurrentAccount() throws -> Login {
    return self.accountDataHandler.getCurrentAccount().client.oauthAccount.account.login
  }

  @discardableResult
  open func getNumberOfAccounts() throws -> Int32 {
    return (try self.getLoggedInAccountsList()).length
  }

  @discardableResult
  open func addNewAccount() throws -> Void {
  }

}

