// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM mail/actions/stories/stories-block-actions.ts >>>

package com.yandex.xplat.testopithecus

import com.yandex.xplat.common.*
import com.yandex.xplat.eventus.common.*
import com.yandex.xplat.eventus.*
import com.yandex.xplat.mapi.*
import com.yandex.xplat.testopithecus.common.*

public abstract class AbstractStoriesBlockAction(type: MBTActionType): BaseSimpleAction<StoriesBlock, MBTComponent>(type) {
    open override fun requiredFeature(): Feature<StoriesBlock> {
        return StoriesBlockFeature.`get`
    }

    open override fun events(): YSArray<EventusEvent> {
        return mutableListOf()
    }

}

public open class HideStoriesBlockAction(): AbstractStoriesBlockAction(HideStoriesBlockAction.type) {
    open override fun performImpl(modelOrApplication: StoriesBlock, currentComponent: MBTComponent): MBTComponent {
        modelOrApplication.hideStories()
        return currentComponent
    }

    open override fun canBePerformed(model: App): Boolean {
        val storyModel = StoriesBlockFeature.`get`.castIfSupported(model)
        val isHidden = storyModel!!.isHidden()
        return storyModel == null || !isHidden
    }

    companion object {
        @JvmStatic val type: MBTActionType = "HideStoriesBlockAction"
    }
}

public open class OpenStoryFromBlockAction(private var position: Int): AbstractStoriesBlockAction(OpenStoryFromBlockAction.type) {
    open override fun performImpl(modelOrApplication: StoriesBlock, currentComponent: MBTComponent): MBTComponent {
        modelOrApplication.openStory(this.position)
        return currentComponent
    }

    companion object {
        @JvmStatic val type: MBTActionType = "OpenStoryFromBlockAction"
    }
}

