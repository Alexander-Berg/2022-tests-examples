// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM mail/actions/search/zero-suggest-actions.ts >>>

import Foundation

open class SearchByZeroSuggestAction: MBTAction {
  public static let type: MBTActionType = "SearchByZeroSuggestAction"
  public var request: String
  public init(_ request: String) {
    self.request = request
  }

  @discardableResult
  open func canBePerformed(_ model: App) throws -> Bool {
    return (try ZeroSuggestFeature.`get`.forceCast(model).isShown())
  }

  @discardableResult
  open func events() -> YSArray<EventusEvent> {
    return YSArray(Eventus.searchEvents.searchByZeroSuggest(self.request.length))
  }

  @discardableResult
  open func getActionType() -> String {
    return SearchByZeroSuggestAction.type
  }

  @discardableResult
  open func perform(_ model: App, _ application: App, _ history: MBTHistory) throws -> MBTComponent {
    (try ZeroSuggestFeature.`get`.forceCast(model).searchByZeroSuggest(self.request))
    (try ZeroSuggestFeature.`get`.forceCast(application).searchByZeroSuggest(self.request))
    return MaillistComponent()
  }

  @discardableResult
  open func supported(_ modelFeatures: YSArray<FeatureID>, _ applicationFeatures: YSArray<FeatureID>) -> Bool {
    return ZeroSuggestFeature.`get`.includedAll(modelFeatures, applicationFeatures)
  }

  @discardableResult
  open func tostring() -> String {
    return self.getActionType()
  }

}

