// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM mail/backend/delete-message-backend.ts >>>

import Foundation

open class DeleteMessageBackend: DeleteMessage {
  private var messageListDisplayBackend: MessageListDisplayBackend
  private var clientsHandler: MailboxClientHandler
  public init(_ messageListDisplayBackend: MessageListDisplayBackend, _ clientsHandler: MailboxClientHandler) {
    self.messageListDisplayBackend = messageListDisplayBackend
    self.clientsHandler = clientsHandler
  }

  @discardableResult
  open func deleteMessage(_ order: Int32) throws -> Void {
    let fid = self.messageListDisplayBackend.getCurrentFolderId()
    let tid = self.messageListDisplayBackend.getThreadMessage(order).tid!
    self.clientsHandler.getCurrentClient().removeMessageByThreadId(fid, tid)
  }

}

