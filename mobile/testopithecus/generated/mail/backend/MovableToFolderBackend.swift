// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM mail/backend/movable-to-folder-backend.ts >>>

import Foundation

open class MovableToFolderBackend: MovableToFolder {
  private var mailListDisplayBackend: MessageListDisplayBackend
  private var clientsHandler: MailboxClientHandler
  public init(_ mailListDisplayBackend: MessageListDisplayBackend, _ clientsHandler: MailboxClientHandler) {
    self.mailListDisplayBackend = mailListDisplayBackend
    self.clientsHandler = clientsHandler
  }

  open func moveMessageToFolder(_ order: Int32, _ folderName: String) -> Void {
    let tid = self.mailListDisplayBackend.getThreadMessage(order).tid!
    let fid = self.clientsHandler.getCurrentClient().getFolderList().filter({
      (f) in
      f.name == folderName
    })[0].fid
    self.clientsHandler.getCurrentClient().moveThreadToFolder(tid, fid)
  }

}

