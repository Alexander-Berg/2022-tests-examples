// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM tests/settings-tests.ts >>>

package com.yandex.xplat.testopithecus

import com.yandex.xplat.common.*
import com.yandex.xplat.eventus.common.*
import com.yandex.xplat.eventus.*
import com.yandex.xplat.mapi.*
import com.yandex.xplat.testopithecus.common.*

public open class OpenAboutSettingsTest(): RegularYandexMailTestBase("Settings. Открытие экрана About в настройках и проверка версии приложения") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(502).androidCase(6060)
    }

    open override fun prepareAccount(builder: MailboxBuilder): Unit {
        builder.nextMessage("subj")
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenAboutSettingsAction()).then(AssertSnapshotAction(this.description))
    }

}

public open class ClearCacheTest(): RegularYandexMailTestBase("Settings. General setting. Удаление кэша") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(8318).androidCase(7456)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.nextMessage("subj").nextMessage("subj2").nextMessage("subj3").nextMessage("subj4").nextMessage("subj5").nextMessage("subj6").nextMessage("subj7").nextMessage("subj8").nextMessage("subj9").createFolder("UserFolder").switchFolder("UserFolder").nextMessage("usr_subj").nextMessage("usr_subj2").nextMessage("usr_subj3").nextMessage("usr_subj4").nextMessage("usr_subj5").nextMessage("usr_subj6").nextMessage("usr_subj7").nextMessage("usr_subj8").nextMessage("usr_subj9")
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenGeneralSettingsAction()).then(ClearCacheAction()).then(CloseGeneralSettingsAction()).then(CloseRootSettings()).then(GoToFolderAction(DefaultFolderName.inbox)).then(AssertAction()).then(OpenFolderListAction()).then(GoToFolderAction("UserFolder")).then(AssertAction()).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenGeneralSettingsAction()).then(ClearCacheAction()).then(CloseGeneralSettingsAction()).then(CloseRootSettings()).then(GoToFolderAction("UserFolder"))
    }

}

public open class OpenAccountSettingsTest(): RegularYandexMailTestBase("Settings: Открытие настроек первого аккаунта в списке") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.androidCase(6060).ignoreOn(MBTPlatform.IOS)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.nextMessage("subj")
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenAccountSettingsAction(0))
    }

}

public open class ValidateGeneralSettingsTest(): RegularYandexMailTestBase("Settings. General settings. Отображение общих настроек.") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(403).androidCase(6096)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenGeneralSettingsAction()).then(AssertSnapshotAction(this.description))
    }

}

public open class ValidateRootSettingsTest(): RegularYandexMailTestBase("Settings. General settings. Отображение главного экрана настроек.") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(499).androidCase(6096)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(AssertSnapshotAction(this.description))
    }

}

public open class ValidateAccountSettingsTest(): RegularYandexMailTestBase("Settings. Account settings. Отображение настроек аккаунта.") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(409).androidCase(7475)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenAccountSettingsAction(0)).then(AssertSnapshotAction(this.description))
    }

}

public open class TurningOnCompactModeTest(): RegularYandexMailTestBase("Settings. General settings. Включение компактного режима.") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(21).androidCase(7442)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.nextMessage("Inbox subj1").nextMessage("Inbox subj2")
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenGeneralSettingsAction()).then(TurnOnCompactMode()).then(CloseGeneralSettingsAction()).then(CloseRootSettings()).then(GoToFolderAction(DefaultFolderName.inbox))
    }

}

public open class TurningOffCompactModeTest(): RegularYandexMailTestBase("Settings. General settings. Выключение компактного режима.") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(10890).androidCase(7443)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.createFolder("UserFolder").switchFolder("UserFolder").nextMessage("UserFolder subj1").nextMessage("UserFolder subj2")
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenGeneralSettingsAction()).then(TurnOnCompactMode()).then(CloseGeneralSettingsAction()).then(CloseRootSettings()).then(GoToFolderAction("UserFolder")).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenGeneralSettingsAction()).then(TurnOffCompactMode()).then(CloseGeneralSettingsAction()).then(CloseRootSettings()).then(GoToFolderAction("UserFolder"))
    }

}

public open class ChangingActionOnSwipeTest(): RegularYandexMailTestBase("Settings. General settings. Изменение действия по свайпу.") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(406).androidCase(7449)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.nextMessage("Inbox subj1").nextMessage("Inbox subj2").nextMessage("Inbox subj3").nextMessage("Inbox subj4").nextMessage("Inbox subj5")
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(DeleteMessageByLongSwipeAction(1)).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenGeneralSettingsAction()).then(SetActionOnSwipe(ActionOnSwipe.archive)).then(CloseGeneralSettingsAction()).then(CloseRootSettings()).then(GoToFolderAction(DefaultFolderName.inbox)).then(ArchiveMessageByLongSwipeAction(2))
    }

}

public open class ChangingSignatureTest(): RegularYandexMailTestBase("Settings. General settings. Изменение подписи.") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(412).androidCase(7466)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.nextMessage("Inbox subj1").nextMessage("Inbox subj2").nextMessage("Inbox subj3").nextMessage("Inbox subj4").nextMessage("Inbox subj5")
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenAccountSettingsAction(0)).then(ChangeSignatureAction("--\nNew signature")).then(CloseAccountSettingsAction()).then(CloseRootSettings()).then(GoToFolderAction(DefaultFolderName.inbox)).then(ComposeOpenAction())
    }

}

public open class DefaultActionOnSwipeTest(): RegularYandexMailTestBase("Settings. General settings. Действие по свайпу по-умолчанию.") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.androidCase(7448)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.nextMessage("Inbox subj1").nextMessage("Inbox subj2").nextMessage("Inbox subj3").nextMessage("Inbox subj4").nextMessage("Inbox subj5")
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenGeneralSettingsAction()).then(AssertAction()).then(CloseGeneralSettingsAction()).then(CloseRootSettings()).then(GoToFolderAction(DefaultFolderName.inbox)).then(DeleteMessageByLongSwipeAction(2))
    }

}

public open class ViewAccountSettingsInLandscapeTest(): RegularYandexMailTestBase("Settings. Account settings. Отображение настроек аккаунта в landscape.") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.androidCase(7476)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(RotateToLandscape()).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenAccountSettingsAction(0))
    }

}

public open class ViewSettingsInLandscapeTest(): RegularYandexMailTestBase("Settings. General settings. Отображение настроек в landscape.") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.androidCase(7461)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(RotateToLandscape()).then(AssertAction()).then(OpenGeneralSettingsAction())
    }

}

public open class ViewSettingsTestTab(): RegularYandexMailTestBase("Settings. General settings. Отображение настроек в landscape 2pane.") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.androidCase(7462).setTags(mutableListOf(DeviceType.Tab))
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(RotateToLandscape()).then(AssertAction()).then(OpenGeneralSettingsAction())
    }

}

public open class UndoClearCacheTest(): RegularYandexMailTestBase("Settings. Main settings. Отказаться от очиски кэша.") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.androidCase(10830)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.nextManyMessage(42)
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(SwipeDownMessageListAction()).then(SwipeDownMessageListAction()).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenGeneralSettingsAction()).then(TapToClearCacheAndCancelAction()).then(CloseGeneralSettingsAction()).then(CloseRootSettings()).then(GoToFolderAction(DefaultFolderName.inbox))
    }

}

