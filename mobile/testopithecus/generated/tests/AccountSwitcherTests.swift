// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM tests/account-switcher-tests.ts >>>

import Foundation

open class LogoutTest: MBTTest<MailboxBuilder> {
  public init() {
    super.init("should logout from yandex account after login")
  }

  @discardableResult
  open override func requiredAccounts() -> YSArray<AccountType2> {
    return YSArray(AccountType2.Yandex, AccountType2.Yandex)
  }

  open override func prepareAccounts(_ mailboxes: YSArray<MailboxBuilder>) -> Void {
    mailboxes[0].nextMessage("firstAccountMsg")
    mailboxes[1].nextMessage("secondAccountMsg")
  }

  @discardableResult
  open override func scenario(_ accounts: YSArray<UserAccount>, _ _model: AppModel!, _ _supportedFeatures: YSArray<FeatureID>) -> TestPlan {
    return TestPlan.empty().then(YandexLoginAction(accounts[0])).then(OpenFolderListAction()).then(AddNewAccountAction()).then(YandexLoginAction(accounts[1])).then(OpenFolderListAction()).then(LogoutFromAccountAction(accounts[0]))
  }

}

