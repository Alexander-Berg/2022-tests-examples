// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM tests/clear-folder-tests.ts >>>

import Foundation

open class ClearSpamTest: RegularYandexMailTestBase {
  public init() {
    super.init("FolderList. Очистка папки Спам")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(10391).androidCase(10189)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.switchFolder(DefaultFolderName.spam).nextMessage("subj1").nextMessage("subj2").nextMessage("subj3")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenFolderListAction()).then(ClearSpamFolderAction()).then(AssertAction()).then(GoToFolderAction(DefaultFolderName.spam)).then(AssertAction()).then(OpenFolderListAction()).then(GoToFolderAction(DefaultFolderName.trash))
  }

}

open class CancelClearSpamTest: RegularYandexMailTestBase {
  public init() {
    super.init("FolderList. Отмена очистки папки Спам")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(10392).androidCase(10190)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.switchFolder(DefaultFolderName.spam).nextMessage("subj1").nextMessage("subj2").nextMessage("subj3")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenFolderListAction()).then(ClearSpamFolderAction(false)).then(AssertAction()).then(GoToFolderAction(DefaultFolderName.spam))
  }

}

open class ClearTrashTest: RegularYandexMailTestBase {
  public init() {
    super.init("FolderList. Очистка папки Удаленные")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(10397).androidCase(10195)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.switchFolder(DefaultFolderName.trash).nextMessage("subj1").nextMessage("subj2").nextMessage("subj3")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenFolderListAction()).then(ClearTrashFolderAction()).then(AssertAction()).then(GoToFolderAction(DefaultFolderName.trash))
  }

}

open class CancelClearTrashTest: RegularYandexMailTestBase {
  public init() {
    super.init("FolderList. Отмена очистки папки Удаленные")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(10398).androidCase(10196)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.switchFolder(DefaultFolderName.trash).nextMessage("subj1").nextMessage("subj2").nextMessage("subj3")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenFolderListAction()).then(ClearTrashFolderAction(false)).then(AssertAction()).then(GoToFolderAction(DefaultFolderName.trash))
  }

}

