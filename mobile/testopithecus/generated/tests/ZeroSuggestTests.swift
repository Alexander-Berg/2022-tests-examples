// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM tests/zero-suggest-tests.ts >>>

import Foundation

open class SearchMessagesViaZeroSuggestTest: RegularYandexMailTestBase {
  public init() {
    super.init("ZeroSuggest. Поиск по тапу на саджест")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(597).androidCase(8292)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.nextMessage("subj 1").nextMessage("subj 2").nextMessage("subj 3").saveQueryToZeroSuggest("subj")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenSearchAction()).then(SearchByZeroSuggestAction("subj")).then(CloseSearchAction())
  }

}

open class SearchMessagesViaZeroSuggestIn2PaneTest: RegularYandexMailTestBase {
  public init() {
    super.init("ZeroSuggest. Поиск по тапу на саджест в 2pane")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(598).androidCase(8294).setTags(YSArray(DeviceType.Tab))
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.nextMessage("subj 1").nextMessage("subj 2").nextMessage("subj 3").saveQueryToZeroSuggest("subj")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(RotateToLandscape()).then(OpenSearchAction()).then(SearchByZeroSuggestAction("subj")).then(CloseSearchAction())
  }

}

open class RotateDeviceInZeroSuggestTest: RegularYandexMailTestBase {
  public init() {
    super.init("ZeroSuggest. Изменение ориентации устройства")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(602).androidCase(8300)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.nextMessage("subj 1").nextMessage("subj 2").nextMessage("subj 3").saveQueryToZeroSuggest("subj")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenSearchAction()).then(RotateToLandscape()).then(AssertAction()).then(RotateToPortrait())
  }

}

open class SaveQueryToZeroSuggestTest: RegularYandexMailTestBase {
  public init() {
    super.init("ZeroSuggest. Сохранение запроса в саджест")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(603).androidCase(8293)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.nextMessage("subj 1").nextMessage("subj 2").nextMessage("subj 3")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenSearchAction()).then(SearchByRequestAction("subj")).then(OpenMessageAction(0)).then(MessageViewBackToMailListAction()).then(CloseSearchAction()).then(OpenSearchAction()).then(SearchByZeroSuggestAction("subj"))
  }

}

open class SearchUnreadMessagesViaZeroSuggestTest: RegularYandexMailTestBase {
  public init() {
    super.init("ZeroSuggest. Поиск непрочитанного письма по тапу на саджест")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(14).androidCase(6197)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.nextMessage("subj 1").nextMessage("subj 2").nextMessage("subj 3").saveQueryToZeroSuggest("subj")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(MarkAsRead(0)).then(OpenSearchAction()).then(SearchByZeroSuggestAction("subj"))
  }

}

open class ZeroSuggestCaseInsensitiveTest: RegularYandexMailTestBase {
  public init() {
    super.init("ZeroSuggest. Проверка игнорирования регистра при сохранении запросов")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(605).androidCase(8301)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.nextCustomMessage(MessageSpecBuilder().withDefaults().addLabels(YSArray(LabelData("label1"))).withSubject("ТЕСТ")).nextCustomMessage(MessageSpecBuilder().withDefaults().addLabels(YSArray(LabelData("label1"))).withSubject("тест")).nextCustomMessage(MessageSpecBuilder().withDefaults().addLabels(YSArray(LabelData("label1"))).withSubject("ТесТ"))
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenFolderListAction()).then(GoToLabelAction("label1")).then(OpenSearchAction()).then(SearchByRequestAction("тест")).then(OpenMessageAction(0)).then(MessageViewBackToMailListAction()).then(ClearTextFieldAction()).then(SearchByRequestAction("ТЕСТ")).then(OpenMessageAction(0)).then(MessageViewBackToMailListAction()).then(ClearTextFieldAction()).then(SearchByRequestAction("ТесТ")).then(OpenMessageAction(0)).then(MessageViewBackToMailListAction()).then(ClearTextFieldAction()).then(CloseSearchAction())
  }

}

