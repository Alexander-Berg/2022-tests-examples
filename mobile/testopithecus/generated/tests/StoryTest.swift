// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM tests/story-test.ts >>>

import Foundation

open class StoriesDifferentAccountTest: MBTTest<MailboxBuilder> {
  public init() {
    super.init("should displays in different accounts and count block display")
  }

  @discardableResult
  open override func requiredAccounts() -> YSArray<AccountType2> {
    return YSArray(AccountType2.Yandex, AccountType2.Yandex, AccountType2.Yandex)
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.ignoreOn(MBTPlatform.IOS)
  }

  @discardableResult
  open override func scenario(_ accounts: YSArray<UserAccount>, _ model: AppModel!, _ supportedFeatures: YSArray<FeatureID>) -> TestPlan {
    return TestPlan.empty().then(YandexLoginAction(accounts[0])).then(OpenFolderListAction()).then(AddNewAccountAction()).then(YandexLoginAction(accounts[1])).then(OpenFolderListAction()).then(AddNewAccountAction()).then(YandexLoginAction(accounts[2])).then(RotateToLandscape()).then(RotateToPortrait()).then(RotateToLandscape()).then(RotateToPortrait()).then(RotateToLandscape()).then(RotateToPortrait()).then(RotateToLandscape()).then(RotateToPortrait())
  }

  open override func prepareAccounts(_ mailboxes: YSArray<MailboxBuilder>) -> Void {
    mailboxes[0].nextMessage("firstAccountMsg")
    mailboxes[1].nextMessage("secondAccountMsg")
    mailboxes[2].nextMessage("thirdAccountMsg")
  }

}

open class StoriesHideTest: RegularYandexMailTestBase {
  public init() {
    super.init("should hide click should hide")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.ignoreOn(MBTPlatform.IOS)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.nextMessage("firstAccountMsg")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(HideStoriesBlockAction()).then(RotateToLandscape())
  }

}

open class StoriesRotationTest: RegularYandexMailTestBase {
  public init() {
    super.init("should hide after 9 rotation")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.ignoreOn(MBTPlatform.IOS)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.nextMessage("firstAccountMsg")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(RotateToLandscape()).then(RotateToPortrait()).then(RotateToLandscape()).then(RotateToPortrait()).then(RotateToLandscape()).then(RotateToPortrait()).then(RotateToLandscape()).then(RotateToPortrait()).then(RotateToLandscape()).then(RotateToPortrait())
  }

}

