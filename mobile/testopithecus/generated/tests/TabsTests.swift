// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM tests/tabs-tests.ts >>>

import Foundation

open class MoveThreadFromMailingListToSocialNetworksTest: RegularYandexMailTestBase {
  public init() {
    super.init("Tabs. Перемещение треда из таба рассылка в таб социальные сети.")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.androidCase(544).iosCase(7586).ignoreOn(MBTPlatform.Android)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.turnOnTab().nextThread("subj1", 3).nextThread("subj2", 4)
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(ShortSwipeContextMenuMoveToFolderAction(0, DefaultFolderName.mailingLists)).then(ShortSwipeContextMenuMoveToFolderAction(0, DefaultFolderName.mailingLists)).then(OpenFolderListAction()).then(GoToFolderAction(DefaultFolderName.mailingLists)).then(ShortSwipeContextMenuMoveToFolderAction(1, DefaultFolderName.socialNetworks))
  }

}

open class MoveThreadFromSocialNetworksTabToUserFolderTest: RegularYandexMailTestBase {
  public init() {
    super.init("Tabs. Перемещение треда из таба социальные сети в пользовательскую папку.")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.androidCase(545).iosCase(7587).ignoreOn(MBTPlatform.Android)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.turnOnTab().nextThread("subj1", 3).nextThread("subj2", 4).createFolder("user_folder")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(ShortSwipeContextMenuMoveToFolderAction(0, DefaultFolderName.socialNetworks)).then(ShortSwipeContextMenuMoveToFolderAction(0, DefaultFolderName.socialNetworks)).then(OpenFolderListAction()).then(GoToFolderAction(DefaultFolderName.socialNetworks)).then(GroupModeInitialSelectAction(1)).then(GroupModeMoveToFolderAction("user_folder"))
  }

}

open class MoveThreadFromUserFolderToInboxTest: RegularYandexMailTestBase {
  public init() {
    super.init("Tabs. Перемещение треда из пользовательской папки в таб входящие.")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.androidCase(546).iosCase(7588).ignoreOn(MBTPlatform.Android)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.turnOnTab().nextThread("subj1", 3).nextThread("subj2", 4).createFolder("user_folder")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(ShortSwipeContextMenuMoveToFolderAction(0, "user_folder")).then(ShortSwipeContextMenuMoveToFolderAction(0, "user_folder")).then(OpenFolderListAction()).then(GoToFolderAction("user_folder")).then(ShortSwipeContextMenuMoveToFolderAction(1, DefaultFolderName.inbox))
  }

}

open class UndoDeleteMessageFromTabTest: RegularYandexMailTestBase {
  public init() {
    super.init("Tabs. Отмена удаления сообщения из таба Социальные сети.")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.androidCase(549).iosCase(7591).ignoreOn(MBTPlatform.Android)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.turnOnTab().nextMessage("subj1")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(ShortSwipeContextMenuMoveToFolderAction(0, DefaultFolderName.socialNetworks)).then(OpenFolderListAction()).then(GoToFolderAction(DefaultFolderName.socialNetworks)).then(ShortSwipeContextMenuDeleteAction(0)).then(UndoDeleteAction())
  }

}

open class TurnOnTabsTest: RegularYandexMailTestBase {
  public init() {
    super.init("Tabs. Включение сортировки писем (ТАБов).")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.androidCase(11524).ignoreOn(MBTPlatform.Android)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenAccountSettingsAction(0)).then(SwitchOnTabsAction(AccountType.login)).then(CloseAccountSettingsAction()).then(CloseRootSettings())
  }

}

open class TurnOffTabsTest: RegularYandexMailTestBase {
  public init() {
    super.init("Tabs. Выключение сортировки писем (ТАБов).")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.androidCase(11526).ignoreOn(MBTPlatform.Android)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.turnOnTab()
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenAccountSettingsAction(0)).then(SwitchOffTabsAction(AccountType.login)).then(CloseAccountSettingsAction()).then(CloseRootSettings())
  }

}

open class DeleteMessageByTapOnTopBarInTabTest: RegularYandexMailTestBase {
  public init() {
    super.init("Tabs. Удаление сообщения из таба социальные сети.")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.androidCase(11531).ignoreOn(MBTPlatform.Android)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.turnOnTab().nextMessage("subj1").nextMessage("subj2")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(ShortSwipeContextMenuMoveToFolderAction(0, DefaultFolderName.socialNetworks)).then(ShortSwipeContextMenuMoveToFolderAction(0, DefaultFolderName.socialNetworks)).then(OpenFolderListAction()).then(GoToFolderAction(DefaultFolderName.socialNetworks)).then(OpenMessageAction(1)).then(DeleteCurrentThreadAction())
  }

}

open class DeleteThreadInTabTest: RegularYandexMailTestBase {
  public init() {
    super.init("Tabs. Удаление треда из таба социальные сети.")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.androidCase(11604).ignoreOn(MBTPlatform.Android)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.turnOnTab().nextMessage("subj1").nextThread("subj2", 3).nextMessage("subj3")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(ShortSwipeContextMenuMoveToFolderAction(0, DefaultFolderName.socialNetworks)).then(ShortSwipeContextMenuMoveToFolderAction(0, DefaultFolderName.socialNetworks)).then(ShortSwipeContextMenuMoveToFolderAction(0, DefaultFolderName.socialNetworks)).then(OpenFolderListAction()).then(GoToFolderAction(DefaultFolderName.socialNetworks)).then(GroupModeInitialSelectAction(1)).then(GroupModeSelectAction(0)).then(GroupModeSelectAction(2)).then(GroupModeDeleteAction())
  }

}

open class UndoMoveMessageToSpamTest: RegularYandexMailTestBase {
  public init() {
    super.init("Tabs. Отмена отправки в спам сообщения из таба.")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.androidCase(11605).ignoreOn(MBTPlatform.Android)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.turnOnTab().nextMessage("subj1").nextMessage("subj2").nextThread("subj3", 3)
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(ShortSwipeContextMenuMoveToFolderAction(0, DefaultFolderName.socialNetworks)).then(ShortSwipeContextMenuMoveToFolderAction(0, DefaultFolderName.socialNetworks)).then(ShortSwipeContextMenuMoveToFolderAction(0, DefaultFolderName.socialNetworks)).then(OpenFolderListAction()).then(GoToFolderAction(DefaultFolderName.socialNetworks)).then(ShortSwipeContextMenuMarkAsSpamAction(0)).then(UndoSpamAction())
  }

}

open class UndoMoveMessageToArchiveFromInboxTabTest: RegularYandexMailTestBase {
  public init() {
    super.init("Tabs. Отмена отправки в архив сообщения из таба входящие.")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.androidCase(11606).ignoreOn(MBTPlatform.Android)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.turnOnTab().nextMessage("subj1").nextMessage("subj2").nextMessage("subj3")
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(ShortSwipeContextMenuArchiveAction(1)).then(UndoArchiveAction())
  }

}

