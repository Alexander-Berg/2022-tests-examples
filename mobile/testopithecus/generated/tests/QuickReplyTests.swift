// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM tests/quick-reply-tests.ts >>>

import Foundation

open class QuickReplyToMessageTests: RegularYandexMailTestBase {
  public init() {
    super.init("QuickReply. Отправка ответа на одиночное письмо")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(7667).androidCase(6536)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.sendMessageViaMobileApi().nextCustomMessage(MessageSpecBuilder().withDefaults().withTextBody("Как дела?").withSubject("Тема письма"))
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenMessageAction(0)).then(QuickReplyTapOnTextFieldAction()).then(QuickReplySetTextFieldAction("Хорошо")).then(QuickReplyTapOnSendButtonAction())
  }

}

open class QuickReplyIsTextFieldExpandedTests: RegularYandexMailTestBase {
  public init() {
    super.init("QuickReply. Растягивание текстового поля")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(7672).androidCase(6541)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.sendMessageViaMobileApi().nextCustomMessage(MessageSpecBuilder().withDefaults().withTextBody("Как дела?").withSubject("Тема письма"))
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenMessageAction(0)).then(QuickReplyTapOnTextFieldAction()).then(QuickReplySetTextFieldAction("Хорошо\n\n\n"))
  }

}

open class QuickReplyOpenFilledComposeTests: RegularYandexMailTestBase {
  public init() {
    super.init("QuickReply. Переход в композ из заполненного Quick Reply")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(7669).androidCase(6538)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.sendMessageViaMobileApi().nextCustomMessage(MessageSpecBuilder().withDefaults().withTextBody("Как дела?").withSubject("Тема письма"))
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenMessageAction(0)).then(QuickReplyTapOnTextFieldAction()).then(QuickReplySetTextFieldAction("Хорошо")).then(AssertAction()).then(QuickReplyTapOnComposeButtonAction())
  }

}

open class QuickReplyRotateTests: RegularYandexMailTestBase {
  public init() {
    super.init("QuickReply. Изменение ориентации устройства с введенным текстом")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(7685).androidCase(6554)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.sendMessageViaMobileApi().nextCustomMessage(MessageSpecBuilder().withDefaults().withTextBody("Как дела?").withSubject("Тема письма"))
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenMessageAction(0)).then(QuickReplyTapOnTextFieldAction()).then(QuickReplySetTextFieldAction("Хорошо")).then(RotateToLandscape())
  }

}

open class SmartReplyMissingIfSettingsDisabledTest: RegularYandexMailTestBase {
  public init() {
    super.init("SmartReply. Отсутствие умных ответов при выключенной настройке")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(7683).androidCase(6552)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.sendMessageViaMobileApi().nextCustomMessage(MessageSpecBuilder().withDefaults().withTextBody("Как дела?").withSubject("Тема письма"))
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenGeneralSettingsAction()).then(TurnOffSmartReplyAction()).then(CloseGeneralSettingsAction()).then(CloseRootSettings()).then(GoToFolderAction(DefaultFolderName.inbox)).then(OpenMessageAction(0))
  }

}

open class SmartReplyShowIfSettingsEnabledTest: RegularYandexMailTestBase {
  public init() {
    super.init("SmartReply. Показ умных ответов при включенной настройке")
  }

  open override func setupSettings(_ settings: TestSettings) -> Void {
    settings.iosCase(7682).androidCase(6551).ignoreOn(MBTPlatform.Android)
  }

  open override func prepareAccount(_ mailbox: MailboxBuilder) -> Void {
    mailbox.sendMessageViaMobileApi().nextCustomMessage(MessageSpecBuilder().withDefaults().withTextBody("Как дела?").withSubject("Тема письма"))
  }

  @discardableResult
  open override func testScenario(_ account: UserAccount) -> TestPlan {
    return self.yandexLogin(account).then(OpenMessageAction(0))
  }

}

