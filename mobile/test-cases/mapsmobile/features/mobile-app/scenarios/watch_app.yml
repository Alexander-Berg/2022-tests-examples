testing:
  - regress
components: watch_app
platforms:
  - ios

specs:
  Изменение спана и зума карты на Apple Watch:
    - info: |
        Перед прохождением кейса нужно создать пару между iPhone и Apple Watch и установить приложение как на смартфон так и на часы через приложение Watch на смартфоне
        Отображается главный экран карт на часах
    - do: Тап по блоку карты
    - assert: |
        Карта отображается на весь экран часов
        Метка ММП отображается в центре экрана
        В верхнем левом углу отображается кнопка ‘Назад’
        В верхнем правом углу отображается текущее время
    - do: Повернуть колесико часов против часов стрелки
    - assert: |
        Карта отзумилась
        Метка ММП отображается в центре экрана
    - do: Свайп по экран часов
    - assert: |
        Спан карты изменился
        Метка ММП не в центре экран
        В нижнем левом углу отобразилась кнопка местоположения
    - do: Повернуть колесико часов по часовой стрелке
    - assert: |
        Зум карты изменился
        Метка ММП не в центре экран
        В нижнем левом углу все еще отображается кнопка местоположения
    - do: Тап по кнопке местоположения
    - assert: |
        Метка ММП в центре экрана
        Спан и зум карты изменились
        Кнопка местоположения не отображается
    - do: Тап по кнопке ‘Назад’
    - assert: |
        Отображается главный экран приложения на часах
    - tags:
        - assessors


  Отображение времени прибытия для дома/работы на Apple Watch:
    - info: |
        Перед прохождением кейса нужно создать пару между iPhone и Apple Watch и установить приложение как на смартфон так и на часы через приложение Watch на смартфоне
        Добавлены адреса дома/работы в регионе местоположения
        Отображается главный экран приложения на часах
        Местоположение не по адресу дома или работы
    - do: Тап по блоку Пробки
    - assert: |
        Отображается блок прогноза маршрута по времени до дома
        Отображается прогноз пробок, если в регионе есть информация о пробках
        Корректно отображается подложка (отображение текста на градиентном фоне)
    - do: Удалить адрес дома на смартфоне
    - assert: |
        Подгрузились новые данные
        Прогноз маршрута до дома не отображается
        Отображается прогноз маршрута до работы
        Корректно отображается подложка (отображение текста на градиентном фоне)

    - testing:
        - acceptance_maps
        - lite_acceptance_maps


  Отображение блока ближайшей остановки на Apple Watch:
    - info: |
        Перед прохождением кейса нужно создать пару между iPhone и Apple Watch и установить приложение как на смартфон так и на часы через приложение Watch на смартфоне.
        Местоположение вблизи остановки со всеми типами транспорта.
        Отображается главный экран приложения на часах.
    - do: Тап по блоку ближейшей остановки
    - assert: |
        Отображается карточка ближайшей остановки.
        Вверху карточки отображается участок карты с пином остановки в центре.
        Ниже отображаются карточки маршрутов, проходящих через эту остановку.
        В карточке маршрута отображается типа транспорта, конечный остановки и примерный интервал через который прибудет данный маршрут.
        Могут отображаться живые прогнозы прибытия, если они есть для данной остановки.
        В каждой карточке маршрута корректно отображается подложка (отображение текста на градиентном фоне).
    - do: Пролистать карточку остановки
    - assert: |
        В карточке отображаются все типы транспорта.
        В каждой карточке маршрута корректно отображается подложка (отображение текста на градиентном фоне).

    - testing:
        - acceptance_maps
        - lite_acceptance_maps

  Отображение блока погоды на Apple Watch:
    - info: |
        Перед прохождением кейса нужно создать пару между iPhone и Apple Watch
        Установить приложение на часы через приложение Watch на iPhone
        Отображается главный экран приложения на часах
    - do: Тап по блоку погоды
    - assert: |
        Отображается экран погоды, где отображаются блоки с погодой по дням
        Первым блоком отображается текущее состояние погоды
        Каждый блок состоит:
        - из изображения погоды
        - описания погоды и температуры
        - в блоке отображается погода днем и вечером
        В верху экрана отображается кнопка возвращения назад, заголовок блока и текущее время
    - do: Пролистать экран погоды на несколько блоков
    - assert: |
        Отображается погода для другого дня
        Заголовок экрана изменился на дату другого дня
    - do: Пролистать экран погоды до конца вниз
    - assert: Погода прогнозируется на десять дней от текущей даты

    - testing:
        - acceptance_maps
        - lite_acceptance_maps

  Отображение прогноза пробок в регионе с информацией о пробках на Apple Watch:
    - info: |
        Перед прохождением кейса нужно создать пару между iPhone и Apple Watch
        Установить приложение на часы через приложение Watch на iPhone
        Пользователь авторизован
        Приложение на часах запускается впервые
        Местоположение в регионе с баллами пробок (напр., Москва)
        Отображается главный экран приложения на часах
        В закладках отсутствует пункт 'Дом'
    - do: Тап по блоку пробок
    - assert: |
        Отображается экран прогноза пробок
        В верху экрана отображается кнопка возвращения назад, заголовок экрана 'Пробки' и текущее время
        Ниже отображается блока с балом пробок, времени (в данный момент отображается текст 'Сейчас' и комментарием пробок (например 'Свободно')
        В блоке пробок корректно отображается подложка (отображение текста на градиентном фоне)
        Внизу экрана отображается график прогноза пробок
        Белой точкой на графике отображается время
    - do: Покрутить колесико часов по часовой стрелке
    - assert: |
        Положение точки на графике изменилось
        Бал пробок в блоке выше изменился
        Текст 'Сейчас' изменился на время
        Посмотреть прогноз можно на шесть часов вперед
    - do: Прокрутить колесико часов против часовой стрелки
    - assert: |
        Положение точки на графике изменилось
        Бал пробок в блоке выше изменился
        Время изменилось на текст 'Сейчас' или другое время (зависит от оборота колесика)
        Посмотреть прогноз раньше текущего времени нельзя

    - testing:
        - acceptance_maps
        - lite_acceptance_maps

  Отображение прогноза пробок для региона без информации о пробках на Apple Watch:
    - info: |
        Перед прохождением кейса нужно создать пару между iPhone и Apple Watch
        Установить приложение на часы через приложение Watch на iPhone
        Местоположение в городе без информации о пробках
        Отображается главный экран приложения на часах
        Адрес дома или работы находится в другом регионе
    - do: Тап по блоку пробок
    - assert: |
        Отображается экран пробок
        Отображается сообщение 'Дом/Работа слишком далеко'

    - tags:
        - assessors

  Отображение времени маршрута до адреса при местоположении по адресу дома/работы на Apple Watch:
    - info: |
        Перед прохождением кейса нужно создать пару между iPhone и Apple Watch и установить приложение как на смартфон так и на часы через приложение Watch на смартфоне.
        Добавлены адреса дома/работы в регионе местоположения.
        Отображается главный экран приложения на часах.
        Местоположение по адресу дома.
    - do: Тап по блоку пробок
    - assert: |
        Отображается экран прогноза пробок.
        В блоке пробок корректно отображается подложка (отображение текста на градиентном фоне).
        Отображается прогноз маршрута до работы.
    - do: Изменить местоположение на адрес работы
    - assert: |
        Подгрузились новые данные.
        Прогноз маршрута до работы не отображается.
        Отображается прогноз маршрута до дома.
        Корректно отображается подложка (отображение текста на градиентном фоне).
    - do: Изменить адрес дома на тот же, что и у работы
    - assert: |
        Подгрузились новые данные.
        Прогнозы маршрутов до дома или работы не отображаются.
        Корректно отображается подложка (отображение текста на градиентном фоне).

    - tags:
        - assessors
