components: datasync_settings
testing:
  - regress


aliases:
  #Старый Ui
  - &default_settings_old
    - info: |
        Выполнена чистая установка приложения
    - do: Запустить приложение
    - do: Просмотреть все экраны интро
    - assert: Открыт главный экран приложения
    - do: |
        Включить эксперимент `use_datasync_settings`
        [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/use_datasync.png){title=QR-код}

        `yandexmaps://add_exp?use_datasync_settings`
    - do: Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Закрыть дебаг-панель
    - do: Перезапустить приложение

  #Новый Ui
  - &default_settings_new
    - info: |
        Выполнена чистая установка приложения
    - do: Запустить приложение
    - do: Просмотреть все экраны интро
    - assert: Открыт главный экран приложения
    - do: |
        Включить эксперимент `use_datasync_settings`
        [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/use_datasync.png){title=QR-код}

        `yandexmaps://add_exp?use_datasync_settings`
    - do: |
        Включить эксперимент `new_maps_settings`
        [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение




specs:
  Дефолтные настройки Карты и Интерфейса при чистой установке:
    - *default_settings_new
    - do: Открыть Меню -> Настройки -> Карта и интерфейс
    - assert: |
        Открыт экран "Карта и интерфейс"
        У настроек выставлены значения:
            - Тема -> Системная
            - Вид карты -> Схема
            - Единицы измерения -> Километры
            - [Android] Язык -> Как в системе
            - Кнопки масштаба -> Включено
            - Масштабная линейка -> Включено
            - Вращение карты пальцами -> Включено
            - [Android] Изменять масштаб клавишами громкости -> Выключено
    - do: Тап Дорожные события
    - assert: |
        Открыт экран "Дорожные события"
        У настроек выставлены значения:
            - Показывать все -> Включено
            - Перекрытия -> Включено
            - Разговорчики -> Включено
            - ДТП -> Включено
            - Остальные настройки выключены


    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - new_settings


  Дефолтные настройки Навигации при чистой установке:
    - *default_settings_new
    - do: Открыть Меню -> Настройки -> Навигация
    - assert: |
        Открыт экран "Навигация"
        У настроек выставлены значения:
            - Зафиксировать подсказки о манёврах в углу экрана -> Выключено
            - Север всегда сверху -> Выключено
            - Автомасштабирование -> Включено
            - Показывать альтернативные маршруты во время движения -> Включено
            - Избегать платных дорог -> Выключено
            - Фоновое ведение -> Включено
            - [Android] Подсказки в фоновом режиме-> Включено
    ## - Курсор -> По-умолчанию - не протащили экран в новый ui
    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - new_settings


  Дефолтные настройки Звуков и Оповещений при чистой установке:
    - *default_settings_new
    - do: Открыть Меню -> Настройки -> Звуки и оповещения
    - assert: |
        Открыт экран "Звуки и оповещения"
        У настроек выставлены значения:
            - Звуковое сопровождение -> Все звуки
            - Громкость приложения -> Высокая
            - При оповещениях -> Приглушать музыку и другие звуки
            - [iOS] Bluetooth -> По-умолчанию
            - Язык аннотаций -> Как в системе
            - Голос -> Алиса
            - В блоке "Камеры" каждая настройка включена
            - В блоке "Дорожные события" каждая настройка включена
    ## - Ограничение скорости -> +16 - не протащили экран в новый ui
    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - new_settings


  Дефолтные настройки Алисы при чистой установке:
    - *default_settings_new
    - do: Открыть Меню -> Настройки -> Алиса
    - assert: |
        Открыт экран "Алиса"
        У настроек выставлены значения:
            - Алиса -> Включено
            - Голосовая активация -> Включено
            - Фраза для вызова помошника -> Алиса

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - new_settings


  Дефолтные настройки экрана Основные при чистой установке:
    - *default_settings_old
    - do: Открыть Меню -> Настройки -> Основные
    - assert: |
        Открыт экран "Основные"
        У настроек выставлены значения:
            - [iOS]Темный режим -> Системная
            - [Android] Ночной режим -> Системная тема
            - Единицы измерения -> Километры
            - [Android] Язык -> Как в системе
            - Алиса -> Включено
    - do: Тап Алиса
    - assert: |
        Открыт экран "Алиса"
        У настроек выставлены значения:
            - Алиса -> Включено
            - Голосовая активация -> Включено
            - Фраза для вызова -> Алиса

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Дефолтные настройки Карты при чистой установке:
    - *default_settings_old
    - do: Открыть Меню -> Настройки -> Карта
    - assert: |
        Открыт экран "Карта"
        У настроек выставлены значения:
            - Тип карты -> Схема
            - Кнопки масштаба -> Включено
            - Масштабная линейка -> Включено
            - Вращение карты пальцами -> Включено
            - [Android] Клавиши громкости -> Выключено
    - do: Тап Дорожные события
    - assert: |
        Открыт экран "Дорожные события"
        У настроек выставлены значения:
            - Показывать все -> Включено
            - Перекрытия -> Включено
            - Разговорчики -> Включено
            - ДТП -> Включено
            - Остальные настройки выключены

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Дефолтные настройки Маршруты при чистой установке:
    - *default_settings_old
    - do: Открыть Меню -> Настройки -> Маршруты
    - assert: |
        Открыт экран "Маршруты"
        У настроек выставлены значения:
            - Звук -> Включено
            - Фоновое ведение -> Включено
            - [Android] Подсказки в фоновом режиме -> Включено
            - Зафиксировать подсказки о маневрах в углу экрана -> Выключено
            - Показывать альтернативные маршруты во время движения -> Включено
            - Автомасштабирование -> Включено
            - Север всегда сверху -> Выключено
            - Избегать платных дорог -> Выключено
    ##- Навигация включается автоматически - жду ответ
    - do: Тап Звук
    - assert: |
        Открыт экран "Звук"
            У настроек выставлены значения:
                - Проигрывать уведомления -> Включено
                - [iOS] Передавать по-Bluetooth -> По-умолчанию
                - [iOS] Язык аннотаций -> Системный
                - Голос -> Алиса
                - Громкость приложения -> Ползунок в максимальном положении
                - При оповещениях -> Приглушать
                - Ограничение скорости -> +16
                - В блоке "Дорожные события" каждая настройка включена
    - platforms:
        - ios
        - android
    - tags:
        - assessors
