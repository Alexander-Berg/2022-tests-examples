testing:
  - regress
components: map_zoom

specs:
  Масштабирование карты кнопками зума:
    - info: |
        Открыта на среднем зуме
        Включить/выключить отображение зумов на карте можно через:
          - тычку `Debug Panel -> Environment -> Mapkit debug info`
          - тапом тремя пальцами на спан карты (может сработать не сразу)`
    - do: Тап по кнопке '+'
    - assert: Карта увеличилась в масштабе
    - do: Тап по кнопке '-'
    - assert: Карта уменьшилась и вернулась к прежнему масштабу
    - do: Выставить 21-й зум
    - assert: |
        Карта максимально приближена
        Кнопка '+' неактивна
    - do: Выставить 1-й зум
    - assert: |
        Карта максимально отдалена
        Кнопка '-' неактивна

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
        - mapkit_ready
        - newbie
    - testing:
        - acceptance_maps
        - lite_acceptance_maps
    - integration_run:
        - mapkit


  Масштабирование карты с помощью тапа:
    - info: Открыт главный экран с картой
    - do: Дабл-тап одним пальцем по карте
    - assert: |
        Карта увеличилась в масштабе
        Масштаб изменён относительно места тапа
    - do: Тап двумя пальцами по карте
    - assert: Карта уменьшилась до исходного масштаба, центрируясь на месте тапа
    - do: Призумится на максимальный зум
    - assert: Отображается карта на максимальном зуме
    - do: Тап двумя пальцами по карте
    - assert: Карта отзумилась, центрируясь в месте тапа
    - do: Отзумиться на минимальный зум
    - assert: Отображается карта на минимальном зуме
    - do: Дабл-тап одним пальцем по карте
    - assert: |
        Карта увеличилась в масштабе
        Масштаб изменён относительно места тапа

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - testing:
        - lite_acceptance_maps
    - integration_run:
        - mapkit


  Отключение отображения масштабных кнопок на экране карты:
    - info: Открыт экран карты
    - do: Выключить эксперименты `use_datasync_settings` и `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Перезапустить приложение
    - do: Открыть 'Настройки' и тап по 'Карта'
    - assert: Опция 'Кнопки масштаба' в блоке 'Карта' по умолчанию включена
    - do: Тап по свитчеру 'Кнопки масштаба'
    - assert: Изменилось положение свитчера и цвет фона
    - do: Вернуться к экрану карты
    - assert: |
        Кнопки масштабирования '+' и '-' отсутствуют на экране
        Если тап в область, где находились кнопки, то карта не должна изменить масштаб
    - do: Открыть 'Настройки' и тап по 'Карта'
    - assert: Опция 'Кнопки масштаба' в блоке 'Карта' выключена
    - do: Тап по свитчеру 'Кнопки масштаба'
    - assert: |
        Свитчер изменил положение
        Цвет фона изменился
    - do: Вернуться к экрану карты
    - assert: |
        Кнопки '+' и '-' отображаются на экране
        По тапу на кнопки происходит масштабирование карты

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Отключение отображения масштабных кнопок на экране карты через новые настройки:
    - info: Открыт экран карты
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Выключить "Кнопки масштаба"(Меню -> Настройки -> Карта и интерфейс)
    - assert: Свитчер у настройки в состоянии выключено
    - do: Вернуться к экрану карты
    - assert: |
        Кнопки масштабирования '+' и '-' отсутствуют на экране
        Если тап в область, где находились кнопки, то карта не должна изменить масштаб
    - do: Включить "Кнопки масштаба"(Меню -> Настройки -> Карта и интерфейс)
    - assert: |
        Свитчер изменил положение
        Цвет фона изменился
    - do: Вернуться к экрану карты
    - assert: |
        Кнопки '+' и '-' отображаются на экране
        По тапу на кнопки происходит масштабирование карты

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
        - new_settings
    - testing:
        - acceptance_maps


  Отключение автомасштабирования маршрутов:
    - info: |
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Выключить эксперименты `use_datasync_settings` и `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Закрыть дебаг панель
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Маршруты
    - assert: |
        Отображается экран Маршруты
        Автомасштабирование по умолчанию включено
    - do: Тап на свитчер Автомасштабирование
    - assert: Изменилось положение свитчера в состояние 'Выкл'
    - do: Вернуться на главный экран приложения
    - do: Перейти в ведение по автомаршруту
    - assert: |
        Отображается экран ведения по автомаршруту
        Зум не меняется при изменении скорости движения
    - do: Установить максимальный зум экрана
    - assert: |
        Контрол увеличения зума не доступен
        Большее приближение экрана невозможно
    - do: Cвернуть приложение
    - do: Вернуться в приложение
    - do: Убедиться, что максимальный зум не сбросился

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - newbie


  Отключение автомасштабирования маршрутов в новых настройках:
    - info: |
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Выключить эксперимент `use_datasync_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Закрыть дебаг панель
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Навигация
    - assert: |
        Отображается экран Навигация
        Автомасштабирование по умолчанию включено
    - do: Тап на свитчер Автомасштабирование
    - assert: Изменилось положение свитчера в состояние 'Выкл'
    - do: Вернуться на главный экран приложения
    - do: Перейти в ведение по автомаршруту
    - assert: |
        Отображается экран ведения по автомаршруту
        Зум не меняется при изменении скорости движения
    - do: Установить максимальный зум экрана
    - assert: |
        Контрол увеличения зума не доступен
        Большее приближение экрана невозможно
    - do: Cвернуть приложение
    - do: Вернуться в приложение
    - do: Убедиться, что максимальный зум не сбросился

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - new_settings


  Включение автомасштабирования маршрутов:
    - do: Выключить эксперименты `use_datasync_settings` и `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Закрыть дебаг панель
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Маршруты
    - do: Включить свитчер 'Автомасштабирование'
    - assert: Изменилось положение свитчера в состояние 'Вкл'

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Включение автомасштабирования маршрутов в новых настройках:
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Выключить эксперимент `use_datasync_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Закрыть дебаг панель
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Навигация
    - do: Включить свитчер 'Автомасштабирование'
    - assert: Изменилось положение свитчера в состояние 'Вкл'

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Изменение масштаба клавишами громкости:
    - preconditions: |
        Включить/выключить отображение зумов на карте можно через:
          - тычку `Debug Panel -> Environment -> Mapkit debug info`
          - тапом тремя пальцами на спан карты (может сработать не сразу)
    - do: Выключить эксперименты `use_datasync_settings` и `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Перезапустить приложение
    - do: Открыть экран Меню -> Настройки -> Карта
    - do: Включить настройку "Клавиши громкости"
    - assert: Настройка включена
    - do: Вернуться на главный экран приложения
    - do: Тап несколько раз кнопку увеличения громкости
    - assert: |
        С каждым нажатием меняется масштаб на +1 зум
        После достижения максимального приближения приложение не реагирует на нажатия
    - do: Тап несколько раз кнопку уменьшения громкости
    - assert: |
        С каждым нажатием меняется масштаб на -1 зум
        После достижения максимального отдаления приложение не реагирует на нажатия
    - do: Тап и удерживать кнопку увеличения громкости
    - assert: |
        Карта постепенно приближается
        После достижения максимального приближения приложение не реагирует на удержание кнопки
    - do: Тап и удерживать кнопку уменьшения громкости
    - assert: |
        Карта постепенно отдаляется
        После достижения максимального отдаления приложение не реагирует на удержание кнопки

    - platforms:
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Отключение изменения масштаба клавишами громкости:
    - do: Выключить эксперименты `use_datasync_settings` и `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Перезапустить приложение
    - do: Открыть экран Меню -> Настройки -> Карта
    - do: Выключить настройку "Клавиши громкости"
    - assert: Настройка выключена
    - do: Вернуться на главный экран приложения
    - do: Воспользоваться кнопками увеличения и уменьшения громкости
    - assert: Карта не изменила своего положения

    - platforms:
        - android
    - tags:
        - assessors


  Изменение масштаба клавишами громкости. Новые настройки:
    - preconditions: |
        Включить/выключить отображение зумов на карте можно через:
          - тычку `Debug Panel -> Environment -> Mapkit debug info`
          - тапом тремя пальцами на спан карты (может сработать не сразу)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Открыть экран Меню -> Настройки -> Карта и интерфейс
    - do: Включить настройку "Изменять масштаб клавишами громкости"
    - assert: Настройка включена
    - do: Вернуться на главный экран приложения
    - do: Тап несколько раз кнопку увеличения громкости
    - assert: |
        С каждым нажатием меняется масштаб на +1 зум
        После достижения максимального приближения приложение не реагирует на нажатия
    - do: Тап несколько раз кнопку уменьшения громкости
    - assert: |
        С каждым нажатием меняется масштаб на -1 зум
        После достижения максимального отдаления приложение не реагирует на нажатия
    - do: Тап и удерживать кнопку увеличения громкости
    - assert: |
        Карта постепенно приближается
        После достижения максимального приближения приложение не реагирует на удержание кнопки
    - do: Тап и удерживать кнопку уменьшения громкости
    - assert: |
        Карта постепенно отдаляется
        После достижения максимального отдаления приложение не реагирует на удержание кнопки

    - platforms:
        - android
    - tags:
        - assessors
        - mapkit_ready
        - new_settings
    - integration_run:
        - mapkit


  Отключение изменения масштаба клавишами громкости. Новые настройки:
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Открыть экран Меню -> Настройки -> Карта и интерфейс
    - do: Выключить настройку "Изменять масштаб клавишами громкости"
    - assert: Настройка выключена
    - do: Вернуться на главный экран приложения
    - do: Воспользоваться кнопками увеличения и уменьшения громкости
    - assert: Карта не изменила своего положения

    - platforms:
        - android
    - tags:
        - assessors
        - new_settings


  Масштабирование карты кнопками зума с пином 'Я' в центре на главном экране:
    - info: |
        Открыт главный экран на любом зуме, кроме самого ближнего и самого дальнего
        Карта центрирована на пине 'Я'
    - do: Тап по кнопке '+'
    - assert: |
        Масштаб увеличился
        Карта центрирована на пине 'Я'
        (iOS) не фиксируется относительное положение пользователя, если зум <= 3, иначе карта дергается
    - do: Тап по кнопке '-'
    - assert: |
        Масштаб карты уменьшился
        Карта центрирована на пине 'Я'

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
        - newbie
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума с пином 'Я' в центре на экране поиска:
    - info: |
        Открыт главный экран на любом зуме, кроме самого ближнего и самого дальнего
        Карта центрирована на пине 'Я'
    - do: Выполнить поиск по категории
    - do: Свернуть результаты поиска
    - do: Тап на контролл ММП
    - assert: |
        Результаты поиска свернуты
        Карта центрирована на пине 'Я'
    - do: Тап по кнопке '+'
    - assert: |
        Масштаб увеличился
        Карта центрирована на пине 'Я'
        (iOS) не фиксируется относительное положение пользователя, если зум <= 3, иначе карта дергается
    - do: Тап по кнопке '-'
    - assert: |
        Масштаб карты уменьшился
        Карта центрирована на пине 'Я'

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума с пином 'Я' в центре на экране выбора маршрута:
    - info: Открыт экран Маршрут (тап на таб Маршрут)
    - do: Тап в поле Куда
    - do: Тап Указать на карте
    - do: Тап на контролл ММП
    - assert: |
        Отображается экран выбора точек на маршруте
        Карта центрирована на пине 'Я'
    - do: Тап по кнопке '+'
    - assert: |
        Отображается экран выбора точек на маршруте
        Масштаб увеличился
        Карта центрирована на пине 'Я'
        (iOS) не фиксируется относительное положение пользователя, если зум <= 3, иначе карта дергается
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран выбора точек на маршруте
        Масштаб карты уменьшился
        Карта центрирована на пине 'Я'

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума с пином 'Я' в центре на экране ведения по маршруту:
    - info: |
        Отображается экран ведения по произвольному маршруту
        Карта центрирована на пине 'Я'
    - do: Тап по кнопке '+'
    - assert: |
        Отображается экран ведения по маршруту
        Масштаб увеличился
        Карта центрирована на пине 'Я'
        (iOS) не фиксируется относительное положение пользователя, если зум <= 3, иначе карта дергается
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран ведения по маршруту
        Масштаб карты уменьшился
        Карта центрирована на пине 'Я'

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума с пином 'Я' в центре на экране добавления ДС:
    - info: |
        Открыт экран добавления ДС (лонг-тап по карте -> Добавить дорожное событие)
        Карта центрирована на пине 'Я'
    - do: Тап по кнопке '+'
    - assert: |
        Открыт экран добавления ДС
        Масштаб увеличился
        Карта центрирована на пине 'Я'
        (iOS) не фиксируется относительное положение пользователя, если зум <= 3, иначе карта дергается
    - do: Тап по кнопке '-'
    - assert: |
        Открыт экран добавления ДС
        Масштаб карты уменьшился
        Карта центрирована на пине 'Я'

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit

  Масштабирование карты кнопками зума с пином 'Я' сбоку/снизу/сверху на главном экране:
    - info: |
        Открыт главный экран на любом зуме, кроме самого ближнего и самого дальнего
        Пин 'Я' находится сбоку/снизу/сверху экрана
    - do: Тап по кнопке '+'
    - assert: |
        Масштаб карты увеличивается относительно пина 'Я', а не центра экрана
        Пин 'Я' остался в том же районе экрана
    - do: Тап по кнопке '-'
    - assert: |
        Масштаб карты уменьшился относительно пина 'Я', а не центра экрана
        Пин 'Я' остался в том же районе экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума с пином 'Я' сбоку/снизу/сверху на экране поиска:
    - info: Открыт главный экран на любом зуме, кроме самого ближнего и самого дальнего
    - do: Выполнить поиск по категории
    - do: Свернуть результаты поиска
    - do: Сдвинуть спан так, чтобы пин 'Я' находится сбоку/снизу/сверху экрана
    - assert: |
        Результаты поиска свернуты
        Пин 'Я' находится сбоку/снизу/сверху экрана
    - do: Тап по кнопке '+'
    - assert: |
        Масштаб карты увеличивается относительно пина 'Я', а не центра экрана
        Пин 'Я' остался в том же районе экрана
    - do: Тап по кнопке '-'
    - assert: |
        Масштаб карты уменьшился относительно пина 'Я', а не центра экрана
        Пин 'Я' остался в том же районе экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума с пином 'Я' сбоку/снизу/сверху на экране выбора маршрута:
    - info: Открыт экран Маршрут (тап на таб Маршрут)
    - do: Тап в поле Куда
    - do: Тап Указать на карте
    - do: Сдвинуть спан так, чтобы пин 'Я' находится сбоку/снизу/сверху экрана
    - assert: |
        Отображается экран выбора точек маршрута
        Пин 'Я' находится сбоку/снизу/сверху экрана
    - do: Тап по кнопке '+'
    - assert: |
        Отображается экран выбора точек маршрута
        Масштаб карты увеличивается относительно пина 'Я', а не центра экрана
        Пин 'Я' остался в том же районе экрана
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран выбора точек маршрута
        Масштаб карты уменьшился относительно пина 'Я', а не центра экрана
        Пин 'Я' остался в том же районе экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума с пином 'Я' сбоку/снизу/сверху на экране ведения по маршруту:
    - info: Отображается экран ведения по произвольному маршрут
    - do: Сдвинуть спан так, чтобы пин 'Я' находится сбоку/снизу/сверху экрана
    - assert: |
        Отображается экран ведения по произвольному маршруту
        Пин 'Я' находится сбоку/снизу/сверху экрана
    - do: Тап по кнопке '+'
    - assert: |
        Отображается экран ведения маршруту
        Масштаб карты увеличивается относительно пина 'Я', а не центра экрана
        Пин 'Я' остался в том же районе экрана
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран ведения по маршруту
        Масштаб карты уменьшился относительно пина 'Я', а не центра экрана
        Пин 'Я' остался в том же районе экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума с пином 'Я' сбоку/снизу/сверху на экране добавления ДС:
    - info: Отображается экран добавления ДС (лонг-тап по карте -> Добавить дорожное событие)
    - do: Сдвинуть спан так, чтобы пин 'Я' находится сбоку/снизу/сверху экрана
    - assert: |
        Отображается экран добавления ДС
        Пин 'Я' находится сбоку/снизу/сверху экрана
    - do: Тап по кнопке '+'
    - assert: |
        Отображается экран добавления ДС
        Масштаб карты увеличивается относительно пина 'Я', а не центра экрана
        Пин 'Я' остался в том же районе экрана
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран добавления ДС
        Масштаб карты уменьшился относительно пина 'Я', а не центра экрана
        Пин 'Я' остался в том же районе экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума на главном экране, когда пин 'Я' находится за границами экрана:
    - info: |
        Открыт главный экран приложения на любом зуме, кроме самого дальнего и самого ближнего
        Пин 'Я' находится далеко за границами экрана
        Пин 'Я' не должен появиться на экране при масштабировании
    - do: Тап по кнопке '+'
    - assert: |
        Масштаб карты увеличился, центрируясь при этом на центре отображаемого экрана
        Пин 'Я' все еще находится за границами экрана
    - do: Тап по кнопке '-'
    - assert: |
        Масштаб карты уменьшился, центрируясь при этом на центре отображаемого экрана
        Пин 'Я' все еще находится за границами экрана
    - do: Подвинуть карту так, чтобы пин все еще находился за границами экрана
    - assert: Спан карты сместился
    - do: Тап по кнопке '+'
    - assert: |
        Масштаб карты увеличился, центрируясь при этом на центре отображаемого экрана
        Пин 'Я' все еще находится за границами экрана
    - do: Тап по кнопке '-'
    - assert: |
        Масштаб карты уменьшился, центрируясь при этом на центре отображаемого экрана
        Пин 'Я' все еще находится за границами экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума на экране поиска, когда пин 'Я' находится за границами экрана:
    - info: |
        Отображается экран поиска (Тап по строке поиска на главном -> Выполнить поиск по категории)
        Пин 'Я' находится далеко за границами экрана
        Пин 'Я' не должен появиться на экране при масштабировании
    - do: Тап по кнопке '+'
    - assert: |
        Отображается экран поиска
        Масштаб карты увеличился, центрируясь при этом на центре отображаемого экрана
        Пин 'Я' все еще находится за границами экрана
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран поиска
        Масштаб карты уменьшился, центрируясь при этом на центре отображаемого экрана
        Пин 'Я' все еще находится за границами экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума на экране добавления ДС, когда пин 'Я' находится за границами экрана:
    - info: |
        Отображается экран добавления ДС (лонг-тап по карте -> Добавить дорожное событие)
        Пин 'Я' находится далеко за границами экрана
        Пин 'Я' не должен появиться на экране при масштабировании
    - do: Тап по кнопке '+'
    - assert: |
        Отображается экран добавления ДС
        Масштаб карты увеличился, центрируясь при этом на центре отображаемого экрана
        Пин 'Я' все еще находится за границами экрана
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран добавления ДС
        Масштаб карты уменьшился, центрируясь при этом на центре отображаемого экрана
        Пин 'Я' все еще находится за границами экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума на главном экране, когда пин 'Я' сначала нах-ся за границами экрана, а после появляется на экране:
    - info: |
        Открыт главный экран приложения на любом зуме, кроме ближнего и дальнего
        Пин 'Я' находится на небольшом расстояние за границей экрана
    - do: Тап по кнопке '-'
    - assert: |
        Открыт главный экран приложения
        Масштаб карты уменьшился относительно центра экрана
        На карте сбоку/снизу/сверху (в зависимости от того, где он был изначально) появился пин 'Я'
    - do: Тап по кнопке '-'
    - assert: |
        Открыт главный экран приложения
        Масштаб карты уменьшился на этот раз уже относительно пина 'Я'
    - do: Тап по кнопке '+'
    - assert: |
        Открыт главный экран приложения
        Масштаб карты увеличился относительно пина 'Я'
    - do: Подвинуть карту, чтобы пин 'Я' снова скрылся за далеко за границами экрана
    - do: Тап по кнопке '+'
    - do: Тап по кнопке '-'
    - assert: |
        Открыт главный экран приложения
        Когда пин 'Я' снова ушел за границы экрана, карта снова начала масштабироваться относительно центра экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума на экране поиска, когда пин 'Я' сначала находится за границами экрана, а после появляется на экране:
    - info: |
        Отображается экран поиска (Тап по строке поиска на главном -> Выполнить поиск по категории)
        Пин 'Я' находится на небольшом расстояние за границей экрана
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран поиска
        Масштаб карты уменьшился относительно центра экрана
        На карте сбоку/снизу/сверху (в зависимости от того, где он был изначально) появился пин 'Я'
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран поиска
        Масштаб карты уменьшился на этот раз уже относительно пина 'Я'
    - do: Тап по кнопке '+'
    - assert: |
        Отображается экран поиска
        Масштаб карты увеличился относительно пина 'Я'
    - do: Подвинуть карту, чтобы пин 'Я' снова скрылся за далеко за границами экрана
    - do: Тап по кнопке '+'
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран поиска
        Когда пин 'Я' снова ушел за границы экрана, карта снова начала масштабироваться относительно центра экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit



  Масштабирование карты кнопками зума на экране выбора маршрута, когда пин 'Я' сначала находится за границами экрана, а после появляется на экране:
    - do: Выключить эксперимент no_routes_tab (Настройки - Debug Panel - Experiments)
    - do: Перезапустить приложение
    - do: Тап на таб Маршруты)
    - do: Тап в поле Куда
    - do: Тап Указать на карте
    - assert: Отображается экран выбора точек маршрута
    - do: Сдвинуть спан карты так, чтобы пин 'Я' находился на небольшом расстояние за границей экрана
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран выбора точек маршрута
        Масштаб карты уменьшился относительно центра экрана
        На карте сбоку/снизу/сверху (в зависимости от того, где он был изначально) появился пин 'Я'
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран выбора точек маршрута
        Масштаб карты уменьшился на этот раз уже относительно пина 'Я'
    - do: Тап по кнопке '+'
    - assert: |
        Отображается экран выбора точек маршрута
        Масштаб карты увеличился относительно пина 'Я'
    - do: Подвинуть карту, чтобы пин 'Я' снова скрылся за далеко за границами экрана
    - do: Тап по кнопке '+'
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран выбора точек маршрута
        Когда пин 'Я' снова ушел за границы экрана, карта снова начала масштабироваться относительно центра экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума на экране ведения по маршруту, когда курсор ММП сначала находится за границами экрана, а после появляется на экране:
    - info: |
        Отображается экран ведения по произвольному маршруту
        Курсор ММП находится на небольшом расстояние за границей экрана
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран ведения по маршруту
        Масштаб карты уменьшился относительно центра экрана
        На карте сбоку/снизу/сверху (в зависимости от того, где он был изначально) появился курсор ММП
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран ведения по маршруту
        Масштаб карты уменьшился на этот раз уже относительно курсора ММП
    - do: Тап по кнопке '+'
    - assert: |
        Отображается экран ведения по маршруту
        Масштаб карты увеличился относительно курсора ММП
    - do: Подвинуть карту, чтобы курсор ММП снова скрылся далеко за границами экрана
    - do: Тап по кнопке '+'
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран ведения по маршруту
        Когда курсора ММП снова ушел за границы экрана, карта снова начала масштабироваться относительно центра экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты кнопками зума на экране добавления ДС, когда пин 'Я' сначала находится за границами экрана, а после появляется на экране:
    - info: |
        Отображается экран добавления ДС (лонг-тап по карте -> Добавить дорожное событие)
        Пин 'Я' находится на небольшом расстояние за границей экрана
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран добавления ДС
        Масштаб карты уменьшился относительно центра экрана
        На карте сбоку/снизу/сверху (в зависимости от того, где он был изначально) появился пин 'Я'
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран добавления ДС
        Масштаб карты уменьшился на этот раз уже относительно пина 'Я'
    - do: Тап по кнопке '+'
    - assert: |
        Отображается экран добавления ДС
        Масштаб карты увеличился относительно пина 'Я'
    - do: Подвинуть карту, чтобы пин 'Я' снова скрылся за далеко за границами экрана
    - do: Тап по кнопке '+'
    - do: Тап по кнопке '-'
    - assert: |
        Отображается экран добавления ДС
        Когда пин 'Я' снова ушел за границы экрана, карта снова начала масштабироваться относительно центра экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Масштабирование карты лонг-тапом по кнопкам зума:
    - info: |
        При нахождении на 21-м зуме кнопка '+' задизейблена
        При нахождении на 1-м зуме, кнопка '-' задизейблена
        Открыта карта минимум на 1-м зуме
        Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info`
    - do: Лонг-тап по кнопке '+'
    - assert: |
        Масштаб карты стал плавно увеличиваться
        Как только масштаб стал равен 21, кнопка '+' стала неактивной
    - do: Лонг-тап по кнопке '-'
    - assert:  |
        Масштаб карты стал плавно уменьшаться
        Как только масштаб стал равен 1, кнопка '-' стала неактивной

    - platforms:
        - android
    - tags:
        - assessors
        - use_map
        - newbie
    - testing:
        - acceptance_maps
        - lite_acceptance_maps


  Масштабирование карты жестами:
    - info: |
        Отображаетсяя главный экран приложения
        Включить/выключить отображение зумов на карте можно через
          - тычку `Debug Panel -> Environment -> Mapkit debug info`
          - тапом тремя пальцами на спан карты (может сработать не сразу)
    - do: Выставлен 16 - 18 зум карты
    - do: Увеличить зум раздвигая два пальца от центра экрана
    - assert: Зум карты увеличен
    - do: Уменьшить зум сдвигая два пальца к центру экрана
    - assert: Зум карты уменьшился

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Изменение зума карты щипком:
    - info: |
        Открыт главный экран приложения
    - do: Уменьшить зум щипком
    - assert: Происходит уменьшение зума
    - do: Увеличить зум щипком
    - assert: Происходит увеличение зума

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - assessors
    - testing:
        - acceptance_maps


  Изменение наклона карты в ведении:
    - info: |
        Происходит ведение по автомаршруту
        Вертикальная ориентация устройства
        Карта отображается в 2D-режиме
    - do: Свайпом двумя пальцами вверх по спану изменить наклон карты
    - assert: |
        Происходит ведение по автомаршруту
        Карта отображается в 3D-режиме

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - assessors
    - testing:
        - acceptance_maps


  Проверка стабильности работы приложения во время резкого включении Фридрайва при максимальном зуме и наклоне карты:
    - info: |
        Карта отображается в 2D-режиме
        Открыт главный экран приложения
    - do: Увеличить зум спана до максимального свайпом двумя пальцами
    - do: Свайпом двумя пальцами вверх по спану изменить наклон карты до максимального
    - assert: Наклон карты изменился на 3D-режим
    - do: Резко тап на таб Навигатор в таббаре
    - assert: |
        Включен режим "Навигатор"
        Камера спана отдалилась и центрировалась на курсоре
        Карта отображается в 3D-режиме
        Приложение работает стабильно и не падает

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps
