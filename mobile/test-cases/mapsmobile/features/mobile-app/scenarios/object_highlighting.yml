components: object_highlighting
testing:
  - regress
tags:
  - use_map

specs:
  Подсветка геометрии парков:
    - info: Такие объекты, как парки и сады, должны подсвечиваться по контуру зеленым и светло-зеленым внутри контура
    - do: Выполнить поиск по запросу парка
    - assert: |
        На карте отображается поднятый красный пин
        Отображается миникарточка парка, как организации
        Геометрия парка не выделена
    - do: Закрыть миникарточку
    - do: Лонгтап по области парка
    - assert: Отображается лонг-тап меню
    - do: Тап на Что здесь?
    - assert: |
        Открыта миникарточка парка, как топонима
        Парк по контуру выделен зеленым
        Внутри контура — светло-зеленая подсветка

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Подсветка географических объектов:
    - info: Открыт главный экран приложения
    - do: Отзумиться до карты мира
    - assert: Открыт главный экран с картой
    - do: Лонг-тап по названию 'Китай'
    - assert: |
        Открыто лонг-тап меню
        В меню присутствует кнопка 'Что здесь?'
    - do: Тап 'Что здесь?'
    - assert: Открыта миникарточка района
    - do: Закрыть миникарточку района
    - do: Лонг тап на любом природном водоёме
    - assert: |
        Открыто лонг-тап меню
        В меню присутствует кнопка 'Что здесь?'
    - do: Тап 'Что здесь?'
    - assert: Открыта миникарточка водоёма

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - newbie


  Подсветка геометрии улиц/проспектов/проездов:
    - info: |
        Улицы, проспекты, проезды, бульвары должны выделяться на карте
        Геометрия таких объектов также должна выделяться в двух случаях:
        - при поиске
        - при вызове миникарточки топонима лонгтапом по карте -> Что здесь?
    - do: Выполнить поиск по запросам с названиями улицы/проспекта/бульвара
    - assert: |
        Открыта форма результатов поиска по запросу с названием улицы/проспекта/бульвара
        На карте поднят пин в районе искомой улицы/проспекта/бульвара
        Искомая улица/проспекта/бульвара выделена в месте пролегания
        В месте начала другой улицы/проспекта/бульвара выделение заканчивается
    - do: Закрыть карточку улицы/проспекта/бульвара
    - assert: Отображается главный экран приложения
    - do: Лонг-тап по карте в месте пролегания улицы/проспекта/бульвара
    - assert: Отображается лонг-тап меню
    - do: Тап на Что здесь?
    - assert: |
        Открыта миникарточка улицы/проспекта/бульвара
        На карте поднят пин 'Что здесь?' в месте лонгтапа
        Улица/проспект/бульвар выделена на карте
        В месте начала другой улицы/проспекта/бульвара выделение заканчивается

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - newbie


  Подсветка геометрии объектов вроде МКАД/Садовое кольцо:
    - info: |
        Такие объекты, как МКАД и Садовое кольцо, отображаются почти так же, как и улицы/проспекты/бульвары
        Разница заключается в том, что такие линии закольцованы
        Геометрия МКАДа / Садового кольца должна показываться в случае поиска по запросу с названием МКАД, Садовое кольцо
        При лонгтапе по МКАДу выделится не геометрия всего МКАДа, а конкретного участка
    - do: Выполнить поиск по запросу МКАД / Садовое кольцо
    - assert: |
        Открыта миникарточка МКАД / Садовое кольцо
        На карте двум линиями (по одной на каждое направление автодороги) очерчен круг МКАДа / Садового кольца

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Поиск с подсветкой геометрии объектов:
    - info: |
        Геометрия объектов должна выделяться при поиске определенной организации с упоминанием объекта
        Если находим проблему, проверить в браузерной версии карт
        В репорте указать результат в браузерной версии карт
        Открыта спан Москвы
    - do: Выполнить поиск по запросу 'кафе на садовом кольце'
    - assert: |
        Открыта форма с результатами поиска по запросу 'кафе на садовом кольце'
        На карте подсвечена геометрия Садового кольца
        Поверх линии геометрии Садового кольца отображены пины кафе
    - do: Закрыть результаты поиска
    - do: Выполнить поиск по запросу 'Москва'
    - assert: |
        Открыта мини-карточка топонима 'Москва'
        На карте выделена геометрия Москвы по контору и внутри
    - do: Закрыть карточку топонима
    - assert: Отображается главный экран приложения
    - do: Открыть спан Минска
    - do: Выполнить поиск по запросу 'Парк Победы кафе'
    - assert: |
        Открыта форма с результатами поиска по запросу 'Парк Победы кафе'
        На карте контуром очерчены границы Парка Победы
        На карте неподалеку от Парка Победы отображаются поисковый пины

    - platforms:
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
