components: dka
platforms:
  - android
testing:
  - regress

specs:
  Dont keep activities -  сворачивание/разворачивание на главном экране:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - assert: Отображается главный экран приложения
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: Отображается главный экран приложения

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities -  сворачивание/разворачивание на экране поиска:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - do: Тап на Поиск в таббаре
    - assert: Отображается экран поиска
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: Отображается экран поиска

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities -  сворачивание/разворачивание на экране закладок:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - do: Перейти Меню -> Закладки и мой транспорт
    - assert: Отображается экран закладок
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: Отображается экран закладок

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - сворачивание/разворачивание на экране настроек:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - do: Перейти Меню -> Настройки
    - assert: Отображается экран настроек
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: Отображается экран настроек

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - сворачивание/разворачивание на экране меню:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - do: Открыть экран Меню
    - assert: Отображается экран Меню
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: Отображается экран Меню

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - сворачивание/разворачивание на экране карточки организации:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Открыть карточку любой организации
    - assert: Отображается открытая карточка организации
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: |
       Приложение разворачивается
       Отображается открытая карточка организации

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - сворачивание/разворачивание на экране Навигатора :
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Перейти на вкладку Навигатор в таббаре
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: Приложение разворачивается на вкладке Навигатор

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - сворачивание/разворачивание на экране Маршруты :
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Перейти на вкладку Маршруты в таббаре
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: Приложение разворачивается на вкладке Маршруты

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - сворачивание/разворачивание на экране Транспорт :
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Перейти на вкладку Транспорт в таббаре
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: Приложение разворачивается на вкладке Транспорт

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - сворачивание/разворачивание на экране карточки общественного транспорта:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Перейти на вкладку Транспорт в таббаре
    - do: Открыть карточку любого общественного транспорта
    - assert: Отображается открытая карточка транспорта
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: |
       Приложение разворачивается
       Отображается открытая карточка транспорта

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - сворачивание/разворачивание на экране деталей маршрута ОТ:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Построить маршрут в любую точку
    - do: Выбрать маршрут на общественном транспорте
    - do: Выбрать любой вариант маршрута на ОТ
    - assert: Отображается открытая карточка деталей ОТ
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: |
       Приложение разворачивается
       Отображается открытая карточка деталей ОТ

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - сворачивание/разворачивание на экране обзора маршрута:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Построить маршрут в любую точку
    - assert: Маршрут построен, отображается экран выбора маршрута
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: |
       Приложение разворачивается
       Отображается экран выбора маршрута

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - кнопка назад на главном экране:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - assert: Отображается главный экран приложения
    - do: Тап на системную кнопку назад
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: Отображается экран приложения

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - кнопка назад на экране поиска:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - do: Тап на таб Поиск
    - assert: Отображается экран поиска
    - do: Тап на системную кнопку назад
    - assert: Отображается главный экран приложения

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - кнопка назад на экране закладок:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - do: Перейти на экран закладок (Меню -> Закладки и мой транспорт)
    - assert: Отображается экран закладок
    - do: Тап на системную кнопку назад
    - assert: Отображается меню приложения

    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Dont keep activities - кнопка назад на экране меню:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - do: Открыть меню
    - assert: Отображается меню приложения
    - do: Тап на системную кнопку назад
    - assert: Отображается главный экран приложения

    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Dont keep activities - кнопка назад на экране настроек:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - do: Открыть экран настроек (Меню -> Настройки)
    - do: Тап на Настройки
    - assert: Отображается экран Настройки
    - do: Тап на системную кнопку назад
    - assert: Отображается меню приложения

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на главный экран. Приложение запущено:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - assert: Отображается главный экран приложения
    - do: Перейти по урл-схеме вида `yandexmaps://maps.yandex.ru/?ll=user_location&z=16`
    - assert: |
        Отображается главный экран приложенния
        В центре экрана отображается пин ММП
    - do: Тап на системную кнопку назад
    - assert: Отображается главный экран устройства или предыдущий экран
    - do: Развернуть приложение
    - assert: |
        Отображается главный экран приложения
        В центре экрана отображается пин ММП

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран поиска. Приложение запущено:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - assert: Отображается главный экран приложения
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexmaps://yandex.ru/maps/search`
    - assert: Приложение запускается на экране поиска
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: Отображается экран Поиск

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран закладок. Приложение запущено:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - assert: Отображается главный экран приложения
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexmaps://yandex.ru/maps/bookmarks`
    - assert: Приложение запускается на экране закладок
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: Отображается экран Закладки

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран меню. Приложение запущено:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - assert: Отображается главный экран приложения
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexmaps://yandex.ru/maps/?user_profile=true`
    - assert: Отображается Меню приложения
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: Отображается Меню приложения

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на главный экран. Приложение не запущено:
    - info: |
        Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
        Приложение не запущено
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexmaps://maps.yandex.ru/?ll=user_location&z=16`
    - assert: |
        Отображается главный экран приложенния
        В центре экрана отображается пин ММП
    - do: Тап на системную кнопку назад
    - assert: Отображается главный экран устройства

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран поиска. Приложение не запущено:
    - info: |
        Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
        Приложение не запущено
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexmaps://yandex.ru/maps/search`
    - assert: Приложение запускается на экране поиска
    - do: Тап на системную кнопку назад
    - assert: Отображается главный экран приложения

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран закладок. Приложение не запущено:
    - info: |
        Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
        Приложение не запущено
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexmaps://yandex.ru/maps/bookmarks`
    - assert: Приложение запускается на экране закладок
    - do: Тап на системную кнопку назад
    - assert: Отображается главный экран приложения

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на главный экран. Приложение свернуто:
    - info: |
        Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
        Приложение свернуто
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexmaps://maps.yandex.ru/?ll=user_location&z=16`
    - assert: |
        Отображается главный экран приложенния
        В центре экрана отображается пин ММП
    - do: Тап на системную кнопку назад
    - assert: Отображается главный экран устройства

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран поиска. Приложение свернуто:
    - info: |
        Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
        Приложение свернуто
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexmaps://yandex.ru/maps/search`
    - assert: Приложение запускается на экране поиска
    - do: Тап на системную кнопку назад
    - assert: Отображается главный экран приложения

    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран закладок. Приложение свернуто:
    - info: |
        Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
        Приложение свернуто
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexmaps://yandex.ru/maps/bookmarks`
    - assert: Приложение запускается на экране закладок
    - do: Тап на системную кнопку назад
    - assert: Отображается главный экран приложения

    - testing:
        - acceptance_maps
    - tags:
        - assessors

  Dont keep activities - сворачивание/разворачивание при введение по маршруту:
    - info: Включена функция Don’t keep activities/Вытеснять фоновые активности (Настройки устройства -> Параметры разработчика)
    - do: Запустить приложение
    - do: Построить любой маршрут
    - do: Перейти в ведение по маршруту
    - assert: Отображается экран ведения
    - do: Свернуть приложение
    - assert: |
        Приложение сворачивается
        В шторке уведомлений на девайсе отображаются нотифкации введения (маневры,дс камеры)
    - do: Развернуть приложение
    - assert: Отображается экран ведения

    - tags:
        - assessors
    - testing:
        - acceptance_maps