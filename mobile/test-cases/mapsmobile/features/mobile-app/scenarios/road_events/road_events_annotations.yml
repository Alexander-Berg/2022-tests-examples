testing:
  - regress
components: road_events_annotations

aliases:
  - &settings
    - do: Выключить эксперименты `use_datasync_settings` и `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Закрыть дебаг-панель
    - do: Перезапустить приложение
    - do: Включить проигрывание уведомлений (Меню -> Настройки -> Маршруты -> Звук)
    - do: Выбрать голос Алисы (Меню -> Настройки -> Маршруты -> Звук -> Голос)
    - do: Включить симуляция движения (Меню -> Настройки -> Дебаг-панель -> Routes -> Demo movement)
    - do: Выставить максимальную скорость в симуляции движения


  - &settings_and_exp
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Выключить эксперимент `use_datasync_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Закрыть дебаг панель
    - do: Перезапустить приложение
    - do: Включить все звуки (Меню -> Настройки -> Звуки и оповещения -> Звуковое сопровождение -> Тап на иконку динамика)
    - do: Выбрать голос Алисы (Меню -> Настройки -> Звуки и оповещения -> Голос)
    - do: Включить симуляция движения (Меню -> Настройки -> Дебаг-панель -> Routes -> Demo movement)
    - do: Выставить максимальную скорость в симуляции движения

specs:
  Аннотации о ДС - Камеры:
    - *settings
    - do: Включить проигрывание аннотаций для Камеры (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: Построить автомаршрут, проходящий через дорожное событие типа "Камера"
    - do: Перейти в ведение по маршруту
    - assert: Произносится фраза с предупреждением о камере впереди

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие аннотации о ДС - Камеры:
    - *settings
    - do: Выключить проигрывание аннотаций для Камеры (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: Построить автомаршрут, проходящий через дорожное событие типа "Камера"
    - do: Перейти в ведение по маршруту
    - assert: Не произносится фраза с предупреждением о камере впереди

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Аннотации о ДС - Школы:
    - *settings
    - do: Включить проигрывание аннотаций для Школы (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: Построить автомаршрут, проходящий рядом со школой
    - do: Перейти в ведение
    - assert: Произносится фраза с предупреждением о школе впереди

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие аннотации о ДС - Школы:
    - *settings
    - do: Выключить проигрывание аннотаций для Школы (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: Построить автомаршрут, проходящий рядом со школой
    - do: Перейти в ведение
    - assert: Не произносится фраза с предупреждением о школе впереди

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Аннотации о ДС - ДТП:
    - *settings
    - do: Включить проигрывание аннотаций для ДТП (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: Построить автомаршрут, проходящий через ДТП
    - do: Перейти в ведение
    - assert: Произносится фраза с предупреждением о ДТП впереди

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие аннотации о ДС - ДТП:
    - *settings
    - do: Выключить проигрывание аннотаций для ДТП (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: Построить автомаршрут, проходящий через ДТП
    - do: Перейти в ведение
    - assert: Не произносится фраза с предупреждением о ДТП впереди

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Аннотации о ДС - Дорожные работы:
    - *settings
    - do: Включить проигрывание аннотаций для Дорожных работ (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: Построить автомаршрут, проходящий через дорожное событие "Дорожные работы"
    - do: Перейти в ведение по маршруту
    - assert: Произносится фраза с предупреждением дорожных работах впереди

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие аннотации о ДС - Дорожные работы:
    - *settings
    - do: Выключить проигрывание аннотаций для Дорожных работ (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: Построить автомаршрут, проходящий через дорожное событие "Дорожные работы"
    - do: Перейти в ведение по маршруту
    - assert: Не произносится фраза с предупреждением дорожных работах впереди

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Аннотации о ДС - Опасный участок работы:
    - *settings
    - do: Включить проигрывание аннотаций для Опасного участка работ (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map?lat_from=55.575562&lon_from=37.606016&lat_to=55.643036&lon_to=37.454944`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route666.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Спустя некоторое время звучит аннотация об опасном участке дороги

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие аннотации о ДС - Опасный участок работы:
    - *settings
    - do: Выключить проигрывание аннотаций для Опасного участка работ (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map?lat_from=55.575562&lon_from=37.606016&lat_to=55.643036&lon_to=37.454944`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route666.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Не звучат аннотация об опасном участке дороги

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Аннотации о ДС - Камера контроля полосы:
    - *settings
    - do: Включить проигрывание аннотаций для Камеры контроля полосы (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map/?lat_from=55.759971&lon_from=37.601102&lat_to=55.762813&lon_to=37.603861`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route667.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Через некоторое время произносится аннотация о камере контроля полосы

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие аннотации о ДС - Камера контроля полосы:
    - *settings
    - do: Выключить проигрывание аннотаций для Камеры контроля полосы (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map/?lat_from=55.759971&lon_from=37.601102&lat_to=55.762813&lon_to=37.603861`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route667.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Не произносится аннотация о камере контроля полосы

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Аннотации о ДС - Камера на разметку:
    - *settings
    - do: Включить проигрывание аннотаций для Камеры на разметку (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: Построить маршрут, проходящий через камеру на разметку (55.747653, 37.640591 или 55.772431, 37.604154)
    - do: Перейти в ведение
    - assert: Через некоторое время произносится аннотация о камере на разметку

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие аннотации о ДС - Камера на разметку:
    - *settings
    - do: Выключить проигрывание аннотаций для Камеры на разметку (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: Построить маршрут, проходящий через камеру на разметку (55.747653, 37.640591 или 55.772431, 37.604154)
    - do: Перейти в ведение
    - assert: Не произносится аннотация о камере на разметку

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Аннотации о ДС - Мобильная засада:
    - *settings
    - do: Включить проигрывание аннотаций для Мобильной засады (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map/?lat_from=55.759971&lon_from=37.601102&lat_to=55.762813&lon_to=37.603861`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route667.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Через некоторое время произносится аннотация о мобильной засаде

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие аннотации о ДС - Мобильная засада:
    - *settings
    - do: Выключить проигрывание аннотаций для Мобильной засады (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map/?lat_from=55.759971&lon_from=37.601102&lat_to=55.762813&lon_to=37.603861`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route667.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Не произносится аннотация о мобильной засаде

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Аннотации о ДС - Камера контроля проезда перекрёстка:
    - *settings
    - do: Включить проигрывание аннотаций для Камеры контроля проезда перекрестка (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map/?lat_from=54.717417&lon_from=20.502499&lat_to=54.719763&lon_to=20.500475`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route668.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Через некоторое время произносится аннотация о камере контроля перекрёстка

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие аннотации о ДС - Камера контроля проезда перекрёстка:
    - *settings
    - do: Выключить проигрывание аннотаций для Камеры контроля проезда перекрестка (Меню -> Настройки -> Маршруты -> Звук -> Дорожные события)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map/?lat_from=54.717417&lon_from=20.502499&lat_to=54.719763&lon_to=20.500475`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route668.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Не произносится аннотация о камере контроля перекрёстка

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Аннотации о ДС. Камеры:
    - *settings_and_exp
    - do: Включить проигрывание аннотаций для Камеры (Меню -> Настройки -> Звуки и оповещения)
    - do: Построить автомаршрут, проходящий через дорожное событие типа "Камера"
    - do: Перейти в ведение по маршруту
    - assert: Произносится фраза с предупреждением о камере впереди

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Отсутствие аннотации о ДС. Камеры:
    - *settings_and_exp
    - do: Выключить проигрывание аннотаций для Камеры (Меню -> Настройки -> Звуки и оповещения)
    - do: Построить автомаршрут, проходящий через дорожное событие типа "Камера"
    - do: Перейти в ведение по маршруту
    - assert: Не произносится фраза с предупреждением о камере впереди

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Аннотации о ДС. Школы:
    - *settings_and_exp
    - do: Включить проигрывание аннотаций для Школы (Меню -> Настройки -> Звуки и оповещения)
    - do: Построить автомаршрут, проходящий рядом со школой
    - do: Перейти в ведение
    - assert: Произносится фраза с предупреждением о школе впереди

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Отсутствие аннотации о ДС. Школы:
    - *settings_and_exp
    - do: Выключить проигрывание аннотаций для Школы (Меню -> Настройки -> Звуки и оповещения)
    - do: Построить автомаршрут, проходящий рядом со школой
    - do: Перейти в ведение
    - assert: Не произносится фраза с предупреждением о школе впереди

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Аннотации о ДС. ДТП:
    - *settings_and_exp
    - do: Включить проигрывание аннотаций для ДТП (Меню -> Настройки -> Звуки и оповещения)
    - do: Построить автомаршрут, проходящий через ДТП
    - do: Перейти в ведение
    - assert: Произносится фраза с предупреждением о ДТП впереди

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Отсутствие аннотации о ДС. ДТП:
    - *settings_and_exp
    - do: Выключить проигрывание аннотаций для ДТП (Меню -> Настройки -> Звуки и оповещения)
    - do: Построить автомаршрут, проходящий через ДТП
    - do: Перейти в ведение
    - assert: Не произносится фраза с предупреждением о ДТП впереди

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Аннотации о ДС. Дорожные работы:
    - *settings_and_exp
    - do: Включить проигрывание аннотаций для Дорожных работ (Меню -> Настройки -> Звуки и оповещения)
    - do: Построить автомаршрут, проходящий через дорожное событие "Дорожные работы"
    - do: Перейти в ведение по маршруту
    - assert: Произносится фраза с предупреждением дорожных работах впереди

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Отсутствие аннотации о ДС. Дорожные работы:
    - *settings_and_exp
    - do: Выключить проигрывание аннотаций для Дорожных работ (Меню -> Настройки -> Звуки и оповещения)
    - do: Построить автомаршрут, проходящий через дорожное событие "Дорожные работы"
    - do: Перейти в ведение по маршруту
    - assert: Не произносится фраза с предупреждением дорожных работах впереди

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Аннотации о ДС. Опасный участок работы:
    - *settings_and_exp
    - do: Включить проигрывание аннотаций для Опасного участка работ (Меню -> Настройки -> Звуки и оповещения)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map?lat_from=55.575562&lon_from=37.606016&lat_to=55.643036&lon_to=37.454944`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route666.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Спустя некоторое время звучит аннотация об опасном участке дороги

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Отсутствие аннотации о ДС. Опасный участок работы:
    - *settings_and_exp
    - do: Выключить проигрывание аннотаций для Опасного участка работ (Меню -> Настройки -> Звуки и оповещения)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map?lat_from=55.575562&lon_from=37.606016&lat_to=55.643036&lon_to=37.454944`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route666.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Не звучит аннотация об опасном участке дороги

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Аннотации о ДС. Камера контроля полосы:
    - *settings_and_exp
    - do: Включить проигрывание аннотаций для Камеры контроля полосы (Меню -> Настройки -> Звуки и оповещения)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map/?lat_from=55.759971&lon_from=37.601102&lat_to=55.762813&lon_to=37.603861`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route667.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Через некоторое время произносится аннотация о камере контроля полосы

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Отсутствие аннотации о ДС. Камера контроля полосы:
    - *settings_and_exp
    - do: Выключить проигрывание аннотаций для Камеры контроля полосы (Меню -> Настройки -> Звуки и оповещения)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map/?lat_from=55.759971&lon_from=37.601102&lat_to=55.762813&lon_to=37.603861`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route667.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Не произносится аннотация о камере контроля полосы

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Аннотации о ДС. Камера на разметку:
    - *settings_and_exp
    - do: Включить проигрывание аннотаций для Камеры на разметку (Меню -> Настройки -> Звуки и оповещения)
    - do: Построить маршрут, проходящий через камеру на разметку (55.747653, 37.640591 или 55.772431, 37.604154)
    - do: Перейти в ведение
    - assert: Через некоторое время произносится аннотация о камере на разметку

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Отсутствие аннотации о ДС. Камера на разметку:
    - *settings_and_exp
    - do: Выключить проигрывание аннотаций для Камеры на разметку (Меню -> Настройки -> Звуки и оповещения)
    - do: Построить маршрут, проходящий через камеру на разметку (55.747653, 37.640591 или 55.772431, 37.604154)
    - do: Перейти в ведение
    - assert: Не произносится аннотация о камере на разметку

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Аннотации о ДС. Мобильная засада:
    - *settings_and_exp
    - do: Включить проигрывание аннотаций для Мобильной засады (Меню -> Настройки -> Звуки и оповещения)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map/?lat_from=55.759971&lon_from=37.601102&lat_to=55.762813&lon_to=37.603861`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route667.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Через некоторое время произносится аннотация о мобильной засаде

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Отсутствие аннотации о ДС. Мобильная засада:
    - *settings_and_exp
    - do: Выключить проигрывание аннотаций для Мобильной засады (Меню -> Настройки -> Звуки и оповещения)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map/?lat_from=55.759971&lon_from=37.601102&lat_to=55.762813&lon_to=37.603861`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route667.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Не произносится аннотация о мобильной засаде

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Аннотации о ДС. Камера контроля проезда перекрёстка:
    - *settings_and_exp
    - do: Включить проигрывание аннотаций для Камеры контроля проезда перекрестка(Меню -> Настройки -> Звуки и оповещения)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map/?lat_from=54.717417&lon_from=20.502499&lat_to=54.719763&lon_to=20.500475`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route668.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Через некоторое время произносится аннотация о камере контроля перекрёстка

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Отсутствие аннотации о ДС. Камера контроля проезда перекрёстка:
    - *settings_and_exp
    - do: Выключить проигрывание аннотаций для Камеры контроля проезда перекрестка(Меню -> Настройки -> Звуки и оповещения)
    - do: |
        Построить автомаршрут с помощью диплинка `yandexmaps://build_route_on_map/?lat_from=54.717417&lon_from=20.502499&lat_to=54.719763&lon_to=20.500475`
        [collapsed-image](https://jing.yandex-team.ru/files/vikelvar/route668.png){title=QR-код}
    - do: Перейти в ведение
    - assert: Не произносится аннотация о камере контроля перекрёстка

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings
