components: fast_settings
testing:
  - regress

specs:
  Открытие меню быстрых настроек в ведении по маршруту:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        Построен автомобильный маршрут, открыт экран ведения по маршруту
    - do: Взаимодействовать с картой
    - assert: |
        На экране отоброжаются тулбар и контроллы
    - do: Тап на меню в тулбаре
    - assert: |
        Открывается меню
        В меню пункты:
          - "Звуковое сопровождение" в виде переключателя из трех кнопок, подним описание выбранной настройки
          - "Громкость приложения"
          - "Избегать платных дорог"
          - "Зафиксировать подсказки в углу"
          - "Тема"
          - "3D, вид карты, дорожные события"
          - "Все настройки"
    - do: Перевести устройство в горизонтальную ориентацию
    - assert: |
        Плашка меню отображается слева
        На участке с картой не отображаются контролы скорости и поиска

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - parity
        - newbie
    - testing:
        - acceptance_maps


  Открытие меню при ведении по маршруту:
    - info: |
        (ios) Включен эксперимент no_toolbar_in_guidance
        Построен автомобильный маршрут, открыт экран ведения по маршруту
    - do: Тап на меню (три горизонтальные линии)
    - assert: |
        Открывается меню,
        В меню пункты Пробки, Обзор, Со звуком/Без звука, Закладки, Дорожное событие, Настройки
    - do: Перевести устройство в горизонтальную ориентацию
    - assert: |
        Для Android: Плашка меню отображается справа
        Для IOS: Плашка меню отображается слева
        На участке с картой не отображаются контролы скорости и поиска

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Обзор маршрута в ведении:
    - info: |
        (ios) Включен эксперимент no_toolbar_in_guidance
        Без взаимодействия с картой контролы не отображаются на экране ведения
        Открыто ведение по автомаршруту
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Тап на кнопку меню в виде трех горизонтальных линий
    - assert: Поднимается блок с кнопками Пробки, Обзор, Со звуком/Без звука(в зависимости от настроек), Закладки, Дорожное событие, Настройки
    - do: Тап на кнопку "Обзор"
    - assert: |
        Карта отзумилась
        На карте отображается полный маршрут и альтернативный
        Рядом с каждым вариантом маршрута отображается время в пути
        Внизу экрана отображаются сниппеты с вариантами маршрутов и кнопка "Продолжить маршрут". На сниппетах указаны время, километраж и дорожные события маршрутов. Сниппет выбранного маршрута выделен
    - do: Тап на "Продолжить маршрут"
    - assert: |
        Карта призумилась к стрелке ММП
        Сохранился наклон карты и положение компаса
        Продолжается ведение по автомаршруту
        Контроллы не отображаются

    - platforms:
        - ios
    - tags:
        - assessors
        - parity


  Изменение Звукового сопровождения на Все звуки выключены через быстрые настройки:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        В Debug Panel -> Routes -> Demo movenent -> вкл
        Построен автомобильный маршрут, идет ведение по нему
        На устройстве включен звук
    - do: Тап на настройки в тулбаре
    - assert: |
        Открывается меню быстрых настроек
        Присутствует настройка "Звуковое сопровождение" с тремя кнопками
    - do: Тап "Все звуки выключены"(иконка с зачеркнутым динамиком)
    - assert: |
        Выбрана настройка "Все звуки выключены"
        Под настройкой отображется текст "Все звуки выключены"
    - do: Закрыть меню быстрых настроек
    - do: Проехать несколько маневров/ДС
    - assert: Аннотации о маневрах и ДС не проигрываются

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - parity
        - newbie
    - testing:
        - acceptance_maps


  Изменение Звукового сопровождения на Только важные через быстрые настройки:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        В Debug Panel -> Routes -> Demo movenent -> вкл
        Построен автомобильный маршрут, идет ведение по нему
        На устройстве включен звук
    - do: Тап на настройки в тулбаре
    - assert: |
        Открывается меню быстрых настроек
        Присутствует настройка "Звуковое сопровождение" с тремя кнопками
    - do: Тап "Только важные"(иконка с динамиком и восклицательным знаком)
    - assert: |
        Выбрана настройка "Только важное"
        Под настройкой отображется текст "Камеры и дорожные события"
    - do: Закрыть меню быстрых настроек
    - do: Проехать несколько маневров/ДС
    - assert: |
        Проигрываются аннотации о ДС
        Не проигрываются аннотации о маневрах

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - parity
        - newbie
    - testing:
        - acceptance_maps


  Изменение Звукового сопровождения на Все звуки включены через быстрые настройки:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        В Debug Panel -> Routes -> Demo movenent -> вкл
        Построен автомобильный маршрут, идет ведение по нему
        На устройстве включен звук
    - do: Тап на настройки в тулбаре
    - assert: |
        Открывается меню быстрых настроек
        Присутствует настройка "Звуковое сопровождение" с тремя кнопками
    - do: Тап "Все звуки включены"(иконка с динамиком)
    - assert: |
        Выбрана настройка "Все звуки включены"
        Под настройкой отображется текст "Все звуки включены"
    - do: Закрыть меню быстрых настроек
    - do: Проехать несколько маневров/ДС
    - assert: Проигрываются аннотации о ДС и маневрах

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - parity
        - newbie
    - testing:
        - acceptance_maps

  Регулировка громкости приложения через меню быстрых настроек:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        В Debug Panel -> Routes -> Demo movenent -> вкл
        Построен автомобильный маршрут, идет ведение по нему
    - do: Тап на меню в тулбаре
    - assert: |
        Открывается меню
        В меню присутсвует раздел "Громкость приложения"
    - do: Тап на "Низкая"
    - assert: Выбрана настройка "Низкая"
    - do: Дождаться аннотаций о маневрах
    - assert: Алиса тихо произносит аннотации
    - do: Тап на "Средняя"
    - assert: Выбрана настройка "Средняя"
    - do: Дождаться аннотаций о маневрах
    - assert: Алиса со средней громкостью произносит аннотации
    - do: Тап на "Высокая"
    - assert: Выбрана настройка "Высокая"
    - do: Дождаться аннотаций о маневрах
    - assert: Алиса с высокой громкостью произносит аннотации

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - parity
    - testing:
        - acceptance_maps


  Свитчер "Избегать платных дорог" в меню быстрых настроек:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        Включить в Настройках - Маршруты - Избегать платных дорог
        Построен любой автомобильный маршрут, открыт экран ведения по маршруту
    - do: Тап на меню в тулбаре
    - assert: |
        Открывается меню
        В меню присутствует пункт "Избегать платных дорог" с включенным свитчером
    - do: Построить новый автомаршрут с альтернативными вариантами, где есть платные дороги
    - assert: |
        Открыт экран выбора вариантов маршрута
        В вариантах выбора автомаршрута знак платной дороги отсутствует
    - do: Тап на "Поехали"
    - assert: |
        Началось ведение по автомаршруту
    - do: Тап на меню быстрых настроек в тулбаре
    - assert: |
        Открылось меню
        Свитчер "Избегать платных дорог" включен
    - do: Тап на свитчер "Избегать платных дорог"
    - assert: Свитчер выключен
    - do: Построить автомаршрут с альтернативными вариантами, где есть платные дороги
    - assert: |
        Открыт экран выбора вариантов маршрута
        В вариантых выбора автомаршрута присутствует знак платной дороги

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - parity
    - testing:
        - acceptance_maps


  Свитчер "Зафиксировать подсказки в углу" в меню быстрых настроек:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        Построен автомобильный маршрут, открыт экран ведения по маршруту
    - do: Тап на меню в тулбаре
    - assert: |
        Открывается меню
        В меню присутствует пункт "Зафиксировать подсказки в углу" со свитчером переключения
    - do: Выключить свитчер "Зафиксировать подсказки в углу"
    - assert: |
        Свитчер выключился
        Открыто меню
    - do: Закрыть меню
    - assert: |
        Меню закрылось
        В левом верхнем углу отображаются подсказки по маршруту
    - do: Подождать 15-20 секунд
    - assert: Подсказки из левого верхнего угла исчезли
    - do: Тап на меню
    - assert: |
        Открылось меню
        Свитчер "Зафиксировать подсказки в углу" выключен
    - do: Включить свитчер "Зафиксировать подсказки в углу"
    - assert: Свитчер стал активным
    - do: Закрыть меню
    - assert: |
        Меню закрылось
        В левом верхнем углу отображаются подсказки
    - do: Подождать 15-20 секунд
    - assert: Подсказки из левого правого угла не исчезают

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - parity
    - testing:
        - acceptance_maps


  Смена темы оформления через меню быстрых настроек:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        Построен автомобильный маршрут, открыт экран ведения по маршруту
    - do: Тап на меню в тулбаре
    - assert: |
        Открывается меню
        В меню присутствует пункт "Тема"
    - do: Тап на "Тема"
    - assert: |
        Открывается выбор темы, в ней присутствует:
        "Светлая"
        "Темная
        "Автоматическая
        "Системная"
    - do: Тап на "Темная"
    - assert: Тема в приложении меняется на темную
    - do: Тап на "Автоматически"
    - assert: Тема меняется в зависимости от времени суток
    - do: Тап на "Системная"
    - assert: Тема меняется на светлую

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - parity
    - testing:
        - acceptance_maps


  Cохранение угла наклона в быстрых настройках после измения наклона свайпом:
    - info: |
        ios: Debug-panel > Experiments > no_toolbar_in_guidance > выкл
        По умолчанию включен 3D режим
        Построен автомаршрут
        Происходит симуляция движения: Debug-panel > Routes > Demo movement
    - do: Тап на экран
    - assert: Появляется таббар внизу экрана
    - do: В таббаре тап на "Настройки" > 3D, вид, карты, дорожные события
    - assert: Открывается экран "Слои" быстрых настроек
    - do: Тап на пункт 3D-режим
    - assert: |
        Открыт экран "Слои"
        Иконка "3D-режим" не подсвечена
        Видимая часть Карты отображается в 2D
    - do: Закрыть экран "Слои"
    - assert: Карта отображается в 2D
    - do: Свайп двумя пальцами вверх
    - assert: Угол наклона карты меняетя на 3D
    - do: Открыть экран "Слои" быстрых настроек
    - assert: |
        Иконка 3D-режим подсвечена
        Видимая часть Карты отображается в 3D

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - parity


  Включение/выключение пробок из быстрых настроек в режиме ведения по маршруту:
    - info: |
        ios: Debug-panel > Experiments > no_toolbar_in_guidance > выкл
        Слой пробок выключен
        Построен автомаршрут в городе, где есть пробки
        Происходит симуляция движения: Debug-panel > Routes > Demo movement
    - do: Тап на экран
    - assert: Появляется таббар внизу экрана
    - do: В таббаре тап на "Настройки" > 3D, вид, карты, дорожные события
    - assert: Открывается экран "Слои" быстрых настроек
    - do: Тап на "Пробки"
    - assert: |
        Открыт экран "Слои"
        Иконка пункта "Пробки" окрашивается в соответствии с баллом пробок
        На видимой части карты отображается слой пробок
    - do: Закрыть экран "Слои"
    - assert: |
        Открыт экран ведения по маршруту
        Слой пробок включен
    - do: Открыть экран "Слои" быстрых настроек
    - assert: Поднимается экран "Слои" быстрых настроек
    - do: Тап на "Пробки"
    - assert: |
        Открыт экран "Слои"
        Иконка пункта "Пробки" не подсвечивается
        На видимой части карты не отображается слой пробок
    - do: Закрыть экран "Слои"
    - assert: |
        Открыт экран ведения по маршруту
        Слой пробок выключен

    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready
        - parity
    - platforms:
        - ios
        - android


  Сохранение статуса отображения пробок в быстрых настройках:
    - info: |
        ios: Debug-panel > Experiments > no_toolbar_in_guidance > выкл
        Слой пробок выключен
    - do: Построить автомаршрут в любую точку
    - assert: Отображается экран выбора вариантов маршрута
    - do: Включить слой пробок тапом по светофору
    - assert: |
        Слой пробок включен
        Отображается экран выбора вариантов маршрута
    - do: Перестроить маршрут
    - assert: |
        Слой пробок включен
        Отображается экран выбора вариантов маршрута
        Маршрут перестроен
    - do: Тап на "Поехали"
    - assert: |
        Слой пробок включен
        Происходит ведение по маршруту
        Внизу появляется таббар
    - do: В таббаре тап на "Настройки" > 3D, вид, карты, дорожные события
    - assert: Поднимается экран "Слои" быстрых настроек
    - do: Тап на "Пробки"
    - assert: |
        Открыт экран "Слои"
        Иконка пункта "Пробки" не подсвечивается
        На видимой части карты не отображается слой пробок
    - do: Закрыть экран "Слои"
    - assert: |
        Открыт экран ведения по маршруту
        Слой пробок выключен
    - do: Сбросить маршрут
    - assert: |
        Открыт главный экран приложения
        Слой пробок выключен

    - tags:
        - assessors
        - use_map
        - parity
    - platforms:
        - ios
        - android


  Переключение между слоями из быстрых настроек:
    - info: |
        ios: Debug-panel > Experiments > no_toolbar_in_guidance > выкл
        Построен автомаршрут в городе, где есть пробки и парковки
        Происходит симуляция движения: Debug-panel > Routes > Demo movement
        Включен слой пробок
    - do: Тап на экран
    - assert: Появляется таббар внизу экрана
    - do: В таббаре тап на "Настройки" > 3D, вид, карты, дорожные события
    - assert: Поднимается экран "Слои" быстрых настроек
    - do: Тап на "Парковки"
    - assert: |
        Открыт экран "Слои"
        Иконка пункта "Пробки" не подсвечивается
        Иконка пункта "Парковки" подсвечивается
        На видимой части карты отображается слой парковок
    - do: Закрыть экран "Слои"
    - assert: |
        Открыт экран ведения по маршруту
        Слой парковок ключен

    - integration_run:
        - mapkit
    - tags:
        - assessors
        - newbie
        - mapkit_ready
        - parity
    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps


  Включение слоя панорамы через быстрые настройки:
    - info: |
        Установить зум > 14 (самый ближний 21 зум)
        ios: Debug-panel > Experiments > no_toolbar_in_guidance > выкл
        Построен автомаршрут
        Происходит симуляция движения: Debug-panel > Routes > Demo movement
    - do: Тап на экран
    - assert: Появляется таббар внизу экрана
    - do: В таббаре тап на "Настройки" > 3D, вид, карты, дорожные события
    - assert: Поднимается экран "Слои" быстрых настроек
    - do: Тап на "Панорамы"
    - assert: |
        Открыт экран "Слои"
        Иконка пункта "Панорамы" подсвечивается
        На видимой части карты отображается слой панорам
        (iOS) Первый раз появляется тост 'Чтобы посмотреть панораму, нажмите на цветную линию'
    - do: Закрыть экран "Слои"
    - assert: |
        Открыт экран ведения по маршруту
        Дороги, на которых доступна панорама, выделены
        На карте также могут отображаются пины воздушной панорамы (кружок с воздушным шаром)
        При взаимодействии с картой отображаются контроллы пробок и парковок
        Под ними отображается активный контролл панорам
    - do: Тап по контроллу панорам
    - assert: |
        Контролл панорам пропал с экрана ведения по маршруту
        Дороги с панорамами не выделены

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - newbie
        - parity
    - testing:
        - acceptance_maps


  Отключение слоя ДС через быстрые настройки:
    - info: |
        ios: Debug-panel > Experiments > no_toolbar_in_guidance > выкл
        Построен автомаршрут в крупном городе
        Происходит симуляция движения: Debug-panel > Routes > Demo movement
        По умолчанию слой ДС включен
    - do: Тап на экран
    - assert: Появляется таббар внизу экрана
    - do: В таббаре тап на "Настройки" > 3D, вид, карты, дорожные события
    - assert: Поднимается экран "Слои" быстрых настроек
    - do: Тап на "Дорожные события"(ios) / Чекбокс "Дорожные события"(Android)
    - assert: |
        Открыт экран "Слои"
        Пункт "Дорожные события" не подсвечивается
        На видимой части карты не отображаются пины ДС (исключая лиинию маршрута)
    - do: Закрыть экран "Слои"
    - assert: |
        Открыт экран ведения по маршруту
        На карте не отображаются пины ДС
        На линии маршрута все ДС продолжают отображаться

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - mapkit_ready
        - newbie
        - parity
    - integration_run:
        - mapkit
    - testing:
        - acceptance_maps


  Включение отдельных ДС через быстрые настройки:
    - info: |
        ios: Debug-panel > Experiments > no_toolbar_in_guidance > выкл
        Построен автомаршрут в крупном городе
        Происходит симуляция движения: Debug-panel > Routes > Demo movement
    - do: Тап на экран
    - assert: Появляется таббар внизу экрана
    - do: В таббаре тап на "Настройки" > 3D, вид, карты, дорожные события
    - assert: Поднимается экран "Слои" быстрых настроек
    - do: Тап на "Дорожные события" (Android) / меню (три точки) пункта "Дорожные События" (ios)
    - assert: |
        Открыт экран "Дорожные события"
        В навбаре название экрана и кнопка "Готово" (Android) / крестик (iOS)
        Ниже отображается список ДС
    - do: Включить любой тип ДС тапом по чекбоксу
    - do: Тап на "Готово" (Android) / крестик (iOS)
    - assert: Открыт экран "Слои" быстрых настроек
    - do: Закрыть шторку с быстрыми настройками
    - assert: |
        Открыт экран ведения по маршруту
        Типы выбранного типа ДС отображаются на карте
        На линии маршрута все ДС продолжают отображаться

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - mapkit_ready
        - newbie
        - parity
    - integration_run:
        - mapkit


  Отключение слоя Закладки через быстрые настройки в автоведении:
    - info: |
        ios: Debug-panel > Experiments > no_toolbar_in_guidance > выкл
        Построен автомаршрут
        Происходит симуляция движения: Debug-panel > Routes > Demo movement
        Пользователь авторизован аккаунтом с закладками
    - do: Тап на экран
    - assert: Появляется таббар внизу экрана
    - do: В таббаре тап на "Настройки" > 3D, вид, карты, дорожные события
    - assert: Открывается экран "Слои" быстрых настроек
    - do: Тап на пункт "Закладки" (ios) / Чекбокс "Закладки"(Android)
    - assert: На видимой части карты перестали отображаться закладки
    - do: Закрыть экран "Слои"
    - assert: |
        Открыт главный экран приложения с картой
        На карте не отображаются закладки
    - do: После завершения кейса обратно включить отображение закладок на карте

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - parity
    - testing:
        - acceptance_maps


  Выключение 1 списка из слоя Закладки через таббар в ведение:
    - info: |
        ios: Debug-panel > Experiments > no_toolbar_in_guidance > выкл
        Построен автомаршрут
        Происходит симуляция движения: Debug-panel > Routes > Demo movement
        Пользователь авторизован
        В закладках существует 1 и более пользовательского списка закладок
    - do: Тап на экран
    - assert: Появляется таббар внизу экрана
    - do: В таббаре тап на "Настройки" > 3D, вид, карты, дорожные события
    - assert: Поднимается экран "Слои" быстрых настроек
    - do: Тап на "Закладки"
    - do: |
        Тап на меню (три точки) пункта "Закладки" (iOS)
        Тап на "Показать все" пункта "Закладки" (Android)
    - assert: |
        Открыт экран "Закладки", отображается на высоту списков
        В навбаре название экрана и кнопка "Готово" (Android) / крестик (iOS)
        Ниже отображаются списки закладок
    - do: Тап на любой список
    - assert: Чекбокс напротив списка неактивен
    - do: Тап на кнопку "Готово" / крестик
    - assert: |
        Открыт экран "Слои"
        На видимой части карты не отображаются закладки из выключенного списка
    - do: Закрыть экран "Слои"
    - assert: |
        Открыт главный экран приложения с картой
        На карте не отображаются закладки из списка, который был выключен

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - mapkit_ready
        - parity
    - integration_run:
        - mapkit


  Открытие пункта Слои через быстрые настройки в автоведении:
    - info: |
        ios: Debug-panel > Experiments > no_toolbar_in_guidance > выкл
        Построен автомаршрут
        Происходит симуляция движения: Debug-panel > Routes > Demo movement
    - do: Тап на экран
    - assert: Появляется таббар внизу экрана
    - do: В таббаре тап на "Настройки"
    - assert: Открывается экран быстрых настроек в режиме Навигатора
    - do: Тап на пункт "3D, вид, карты, дорожные события"
    - assert:
        Открывается экран "Слои" быстрых настроек
        В верхней части экрана отображается затемненная карта
        Отображаются слои быстрых настроек
        - Схема/Спутник/Гибрид
        - 3D-режим
        - пробки
        - парковки
        - панорамы
        - закладки
        - дорожные события
    - do: Свайпом закрыть экран "Слои" быстрых настроек
    - assert: |
        Отображается карта в режими Навигатора
        Продолжается ведение по маршруту

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - parity
    - testing:
        - acceptance_maps


  Переключение схем карты. Спутник:
    - info: |
        ios: Debug-panel > Experiments > no_toolbar_in_guidance > выкл
        По умолчанию включена Схема
        Построен автомаршрут
        Происходит симуляция движения: Debug-panel > Routes > Demo movement
    - do: Тап на экран
    - assert: Появляется таббар внизу экрана
    - do: В таббаре тап на "Настройки" > 3D, вид, карты, дорожные события
    - assert: Поднимается экран "Слои" быстрых настроек
    - do: Тап на Спутник
    - assert: |
        Открыт экран "Слои"
        Кнопка Спутник подсвечена
        Видимая часть Карты отображается в режиме Спутник
    - do: Сменить ориентацию устройства на горизонтальную
    - assert: |
        Открыт экран "Слои"
        Кнопка Спутник подсвечена
        Видимая часть Карты отображается в режиме Спутник
    - do: Закрыть экран "Слои"
    - assert: Карта отображается в режиме Спутник

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - parity
    - testing:
        - acceptance_maps


  Переключение схем карты. Гибрид:
    - info: |
        ios: Debug-panel > Experiments > no_toolbar_in_guidance > выкл
        По умолчанию включена Схема
        Построен автомаршрут
        Происходит симуляция движения: Debug-panel > Routes > Demo movement
    - do: Тап на экран
    - assert: Появляется таббар внизу экрана
    - do: В таббаре тап на "Настройки" > 3D, вид, карты, дорожные события
    - assert: Поднимается экран "Слои" быстрых настроек
    - do: Тап на Гибрид
    - assert: |
        Открыт экран "Слои"
        Кнопка Гибрид подсвечена
        Видимая часть Карты отображается в режиме Гибрид
    - do: Сменить ориентацию устройства на горизонтальную
    - assert: |
        Открыт экран "Слои"
        Кнопка Гибрид подсвечена
        Видимая часть Карты отображается в режиме Гибрид
    - do: Закрыть экран "Слои"
    - assert: Карта отображается в режиме Гибрид

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - parity


  Синхронизация быстрых настроек с другими настройками:
    - info: |
        ios: Debug-panel > Experiments > no_toolbar_in_guidance > выкл
        Открыт главный экран приложеня
    - do: Тап на контролл "Слои" (рядом со светофором)
    - assert: Открывается экран "Слои"
    - do: Включить "Панорамы", выключить "Дорожные события"
    - do: Закрыть экран Слои
    - do: Построить автомаршрут и перейти в ведение
    - do: В таббаре тап на "Настройки" > 3D, вид, карты, дорожные события
    - assert: |
        Открыт экран "Слои"
        Пункт "Панорамы" включен, пункт "Дорожные события" выключен
    - do: Закрыть экран Слои
    - do: В таббаре тап на "Настройки" > Все настройки > Карта > Тип карты > выбрать тип карты отличный от текущего
    - do: Вернуться на экран ведения по маршруту
    - do: В таббаре тап на "Настройки" > 3D, вид, карты, дорожные события
    - assert: |
        Открыт экран "Слои"
        Подсвечен выбранный тип карты

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - mapkit_ready
        - parity
    - integration_run:
        - mapkit


  Переход ко всем настройкам через меню быстрых настроек:
    - info: |
        Устройство в вертикальной ориентации
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        Построен автомобильный маршрут, открыт экран ведения по маршруту
    - do: Тап на меню в тулбаре
    - assert: |
        Открывается меню
        В меню присутствует пункт "Все настройки"
    - do: Тап на "Все настройки"
    - assert: Открылись полные настройки приложения

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - parity
    - testing:
        - acceptance_maps


  Открытие обзора маршрута в ведении через тулбар. Вертикальная ориентация:
    - info: |
        Выключен эксперимент no_toolbar_in_guidance
        Построен автомаршрут
        Происходит симуляция движения через Debug-panel > Routes > Demo movement
        Девайс в вертикальной ориентации
    - do: Тап по карте
    - assert: |
        Вместо спидометра отображаются контроллы
        Внизу появляется тулбар
    - do: Тап на кнопку "Обзор" в тулбаре
    - assert: |
        Карта отзумилась
        На карте отображается текущий маршрут и альтернативные
        К каждому варианту маршрута приставлен баллун с указанием времени
        Внизу отображаются сниппеты с вариантами маршрутов и кнопка "Продолжить маршрут"
        На сниппетах указаны время, километраж и дорожные события маршрутов
        Сниппет выбранного маршрута выделен
    - do: Тап на "Продолжить маршрут"
    - assert: |
        Карта призумилась к стрелке ММП
        Сохранился наклон карты и положение компаса
        Продолжается ведение по автомаршруту
        Контроллы не отображаются

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - parity
    - testing:
        - acceptance_maps


  Открытие обзора маршрута в ведении через тулбар. Горизонтальная ориентация:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        Построен автомаршрут
        Происходит симуляция движения через Debug-panel > Routes > Demo movement
        Девайс в горизонтальной ориентации
    - do: Тап по карте
    - assert: Справа на месте спидометра отображаются контроллы и тулбар
    - do: Тап на кнопку "Обзор" в тулбаре
    - assert: |
        Карта отзумилась
        На карте отображается текущий маршрут и альтернативные
        К каждому варианту маршрута приставлен баллун с указанием времени
        Слева отображаются сниппеты с вариантами маршрутов и кнопка "Продолжить маршрут"
        На сниппетах указаны время, километраж и дорожные события маршрутов
        Сниппет выбранного маршрута выделен
    - do: Тап на "Продолжить маршрут"
    - assert: |
        Карта призумилась к стрелке ММП
        Сохранился наклон карты и положение компаса
        Продолжается ведение по автомаршруту
        Контроллы не отображаются

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - parity
    - testing:
        - acceptance_maps




  Обзор автомаршрута при активном поиске из тулбара:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        Открыт экран ведения по автомаршруту
    - do: Тап на поиск
    - assert: Открывается экран поиска
    - do: Тап на любую категорию (например, "Продукты")
    - assert: |
        Открывается экран ведения по маршруту
        На карте отображаются результаты по поисковому запросу
        Внизу отображается плашка с запросом поиска
        Внизу отображается таббар: "Поиск", "Обзор", "Закладки", "Настройки"
    - do: Тап на "Обзор"
    - assert: |
        Отображаются результаты по поисковому запросу
        Плашка с запросом поиска НЕ отображается
        Внизу экрана отображаются сниппеты с вариантами маршрутов и кнопка "Продолжить маршрут". На сниппетах указаны время, километраж и дорожные события маршрутов. Сниппет выбранного маршрута выделен
    - do: Тап на "Продолжить маршрут"
    - assert: |
        Открыт экран ведения по маршруту
        Отображаются результаты по поисковому запросу
        Плашка с запросом поиска присутствует

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - parity
    - testing:
        - acceptance_maps



  Обзор автомаршрута при активном поиске:
    - info: |
        Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/linakolpakova/no_toolbar.png){title=QR-код}

        `yandexmaps://add_exp?no_toolbar_in_guidance`
    - do: Перезапустить приложение
    - do: Построить произвольный автомаршрут
    - do: Тап на Поехали
    - do: Тап на кнопку поиска
    - assert: Открывается экран поиска
    - do: Тап на любую категорию (например, "Продукты")
    - assert: |
        Открывается экран ведения по маршруту
        На карте отображаются результаты по поисковому запросу
        Внизу отображается плашка с запросом поиска
    - do: Тап на меню (три горизонтальные линии)
    - assert: |
        Открывается быстрое меню ведения
        Присутствует кнопка "Обзор маршрута"
    - do: Тап на "Обзор маршрута"
    - assert: |
        Отображаются результаты по поисковому запросу
        Плашка с запросом поиска НЕ отображается
        Внизу экрана отображаются сниппеты с вариантами маршрутов и кнопка "Продолжить маршрут"
        На сниппетах указаны время, километраж и дорожные события маршрутов
        Сниппет выбранного маршрута выделен
    - do: Тап на "Продолжить маршрут"
    - assert: |
        Открыт экран ведения по маршруту
        Отображаются результаты по поисковому запросу
        Плашка с запросом поиска присутствует

    - platforms:
        - ios
    - tags:
        - assessors
        - parity
    - testing:
        - acceptance_maps
