testing:
  - regress
components: widget

specs:
  Добавление виджета 2х1 на экран, если ММП в городе без балла пробок:
    - info: |
        Пользователь авторизован
        ММП в городе без балла пробок (напр., Тула)
        Приложение не запущено
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по виджету 2х1
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: |
        Открылся экран настроек виджета
        Присутствует кнопка Добавить виджет
    - do: Тап на Добавить виждет
    - assert: |
        Настройки закрылись
        На экране в выбранной ранее области отображается виджет размером 2х1
        В виджете отображается карта в месте текущего ММП с включенным слоем пробок

    - platforms:
        - android
    - tags:
        - assessors


  Добавление виджета 2х1 на экран, если ММП в городе с баллом пробок:
    - info: |
        Пользователь неавторизован
        ММП в городе с баллом пробок (напр., Москва)
        Приложение не запущено
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по виджету 2х1
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: |
        Открылся экран настроек виджета
        Присутствуют кнопки Войти и Добавить виджет
    - do: Тап на Добавить виждет
    - assert: |
        Настройки закрылись
        На экране в выбранной ранее области отображается виджет размером 2х1
        В виджете отображается карта в месте текущего ММП с включенным слоем пробок
        Присутсвует светофор с баллом пробок

    - platforms:
        - android
    - tags:
        - assessors


  Добавление виджета 2х2 на экран, если ММП в городе без балла пробок:
    - info: |
        Пользователь неавторизован
        Приложение не запущено
        ММП в городе без балла пробок (напр., Тула)
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по виджету 2х2
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: |
        Открылся экран настроек виджета
        Присутствуют кнопки Войти и Добавить виджет
    - do: Тап на Добавить виждет
    - assert: |
        На экране в выбранной ранее области отображается виджет размером 2х2
        В виджете отображается карта в месте текущего ММП с включенным слоем пробок

    - platforms:
        - android
    - tags:
        - assessors


  Добавление виджета 2х2 на экран, если ММП в городе с баллом пробок:
    - info: |
        Пользователь авторизован
        Приложение не запущено
        ММП в городе с баллом пробок (напр., Москва)
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по виджету 2х2
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: |
        Открылся экран настроек виджета
        Присутствует кнопка Добавить виджет
    - do: Тап на Добавить виждет
    - assert: |
        На экране в выбранной ранее области отображается виджет размером 2х2
        В виджете отображается карта в месте текущего ММП с включенным слоем пробок
        Присутсвует светофор с баллом пробок

    - platforms:
        - android
    - tags:
        - assessors


  Добавление виджета 3х1 на экран, если ММП в городе с баллом пробок:
    - info: |
        Пользователь авторизован
        Приложение не запущено
        ММП в городе с баллом пробок (напр., Москва)
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по виджету 3х1
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: |
        Открылся экран настроек виджета
        Присутствует кнопка Добавить виджет
    - do: Тап на Добавить виждет
    - assert: |
        На экране в выбранной ранее области отображается виджет размером 3х1
        В виджете отображается карта в месте текущего ММП с включенным слоем пробок
        Присутсвует светофор с баллом пробок

    - platforms:
        - android
    - tags:
        - assessors


  Добавление виджета 3х1 на экран, если ММП в городе без балла пробок:
    - info: |
        Пользователь неавторизован
        Приложение не запущено
        ММП в городе без балла пробок (напр., Тула)
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по виджету 3х1
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: |
        Открылся экран настроек виджета
        Присутствуют кнопки Войти и Добавить виджет
    - do: Тап на Добавить виждет
    - assert: |
        На экране в выбранной ранее области отображается виджет размером 3х1
        В виджете отображается карта в месте текущего ММП с включенным слоем пробок

    - platforms:
        - android
    - tags:
        - assessors


  Добавление виджета 3х2 на экран, если ММП в городе с баллом пробок:
    - info: |
        Пользователь авторизован
        Приложение не запущено
        ММП в городе с баллом пробок (напр., Москва)
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по виджету 3х2
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: |
        Открылся экран настроек виджета
        Присутствует кнопка Добавить виджет
    - do: Тап на Добавить виждет
    - assert: |
        На экране в выбранной ранее области отображается виджет размером 3х2
        В виджете отображается карта в месте текущего ММП с включенным слоем пробок
        Присутсвует светофор с баллом пробок
        Отображается блок до дома/до работы
        Отображается почасовой прогноз пробок

    - platforms:
        - android
    - tags:
        - assessors


  Добавление виджета 3х2 на экран, если ММП в городе без балла пробок:
    - info: |
        Пользователь неавторизован
        Приложение не запущено
        ММП в городе без балла пробок (напр., Тула)
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по виджету 3х2
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: |
        Открылся экран настроек виджета
        Присутствуют кнопки Войти и Добавить виджет
    - do: Тап на Добавить виждет
    - assert: |
        На экране в выбранной ранее области отображается виджет размером 3х2
        В виджете отображается карта в месте текущего ММП с включенным слоем пробок

    - platforms:
        - android
    - tags:
        - assessors


  Добавление виджета 4х1 на экран, если ММП в городе с баллом пробок:
    - info: |
        Пользователь авторизован
        Приложение не запущено
        ММП в городе с баллом пробок (напр., Москва)
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по виджету 4х1
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: |
        Открылся экран настроек виджета
        Присутствует кнопка Добавить виджет
    - do: Тап на Добавить виждет
    - assert: |
        На экране в выбранной ранее области отображается виджет размером 4х1
        В виджете отображается карта в месте текущего ММП с включенным слоем пробок
        Присутсвует светофор с баллом пробок
        Отображается блок до дома/до работы

    - platforms:
        - android
    - tags:
        - assessors


  Добавление виджета 4х1 на экран, если ММП в городе без балла пробок:
    - info: |
        Пользователь неавторизован
        Приложение не запущено
        ММП в городе без балла пробок (напр., Тула)
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по виджету 4х1
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: |
        Открылся экран настроек виджета
        Присутствуют кнопки Войти и Добавить виджет
    - do: Тап на Добавить виждет
    - assert: |
        На экране в выбранной ранее области отображается виджет размером 4х1
        В виджете отображается карта в месте текущего ММП с включенным слоем пробок

    - platforms:
        - android
    - tags:
        - assessors


  Добавление виджета 4х2 на экран, если ММП в городе с баллом пробок:
    - info: |
        Пользователь авторизован
        Приложение не запущено
        ММП в городе с баллом пробок (напр., Москва)
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по виджету 4х2
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: |
        Открылся экран настроек виджета
        Присутствует кнопка Добавить виджет
    - do: Тап на Добавить виждет
    - assert: |
        На экране в выбранной ранее области отображается виджет размером 4х2
        В виджете отображается карта в месте текущего ММП с включенным слоем пробок
        Присутсвует светофор с баллом пробок
        Отображается блок до дома/до работы
        Отображается почасовой прогноз пробок

    - platforms:
        - android
    - tags:
        - assessors


  Добавление виджета 4х2 на экран, если ММП в городе без балла пробок:
    - info: |
        Пользователь неавторизован
        Приложение не запущено
        ММП в городе без балла пробок (напр., Тула)
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по виджету 4х2
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: |
        Открылся экран настроек виджета
        Присутствуют кнопки Войти и Добавить виджет
    - do: Тап на Добавить виждет
    - assert: |
        На экране в выбранной ранее области отображается виджет размером 4х2
        В виджете отображается карта в месте текущего ММП с включенным слоем пробок

    - platforms:
        - android
    - tags:
        - assessors


  Удаление виджета, вынесенного на экран:
    - info: |
        Добавлен любой виждет Яндекс.Карт на рабочий стол устройства:
        Лонг-тап в свободной области экрана -> выбрать пункт Виджеты -> Найти виджеты Я.Карт -> Выбрать любой -> Добавить виджет
    - do: Лонг-тап в область экрана с виджетом
    - assert: Отображаются кнопки Удалить с экрана и О приложении
    - do: Тап на Удалить с экрана
    - assert: Виджет удален с экрана устройства

    - platforms:
        - android
    - tags:
        - assessors


  Перенос виджета, вынесенного на экран:
    - info: |
        Добавлен любой виждет Яндекс.Карт на рабочий стол устройства:
        Лонг-тап в любой области экрана -> выбрать пункт Виджеты -> Найти виджеты Я.Карт -> Выбрать любой -> Добавить виджет
    - do: Лонг-тап в область экрана с виджетом
    - do: Удерживая палец, перенести виджет в другую область экрана
    - assert: Виджет перенесн

    - platforms:
        - android
    - tags:
        - assessors


  Переход в карты из виджета для залогиненного пользователя:
    - info: |
        Добавить виджет на экран
        Залогиниться в виджете
        На девайсе установлены карты
    - do: Тап в центр виджета
    - assert: |
        Открылись МЯК
        Если в виджете не было времени для строки Дом/Работа (адреса не назначены), то мы попадаем на главный экран карт
        Если в виджете было время для строки Дом/Работа (адреса указаны), то строится маршрут от текущего местоположения к точке Дом/Работа

    - platforms:
        - android
    - tags:
        - assessors


  Ручное обновление данных в виджете:
    - info: На экран добавлен виджет 4х3 (для наглядности)
    - do: Тап на кнопку ручного обновления данных в виджете
    - assert: |
        Стрелки начали вращение по часовой стрелке
        Обновился бал пробок в светофоре (если изменился)
        Обновился слой пробок на карте (если изменился)
        Обновилось время в поле Домой/До работы (если время изменилось)
        Обновился прогноз пробок (если пришли изменения)
        Для виджетов меньших размеров изменяются все отображаемые данные из списка выше, например, для 1х1 вращаются стрелки и обновляется бал пробок в светофоре

    - platforms:
        - android
    - tags:
        - assessors


  Автообновление данных в виджете, время обновления 30 минут:
    - info: На экран добавлен виджет 4х2
    - do: Открыть настройки
    - assert: Дефолтный период обновления данных 15 минут
    - do: Тап на строку 'Время обновления'
    - assert: |
        Появился поп-ап 'Время обновления'
        Текущий вариант никак не выделен
        В поп-апе можно выбрать обновление вручную и автоматическое обновление по таймеру
    - do: Выбрать вариант 30 минут
    - assert: В строке 'Время обновления' пишется 30 минут
    - do: Добавить виджет
    - do: Подождать заявленное время
    - assert: |
        Стрелки начали вращение по часовой стрелке
        Обновился бал пробок в светофоре (если изменился)
        Обновился слой пробок на карте (если изменился)
        Обновилось время в поле Домой/До работы (если время изменилось)
        Обновился прогноз пробок (если пришли изменения)
        Для виджетов меньших размеров изменяются все отображаемые данные из списка выше, например, для 1х1 вращаются стрелки и обновляется бал пробок в светофоре

    - platforms:
        - android


  Автообновление данных в виджете, время обновления 60 минут:
    - info: На экран добавлен виджет 4х2
    - do: Открыть настройки
    - assert: Дефолтный период обновления данных 15 минут
    - do: Тап на строку 'Время обновления'
    - assert: |
        Появился поп-ап 'Время обновления'
        Текущий вариант никак не выделен
        В поп-апе можно выбрать обновление вручную и автоматическое обновление по таймеру
    - do: Выбрать вариант 30 минут
    - assert: В строке 'Время обновления' пишется 60 минут
    - do: Добавить виджет
    - do: Подождать заявленное время
    - assert: |
        Стрелки начали вращение по часовой стрелке
        Обновился бал пробок в светофоре (если изменился)
        Обновился слой пробок на карте (если изменился)
        Обновилось время в поле Домой/До работы (если время изменилось)
        Обновился прогноз пробок (если пришли изменения)
        Для виджетов меньших размеров изменяются все отображаемые данные из списка выше, например, для 1х1 вращаются стрелки и обновляется бал пробок в светофоре

    - platforms:
        - android


  Автообновление данных в виджете, время обновления 15 минут:
    - info: На экран добавлен виджет 4х2
    - do: Открыть настройки
    - assert: Дефолтный период обновления данных 15 минут
    - do: Добавить виджет
    - do: Подождать заявленное время
    - assert: |
        Стрелки начали вращение по часовой стрелке
        Обновился бал пробок в светофоре (если изменился)
        Обновился слой пробок на карте (если изменился)
        Обновилось время в поле Домой/До работы (если время изменилось)
        Обновился прогноз пробок (если пришли изменения)
        Для виджетов меньших размеров изменяются все отображаемые данные из списка выше, например, для 1х1 вращаются стрелки и обновляется бал пробок в светофоре

    - platforms:
        - android


  Переход в карты из виджета для незалогиненного пользователя:
    - info: |
        Добавить виджет на экран
        При необходимости разлогиниться в виджете
        На девайсе установлены карты
    - do: Тап в центр виджета
    - assert: Открылся главный экран карт

    - platforms:
        - android
    - tags:
        - assessors

  Добавление нескольких виджетов на экран:
    - info: Детальное описание добавления виджета на экран можно посмотреть в предыдущих кейсах
    - do: Вынести виджет любого размера на экран
    - do: Изменить настройки виджета
    - do: Вынести на экран второй виджет
    - do: Изменить настройки второго виджета (они обязательно должны отличаться от настроек первого виджета)
    - assert: |
        Каждый виджет показывает информацию в соответствии со своими настройками, т.е. они не связаны с друг другом
        Добавление на экран каждого последующего виджета выполняется так, словно у нас нет добавленных виджетов (т.е. как при добавлении на экран первого виджета)
        Если виджет удалить с экрана и на его место добавить виджет такого же размера, то он будет настраиваться заново

    - platforms:
        - android
    - tags:
        - assessors


  Авторизация через экран настроек виджета:
    - info: |
        Пользователь неавторизован
        Отображается экран настроек виджета:
        Лонг-тап в любой области экрана -> выбрать пункт Виджеты -> Найти виджеты Я.Карт -> Выбрать любой
    - do: Тап на Войти
    - assert: |
        Отображается карусель АМ
        Присутствуют кнопки Войти и Добавить аккаунт
    - do: Авторизоваться любым аккаунтом
    - assert: |
        Отображается экран настроек виджета
        Кнопка Войти не отображается

    - platforms:
        - android
    - tags:
        - assessors


  Построение маршрута до дома/работы через виджет после добавления адреса дома/работы:
    - info: |
        Пользователь авторизован акканутом без добавленного адреса дома и работы
        На экран устройства добавлен виджет с блоком дома/работы: (напр., 3x2, 4x1, 4x2):
        Лонг-тап в любой области экрана -> выбрать пункт Виджеты -> Найти виджеты Я.Карт -> Выбрать любой -> Добавить виджет
        Отображается экран устройства с виджетом
        Блок дома/работы не отображается
    - do: Открыть приложение
    - do: Добавить адрес дома/работы на экране закладок (Меню -> Закладки и мой транспорт)
    - do: Вернуться на экран с виджетом
    - do: Подождать обновление виждета
    - assert: Появился блок дома/работы
    - do: Тап на блок дома/работы
    - assert: |
        Открылось приложение
        Построен маршрут до дома/работы
        В качестве конечной точки указан новый адрес

    - platforms:
        - android
    - tags:
        - use_map
        - assessors


  Построение маршрута до дома/работы через виджет при изменении адреса дома/работы:
    - info: |
        У пользователя добавлен Дом/Работа в закладки
        На экран устройства добавлен виджет с блоком дома/работы (напр., 3x2, 4x1, 4x2):
        Лонг-тап в свободной области экрана -> выбрать пункт Виджеты -> Найти виджеты Я.Карт -> Выбрать любой -> Добавить виджет
        Отображается экран устройства с виджетом
    - do: Тап на блок дома/работы
    - assert: |
        Открылось приложение
        Построен маршрут до дома/работы
    - do: Изменить адрес дома/работы на экране закладок (Меню -> Закладки и мой транспорт)
    - do: Вернуться на экран с виджетом
    - do: Тап на блок дома/работы
    - assert: |
        Открылось приложение
        Построен маршрут до дома/работы
        В качестве конечной точки указан новый адрес

    - platforms:
        - android
    - tags:
        - use_map
        - assessors


  Переключение темы на светлую:
    - info: |
        Открыт экран Настройки виджета:
        Лонг-тап в свободной области экрана -> выбрать пункт Виджеты -> Найти виджеты Я.Карт -> Выбрать любой
        По дефолту выбрана Системная тема
    - do: Тап в строку 'Системная тема' в блоке Тема
    - assert: |
        Отображается поп-ап Тема
        Выбрана Системная тема
        Светлая тема в положении 'Выкл'
        Темная тема в положении 'Выкл'
    - do: Тап на Светлая
    - assert: |
        Открыт экран Настройки виджета
        В блоке тема указано Светлая
    - do: Тап на Добавить виджет
    - assert: |
        Экран настроек закрылся
        Виджет добавлен на экран
        Фон виджета светлый

    - platforms:
        - android
    - tags:
        - assessors


  Переключение темы на тёмную:
    - info: |
        Открыт экран Настройки виджета:
        Лонг-тап в свободной области экрана -> выбрать пункт Виджеты -> Найти виджеты Я.Карт -> Выбрать любой
        По дефолту выбрана Системная тема
    - do: Тап в строку 'Системная тема' в блоке Тема
    - assert: |
        Отображается поп-ап Тема
        Выбрана Системная тема
        Светлая тема в положении 'Выкл'
        Темная тема в положении 'Выкл'
    - do: Тап на Темная
    - assert: |
        Открыт экран Настройки виджета
        В блоке тема указано Темная
    - do: Тап на Добавить виджет
    - assert: |
        Экран настроек закрылся
        Виджет добавлен на экран
        Фон виджета темный

    - platforms:
        - android
    - tags:
        - assessors


  Изменение масштаба карты виджета:
    - info: |
        Вынести на экран виджет такого размера, чтобы отображалась карта
        Открыть 'Настройки виджета'
    - do: Тап несколько раз по кнопкам '+' и '-'
    - assert: |
        После каждого нажатия происходит приближение или отдаление карты
        Во время подгрузки данных карта становится прозрачной и отображается сообщение 'Загрузка...'
        На масштабе страны дизейблится кнопка '-'
        На масштабе улицы дизейблится кнопка '+'
    - do: Сохранить изменения в настройках (тап 'чекбокс' в левом верхнем углу)
    - assert: |
        Изменился масштаб карты
        Масштаб соответствует выставленному в настройках

    - platforms:
        - android


  Переход в Я.Карты при тапе на пробки в виджете:
    - info: На экран добавлен виджет любого размера
    - do: Тап на иконку пробок в виджете
    - assert: |
        Открываются Я.Карты
        На спане карты город, указанный в виджете
        Включен слой пробок
        На карте отображаются цветные линии пробок

    - platforms:
        - android
        - ios
    - testing:
        - lite_acceptance_maps
    - tags:
        - use_map
        - newbie

  Первый запуск через виджет пробок:
    - info: |
        Приложение установлено
        Приложение ранее не запускалось
        ММП в городе с баллом пробок (напр., Москва)
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по любому виджету
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: Открылся экран настроек виджета
    - do: Тап на Добавить виджет
    - do: Тап на значок пробок в виджете
    - assert: |
        Открывается карта на спане города, указанного в виджете
        Пробки включены, на карте отображаются цветные линии пробок
        Онбординг не отображается
    - do: Закрыть приложение с выгрузкой из памяти
    - assert: Открыт экран устройства с приложениями
    - do: Открыть приложение
    - assert: Отображается экран онбординга

    - platforms:
        - android
    - tags:
        - assessors


  Первый запуск через виджет (маршрут Домой):
    - info: |
        Приложение установлено
        Приложение ранее не запускалось
        Отображается главный экран устройства
    - do: |
        Открыть экран добавления виджета
        Обычно для этого необходимо сделать лонг-тап на пустой области экрана и выбрать пункт 'Виджеты'
    - do: Найти в списке 'Виджет Яндекс.Карт'
    - do: Лонг-тап по виджету с блоком дома/работы (напр., 3x2, 4x1, 4x2)
    - do: Выбрать место для виджета на экране
    - do: Убрать палец от экрана
    - assert: |
        Открылся экран настроек виджета
        Присутствуют кнопки Войти и Добавить виджет
    - do: Тап на Войти
    - do: Авторизоваться аккаунтом с добавленным адресом дома в закладки
    - do: Тап на Добавить виджет
    - do: Тап на 'Домой' в виджете
    - assert: |
        Отображается экран выбора вариантов маршрута
        Маршрут построен от текущего местоположения до дома
        Онбординг не отображается
    - do: Закрыть приложение с выгрузкой из памяти
    - assert: Открыт экран устройства с приложениями
    - do: Открыть приложение
    - assert: Отображается экран онбординга

    - platforms:
        - android
    - tags:
        - assessors


  Переход в Яндекс.Карты по тапу на блоке виджета с названием города и баллом пробок:
    - info: |
        ММП в Москве
        Пользователь авторизован
        Включен слой "Пробки"
        Запомнить спан карты и зум
        Яндекс.Карты не запущены (выгружены из памяти)
        Включено отображение виджета Яндекс.Карты
        На устройстве отображается Экран Виджетов
    - do: Тап на светофор
    - assert: |
        Открылось приложение Яндекс.Карты на том спане и зуме, который был открыт до перезапуска.
        Активировался слой пробок, на улицах отображаются цветные линии загруженности дорог.
    - do: Изменить спан карты и зум, запомнить его
    - do: Свернуть приложение, открыть панель виджетов и тап на светофор в виджете
    - assert: |
        Открылось приложение Яндекс.Карты на спане и зуме и шага
        Слой пробок по прежнему активен

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps
    - tags:
        - use_map


  Отображение в виджете данных о времени в пути до Дома:
    - info: |
        Виджет добавлен на панель с виджетами.
        В приложении проведена авторизация под Яндекс.Аккаунтом.
        Добавлен адрес дома, адрес работы пустой
        Текущее местоположение не совпадает с адресом дома
    - do: Открыть панель виджетов
    - assert: |
        Открыта панель с виджетом Яндекс.Карт.
        Справа от светофора отображён блок Домой
        Под надписью Домой отображается светофор.
        Цвет соответствует дорожной ситуации. Справа от светофора время в пути до дома.
        Справа от блока Домой отображён блок До работы.
        Под надписью До работы есть кнопка Добавить
    - do: Тап на Добавить
    - assert: Запускаются Яндекс.Карты, открываются Закладки.

    - platforms:
        - ios
    - tags:
        - assessors

  Отображение в виджете данных о времени в пути до Работы:
    - info: |
        Виджет добавлен на панель с виджетами.
        В приложении проведена авторизация под Яндекс.Аккаунтом.
        Добавлен адрес работы, адрес дома пустой Текущее местоположение не совпадает с адресом работы
    - do: Открыть панель виджетов
    - assert: |
        Открыта панель с виджетом Яндекс.Карт.
        Справа от светофора отображён блок Домой
        Под надписью Домой есть кнопка Добавить
        Справа от блока Домой отображён блок До работы.
        Под надписью До работы отображается светофор.
        Цвет соответствует дорожной ситуации.
        Справа от светофора время в пути до работы.
    - do: Тап на Добавить
    - assert: Запускаются Яндекс.Карты, открываются Закладки.

    - platforms:
        - ios
    - tags:
        - assessors

  Отображение в виджете данных о времени в пути одновременно до Дома и Работы:
    - info: |
        Виджет добавлен на панель с виджетами
        Пользователь авторизован
        Добавлены адреса дома и работы в закладки
        Оба адреса не совпадают с текущим местоположением
    - do: Открыть панель виджетов
    - assert: |
        Открыта панель с виджетом Яндекс.Карт
        Присутствуют кнопки дома и работы с временем доезда

    - platforms:
        - ios
    - tags:
        - assessors
        - newbie
    - testing:
        - acceptance_maps

  Просмотр виджета в оффлайне:
    - info: |
        На панель с виджетами добавлен виджет Яндекс.Карт.
        Открыта панель с виджетом.
    - do: Перейти в режим полёта и переоткрыть панель с виджетами.
    - assert: В виджете отображается информация, которая была до отключения интернета
    - do: Свернуть панель виджетов, подождать 3 минуты и снова открыть панель
    - assert: |
        В виджете отображается ошибка Не удалось загрузить - нет интернета.
        Попробуйте снова через некоторое время.
    - do: Подождать 5 секунд
    - assert: |
        Появляется Загрузка..., крутится спинер.
        Снова отображается текст с ошибкой.
    - do: Тап по тексту в виджете
    - assert: |
        Блок с текстом не протапывается.
        Ничего не произошло.
    - do: Выйти из режима полёта и переоткрыть панель с виджетами.
    - assert: |
        Виджет обновился.
        В нем отображается актуальная информация о балле пробок в городе и (при наличии адресом Дома/Работы) — сведения о времени в пути до дома/работы.
        Сообщение из шага 2 исчезло.

    - platforms:
        - ios
    - tags:
        - assessors

  Построение маршрута до Дома/Работы из виджета:
    - info: |
        На панель с виджетами добавлен виджет Яндекс.Карт.
        В приложении проведена авторизация под Я.аккаунтом
        Добавлены адреса Дома и Работы.
        Открыта панель с виджетами
        Последний построенный маршрут был автомобильным
    - do: Тап на Домой
    - assert: Запускается приложение, открыта форме выбора варианта автомобильного маршрута с маршрутом от текущего местоположения до Дома.
    - do: Переключиться на общественный транспорт
    - assert: Строится маршрут общественного транспорта от текущего местоположения до дома
    - do: Свернуть приложение, открыть панель виджетов и тап на До работы
    - assert: Строится маршрут общественного транспорта от текущего местоположения до работы
    - do: Переключиться на пешеходный маршрут
    - assert: Строится пешеходный маршрут от текущего местоположения до работы
    - do: Выгрузить приложение из памяти, открыть панель виджетов и тап на Домой
    - assert: Строится пешеходный маршрут от текущего местоположения до дома

    - platforms:
        - ios
    - tags:
        - assessors
        - newbie
    - testing:
        - acceptance_maps

  Добавление/удаление виджета:
    - info: |
        Установить приложение на устройство без предыдущей версии карт
        Приложению запрещен доступ к геолокации
        Открыт рабочий стол устройства
    - do: Свайп слева направо, чтобы открыть панель с виджетами
    - assert: Слева выехала системная панель с поиском, датой и виджетами
    - do: Тап по кнопке Изменить.
    - assert: В списке доступных для добавления виджетов отображается строка с логотипом МЯКа и подписью Яндекс.Карты
    - do: Добавить виджет (тап по кнопке + рядом со строкой Яндекс.Карты и тап Готово)
    - assert: |
        В панели отобразился виджет Яндекс.Карт
        Сверху строка с логотипом приложения и названием Яндекс.Карты
        Внутри виджета информация
        Разрешите Яндекс.Картам доступ к геолокации в системных настройках
    - do: Тап на виджет
    - assert: |
        Открываются настройки доступа Яндекс.Карт
        Напротив Геопозиции написано Никогда
    - do: Дать доступ картам к геолокации
    - assert: Карты получили доступ
    - do: Тап на Home
    - assert: Устройство вышло на рабочий стол
    - do: Свайп слева вправо, чтобы открыть панель с виджетами
    - assert: В виджете появилась информация.
    - do: Удалить виджет (Тап по кнопке Изменить -> Тап по значку - около Яндекс.Карты -> Тап по  Удалить -> Тап по Готово.)
    - assert: Виджет Яндекс.Карт исчез с панели.

    - platforms:
        - ios
    - tags:
        - assessors
        - newbie
    - testing:
        - acceptance_maps


  Отображение виджета при наличии информации о балле пробок в городе:
    - info: |
        На панель с виджетами добавлен виджет Яндекс.Карт
        Открыта панель с виджетом
        Пользователь авторизован
        У пользователя добавлены закладки Дом/Работа
        Местоположение в Москве
    - do: Открыть панель с виджетом
    - assert: |
        В заголовке отображено название Яндекс.Карты
        В правом верхнем углу карты отображён светофор, с цветом в зависимости от балла пробок
        В центре светофора указан балл
        В виджете средних размеров: в левой части виджета-карта, в правой-баллы пробок на ближайшие три часа,вермя до Дома/Работы
        В большом виджете: в нижней трети виджета информация о баллах пробок на ближайшие 6 часов
        В маленьком виджете: внизу карты информация о времени до Дома/Работы
    - do: Переоткрыть панель с виджетом
    - assert: Виджет по-прежнему отображается в развернутом виде
    - do: Тап на светофор
    - assert: |
        Открываются Яндекс.Карты
        Слой пробок включен
        Цвет светофора и балл такой же как в виджете

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps

  Отображение виджета при отсутствии информации о балле пробок в городе (iOS 10.x):
    - info: |
        На панель с виджетами добавлен виджет Яндекс.Карт.
        Открыта панель с виджетом.
        Местоположение в Туле
    - do: Открыть панель с виджетом
    - assert: |
        В заголовке отображено название Яндекс.Карты.
        Слева сверху отображён серый светофор
        Справа информация о времени до дома и работы
        Ниже надпись Нет балла пробок
    - do: Тап на светофор
    - assert: |
        Открываются Яндекс.Карты
        Слой пробок включен
        Цвет светофора в картах серый

    - platforms:
        - ios
    - tags:
        - assessors

  Отображение виджета, при отсутствии адресов Дома и Работы:
    - info: |
        Виджет добавлен на панель с виджетами.
        В приложении проведена авторизация под Яндекс.Аккаунтом.
        Адреса работы и дома не добавлены
    - do: Открыть панель виджетов
    - assert: |
        Открыта панель с виджетом Яндекс.Карт.
        Справа от светофора есть надпись Время до дома и работы
        Ниже есть кнопка Добавить адреса
    - do: Тап на Добавить адреса
    - assert: |
        Запускаются Яндекс.Карты, открываются Закладки.

    - platforms:
        - ios
    - tags:
        - assessors

  Отображение в виджете данных о времени в пути до Дома и Работы, когда они находятся в текущем местоположении:
    - info: |
        Виджет добавлен на панель с виджетами.
        В приложении проведена авторизация под Яндекс.Аккаунтом.
        Добавлены адреса и дома и работы
        Адрес Работы совпадает с текущим местоположением
    - do: Открыть панель виджетов
    - assert: |
        Открыта панель с виджетом Яндекс.Карт.
        Справа от светофора отображён блок Домой со временем пути до дома
        Блок До работы не отображается.
    - do: В закладках пользователя для места Дом установить адрес совпадающий с текущим местоположением, Для места Работа установить адрес не совпадающий с текущим местоположением
    - do: Открыть панель виджетов
    - assert: |
        Открыта панель с виджетом Яндекс.Карт.
        Справа от светофора отображён блок До работы со временем пути до работы
        Блок Домой не отображается.
    - do: Установить для мест Дом и Работа одинаковый адрес, совпадающий с текущим местоположением
    - do: Открыть панель виджетов
    - assert: |
        Открыта панель с виджетом Яндекс.Карт.
        Блоки Домой и До работы не отображаются.

    - platforms:
        - ios
    - tags:
        - assessors
        - use_map

  Отображение в виджете при разных системных шрифтах:
    - info: |
        Виджет добавлен на панель с виджетами.
        В приложении проведена авторизация под Яндекс.Аккаунтом.
        Добавлен адрес дома, адрес работы пустой
        Текущее местоположение не совпадает с адресом дома
        В системе установлен минимальный размер текста
        Местоположение в Туле
    - do: Открыть панель виджетов
    - assert: |
        Виджет отображается корректно, текст не обрезается, не переносится на вторую строку, графических артефактов нет
    - do: Изменить в системе размер текста на максимальный, открыть панель виджетов
    - assert: |
        Виджет отображается корректно, текст не обрезается, не переносится на вторую строку, графических артефактов нет
    - do: Подменить местоположение на Москву, открыть панель виджетов
    - assert: Виджет отображается корректно, текст не обрезается, не переносится на вторую строку, графических артефактов нет
    - do: Изменить в системе размер текста на минимальный (местоположение по прежнему в Москве), открыть панель виджетов
    - assert: Виджет отображается корректно, текст не обрезается, не переносится на вторую строку, графических артефактов нет

    - platforms:
        - ios
    - tags:
        - assessors

  Проверка локализации виджета Яндекс.Карты:
    - info: |
        Приложение установлено
        Включено отображение виджета Яндекс.Карты
        Установлен русский системный язык
    - do: Открыть экран с виджетом Яндекс.Карты
    - assert: |
        Отображается значок балла пробок
        Отображается путь до дома
        Отображается путь до работы
        Язык соответствует системному (русский)
    - do: Изменить системный язык на английский
    - assert: Системный язык изменен
    - do: Открыть экран с виджетами
    - assert: |
        Отображается значок балла пробок
        Отображается путь до дома
        Отображается путь до работы
        Язык соответствует системному (английский)
    - do: Изменить системный язык на украинский
    - assert: Системный язык изменен
    - do: Открыть экран с виджетами
    - assert: |
        Отображается значок балла пробок
        Отображается путь до дома Отображается путь до работы
        Язык соответствует системному (украинский)
    - do: Изменить системный язык на турецкий
    - assert:  Системный язык изменен
    - do: Открыть экран с виджетами
    - assert: |
        Отображается значок балла пробок
        Отображается путь до дома
        Отображается путь до работы
        Язык соответствует системному (турецкий)

    - platforms:
        - ios
    - tags:
        - assessors


  Пробочный виджет Small. Город с баллом пробок, c авторизацией:
    - info: |
        Добавить виджет 'Пробки' на рабочий стол (размером в 4 иконки)
        Пользователь авторизован в МЯКе, Дом и Работа не добавлены
        Местоположение в городе с баллом пробок, например Москва
        Слой пробок выключен
    - do: Перейти на рабочий стол с виджетом
    - assert: |
        Отображается маленький виджет
        На виджете отображается местоположение пользователя
        В правом верхнем углу виджета отображается светофор с баллом пробок
        Если для города доступна погода, то она отображается в левом верхнем углу
    - do: Тап в произвольное место на виджете
    - assert: |
        Открывается МЯК на главном экране
        Слой пробок остается выключенным
    - do: Добавить Дом и Работу и вернуться к виджету
    - assert: |
        Внизу виджета отображается иконка Дома/Работы с временем маршрута
        Выбор Дома/Работы происходит по следующей логике:
        Будние дни:
          - Если рабочий день (понедельник-пятница) и рабочее время (с 6 до 17) - то показываем работу, в остальное время дом.
            Исключение - до дома/работы меньше 1 км, в таком случае показываем точку, которая дальше от пользователя.
        Выходные дни:
          - Если выходной и пользователь находится не дома, то показываем "Домой", если находится дома - "На работу".

    - platforms:
        - ios
    - testing:
        - acceptance_maps

  Пробочный виджет Small. Город без балла пробок, без авторизации:
    - info: |
        Добавить виджет 'Пробки' на рабочий стол (размером в 4 иконки)
        Пользователь не авторизован в МЯКе
        Местоположение в городе без балла пробок, например Тула
        Слой пробок выключен
    - do: Перейти на рабочий стол с виджетом
    - assert: |
        Отображается маленький виджет
        На виджете отображается местоположение пользователя
        Если для города доступна погода, то она отображается в левом верхнем углу
    - do: Тап в произвольное место на виджете
    - assert: |
        Открывается МЯК на главном экране
        Слой пробок остается выключенным
    - do: Включить слой пробок и вернуться к виджету
    - assert: |
        На карте слой пробок не отображается

    - platforms:
        - ios
    - testing:
        - acceptance_maps


  Пробочный виджет Medium. Город c баллом пробок, без авторизации:
    - info: |
        Проверять на iOS 14 и выше
        Получен эксперимент widget_traffic_on
        Добавить виджет 'Пробки' на рабочий стол (размером в 8 иконок)
        Пользователь не авторизован в МЯКе
        Местоположение в городе с баллом пробок, например Москва
        Слой пробок включен
    - do: Перейти на рабочий стол с виджетом
    - assert: |
        Отображается средний по размеру виджет
        Виджет разделен на 2 части:
          - слева блок с картой
          - справа прогноз пробок
        В блоке с картой:
          - местоположение пользователя
          - слой пробок
          - светофор
          - погода, если доступна
        В блоке с прогнозом пробок
          - прогноз пробок на ближайшие 3 часа
    - do: В МЯК отключить слой пробок и вернуться на рабочий стол с виджетом
    - do: Тап в область карты на виджете
    - assert: Открывается МЯК с выключенным слоем пробок
    - do: Вернуться на рабочий стол с виджетом
    - do: Тап на контрол пробок
    - assert: Открывается МЯК с включенным слоем пробок

    - platforms:
        - ios
    - testing:
        - acceptance_maps

  Пробочный виджет Medium. Город c баллом пробок, с авторизацией:
    - info: |
        Проверять на iOS 14 и выше
        Получен эксперимент widget_traffic_on
        Добавить виджет 'Пробки' на рабочий стол (размером в 8 иконок)
        Пользователь авторизован в МЯКе, Дом и Работа добавлены
        Местоположение в городе с баллом пробок, например Москва
    - do: Перейти на рабочий стол с виджетом
    - assert: |
        Отображается средний по размеру виджет
        Виджет разделен на 2 части:
          - слева блок с картой
          - справа прогноз пробок
        В блоке с картой:
          - местоположение пользователя
          - слой пробок, если влючен в МЯКе
          - светофор
          - погода, если доступна
        В блоке с прогнозом пробок
          - прогноз пробок на ближайшие 3 часа
          - иконка с Домом/Работой с временем в пути
        Выбор Дома/Работы происходит по следующей логике:
        Будние дни:
          - Если рабочий день (понедельник-пятница) и рабочее время (с 6 до 17) - то показываем работу, в остальное время дом.
            Исключение - до дома/работы меньше 1 км, в таком случае показываем точку, которая дальше от пользователя.
        Выходные дни:
          - Если выходной и пользователь находится не дома, то показываем "Домой", если находится дома - "На работу".

    - platforms:
        - ios
    - testing:
        - acceptance_maps
        - lite_acceptance_maps
    - tags:
        - newbie

  Пробочный виджет Medium. Город без балла пробок:
    - info: |
        Проверять на iOS 14 и выше
        Получен эксперимент widget_traffic_on
        Добавить виджет 'Пробки' на рабочий стол (размером в 8 иконок)
        Пользователь не авторизован в МЯКе
        Местоположение в городе без балла пробок, например Тула
    - do: Перейти на рабочий стол с виджетом
    - assert: |
        Отображается средний по размеру виджет
        Всю область виджета занимает карта
        На карте отображается местоположение пользователя

    - platforms:
        - ios
    - testing:
        - acceptance_maps

  Пробочный виджет Large. Город c баллом пробок, без авторизации:
    - info: |
        Проверять на iOS 14 и выше
        Получен эксперимент widget_traffic_on
        Добавить виджет 'Пробки' на рабочий стол (размером в 16 иконок)
        Пользователь не авторизован в МЯКе
        Местоположение в городе с баллом пробок, например Москва
        Слой пробок включен
    - do: Перейти на рабочий стол с виджетом
    - assert: |
        Отображается большой виджет
        В блоке с картой отображается местоположение пользователя
        В левом верхнем углу отображается погода, если доступна
        В правом верхнем углу отображается светофор
        Внизу блок с прогнозом пробок на ближайшие часы
    - platforms:
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors

  Пробочный виджет Large. Город c баллом пробок, с авторизацией:
    - info: |
        Проверять на iOS 14 и выше
        Получен эксперимент widget_traffic_on
        Добавить виджет 'Пробки' на рабочий стол (размером в 16 иконок)
        Пользователь авторизован в МЯКе, Дом и Работа добавлены
        Местоположение в городе с баллом пробок, например Москва
    - do: Перейти на рабочий стол с виджетом
    - assert: |
        Отображается большой виджет по размеру
        В блоке с картой отображается местоположение пользователя
        В левом верхнем углу отображается погода, если доступна
        В правом верхнем углу отображается светофор
        Внизу блок с прогнозом пробок на ближайшие часы
        Над блоком отображается иконка с Домом/Работой с временем в пути

    - platforms:
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - newbie

  Пробочный виджет Large. Город без балла пробок:
    - info: |
        Проверять на iOS 14 и выше
        Добавить виджет 'Пробки' на рабочий стол (размером в 16 иконок)
        Пользователь не авторизован в МЯКе
        Местоположение в городе без балла пробок, например Тула
        Включен ночной режим
    - do: Перейти на рабочий стол с виджетом
    - assert: |
        Отображается большой по размеру виджет в темном оформлении
        В блоке с картой отображается местоположение пользователя
        В левом верхнем углу отображается погода, если доступна
        Внизу отображается кнопка в зависимости от условий:
          - Нет Дома и Работы = ничего не отображается
          - Нет Дома = Отображается время до работы
          - Нет Работы = Отображается время до дома

    - platforms:
        - ios
    - testing:
        - acceptance_maps

  Пробочный виджет. Состояние загрузки:
    - info: Включить авиарежим
    - do: Добавить виджет 'Пробки' всех размеров на рабочий стол и разрешить доступ к местоположению
    - do: Выключить авиарежим
    - assert: |
        Информация на виджете подгрузилась
        На карте отображается местоположение пользователя
        Если доступен балл пробок, то отображается светофор
    - do: Тап на контрол пробок в виджете размера M и L
    - assert: |
        Открылся МЯК
        Автоматически включился слой пробок
    - do: Запретить доступ приложения к местоположению
    - do: Изменить местоположение и подождать. (Допускается задержка обновления до 10 минут)
    - do: Вернуться на рабочий стол с виджетами
    - assert: |
        На виджетах отображается последний открытый спан карты
        Метка пользователя не отображается

    - platforms:
        - ios
    - testing:
        - acceptance_maps

  Пробочный виджет. Маршрут до дома/работы:
    - info: |
        В МЯКе авторизоваться под аккаунтом с домом/работой
        Добавить виджет 'Пробки' на рабочий стол
    - do: Тап в виджете на иконку дома/работы
    - assert: |
        Открылся МЯК
        Построился маршрут от текущего местоположения до дома/работы
        Открыт экран выбора вариантов маршрута

    - platforms:
        - ios
    - testing:
        - acceptance_maps

  Пробочный виджет. Включение/выключение слоя пробок:
    - info: |
        Добавить виджет "Пробки" всех размеров на рабочий стол
        Размер виджетов:
        Small - 4 иконки, Medium - 8 иконок, Large - 16 иконок
        Слой пробок в приложении выключен
    - do: Тап на произвольную область на виджете Small
    - assert: |
        Открывается главный экран приложения
        Слой пробок выключен
    - do: Вернуться на рабочий стол к виджетам
    - do: Тап на произвольную область на виджете Medium
    - assert: |
        Открывается главный экран приложения
        Слой пробок выключен
    - do: Вернуться на рабочий стол к виджетам
    - do: Тап на контрол пробок на виджете Medium
    - assert: |
        Открывается главный экран приложения
        Слой пробок включен
    - do: Выключить слой пробок
    - do: Вернуться на рабочий стол к виджетам
    - do: Тап на произвольную область на виджете Large
    - assert: |
        Открывается главный экран приложения
        Слой пробок выключен
    - do: Вернуться на рабочий стол к виджетам
    - do: Тап на контрол пробок на виджете Large
    - assert: |
        Открывается главный экран приложения
        Слой пробок включен

    - platforms:
        - ios
    - tags:
        - assessors


  Отсутствие ограничений на построение маршрута из виджета:
    - info: |
        Пользователь авторизован
        Добавлены адреса для Дома и Работы
        Добавлен виджет с возможность строить маршрут
        Открыт экран с виджетами
        Для эксперимента maximum_number_of_navigation_starts_without_license выставить значение = 5
    - do: Тап на Домой
    - assert: |
        Приложение запущено
        Отображается экран выбора маршрута
        Маршрут построен от текущего ММП до Дома
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Тап на До работы в виджете
    - assert: |
        Приложение запущено
        Отображается экран выбора маршрута
        Маршрут построен от текущего ММП до работы
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Построить любой из предыдущих маршрутов еще 5 раз
    - assert: |
        Приложение запускается
        Отображается экран выбора маршрута
        Маршрут построен от текущего ММП до Дома/Работы
        Сообщения об ограничении на построение маршрута нет

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Соответствие пробочных виджетов системной светлой/темной теме:
    - info: |
        Добавлены виджеты Small, medium, large на рабочий стол
        Размеры виджетов Small - 4 иконки, Medium - 8 иконок, Large - 16 иконок
        Установлена светлая тема в системе девайса
        Открыты настройки Темный режим Настройки->Основные->Темный режим
    - do: Отключить темный режим в приложении МЯК
    - assert: Приложение МЯК отображается в светлой теме
    - do: Открыть рабочий стол девайса, где отображаются виджеты
    - assert: Виджеты отображаются в светлой теме
    - do: Включить темный режим в приложении МЯК
    - assert: Приложение МЯК отображается в темной теме
    - do: Открыть рабочий стол девайса, где отображаются виджеты
    - assert: Виджеты отображаются в светлой теме
    - do: Включить автоматический режим в приложении МЯК
    - assert: |
        Приложение должно отображаться в светлой теме с 7:00 до 18:00
        Приложение должно отображаться в темной теме с 19:00 до 6:00
    - do: Открыть рабочий стол девайса, где отображаются виджеты
    - assert: Виджеты отображаются в светлой теме
    - do: Установить темную тему в системе девайса
    - assert: Система девайса переключилась на темную тему
    - do: Открыть рабочий стол девайса, где отображаются виджеты
    - assert: Виджеты отображаются в темной теме
    - do: Включить темный режим в приложении МЯК
    - assert: Приложение МЯК отображается в темной теме
    - do: Открыть рабочий стол девайса, где отображаются виджеты
    - assert: Виджеты отображаются в темной теме
    - do: Отключить темный режим в приложении МЯК
    - assert: Приложение МЯК отображается в светлой теме
    - do: Открыть рабочий стол девайса, где отображаются виджеты
    - assert: Виджеты отображаются в темной теме

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Проверка отображения балла пробок в крупных/маленьких городах:
    - info: |
        На панели виджетов добавлен виджет с баллом пробок
        ММП в городе без балла пробок (Например, Тула)
    - do: Пролистать до панели виджетов
    - assert: |
        Отображается виджет с серым светофором
        Android: Отображается виджет без иконки со светофором
        Если пользователь добавил дом/работа отображается время поездки до точки
    - do: |
        iOS: Тап на Светофор
    - assert: Открылись карты с включенным слоем пробок
    - do: Отключить слой пробок и поменять ММП в городе с баллом пробок (Например, Москва)
    - do: Пролистать до панели виджетов
    - assert: |
        Отображается виджет с цветным светофором и баллом пробок
        Если пользователь добавил дом/работа отображается время поездки до точки
    - do: Тап на Светофор
    - assert: |
        Открылись карты с включенным слоем пробок
        Балл пробок в виджете и в картах одинаковый

    - platforms:
        - ios
        - android
    - testing:
        - lite_acceptance_maps
    - tags:
        - assessors
        - newbie

  Настройки виджета:
    - info: Открыт главный экран устройства
    - do: Через лонг-тап меню добавить виджет пробок
    - assert: |
        Отображается экран настроек виджета. На экране присутствует:
        - Свитчер включения пробок (по умолчанию включено)
        - Настройка масштаба карты (средний)
        - Настройка времени обновления (15 минут)
        - Настройка темы
    - do: Тап на свитчер пробок
    - assert: Пробки на виджеты отключены
    - do: Поставить масштаб карты обзорный
    - assert: Машстаб карты изменился
    - do: Установить время обновления 30 минут
    - assert: Время обновления изменилось
    - do: Выбрать другую тему
    - assert: Тема виджета поменялась на соответствующую
    - do: Тап на "Добавить виджет"
    - assert: На главном экране устройства появился виджет с соответсвующими настройками
    - do: Аналогичным образом добавить виджет с другими настройками
    - do: Перезапустить МЯК
    - assert: Ранее добавленный виджет изменился в соответствии новым настройкам

    - platforms:
        - android
    - testing:
        - lite_acceptance_maps
    - tags:
        - assessors
        - newbie


  Открытие автомаршрута из виджета пробок 3x2 при любом выбранном ранее типе маршрута:
    - info: |
        На экране устройства добавлен пробочный виджет с блоком дом/работа (3x2, 4x1, 4x2)
        Для Хiaomi отображаются виджеты 5х1 и 5х2 - это и есть 4х1, 4х2 (особенности системы)
        Добавлены адреса дом/работа
        Пользователь авторизован
        Открыт экран ведения по любому типу маршрута, кроме авто
    - do: Свернуть приложение
    - do: Тап на кнопку дом/работа в виджете 3x2
    - assert: |
        Открыто приложение
        Ведение по маршруту завершено
        Открыт экран выбора вариантов маршрута на табе Авто

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Открытие автомаршрута из виджета пробок 4x1 при любом выбранном ранее типе маршрута:
    - info: |
        На экране устройства добавлен пробочный виджет с блоком дом/работа (3x2, 4x1, 4x2)
        Добавлены адреса дом/работа
        Пользователь авторизован
        Открыт экран ведения по любому типу маршрута, кроме авто
    - do: Свернуть приложение
    - do: Тап на кнопку дом/работа в виджете 4x1
    - assert: |
        Открыто приложение
        Ведение по маршруту завершено
        Открыт экран выбора вариантов маршрута на табе Авто

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Открытие автомаршрута из виджета пробок 4x2 при любом выбранном ранее типе маршрута:
    - info: |
        На экране устройства добавлен пробочный виджет с блоком дом/работа
        Добавлены адреса дом/работа
        Пользователь авторизован
        Открыт экран ведения по любому типу маршрута, кроме авто
    - do: Свернуть приложение
    - do: Тап на кнопку дом/работа в виджете 4x2
    - assert: |
        Открыто приложение
        Ведение по маршруту завершено
        Открыт экран выбора вариантов маршрута на табе Авто

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps
