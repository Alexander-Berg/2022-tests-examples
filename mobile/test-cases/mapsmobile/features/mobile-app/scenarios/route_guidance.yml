components: route_guidance
testing:
  - regress


aliases:
    - &Bike_guidanceInfo
      - info: Аннотации велосипедного, самокатного и пешеходного маршрутов воспроизводятся только Алисой
      - do: |
          Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/QR-код%20Bike_Guidance.png){title=QR-код}

          `yandexmaps://add_exp?bike_guidance=on`
    - do: Перезапустить приложение



specs:
  Подсказки во время ведения по маршруту:
    - info: |
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Выключить эксперименты `use_datasync_settings` и `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Закрыть дебаг панель
    - do: Перезапустить приложение
    - do: Построить автомобильный маршрут
    - assert: Открыт экран выбора маршрутов
    - do: Тап на "Поехали"
    - assert: |
        Началось ведение по маршруту
        Подсказки по маршруту отображаются и не зафиксированы
    - do: Закрыть режим ведения и перейти в Меню -> Настройки -> Маршруты
    - assert: По умолчанию настройка "Зафиксировать подсказки о маневрах в углу экрана" выключена
    - do: Тап на свитчер "Закрепить подсказки в ведении по маршруту"
    - assert: Свитчер стал активным
    - do: Покинуть меню
    - assert: Открыт главный экран приложения
    - do: Построить автомобильный маршрут
    - assert: Открыт экран выбора маршрутов
    - do: Тап на "Поехали"
    - assert: |
        Началось ведение по маршруту
        Подсказки по маршруту отображаются в верхнем левом углу экрана

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Новые настройки. Подсказки во время ведения по маршруту:
    - info: |
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Построить автомобильный маршрут
    - assert: Открыт экран выбора маршрутов
    - do: Тап на "Поехали"
    - assert: |
        Началось ведение по маршруту
        Подсказки по маршруту отображаются и не зафиксированы
    - do: Закрыть режим ведения и перейти в Меню -> Настройки -> Автомаршруты
    - assert: По умолчанию настройка "Зафиксировать подсказки о маневрах в углу экрана" выключена
    - do: Тап на свитчер "Закрепить подсказки в ведении по маршруту"
    - assert: Свитчер стал активным
    - do: Открыть главный экран приложения
    - do: Построить автомобильный маршрут
    - assert: Открыт экран выбора маршрутов
    - do: Тап на "Поехали"
    - assert: |
        Началось ведение по маршруту
        Подсказки по маршруту отображаются в верхнем левом углу экрана

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - new_settings


  Отключение настройки закрепления подсказок во время ведения по маршруту:
    - info: |
        Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
        Закрыть дебаг панель
        Перезапустить приложение
        В настройках маршрута выключен свитчер "Зафиксировать подсказки о маневрах в углу экрана"
        Открыт главный экран приложения
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Построить автомобильный маршрут
    - assert: Открыт экран выбора маршрутов
    - do: Тап на "Поехали"
    - assert: |
        Началось ведение по маршруту
        Подсказки по маршруту отображаются в разных местах экрана

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Новые настройки. Отключение настройки закрепления подсказок во время ведения по маршруту:
    - info: |
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Выключить свитчер "Зафиксировать подсказки о маневрах в углу экрана"(Меню -> Настройки -> Автомаршруты)
    - assert: Настройка выключена
    - do: Построить автомобильный маршрут
    - assert: Открыт экран выбора маршрутов
    - do: Тап на "Поехали"
    - assert: |
        Началось ведение по маршруту
        Подсказки по маршруту отображаются в разных местах экрана

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - new_settings


  Настройка закрепления подсказок во время ведения маршрута:
    - info: |
        Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
        Закрыть дебаг панель
        Перезапустить приложение
        По умолчанию настройка "Закрепить подсказки в ведении по маршруту" выключена
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Построить маршрут
    - do: Тап "Поехали"
    - assert: На экране ведение по маршруту
    - do: Тап на Меню -> Настройки -> Маршруты
    - assert: Cвитчер "Закрепить подсказки в ведении по маршруту" не активный
    - do: Тап на свитчер "Закрепить подсказки в ведении по маршруту"
    - assert: Свитчер стал активным
    - do: Покинуть меню и вернуться на экран ведения маршрута
    - assert: Подсказки по маршруту отображаются в верхнем правом углу экрана
    - do: Тап на Меню -> Настройки -> Маршруты
    - assert: Cвитчер "Закрепить подсказки в ведении по маршруту" активный
    - do: Тап на свитчер "Закрепить подсказки в ведении по маршруту"
    - assert: Свитчер стал не активным
    - do: Вернуться на экран ведения маршрута
    - assert: Подсказки по маршруту отображаются в разных местах экрана

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Новые настройки. Настройка закрепления подсказок во время ведения маршрута:
    - info: |
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Тап на Меню -> Настройки -> Автомаршруты
    - do: Включить свитчер "Зафиксировать подсказки о маневрах в углу экрана"
    - assert: Свитчер активный
    - do: Построить автомобильный маршрут
    - do: Запустить ведение
    - assert: Подсказки по маршруту отображаются в верхнем правом углу экрана
    - do: Тап по экрану
    - assert: Появился тулбар
    - do: Тап на Меню -> Все Настройки -> Автомаршруты
    - assert: Cвитчер "Зафиксировать подсказки о маневрах в углу экрана" активный
    - do: Тап на свитчер "Зафиксировать подсказки о маневрах в углу экрана"
    - assert: Свитчер стал не активным
    - do: Вернуться на экран ведения маршрута
    - assert: Подсказки по маршруту отображаются в разных местах экрана

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Подтверждение выхода из режима ведения:
    - info: |
        На экране ведение по автомаршруту
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Тап на крестик в плашке ведения по автомаршруту
    - assert: |
        Открывается поп-ап меню с заголовком "Завершить маршрут?"
        Отображается кнопка "Да, завершить"
    - do: Тап в свободную область экрана
    - assert: |
        Поп-ап "Завершить маршрут?" скрылся
        Отображается экран ведения по автомаршруту
    - do: Тап на крестик в плашке ведения по автомаршруту
    - assert:  |
        Открывается поп-ап меню с заголовком "Завершить маршрут?"
        Отображается кнопка "Да, завершить"
    - do: Тап по кнопке "Да, завершить"
    - assert:  |
        Маршрут завершен
        Отображается главный экран приложения

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map


  Настройка "Север сверху" в ведении:
    - info: |
        Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
        Закрыть дебаг панель
        Перезапустить приложение
        Включен свитчер "Север всегда сверху" Настройки -> Маршруты
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
        Построен автомаршрут
    - do: Тап на Поехали
    - do: Повернуть/отзумить карту от метки ММП
    - do: Переключить режим карты на 3D
    - assert: |
        Сохраняется измененный спан карты
        Режим отображения карты переключен на 3D
        Автоматический подзум к точке ММП не происходит
        Кнопка определения ММП изменила состояние на компас
    - do: Тап на кнопку определения ММП в виде компаса
    - assert: |
        Карта изменила положение в соответствии с настройкой "Север сверху"
        Кнопка определения ММП изменила состояние на "Стрелка смотрит вправо"
    - do: Тап на кнопку определения ММП виде "Стрелка смотрит вправо"
    - assert: |
        Происходит подзум к метке ММП
        Направление движения сохраняется
    - do: Изменить спан карты

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map


  Новые настройки. Настройка "Север сверху" в ведении:
    - info: |
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Включить свитчер "Север всегда сверху" (Меню -> Настройки -> Маршруты)
    - assert: Свитчер включен
    - do: Построить автомаршрут
    - do: Тап на Поехали
    - do: Повернуть/отзумить карту от метки ММП
    - do: Переключить режим карты на 3D
    - assert: |
        Сохраняется измененный спан карты
        Режим отображения карты переключен на 3D
        Автоматический подзум к точке ММП не происходит
        Кнопка определения ММП изменила состояние на компас
    - do: Тап на кнопку определения ММП в виде компаса
    - assert: |
        Карта изменила положение в соответствии с настройкой "Север сверху"
        Кнопка определения ММП изменила состояние на "Стрелка смотрит вправо"
    - do: Тап на кнопку определения ММП виде "Стрелка смотрит вправо"
    - assert: |
        Происходит подзум к метке ММП
        Направление движения сохраняется
    - do: Изменить спан карты
    - do: Тап на пин ММП на карте
    - assert: Происходит подзум к метке ММП

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - new_settings


  Настройка "Север сверху" во фридрайве:
    - info: |
        Включен свитчер "Север всегда сверху" Настройки -> Маршруты
        В ведении должна происходить симуляция движения:
        На Android через Mock location
        На iOS: Debug-panel > Enter your route
    - do: Тап на таб Навигатор
    - assert: Приложение перешло в режим фридрайва
    - do: Запустить симуляцию движения и вернуться в приложение
    - assert: Метка ммп движется в режиме фридрайв
    - do: Повернуть/отзумить карту от метки ММП
    - do: Переключить режим карты на 3D
    - assert: |
        Сохраняется измененный спан карты
        Режим отображения карты переключен на 3D
        Автоматический подзум к точке ММП не происходит
        Кнопка определения ММП изменила состояние на компас
    - do: Тап на кнопку определения ММП в виде компаса
    - assert: |
        Карта изменила положение в соответствии с настройкой "Север сверху"
        Кнопка определения ММП изменила состояние на "Стрелка смотрит вправо"
    - do: Тап на кнопку определения ММП виде "Стрелка смотрит вправо"
    - assert: |
        Происходит подзум к метке ММП
        Направление движения сохраняется
    - do: Изменить спан карты
    - do: Тап на пин ММП на карте
    - assert: Происходит подзум к метке ММП

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Новые настройки. Настройка "Север сверху" во фридрайве:
    - info: |
        Должна происходить симуляция движения:
        На Android через Mock location
        На iOS: Debug-panel > Enter your route
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Включить свитчер "Север всегда сверху" (Меню -> Настройки -> Маршруты)
    - assert: Свитчер включен
    - do: Открыть главный экран приложения
    - do: Тап на таб Навигатор
    - assert: |
        Приложение перешло в режим фридрайва
        Метка ммп движется в режиме фридрайв
    - do: Повернуть/отзумить карту от метки ММП
    - do: Переключить режим карты на 3D
    - assert: |
        Сохраняется измененный спан карты
        Режим отображения карты переключен на 3D
        Автоматический подзум к точке ММП не происходит
        Кнопка определения ММП изменила состояние на компас
    - do: Тап на кнопку определения ММП в виде компаса
    - assert: |
        Карта изменила положение в соответствии с настройкой "Север сверху"
        Кнопка определения ММП изменила состояние на "Стрелка смотрит вправо"
    - do: Тап на кнопку определения ММП виде "Стрелка смотрит вправо"
    - assert: |
        Происходит подзум к метке ММП
        Направление движения сохраняется
    - do: Изменить спан карты
    - do: Тап на пин ММП на карте
    - assert: Происходит подзум к метке ММП

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
        - new_settings


  Показ альтернативных маршрутов (настройка включена) :
    - info: |
        Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
        Закрыть дебаг панель
        Перезапустить приложение
        В пункте Меню → Настройки → Маршруты включена настройка «Альтернативные маршруты»
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Построить произвольный автомаршрут с несколькими альтернативами
    - assert: |
        Открыт экран варинтов маршрута
    - do: Тап "Поехали"
    - assert: |
        Открыт экран ведения по маршруту
        Во время ведения на карте отображаются альтернативные варианты маршрута

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - newbie


  Новые настройки. Включение показа альтернативных маршрутов:
    - info: |
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Автомаршруты
    - do: Включить свитчер "Показывать альтернативные маршруты во время движения"
    - assert: Свитчер в состоянии включено
    - do: Построить произвольный автомаршрут с несколькими альтернативами
    - assert: |
        Открыт экран варинтов маршрута
    - do: Тап "Поехали"
    - assert: |
        Открыт экран ведения по маршруту
        Во время ведения на карте отображаются альтернативные варианты маршрута

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - newbie
        - new_settings


  Показ альтернативных маршрутов (настройка выключена):
    - info: |
        Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
        Закрыть дебаг панель
        Перезапустить приложение
        В пункте Меню → Настройки → Маршруты выключена настройка «Альтернативные маршруты»
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Построить произвольный автомаршрут с несколькими альтернативами
    - assert: |
        Открыт экран варинтов маршрута
    - do: Тап "Поехали"
    - assert: |
        Открыт экран ведения по маршруту
        Во время ведения на карте не отображаются альтернативные варианты маршрута

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Новые настройки. Отключение показа альтернативных маршрутов:
    - info: |
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Автомаршруты
    - do: Выключить свитчер "Показывать альтернативные маршруты во время движения"
    - assert: Свитчер в состоянии выключено
    - do: Построить произвольный автомаршрут с несколькими альтернативами
    - assert: |
        Открыт экран варинтов маршрута
    - do: Тап "Поехали"
    - assert: |
        Открыт экран ведения по маршруту
        Во время ведения на карте не отображаются альтернативные варианты маршрута

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - new_settings


  Показ альтернативных маршрутов (настройка переключена в ведении):
    - info: |
        Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
        Закрыть дебаг панель
        Перезапустить приложение
        В пункте Меню → Настройки → Маршруты включена настройка «Альтернативные маршруты»
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Построить произвольный автомаршрут с несколькими альтернативами
    - assert: |
        Открыт экран варинтов маршрута
    - do: Тап "Поехали"
    - assert: |
        Открыт экран ведения по маршруту
        Во время ведения на карте отображаются альтернативные варианты маршрута
    - do: Выключить настройку «Альтернативные маршруты» в меню во время ведения
    - do: Вернуться на экран ведения по маршруту
    - assert: |
        Открыт экран ведения по маршруту
        Во время ведения на карте не отображаются альтернативные варианты маршрута

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map


  Ведение по маршруту для ОТ:
    - info: |
        Построен произвольный маршрут ОТ
        Открыт экран выбора вариантов маршрута
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Тап на Посмотреть на карте
    - assert: |
        Открываются детали маршрута
        Вверху:
          - общее время маршрута,
          - время начала и конца маршрута,
          - кнопка назад
        Ниже блок с картой и линией маршрута
        Внизу карточка маршрута с информацией:
          - последовательность пересадок,
          - подробная информация о маршруте, с номерами транспорта, расстояниям, прогнозом прибытия, кнопкой 'Открыть варианты и расписание' (может не быть, наличие элементов зависит от маршрута)
        В самом низу карточки кнопка 'Поехали'
    - do: Свернуть  детали маршрута
    - assert: |
        Детали маршрута свернуты
        На карте отображается полный маршрут
        Отображаются контрол блока слоев, контрол ОТ, кнопки зума и контрол местоположения
    - do: Развернуть детали маршрута
    - assert: Детали маршрута развернулись
    - do: Тап по кнопке Поехали
    - assert: |
        Открыт экран ведения по маршруту на общественном транспорте
        Вверху экрана:
          - время в пути и количество пересадок,
          - кнопка назад
        Ниже блок с картой
        На карте:
          - линия маршрута с пинами, показывающими где надо осуществить пересадку
        В правой части экрана:
          - кнопка выбора слоя, 3D (только на iOS на 19-16 зумах),
          - +, -,
          - кнопка фокуса на текущем местоположении в виде стрелки (либо компаса, если положение камеры менялось)
        В самом низу миникарточка маршрута c кружками, обозначающими количество участков маршрута и информацией об выбранном участке: расстояние и время, номер транспорта, краткое пояснение (например, Идите пешком до остановки...)
        Кнопка 'Детали маршрута' отображается
    - do: Тап по превью маршрута
    - assert: Открывается экран Детали маршрута
    - do: Тап Назад
    - assert: |
        Детали маршрута закрылись
        Открыт экран ведения по маршруту
    - do: Свайп влево/вправо по превью маршрута
    - assert: |
        Отображается та часть маршрута на карте, которая описана в превью
        Меняется зум, наклон и угол наклона автоматически
    - do: Изменить ориентацию устройства
    - assert: На карте продолжает отображаться выбранная часть маршрута
    - do: Тап по любому элементу маршрута; линия, пунктирная линия, точка пересадки, иконка ОТ на маршруте, пешеход
    - assert: |
        Карта центрируется на выбранном участке маршрута
        На превью отображается информацию о том участке, где было произведено нажатие

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
        - newbie



  Переход между режимами север сверху и режимом ориентации по направлению устройства в движении:
    - info: |
        Открыт главный экран.
        Пин Я в центре экрана
        В ведении должна происходить симуляция движения:
        На Android: через Mock Location
        На iOS: через Enter your route в дебаг-панели
    - do: Начать движение.
    - assert: |
        Приложение следит за стрелкой.
        Стрелка находится в центре, карта движется за ней.
        Стрелка может быть направлена в любую сторону, в зависимости от того, куда движется пользователь.
        Кнопка фокуса на текущем местоположении имеет вид синяя стрелка смотрит вправо вверх
    - do: Тап по кнопке фокуса на текущем местоположении, продолжая движение и меняя направление.
    - assert: |
        Произошел плавный переход от режима север сверху к режиму ориентации по направлению девайса
        Карта повернулась так, чтобы стрелка смотрела наверх
        Кнопку фокуса на текущем местоположении изменила вид на стрелка смотрит наверх
        При поворотах карта вращается, стрелка же всегда смотрит наверх.
    - do: Тап по кнопке фокуса на текущем местоположении еще раз, продолжая движение  и меняя направление.
    - assert: |
        Произошел плавный возврат от режима ориентации по направлению устройства к режиму север сверху.
        Кнопка фокуса на текущем местоложении приняла вид 'смотрит вправо вверх'.
        Карта плавно повернулась севером кверху
        Стрелка повернулась в сторону, куда направляется пользователь, и дальше поворачивается в актуальное направление.
        Стрелка осталась при этом в нижней части экрана.
        Кнопка фокуса на текущем местоположении имеет вид ‘серая стрелка смотрит вправо вверх’.

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map



  Отображение скорости при движении:
    - info: |
        Если на участке максимальноразрешенная скорость 60 км/ч, а величина превышения скорости для уведомления 10 км/ч, то звуковое оповещение о превышении прозвучит при скорости больше 70 км/ч
        Построен произвольный автомаршрут
        Открыт экран выбора вариантов маршрута
        Выставлена произвольная величина превышения скорости для уведомления (Меню -> Настройки -> Маршруты -> Звук)
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
        Для симуляции скорости:
        Demo movement speed, km/h
    - do: Тап по Поехали
    - assert: Открыт экран ведения по маршруту
    - do: Двигаться по маршруту, не превышая максимальную допустимую скорость для данного участка дороги
    - assert: |
        Значения скорости целочисленные
        Отображается плашка с текущей скоростью и максимальноразрешенной
        Знак ограничения скорости (спидлимит) белый с красной каймой
    - do: Ехать со скоростью больше максимально допустимой + величина превышения скорости для уведомления
    - assert: |
        Значения скорости целочисленные
        Отображается плашка с текущей скоростью и максимальноразрешенной
        Знак ограничения скорости (спидлимит) красный
        При превышении скорости прозвучит звуковое предупреждение
    - do: Тап по крестику в прогресс-баре маршрута
    - assert: Отображается главный экран маршрута
    - do: Построить автомобильный маршрут произвольным образом
    - assert: Отображается экран вариантов автомобильного маршрута
    - do: Тап по Поехали
    - assert: |
        Отображается режим ведения по маршруту
        Плашка с максимальной допустимой скорость и с текущей скоростью отображается

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Сохранение состояния автомобильного маршрута при запуске приложения после сворачивания:
    - info: |
        Отображается экран ведения по маршруту
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Свернуть приложение
    - do: Запустить МЯК с ярлыка
    - assert: |
        Возобновляется ведение по маршруту
    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - newbie

  Отображение подсветки ограничения скорости:
    - info: |
        В дебаг-панели включить Debug-panel > Routes > Demo movement
        Значение Demo movement speed, km/h выставить >= 80
    - do: Построить автомобильный маршрут любым способом через участок дороги, на котором имеются камеры
    - do: Тап на Поехали
    - assert: |
        Открыт экран ведения по маршруту
        Справа сверху отображается текущая скорость и ограничение скорости
        На карте отображает линия маршрута и текущее местоположение в виде стрелки
    - do: Дождаться приближения к камере
    - assert: |
        Знак ограничения скорости подсвечивается красным
        Появляется плашка приближения к камере
        На карте вокруг пина камеры появляется анимированный красный пульсирующий круг
    - do: В дебаг-панели изменить значение Demo movement speed, km/h выставить <= 50
    - do: Построить автомобильный маршрут любым способом через участок дороги, на котором имеются камеры сограничением скорости не менее 60 км/ч
    - do: Тап на Поехали
    - assert: |
        Открыт экран ведения по маршруту
        Справа сверху отображается текущая скорость и ограничение скорости
        На карте отображает линия маршрута и текущее местоположение в виде стрелки
    - do: Дождаться приближения к камере
    - assert: |
        Знак ограничения скорости не подсвечивается красным (отображается так же как и до приближения к камере)
        Плашка приближения к камере не появляется

    - testing:
        - acceptance_maps
        - lite_acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - newbie


  Кнопка "Искать похожие" у карточки poi на экране ведения по веломаршруту:
    - info: |
        Получен эксперимент search_alike_suggest_poi
        На iOS происходит симуляция движения: Debug-panel > Demo movement
    - do: Построить любым способом маршрут на велосипеде, перейти в экран ведения
    - assert: |
        Открыт экран ведения по веломаршруту
        Различные участки маршрута на карте окрашены в разные цвета
    - do: Тап по poi
    - assert: |
        Открывается миникарточка организации
        Отображается кнопка “Искать похожие”

    - platforms:
        - ios
    - tags:
        - assessors
    - experiments:
        - Поиск рядом
    - tags:
        - use_map


  Отображение уведомлений о камерах при ведении по автомаршруту:
    - description: |
        Предупреждения о камерах отображаются только на экране ведения по автомобильному маршруту.
        По умолчанию включены настройки: В блоке настроек 'Камеры' опция 'Показывать уведомления'.
        Включены уведомления о всех типах камер и звуковые уведомления, ограничение скорости не изменялось(по умолчанию 0 км/ч)
    - info: |
        Построен произвольный автомаршрут
        Открыт экран выбора вариантов маршрута
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Тап на Поехали
    - assert: Открыт экран ведения по маршруту
    - do: Двигаться по маршруту.
    - assert: |
        Плашка показывается когда до камеры осталось менее 15 сек, исходя из текущей скорости.
        Но не дальше, чем за 500 м и не ближе, чем за 150 м.
        Плашка прячется после проезда камеры.
        На плашке уменьшаем расстояние по мере приближения к объекту
        На плашке отображается иконка камеры.
        Для скоростной камеры иконка, указывающая на ограничение по скорости
        Если камера фиксирует скорость, то отображается максимально разрешенная скорость из сегмента маршрута, который расположен перед камерой.
        Если скорость пользователя больше разрешенной, то воспроизводится звуковое оповещение.
        Если камера фиксирует скорость и известна максимально разрешенная скорость, то при превышении скорости происходит окрашивание бейджа.
        Если максимально разрешенная скорость неизвестна, то воспроизводится звуковое оповещении при скорости более 30 км/ч, бейдж не окрашен.
        Для камеры контроля скорости отображается иконка камеры в красном круге на белом фоне и скорость в красном круге на белом фоне (если скорость не известна, то отображается только иконка камеры)

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Установка милей в качестве единиц измерения в настройках приложения:
    - do: Выключить эксперименты `use_datasync_settings` и `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Закрыть дебаг панель
    - do: Перезапустить приложение
    - do: Открыт экран настроек Основные (Меню -> Настройки -> Основные)
    - do: Тап на Единицы измерения
    - assert: |
        (Android) Отображается поп-ап Единицы измерения с пунктами Километры и Мили и кнопкой Отменить
        (iOS) Отображается экран Единицы измерения с пунктами Километры и Мили и кнопкой Назад
    - do: Выбрать километры
    - do: |
        (Android) Закрыть поп-ап (тапом вне или кнопкой Отменить)
        (iOS) Тап Назад
    - assert: Отображается экран настроек Основные
    - do: Тап на Единицы измерения
    - assert: |
        (Android) Отображается поп-ап Единицы измерения с пунктами Километры и Мили и кнопкой Отменить
        (iOS) Отображается экран Единицы измерения с пунктами Километры и Мили и кнопкой Назад
        Выбраны километры
    - do: Тап на Мили
    - assert: |
        (Android) Поп-ап закрылся, отображается экран настроек Основные, в качестве единиц измерения указаны мили
        (iOS) Отображается экран Единицы измерения, выбраны мили
    - do: (iOS) Тап Назад
    - assert: Отображается экран настроек Основные, в качестве единиц измерения указаны мили
        Все расстояния и скорости указываются в футах и милях (милях в час), например, масштабная линейка, расстояния в списках в Мои места, в закладках на карте, в карточках и миникарточках поиска, в меню построения маршрута, при ведении по маршруту и т.д.

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Новые настройки. Установка милей в качестве единиц измерения в настройках приложения:
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Карта и Интерфейс
    - assert: |
        Открыт экран "Карта и Интерфейс"
        Присутсвует настройка "Единицы измерения" в виде сегментированного контрола со значениями "Километры" и "Мили"
    - do: Выбрать "Километры"
    - assert: У настройки "Единицы измерения" состояние "Километры"
    - do: Выбрать "Мили"
    - assert: У настройки "Единицы измерения" состояние сменилось с "Километры" на "Мили"
    - do: (iOS) Тап Назад
    - assert: Отображается экран настроек Основные, в качестве единиц измерения указаны мили
        Все расстояния и скорости указываются в футах и милях (милях в час), например, масштабная линейка, расстояния в списках в Мои места, в закладках на карте, в карточках и миникарточках поиска, в меню построения маршрута, при ведении по маршруту и т.д.

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - new_settings


  Отображение милей и футов в качестве единиц измерения:
    - info: |
        Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
        Закрыть дебаг панель
        Перезапустить приложение
        В качестве единиц измерения установлены мили (Меню -> Настройки -> Основные)
        Выключена Масштабная линейка (Меню -> Настройки -> Карта)
        Добавлены остановки в избранное
        У пользователя добавлены места в закладки
        Есть история маршрутов
        Отображается главный экран приложения
    - do: Зумить карту
    - assert: |
        Отображается масштабная линейка
        Единицы измерения в милях
    - do: Открыть экран закладок на табе Остановки (Меню -> Закладки и мой транспорт -> таб Остановки)
    - assert: |
        Отображается экран закладок на табе Остановки
        Расстояние до остановки отображается в милях/футах
    - do: Вернуться на главный экран
    - do: Тап на таб Маршрут
    - assert: |
        Отображается экран Маршрут
        Отображается блок с историей маршрутов
        Расстояние до мест указано в милях/футах
    - do: Построить любой маршрут
    - assert: |
        Отображается экран выбора маршрута
        Длина маршрута указана в милях/футах
    - do: Перейти в ведение по маршруту
    - assert: |
        Отображается экран ведения по маршруту
        Длина маршрута указана в милях/футах
    - do: Завершить маршрут
    - assert: Отображается главный экран приложения
    - do: Открыть карточку топонима/организации/закладки
    - assert: |
        Отображается карточка топонима/организации/закладки
        Расстояние до места указано в милях/футах

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение милей и футов в качестве единиц измерения. Масштабная линейка:
    - info: |
        Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Карта и Интерфейс
    - assert: |
        Открыт экран "Карта и Интерфейс"
        Присутсвует настройка "Единицы измерения" в виде сегментированного контрола со значениями "Километры" и "Мили"
    - do: Выбрать "Мили"
    - assert: У настройки "Единицы измерения" сегментированный контрол в стостоянии "Мили"
    - do: Включить Масштабную Линейку
    - do: Открыть главный экран приложения
    - do: Зумить карту
    - assert: |
        Отображается масштабная линейка
        Единицы измерения в милях

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - new_settings


  Отображение милей и футов в качестве единиц измерения. Избранные остановки:
    - info: |
        Добавлены остановки в избранное
        Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Карта и Интерфейс
    - assert: |
        Открыт экран "Карта и Интерфейс"
        Присутсвует настройка "Единицы измерения" в виде сегментированного контрола со значениями "Километры" и "Мили"
    - do: Выбрать "Мили"
    - assert: У настройки "Единицы измерения" сегментированный контрол в стостоянии "Мили"
    - do: Открыть экран закладок на табе Остановки (Меню -> Закладки и мой транспорт -> таб Остановки)
    - assert: |
        Отображается экран закладок на табе Остановки
        Расстояние до остановки отображается в милях/футах

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - new_settings


  Отображение милей и футов в качестве единиц измерения. Маршрут:
    - info: |
        У пользователя присутствует история маршрутов и добавлены места в закладки
        Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Карта и Интерфейс
    - assert: |
        Открыт экран "Карта и Интерфейс"
        Присутсвует настройка "Единицы измерения" в виде сегментированного контрола со значениями "Километры" и "Мили"
    - do: Выбрать "Мили"
    - assert: У настройки "Единицы измерения" сегментированный контрол в стостоянии "Мили"
    - do: Открыть главный экран приложения
    - do: Тап на таб "Маршрут" или на саджест "Куда"
    - assert: |
        Отображается экран Маршрут
        Отображается блок с историей маршрутов и блок избранного
        Расстояние до мест указано в милях/футах
    - do: Построить любой маршрут
    - assert: |
        Отображается экран выбора маршрута
        Длина маршрута указана в милях/футах
    - do: Перейти в ведение по маршруту
    - assert: |
        Отображается экран ведения по маршруту
        Длина маршрута указана в милях/футах

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - new_settings


  Отображение милей и футов в качестве единиц измерения. Карточка организации:
    - info: |
        У пользователя добавлены места в закладки
        Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Карта и Интерфейс
    - assert: |
        Открыт экран "Карта и Интерфейс"
        Присутсвует настройка "Единицы измерения" в виде сегментированного контрола со значениями "Километры" и "Мили"
    - do: Выбрать "Мили"
    - assert: У настройки "Единицы измерения" сегментированный контрол в стостоянии "Мили"
    - do: Открыть главный экран приложения
    - do: Открыть карточку топонима
    - assert: |
        Отображается карточка топонима
        Расстояние до места указано в милях/футах
    - do: Открыть карточку организации
    - assert: |
        Отображается карточка организации
        Расстояние до места указано в милях/футах
    - do: Открыть карточку закладки
    - assert: |
        Отображается карточка закладки
        Расстояние до места указано в милях/футах

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - new_settings


  Установка километров в качестве единиц измерения в настройках приложения:
    - info: |
        Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
        Закрыть дебаг панель
        Перезапустить приложение
        Открыт экран настроек Основные (Меню -> Настройки -> Основные)
        В качестве единиц измерения указаны мили
    - do: Тап на Единицы измерения
    - assert: |
        (Android) Отображается поп-ап Единицы измерения с пунктами Километры и Мили и кнопкой Отменить
        (iOS) Отображается экран Единицы измерения с пунктами Километры и Мили и кнопкой Назад
        Выбраны мили
    - do: |
        (Android) Закрыть поп-ап (тапом вне или кнопкой Отменить)
        (iOS) Тап Назад
    - assert: Отображается экран настроек Основные
    - do: Тап на Единицы измерения
    - assert: |
        (Android) Отображается поп-ап Единицы измерения с пунктами Километры и Мили и кнопкой Отменить
        (iOS) Отображается экран Единицы измерения с пунктами Километры и Мили и кнопкой Назад
        Выбраны мили
    - do: Тап на Километры
    - assert: |
        (Android) Поп-ап закрылся, отображается экран настроек Основные, в качестве единиц измерения указаны километры
        (iOS) Отображается экран Единицы измерения, выбраны километры
    - do: (iOS) Тап Назад
    - assert: Отображается экран настроек Основные, в качестве единиц измерения указаны километры

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Отображение метров и километров в качестве единиц измерения:
    - info: |
        Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
        Закрыть дебаг панель
        Перезапустить приложение
        В качестве единиц измерения установлены километры (Меню -> Настройки -> Основные)
        Выключена Масштабная линейка (Меню -> Настройки -> Карта)
        Добавлены остановки в избранное
        У пользователя добавлены места в закладки
        Есть история маршрутов
        Отображается главный экран приложения
    - do: Зумить карту
    - assert: |
        Отображается масштабная линейка
        Единицы измерения в метрах/километрах
    - do: Открыть экран закладок на табе Остановки (Меню -> Закладки и мой транспорт -> таб Остановки)
    - assert: |
        Отображается экран закладок на табе Остановки
        Расстояние до остановки отображается в метрах/километрах
    - do: Вернуться на главный экран
    - do: Тап на таб Маршрут
    - assert: |
        Отображается экран Маршрут
        Отображается блок с историей маршрутов
        Расстояние до мест указано в метрах/километрах
    - do: Построить любой маршрут
    - assert: |
        Отображается экран выбора маршрута
        Длина маршрута указана в метрах/километрах
    - do: Перейти в ведение по маршруту
    - assert: |
        Отображается экран ведения по маршруту
        Длина маршрута указана в метрах/километрах
    - do: Завершить маршрут
    - assert: Отображается главный экран приложения
    - do: Открыть карточку топонима/организации/закладки
    - assert: |
        Отображается карточка топонима/организации/закладки
        Расстояние до места указано в метрах/километрах

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение метров и километров в качестве единиц измерения. Масштабная линейка:
    - info: |
        Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Карта и Интерфейс
    - assert: |
        Открыт экран "Карта и Интерфейс"
        Присутсвует настройка "Единицы измерения" в виде сегментированного контрола со значениями "Километры" и "Мили"
    - do: Выбрать "Километры"
    - assert: У настройки "Единицы измерения" сегментированный контрол в стостоянии "Километры"
    - do: Включить Масштабную Линейку
    - do: Открыть главный экран приложения
    - do: Зумить карту
    - assert: |
        Отображается масштабная линейка
        Единицы измерения в километрах/метрах

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - new_settings


  Отображение метров и километров в качестве единиц измерения. Избранные остановки:
    - info: |
        Добавлены остановки в избранное
        Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Карта и Интерфейс
    - assert: |
        Открыт экран "Карта и Интерфейс"
        Присутсвует настройка "Единицы измерения" в виде сегментированного контрола со значениями "Километры" и "Мили"
    - do: Выбрать "Километры"
    - assert: У настройки "Единицы измерения" сегментированный контрол в стостоянии "Километры"
    - do: Открыть экран закладок на табе Остановки (Меню -> Закладки и мой транспорт -> таб Остановки)
    - assert: |
        Отображается экран закладок на табе Остановки
        Расстояние до остановки отображается в километрах/метрах

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - new_settings


  Отображение метров и километров в качестве единиц измерения. Маршрут:
    - info: |
        У пользователя присутствует история маршрутов и добавлены места в закладки
        Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Карта и Интерфейс
    - assert: |
        Открыт экран "Карта и Интерфейс"
        Присутсвует настройка "Единицы измерения" в виде сегментированного контрола со значениями "Километры" и "Мили"
    - do: Выбрать "Километры"
    - assert: У настройки "Единицы измерения" сегментированный контрол в стостоянии "Километры"
    - do: Открыть главный экран приложения
    - do: Тап на таб "Маршрут" или на саджест "Куда"
    - assert: |
        Отображается экран Маршрут
        Отображается блок с историей маршрутов и блок избранного
        Расстояние до мест указано в километрах/метрах
    - do: Построить любой маршрут
    - assert: |
        Отображается экран выбора маршрута
        Длина маршрута указана в километрах/метрах
    - do: Перейти в ведение по маршруту
    - assert: |
        Отображается экран ведения по маршруту
        Длина маршрута указана в километрах/метрах

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - new_settings


  Отображение метров и километров в качестве единиц измерения. Карточка организации:
    - info: |
        У пользователя добавлены места в закладки
        Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Тап Меню -> Настройки -> Карта и Интерфейс
    - assert: |
        Открыт экран "Карта и Интерфейс"
        Присутсвует настройка "Единицы измерения" в виде сегментированного контрола со значениями "Километры" и "Мили"
    - do: Выбрать "Километры"
    - assert: У настройки "Единицы измерения" сегментированный контрол в стостоянии "Километры"
    - do: Открыть главный экран приложения
    - do: Открыть карточку топонима
    - assert: |
        Отображается карточка топонима
        Расстояние до места указано в километрах/метрах
    - do: Открыть карточку организации
    - assert: |
        Отображается карточка организации
        Расстояние до места указано в километрах/метрах
    - do: Открыть карточку закладки
    - assert: |
        Отображается карточка закладки
        Расстояние до места указано в километрах/метрах

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - new_settings


  Сохранение состояния маршрута общественного транспорта при возврате из фона:
    - info: |
        (Android) Включен режим Don’t keep activities (Настройки устройства -> Параметры разработчика -> блок Приложения)
        Отображается экран ведения по маршруту на ОТ
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Свернуть приложение
    - do: Развернуть приложение
    - assert: Отображается экран ведения по ОТ маршруту

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - newbie


  Просмотр маневров на линии автомобильного маршрута:
    - do: |
        Отображается экран ведения по автомаршруту
        Маршрут построен в пределах одной страны
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Установить 21 зум (самый ближний)
    - assert: Отображаются стрелки маневров на линии маршрута
    - do: Установить зум 16 - 20
    - assert: Отображаются стрелки маневров на линии маршрута
    - do: Установить зум < 16
    - assert: Cтрелки маневров на линии маршрута не отображаются

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Слежение за стрелкой в движении в режиме север сверху:
    - info: |
        Открыт главный экран приложения
        Активирован режим север сверху тапом на контролл геолокации (синяя стрелка)
        Пин Я не в центре экрана
        В ведении должна происходить симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
    - do: Начать движение, комбинируя передвижение по прямой и повороты (без построения маршрута)
    - assert: |
        Карта статична и находится в положении север сверху всегда, вне зависимости от того, куда передвигается пользователь
        Стрелка 'Я' может быть обращена острым углом вниз/вверх/в сторону — в зависимости от того, куда передвигается пользователь
        Стрелка не уходит за границы экрана
        Приложение сфокусировано на стрелке
    - do: Выполнить поиск по любой категории
    - assert: |
        Открыт экран результатов поиска
        На карте отображаются поисковые пины
        В нижней части экрана список найденных организаций
    - do: Свернуть список свайпом вниз
    - assert: Список свернулся до строки поиска
    - do: Тап на кнопку определения местоположения
    - assert: |
        Камера сфокусировалась на текущем ММП
        Стрелка на кнопке ММП стала синего цвета
        Карта статична и находится в положении север сверху всегда, вне зависимости от того, куда передвигается пользователь
        Стрелка 'Я' может быть обращена острым углом вниз/вверх/в сторону — в зависимости от того, куда передвигается пользователь
        Стрелка не уходит за границы экрана
        Приложение сфокусировано на стрелке
        Стрелка постоянно находится в центре экрана

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Слежение за стрелкой на главном экране при движении в режиме север сверху при возврате из фона:
    - info: |
        Открыт главный экран приложения
        Активирован режим север сверху тапом на контролл геолокации (синяя стрелка)
        В ведении должна происходить симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
    - do: Начать движение (без построения маршрута)
    - assert: |
        Приложение следит за стрелкой 'Я'
        Стрелка находится в центре, карта движется
        Стрелка может смотреть в любую сторону, в зависимости от того, куда направляется пользователь
    - do: Свернуть приложение
    - do: Развернуть приложение, примерно тогда, когда ММП будет в том участке карты, который до сворачивания приложения был за границами экрана
    - assert: |
        Открыт главный экран приложения
        Фокус приложения на текущем ММП
        Слежение за стрелкой возобновлено

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Слежение за стрелкой на экране автоведения при движении в режиме север сверху при возврате из фона:
    - info: |
        Отображается экран построения автомаршрута
        Активирован режим север сверху тапом на контролл геолокации (синяя стрелка)
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Перейти в ведение
    - assert: |
        Отображается экран ведения по автомаршруту
        Приложение следит за стрелкой 'Я'
        Стрелка находится в центре, карта движется
        Стрелка может смотреть в любую сторону, в зависимости от того, куда направляется пользователь
    - do: Свернуть приложение
    - do: Развернуть приложение, примерно тогда, когда ММП будет в том участке карты, который до сворачивания приложения был за границами экрана
    - assert: |
        Отображается экран ведения по автомаршруту
        Фокус приложения на текущем ММП
        Слежение за стрелкой возобновлено

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Слежение за стрелкой на экране пешеходного ведения при движении в режиме север сверху при возврате из фона:
    - info: |
        Открыт экран построения пешеходного маршрута
        Активирован режим север сверху тапом на контролл геолокации (синяя стрелка)
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Перейти в ведение
    - assert: |
        Отображается экран ведения по пешеходному маршруту
        Приложение следит за стрелкой 'Я'
        Стрелка находится в центре, карта движется
        Стрелка может смотреть в любую сторону, в зависимости от того, куда направляется пользователь
    - do: Свернуть приложение
    - do: Развернуть приложение, примерно тогда, когда ММП будет в том участке карты, который до сворачивания приложения был за границами экрана
    - assert: |
        Отображается экран ведения по пешеходному маршруту
        Фокус приложения на текущем ММП
        Слежение за стрелкой возобновлено

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Слежение за стрелкой на экране веловедения при движении в режиме север сверху при возврате из фона:
    - info: |
        Отображается экран построения веломаршрута
        Активирован режим север сверху тапом на контролл геолокации (синяя стрелка)
        В ведении должна происходить симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
    - do: Перейти в ведение
    - assert: |
        Отображается экран ведения по веломаршруту
        Приложение следит за стрелкой 'Я'
        Стрелка находится в центре, карта движется
        Стрелка может смотреть в любую сторону, в зависимости от того, куда направляется пользователь
    - do: Свернуть приложение
    - do: Развернуть приложение, примерно тогда, когда ММП будет в том участке карты, который до сворачивания приложения был за границами экрана
    - assert: |
        Отображается экран ведения по веломаршруту
        Фокус приложения на текущем ММП
        Слежение за стрелкой возобновлено

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Остановка слежения за стрелкой на главном экране в движении в режиме север сверху, если пользователь свайпнул карту:
    - info: |
        Открыт главный экран приложения
        Активирован режим север сверху тапом на контролл геолокации (синяя стрелка)
        В ведении должна происходить симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
        Слежение за стрелкой прекращается, если пользователь сам подвинул карту во время движения и стрелка оказалась за пределами экрана
    - do: Начать движение в произвольном направлении (без маршрута)
    - assert: |
        Отображается главный экран
        Приложение следит за передвижением стрелки
    - do: Подвинуть карту в произвольном направлении, продолжая при этом движение
    - assert: |
        Отображается главный экран
        Карта замерла в том положении, в котором оказалась после того, как пользователь подвинул карту

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Остановка слежения за стрелкой на экране поиска в движении в режиме север сверху, если пользователь свайпнул карту:
    - info: |
        Выполнен поиск по любой категории
        Список результатов поиска свернут
        Активирован режим север сверху тапом на контролл геолокации (синяя стрелка)
        В ведении должна происходить симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
        Слежение за стрелкой прекращается, если пользователь сам подвинул карту во время движения и стрелка оказалась за пределами экрана
    - do: Начать движение в произвольном направлении (без маршрута)
    - assert: |
        Отображается экран результатов поиска
        На карте отображаются поисковые пины
        Список результатов поиска свернут
        Приложение следит за передвижением стрелки
    - do: Подвинуть карту в произвольном направлении, продолжая при этом движение
    - assert: |
        Отображается экран результатов поиска
        На карте отображаются поисковые пины
        Список результатов поиска свернут
        Карта замерла в том положении, в котором оказалась после того, как пользователь подвинул карту

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Остановка слежения за стрелкой на экране выбора варианта маршрута в движении в режиме север сверху, если пользователь свайпнул карту:
    - info: |
        Построен произвольный маршрут
        Отображается экран выбора маршрута
        Активирован режим север сверху тапом на контролл геолокации (синяя стрелка)
        В ведении должна происходить симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
        Слежение за стрелкой прекращается, если пользователь сам подвинул карту во время движения и стрелка оказалась за пределами экрана
    - do: Начать движение в произвольном направлении (без маршрута)
    - assert: |
        Отображается экран выбора маршрута
        Приложение следит за передвижением стрелки
    - do: Подвинуть карту в произвольном направлении, продолжая при этом движение
    - assert: |
        Отображается экран выбора маршрута
        Карта замерла в том положении, в котором оказалась после того, как пользователь подвинул карту

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Остановка слежения за стрелкой на экране автоведения в режиме север сверху, если пользователь свайпнул карту:
    - info: |
        Открыт экран построения автомаршрута
        Активирован режим север сверху тапом на контролл геолокации (синяя стрелка)
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
        Слежение за стрелкой прекращается, если пользователь сам подвинул карту во время движения и стрелка оказалась за пределами экрана
    - do: Перейти в ведение
    - assert: |
        Отображается экран ведения по автомаршруту
        Приложение следит за передвижением стрелки
    - do: Подвинуть карту в произвольном направлении, продолжая при этом движение
    - assert: |
        Отображается экран ведения по автомаршруту
        Карта замерла в том положении, в котором оказалась после того, как пользователь подвинул карту

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Остановка слежения за стрелкой на экране ОТ-ведения в режиме север сверху, если пользователь свайпнул карту:
    - info: |
        Открыт экран построения ОТ-маршрута
        Активирован режим север сверху тапом на котролл геолокации (синяя стрелка)
        В ведении должна происходить симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
        Слежение за стрелкой прекращается, если пользователь сам подвинул карту во время движения и стрелка оказалась за пределами экрана
    - do: Перейти в ведение
    - assert: |
        Отображается экран ведения по ОТ-маршрту
        Приложение следит за передвижением стрелки
    - do: Подвинуть карту в произвольном направлении, продолжая при этом движение
    - assert: |
        Отображается экран ведения по ОТ-маршрту
        Карта замерла в том положении, в котором оказалась после того, как пользователь подвинул карту

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Остановка слежения за стрелкой на экране пешеходного ведения в режиме север сверху, если пользователь свайпнул карту:
    - info: |
        Открыт экран построения пешеходного маршрута
        Активирован режим север сверху тапом на контролл геолокации (синяя стрелка)
        В ведении должна происходить симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
        Слежение за стрелкой прекращается, если пользователь сам подвинул карту во время движения и стрелка оказалась за пределами экрана
    - do: Перейти в ведение
    - assert: |
        Отображается экран ведения по пешеходному маршруту
        Приложение следит за передвижением стрелки
    - do: Подвинуть карту в произвольном направлении, продолжая при этом движение
    - assert: |
        Отображается экран ведения по пешеходному маршруту
        Карта замерла в том положении, в котором оказалась после того, как пользователь подвинул карту

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Слежение за стрелкой при движении в режиме север сверху после добавления дорожного события:
    - info: |
        Открыт главный экран
        Активирован режим север сверху тапом на контролл геолокации (синяя стрелка)
        Пин ММП в центре экрана
        В ведении должна происходить симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
    - do: Начать движение (без маршрута)
    - assert: |
        Приложение следит за стрелкой 'Я'
        Стрелка находится в центре
        Карта движется
        Стрелка может смотреть в любую сторону, в зависимости от того, куда направляется пользователь
    - do: Открыть форму добавления ДС (Вызвать лонг-тап меню -> Тап Добавить дорожное событие)
    - do: Дождаться, когда стрелка Я уйдет за границы формы добавления ДС
    - assert: |
        Открыта форма добавления ДС
        Cтрелка 'Я' ушла за границы формы
    - do: Добавить произвольное дорожное событие, продолжая движение
    - assert: |
        Форма добавления дорожного события закрылась
        Приложение автоматически сфокусировалось на месте актуального нахождения стрелки 'Я'
        Слежение за стрелкой продолжается

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Остановка слежения за стрелкой при движении в режиме север сверху при открытии формы добавления дорожного события:
    - info: |
        Открыт главный экран приложения
        Активирован режим север сверху тапом на контролл геолокации (синяя стрелка)
        В ведении должна происходить симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
    - do: Начать движение в произвольном направлении (без маршрута)
    - assert: |
        Приложение следит за передвижением стрелки.
        Стрелка находится в центре
        Карта перемещается, стрелка не выходит за границы экрана.
    - do: Меню -> Добавить дорожное событие и продолжить движение.
    - assert: |
        Открыта форма добавления дорожного события.
        Слежение за стрелкой остановлено, в итоге она уходит за границы экрана.
    - do: Закрыть форму добавления дорожного события.
    - assert: |
        Приложение сфокусировано на участке карты, по которому в данный момент движется пользователь.
        Слежение за стрелкой возобновлено, стрелка не уходит за границы экрана
    - do: Повторить предыдущие шаги на формах ведения по маршруту авто/пешком/вело
    - assert: Слежение за стрелкой приостанавливается при открытии формы добавления дорожного события и возобновляется после ее закрытия.

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Слежение за стрелкой в автоведении при движении в режиме слежения (карта ориентируется по направлению движения):
    - info: |
        Открыт экран ведения по автомаршруту
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
        Активирован режим слежения по направлению движения (синяя стрелка направлена вверх, внизу хвостик)
    - do: Подвигаться внутри помещения, двигая и вращая устройство без смены ориентации экрана
    - assert: |
        Открыт экран ведения по автомаршруту
        При движении стрелка спустилась в нижнюю треть экрана стрелка все время остается в нижней трети
        Карта движется по мере перемещения по маршруту
        Стрелка всегда смотрит наверх текущий прямой участок маршрута ориентирован строго вертикально снизу в верх
        Карта поворачивается автоматически при достижении маневра поворот
        Стрелка никогда не уходит за границы экрана, приложение постоянно сфокусировано на стрелке
        Не происходит переключений в режим слежения по направлении устройства

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Слежение за стрелкой в веловедении при движении в режиме слежения (карта ориентируется по направлению движения):
    - info: |
        Открыт экран ведения по веломаршруту
        Происходит симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
        Активирован режим слежения по направлению движения (синяя стрелка направлена вверх, внизу хвостик)
    - do: Подвигаться внутри помещения, двигая и вращая устройство без смены ориентации экрана
    - assert: |
        Открыт экран ведения по веломаршруту
        При движении стрелка спустилась в нижнюю треть экрана стрелка все время остается в нижней трети
        Карта движется по мере перемещения по маршруту
        Стрелка всегда смотрит наверх текущий прямой участок маршрута ориентирован строго вертикально снизу в верх
        Карта поворачивается автоматически при достижении маневра поворот
        Стрелка никогда не уходит за границы экрана, приложение постоянно сфокусировано на стрелке
        Не происходит переключений в режим слежения по направлении устройства

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Слежение за стрелкой в ОТ-ведении при движении в режиме слежения (карта ориентируется по направлению движения):
    - info: |
        Открыт экран ведения по ОТ-маршруту
        Происходит симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
        Активирован режим слежения по направлению движения (синяя стрелка направлена вверх, внизу хвостик)
    - do: Подвигаться внутри помещения, двигая и вращая устройство без смены ориентации экрана
    - assert: |
        Открыт экран ведения по ОТ-маршруту
        При движении стрелка спустилась в нижнюю треть экрана стрелка все время остается в нижней трети
        Карта движется по мере перемещения по маршруту
        Стрелка всегда смотрит наверх текущий прямой участок маршрута ориентирован строго вертикально снизу в верх
        Карта поворачивается автоматически при достижении маневра поворот
        Стрелка никогда не уходит за границы экрана, приложение постоянно сфокусировано на стрелке
        Не происходит переключений в режим слежения по направлении устройства

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Слежение за стрелкой в пешеходном ведении при движении в режиме слежения (карта ориентируется по направлению движения):
    - info: |
        Открыт экран ведения по пешеходному маршруту
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
        Активирован режим слежения по направлению движения (синяя стрелка направлена вверх, внизу хвостик)
    - do: Подвигаться внутри помещения, двигая и вращая устройство без смены ориентации экрана
    - assert: |
        Открыт экран ведения по пешеходному маршруту
        При движении стрелка спустилась в нижнюю треть экрана стрелка все время остается в нижней трети
        Карта движется по мере перемещения по маршруту
        Стрелка всегда смотрит наверх текущий прямой участок маршрута ориентирован строго вертикально снизу в верх
        Карта поворачивается автоматически при достижении маневра поворот
        Стрелка никогда не уходит за границы экрана, приложение постоянно сфокусировано на стрелке
        Не происходит переключений в режим слежения по направлении устройства

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready

  Слежение за стрелкой в самокатном ведении при движении в режиме слежения (карта ориентируется по направлению движения):
    - info: |
        Открыт экран ведения по самокатному маршруту
        Происходит симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
        Активирован режим слежения по направлению движения (синяя стрелка направлена вверх, внизу хвостик)
    - do: Подвигаться внутри помещения, двигая и вращая устройство без смены ориентации экрана
    - assert: |
        Открыт экран ведения по самокатному маршруту
        При движении стрелка спустилась в нижнюю треть экрана стрелка все время остается в нижней трети
        Карта движется по мере перемещения по маршруту
        Стрелка всегда смотрит наверх текущий прямой участок маршрута ориентирован строго вертикально снизу в верх
        Карта поворачивается автоматически при достижении маневра поворот
        Стрелка никогда не уходит за границы экрана, приложение постоянно сфокусировано на стрелке
        Не происходит переключений в режим слежения по направлении устройства

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Остановка слежения за стрелкой в режиме север сверху при движении на форме Поиск и восстановление после закрытия формы:
    - description: На форме Поиск недоступно слежение за стрелкой. Пока открыта форма, стрелка будет рано или поздно уходить за границы экрана. При этом при закрытии формы поиска и центрировании на стрелке Я слежение за стрелкой должно возобновиться.
    - info: |
        Открыт главный экран приложения.
        Активирован режим север сверху
        В ведении должна происходить симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
    - do: Начать движение
    - assert: Приложение следит за стрелкой.
    - do: Открыть Поиск -> Тап по категории и продолжить движение
    - assert: |
        Карта отзумилась для отображения маршрута на карте полностью.
        Результаты поисковой выдачи отображаются в виде пинов на карте.
        В нижней части экрана отображается блок с текстом поискового запроса.
        Слежение за стрелкой приостановлено.
        При изменении отображаемого спана стрелка может уйти за границы экрана.
    - do: Тап по кнопке фокуса на текущем местоположении и продолжить движение.
    - assert: |
        Карта центрировалась на стрелке Я, однако слежение за стрелкой все еще не возобновлено
        В итоге стрелка уйдет за границы экрана.
    - do: Закрыть форму Поиск.
    - assert: |
        Форма Поиск закрыта
        Отображается тот же участок карты, что последним был открыт на форме с результатами поиска.
    - do: Тап по кнопке фокуса на текущем местоположении и продолжить движение.
    - assert: |
        Карта центрировалась на стрелке Я
        Слежение за стрелкой возобновилось
        Стрелка больше не уйдет за границы экрана и будет оставаться в центре

    - platforms:
        - android
    - tags:
        - assessors


  Остановка слежения за стрелкой при движении в режиме по направлению устройства при открытии формы добавления дорожного события:
    - info: |
        Открыт главный экран приложения
        Активирован режим ориентации по направлению устройства тапом на контролл геолокации (белая стрелка на синем фоне)
        Последний построенный маршрут был автомобильный
        В ведении должна происходить симуляция движения:
        (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
    - do: Начать движение в произвольном направлении со скоростью больше, чем 10 км/ч
    - assert: |
        Приложение следит за передвижением стрелки
        Стрелка находится в нижней трети экрана
        Карта перемещается, стрелка не выходит за границы экрана
    - do: Открыть экран добавления ДС (Вызвать лонг-тап меню -> Тап Добавить дорожное событие)
    - assert: |
        Открыта экран добавления ДС
        Слежение за стрелкой остановлено
        Стрелка уходит за границы экрана
    - do: Закрыть форму добавления дорожного события
    - assert: |
        Приложение сфокусировано на участке карты, по которому в данный момент движется пользователь
        Через несколько секунд возобновляется слежение за стрелкой
        Стрелка не уходит за границы экрана
        Стрелка вновь находится в нижней трети экрана

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Просмотр информации о точке маршрута В на форме ведения по маршруту:
    - info: |
        Построить маршрут между произвольными точками.
        Открыта форма ведения по автомобильному маршруту
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: (iOS)Тап по пину B / (Android) Тап по черному пину с адресом
    - assert: |
        Открыта миникарточка топонима, адрес которого совпадает с адресом, который был задан точке B при построении маршрута.
        (iPad) Открыта полная карточка топонима
    - do: Тап по миникарточке.
    - assert: |
        Открыта полная карточка
        В карточке присутствует кнопка закрытия в виде крестика

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Дабл-тап по карте по время движения:
    - info: |
        Открыт экран ведения по произвольному маршруту маршруту
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
        Активен режим Север сверху тапом на контролл геолокации (синяя стрелка)
    - do: Переместить карту так, чтобы метка ММП была за границами экрана
    - assert: Карта не следит за меткой ММП
    - do: Сделать дабл-тап по карте до максимального зума
    - assert: Масштаб карты увеличивается после каждого дабл-тапа
    - do: Тап на контролл геолокации
    - assert: В центре экрана пин текущего местоположения
    - do: Активировать режим по направлению устройства тапом на контролл геолокации (белая стрелка на синем фоне)
    - do: Переместить карту так, чтобы метка ММП была за границами экрана
    - assert: Карта не следит за меткой ММП
    - do: Сделать дабл-тап по карте до максимального зума
    - assert: Масштаб карты увеличивается после каждого дабл-тапа
    - do: Тап на контролл геолокации
    - assert: В центре экрана пин текущего местоположения

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Добавление промежуточной точки тапом по объекту на карте:
    - info: |
        Открыт экран ведения по автомаршруту
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Тап по любому обьекту POI
    - assert: |
        Открывается мини-карточка объекта
        Отображаются кнопки Заехать и Сюда
    - do: Тап по кнопке Заехать
    - do: Тап Поехали
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Тап по любому обьекту POI
    - assert: |
        Открывается мини-карточка объекта
        Отображаются кнопки Заехать и Сюда
    - do: Раскрыть карточку до полной (тапом или свайпом вверх)
    - assert: Отображается полная карточка объекта
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        На линии маршрута появилась промежуточная точка
        Время и расстояние маршрута изменились
    - platforms:
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready
        - newbie
    - testing:
        - lite_acceptance_maps
        - acceptance_maps

  Поведение экрана во время ведения по маршруту:
    - info: |
        Открыт экран ведения автомобильного маршрута
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Свайпнуть карту, чтобы метка Я не уходила за границы экрана.
    - assert: |
        Карта продолжает слежение за меткой Я
        Карта центрируется спустя 10 секунд на ММП
    - do: Свайпнуть карту, чтобы метка Я ушла за границы экрана
    - assert: |
        Спустя 10 секунд слежение за ММП возобновляется
        Карта центрируется на ММП
    - do: Повторить предыдущие шаги для пеших и ОТ маршрутов
    - assert: |
        Когда пин ММП находится в пределах видимой области экрана - слежение продолжается, экран не центрируется на метке местоположения.
        Когда пин ММП находится вне пределов видимой области - слежение не возобновляется.

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Сохранение состояния автомобильного маршрута при возвращении из фона:
    - info: |
        Отображается экран ведения по автомаршруту
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Свернуть приложение
    - assert: Отображается главный экран устройства
    - do: Развернуть приложение
    - assert: Отображается экран ведения по автомаршруту

    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
    - platforms:
        - android
        - ios


  Проверка отображения полосности:
    - info: |
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
        Многополостносные дороги напр., Москва, Ленинградский проспект, пересечение с ул.Маршала Шапошникова или ул.Генерала Сандалова
    - do: Построить автомаршрут в пределах одной страны, так чтобы он проходил через дорогу не более, чем с 5 полосами
    - do: Перейти в ведение по маршруту
    - assert: |
        Отображается экран ведения по автомаршруту
        Вверху отображается плашка с информацией о маршруте
        В плашке отображается информация обо всех полосах
        Отображается тип полосы (полоса движения прямо,направо, налево, полоса ОТ, велополоса и т.д.)
    - do: Построить маршрут в пределах одной страны, так чтобы он проходил через дорогу с 6 и более полосами
    - do: Перейти в ведение
    - assert: |
        Отображается экран ведения по автомаршруту
        Вверху отображается плашка с информацией о маршруте
        В плашке отображается информация обо всех полосах
        Отображается тип полосы (полоса движения прямо,направо, налево, полоса ОТ, велополоса и т.д.)
    - do: Построить маршрут в другую страну
    - do: Перейти в ведение
    - assert: |
        Отображается экран ведения по автомаршруту
        Вверху отображается плашка с информацией о маршруте
        В плашке отображается информация обо всех полосах
        Отображается тип полосы (полоса движения прямо,направо, налево, полоса ОТ, велополоса и т.д.)

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение рекламных POI на маршруте:
    - info: |
        Отображается главный экран приложения
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: |
        Построить маршрут, на котором отображаются подмешанные пины геопродукта
        Напр., маршрут с пином БК [collapsed-image](https://jing.yandex-team.ru/files/linakolpakova/маршрут%20с%20пином%20БК.png){title=QR-код}

        `yandexmaps://maps.yandex.ru/?rt=37.588003,54.15434437.597117,54.174461`
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения по автомаршруту
        По пути маршрута отображается пин (напр., KFC, БК, ПИК, Макдональс)
    - do: Тап на рекламный пин
    - assert: |
        Открылась мини-карточка
        В карточке присутствует блок с рекламой
        В блоке с рекламой отображается логотип организации
    - do: Развернуть карточку до полной
    - assert: |
        Отображается полная карточка организации
        В карточке отображается рекламный блок
    - do: Свернуть карточку свайпом вниз
    - assert: |
        Отображается экран ведения по автомаршруту
        Открыта мини-карточка организации
        Другие рекламные пины на маршруте не отображаются
    - do: Закрыть карточку организации
    - assert: |
        Мини-карточка закрылась
        Рекламный пин пропал с карты
        Через небольшой промежуток времени появляется новый рекламный пин

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Параметры маршрута в плашке ведения:
    - info: В ведении контролы скрываются, для их отображения требуется тап в произвольное место на карте
    - info: |
        Построен произвольный автомаршрут
        Устройство в вертикальной ориентации
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Перейти в ведение
    - assert: |
        Внизу отображается ETA-плашка ведения по маршруту
        Вверху слева отображается плашка маневра
        Вверху справа отображается плашка скорости
        На экране отображаются контроллы:
        - Слева: Добавление ДС, Голосовой помощник
        - Справа: Пробки, Парковки, +/-, ММП
        Под плашкой ЕТА отображается тулбар с кнопками:
        - Поиск, Обзор маршрута, Закладки, Настройки
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается экран ведения в горизонтальной ориентации
        Внизу отображается ETA-плашка ведения по маршруту
        Вверху слева отображается плашка маневра
        Вверху справа отображается плашка скорости
        На экране отображаются контроллы:
        - Слева: Добавление ДС, Голосовой помощник
        - Справа: Пробки, Парковки, +/-, ММП
        Справа после контролов отображается тулбар с кнопками:
        - Поиск, Обзор маршрута, Закладки, Настройки
    - do: Тап на плашку с маневром
    - assert: Камера переместилась к следующему маневру

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение Ракеты на форме ведения по автомаршруту в день космонавтики:
    - info: |
        В Debug-Panel/Дебаг-панели включить опцию cosmonautics_day/День Космонавтики (12.04).
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Открыт главный экран приложения
    - assert: Курсор вместо стандартного пина ммп отображается как ракета 🚀.
    - do: Построить произвольный автомобильный маршрут и перейти на форму ведения по маршруту.
    - assert: Курсор отображается как стрелка

    - platfoms:
        - ios
    - tags:
        - assessors


  Отключение/включение автомасштабирования для маршрута:
    - info: |
        Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
        Закрыть дебаг панель
        Перезапустить приложение
        Автомасштабирование включено (Меню -> Настройки -> Маршруты)
        Отображается экран ведения по автомаршруту
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Открыть экран Маршруты (Меню -> Настройки -> Маршруты)
    - do: Тап на Автомасштабирование
    - assert: Автомасштабирование выключено
    - do: Вернуться на экран ведения
    - assert: |
        Отображается экран ведения по маршруту
        Зум статичен и не изменяется при изменении скорости
    - do: Открыть экран Маршруты (Меню -> Настройки -> Маршруты)
    - do: Тап на Автомасштабирование
    - assert: Автомасштабирование включено
    - do: Вернуться на экран ведения
    - assert: |
        Отображается экран ведения по маршруту
        Зум изменяется при изменении скорости
    - do: Изменить зум карты до 10-го или более обзорного
    - assert: |
        Спан карты изменился
        Зум более обзорный
        Через некоторое время карта призумится к ММП

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отключение автомасштабирования для маршрута:
    - do: Включить симуляцию движения (Debug-panel > Routes > Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Выключить Автомасштабирование (Меню -> Настройки -> Автомаршруты)
    - assert: Свитчер у настройки "Автомасштабирование" в состоянии выключено
    - do: Построить автомобильный маршрут
    - do: Тап "Поехали"
    - assert: |
        Отображается экран ведения по маршруту
        Зум статичен и не изменяется при изменении скорости

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - new_settings


  Включение автомасштабирования для маршрута:
    - do: Включить симуляцию движения (Debug-panel > Routes > Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Включить Автомасштабирование (Меню -> Настройки -> Автомаршруты)
    - assert: Свитчер у настройки "Автомасштабирование" в состоянии включено
    - do: Построить автомобильный маршрут
    - do: Тап "Поехали"
    - assert: |
        Отображается экран ведения по маршруту
        Зум изменяется при изменении скорости
    - do: Изменить зум карты до 10-го или более обзорного
    - assert: |
        Спан карты изменился
        Зум более обзорный
        Через некоторое время карта призумится к ММП

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - new_settings


  Переход в ведение по маршруту ОТ:
    - info: |
        Кейс не для для iPad
        Построен произвольный маршрут ОТ
        Открыт экран выбора вариантов маршрута
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Тап на Посмотреть на карте
    - assert: |
        Отображается экран деталей маршрута:
        Вверху кнопка назад, общее время маршрута, время начала и конца маршрута
        Ниже блок с картой и линией маршрута
        Внизу карточка маршрута с информацией:
          - последовательность пересадок
          - подробная информация о маршруте, с номерами транспорта, расстояниям, прогнозом прибытия
          - кнопкой Открыть варианты и расписание и т.д (наличие элементов зависит от маршрута)
          - кнопка Другие рейсы (зависит от маршрута)
        В самом низу кнопки Исправить неточность и Поехали
    - do: Тап Открыть варианты и расписание
    - assert: |
        Отображается (Android) поп-ап Варианты проезда / (iOS) экран Варианты проезда
        Присутствует кнопка (Android) Готово / (iOS) кнопка закрытия
        Ниже расположены блоки (зависит от маршрута):
          - С прогнозом события со списком ОТ и временем прибытия
          - По расписанию со списком ОТ и интервалом движения
    - do: (Android) Тап  Готово / (iOS) Тап на кнопку закрытия
    - assert: Отображается экран деталей маршрута
    - do: Тап на кнопку, раскрывающую список остановок
    - assert: |
        Стрелка раскрывающегося списка анимированно развернулась
        Раскрылся список остановок
    - do: Тап по кнопке Поехали
    - assert: |
        Открыт экран ведения по маршруту на ОТ
        Вверху экрана:
        - кнопка назад
        - время в пути и количество пересадок
        - кнопка закрытия в виде крестика
        Внизу отображается мини-карточка маршрута:
        - количество участков маршрута
        - информацией об выбранном участке (расстояние и время, номер транспорта, краткое пояснение)

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение плашки ББМ (iOS):
    - info: |
        ББМ (более быстрый маршрут) может приходить не в 100% случаев, иногда требуется повторить кейс 2-3 раза
        Построить автомобильный маршрут МКАД 84-й километр -> Солнечногорск
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
        Открыт экран выбора вариантов маршрута
    - do: Тап на сниппет самого долгого варианта маршрута
    - do: Тап Поехали
    - assert: |
        Открыт экран ведения по маршруту
        Стрелка движется по маршруту
    - do: Подождать 2-3 минуты
    - assert: |
        Произносится аннотация, что найден более быстрый маршрут
        Внизу экрана отображается плашка Быстрее на nn минут
        Справа на плашке кнопка с крестиком в виде прогресс ринга
    - do: Тап на плашку
    - assert: |
        Плашка пропала
        Маршрут перестроился
        Продолжается ведение по маршруту
        Время маршрута уменьшилось

    - platforms:
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - newbie


  Отображение плашки ББМ (Android):
    - info: |
        ББМ (более быстрый маршрут) может приходить не в 100% случаев, иногда требуется повторить кейс 2-3 раза
        Построить автомобильный маршрут МКАД 84-й километр -> Солнечногорск
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
        Открыт экран выбора вариантов маршрута
    - do: Тап на сниппет самого долгого варианта маршрута
    - do: Тап Поехали
    - assert: |
        Открыт экран ведения по маршруту
        Стрелка движется по маршруту
    - do: Подождать 2-3 минуты
    - assert: |
        Произносится аннотация, что найден более быстрый маршрут
        Внизу экрана отображается плашка Маршрут быстрее на nn км
        Отображаются кнопки Посмотреть, Не нужно
    - do: Тап на Посмотреть
    - assert: |
        Отображается экран ведения в режиме Обзор маршрута
        Присутствую альтернативные быстрые маршруты
        Внизу отображается кнопка Продолжить
    - do: Выбрать более быстрый маршрут
    - do: Тап Продолжить
    - assert: |
        Отображается экран ведения по маршруту
        Маршрут изменился на выбранный более быстрый
        Плашка ББМ не отображается
        Контроллы не отображаются

    - platforms:
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - newbie


  Скрытие плашки ББМ после 10 секундного ожидания:
    - description: ББМ (более быстрый маршрут) может приходить не в 100% случаев, иногда требуется повторить кейс 2-3 раза
    - info: |
        Построить автомобильный маршрут МКАД 84-й километр -> Солнечногорск
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
        Открыт экран выбора вариантов маршрута
    - do: Выбрать самый долгий вариант маршрута и Тап 'Поехали'
    - assert: Открыт экран ведения по маршруту. Стрелка движется по маршруту
    - do: Подождать 2-3 минуты
    - assert: |
        Произносится аннотация 'Найден более быстрый маршрут'.
        Внизу экрана отображается плашка 'Быстрее на n'.
        Справа на плашке кнопка с крестиком в виде прогресс ринга.
        Прогресс отображается время показа плашки (10 сек)
    - do: Подождать 10 секунд
    - assert: |
        Плашка пропала.
        Маршрут не перестроился.
        Продолжается ведение по маршруту

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Остановка слежения за стрелкой при движении в режиме ориентации по направлению устройства при открытии формы добавления дорожного события при ведении по автомобильному маршруту:
    - info: |
        Открыт главный экран
        Активирован режим ориентации по направлению устройства
        Перейти в режим ведения по автомобильному маршруту
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Начать движение по маршруту
    - assert: |
        Отображается экран ведения по автомаршруту
        Приложение следит за передвижением стрелки
        Стрелка находится в нижней трети экрана
        Карта перемещается, стрелка не выходит за границы экрана
        Стрелка привязана к дорожному графу
    - do: Открыть экран добавления ДС (Меню -> Дорожное событие)
    - assert: |
        Открыта форма добавления дорожного события
        Слежение за стрелкой остановлено, в итоге она уходит за границы экрана
        (iPhone) Полилиния маршрута не отображается
    - do: Закрыть форму добавления дорожного события
    - assert: |
        Отображается экран ведения по автомаршруту
        Приложение сфокусировано на участке карты, по которому в данный момент движется пользователь
        Слежение за стрелкой возобновлено
        Cтрелка не уходит за границы экрана
        Стрелка вновь находится в нижней трети экрана

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Остановка слежения за стрелкой при движении в режиме ориентации по направлению устройства при открытии формы добавления дорожного события в ведении по пешему маршруту:
    - info: |
        Открыт главный экран
        Пользователь авторизован
        Активирован режим ориентации по направлению устройства
        Перейти в режим ведения по пешему маршруту
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Начать движение по маршруту
    - assert: |
        Отображается экран ведения по пешему маршруту
        Приложение следит за передвижением стрелки
        Стрелка находится в нижней трети или по центру экрана
        Карта перемещается, стрелка не выходит за границы экрана
    - do: Лонг-тап по карте
    - assert: Отображается лонг-тап меню
    - do: Тап на Добавить дорожное событие
    - assert: |
        Открыт экран добавления ДС
        Слежение за стрелкой остановлено, в итоге она уходит за границы экрана
        (iPhone) Полилиния маршрута не отображается
    - do: Закрыть форму добавления дорожного события
    - assert: |
        Отображается экран пешеходного ведения
        Слежение за стрелкой не возобновляется
        (iPhone) Полилиния маршрута отображается

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Остановка слежения за стрелкой при движении в режиме ориентации по направлению устройства при открытии формы добавления дорожного события в веловедении:
    - info: |
        Открыт главный экран
        Активирован режим ориентации по направлению устройства
        Перейти в режим ведения по веломаршруту
        В ведении происходит симуляция движения (Android) через Mock Location / (iOS) через Enter your route в дебаг-панели
    - do: Начать движение по маршруту
    - assert: |
        Отображается экран веловедения
        Приложение следит за передвижением метки
        В зависимости от скорости меткой местоположения может быть круглый пин с буквой Я внутри или стрелка
        Круглая метка при слежении за передвижением удерживается по центру экрана, стрелка - в нижней трети экрана
        Карта перемещается, метка местоположения не выходит за границы экрана
    - do: Лонг-тап по карте
    - assert: Отображается лонг-тап меню
    - do: Тап на Добавить дорожное событие
    - assert: |
        Открыта форма добавления дорожного события
        Слежение за стрелкой остановлено, в итоге она уходит за границы экрана
        (iPhone) Полилиния маршрута не отображается
    - do: Закрыть форму добавления дорожного события
    - assert: |
        Отображается экран веловедения
        Приложение сфокусировано на участке карты, по которому в данный момент движется пользователь
        Слежение за стрелкой не возобновляется
        (iPhone) Полилиния маршрута отображается

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Ведение по маршруту при включенной опции Избегать платных дорог:
    - info: |
        Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
        Закрыть дебаг панель
        Перезапустить приложение
        Включена настройка Избегать платных дорог (Меню -> Настройки -> Маршруты)
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Построить автомобильный маршрут в СПБ от метро Беговая до метро Приморская
    - assert: |
        Отображаются варианты маршрута
        Cреди них отсутствует вариант проезда через ЗСД (является кратчайшим маршрутом, но при этом дорога платная)
    - do: Выбрать вариант маршрута, который проходит через "Большой проспект Петроградской стороны"
    - assert: В вариантах маршрута отображается построенный маршрут
    - do: Тап по Поехали
    - assert: |
        Отображается экран ведения по маршрут
        Метка пользователя движется по маршруту
        Во время движении по ул. Савушкина, при подъезде к ЗСД, не предлагается Более быстрый маршрут через ЗСД (т.к это платная дорога)

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Новые настройки. Ведение по маршруту при включенной опции Избегать платных дорог:
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Включить симуляцию движения(Debug-panel -> Routes -> Demo movement)
    - do: Включить настройку "Избегать платных дорог" (Меню -> Настройки -> Авотмаршруты)
    - do: Построить автомобильный маршрут в СПБ от метро Беговая до метро Приморская
    - assert: |
        Отображаются варианты маршрута
        Cреди них отсутствует вариант проезда через ЗСД (является кратчайшим маршрутом, но при этом дорога платная)
    - do: Выбрать вариант маршрута, который проходит через "Большой проспект Петроградской стороны"
    - assert: В вариантах маршрута отображается построенный маршрут
    - do: Тап по Поехали
    - assert: |
        Отображается экран ведения по маршрут
        Метка пользователя движется по маршруту
        Во время движении по ул. Савушкина, при подъезде к ЗСД, не предлагается Более быстрый маршрут через ЗСД (т.к это платная дорога)

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - new_settings


  Проверка на стабильность работы приложения при обращении к удалённому MapObject'у ДС:
    - info: |
        Наличие ДС вдоль маршрута
        Построен автомобильный маршрут
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Тап по Поехали
    - assert: Происходит переход в ведение по маршруту
    - do: Тап по любому ДС
    - assert: Открывается карточка ДС
    - do: Лонг-тап по любому участку карты
    - assert: |
        Открывается Лонг-тап меню
        В меню отображаются кнопки:
          - Отсюда
          - Заехать
          - Сюда
          - Что здесь?
          - Добавить объект
          - Добавить дорожное событие
          - Панорама
    - do: Тап Сюда
    - assert: |
        Открыт экран выбора маршрута
        Маршрут перестроился
        Открыта мини-карточка самого короткого маршрута (если вариантов более одного)
        На экране построен автомобильный маршрут
        Конечной точкой маршрута является выбранная точка, по которой воспроизводился лонг-тап

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение кнопки Позвонить в мини-карточке брендированных пинов вдоль маршрута:
    - info: |
        Отображается экран ведения по автомаршруту
        На маршруте отображаются подмешанный брендированный пин (напр., ПИК, КФС, БК, Макдональс)
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Тап на брендированный пин
    - assert: |
        Открылась мини-карточка
        В мини-карточке отображается action-кнопка Позвонить
    - do: Тап на Позвонить
    - assert: |
        (Android)Отображается поп-ап с номерами телефонов
        (iOS) Отображается поп-ап с номерами телефонов и кнопками Отменить и Вызов
    - do: Тап на Вызов
    - assert: Осуществляется звонок
    - do: Завершить звонок
    - assert: |
        Отображается мини-карточка организации
        Ведение по маршруту продолжается

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map


  Отображение кнопки Сайт в мини-карточке брендированных пинов вдоль маршрута:
    - info: |
        Отображается экран ведения по автомаршруту
        На маршруте отображаются подмешанный брендированный пин (напр., ПИК, КФС, БК, Макдональс)
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Тап на брендированный пин
    - assert: |
        Открылась мини-карточка
        В мини-карточке присутствует action-кнопка Сайт
    - do: Тап на Сайт
    - assert: |
        У организации один сайт:
        Происходит переход на сайт организации
        У организации несколько сайтов:
        Открывается поп-ап со списком сайтов
    - do: Если у организации несколько сайтов тап по сайту из списка
    - assert: Происходит переход на сайт организации
    - do: Тап на Закрыть
    - assert: |
        Отображается мини-карточка организации
        Ведение по маршруту продолжается

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map


  Переход в настройки из ведения по маршруту:
    - info: |
        Выключить эксперимент `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
        Закрыть дебаг панель
        Перезапустить приложение
        Открыт экран ведения автомаршута
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Тап по кнопке меню
    - assert: |
        Поднимается блок с кнопками: Пробки, Обзор, Со звуком/Без звука (в зависимости от настроек), Закладки, Дорожное событие, Настройки
    - do: Тап по кнопке Настройки
    - assert: Открылся экран Настройки
    - do: Свернуть приложение
    - assert: Открыт рабочий стол устройства
    - do: Развернуть приложение
    - assert: |
        Открылся экран 'Настройки'
        Вверху экрана:
        (iOS) < Назад, Настройки
        (Android) <-, Настройки
        На экране присутствуют пункты: 'Основные', 'Карта', 'Маршруты', (iOS) 'Офлайн-карты' , 'О приложении'
        Ниже отображается блок 'Попробовать бета-версию'
        В самом низу отображается кнопка 'Очистить историю поиска'

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Построение автомаршрута через экран сравнения маршрута:
    - info: |
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Построить маршрут и открыть экран сравнения всех маршрутов любым способом
    - assert: Отображается экран сравнения всех маршрутов
    - do: Выбрать автомаршрут (иконка с автомобилем)
    - assert: Открыт экран выбора вариантов автомобильного маршрута
    - do: Тап на Поехали
    - assert: Отображается экран ведения по автомаршруту

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Построение веломаршрута через экран сравнения маршрута:
    - info: На iOS происходит симуляция движения Debug-panel > Routes > Demo movement
    - do: Открыть экран выбора вариантов маршрута любым способом
    - assert: Отображается экран выбора вариантов маршрута
    - do: Выбрать веломаршрут
    - assert: |
        Открыт экран выбора вариантов маршрута
        В вверху адрес маршрута: 'Откуда: адрес_начальной_точки' и 'Куда: адрес_конечной_точки' _(в случае определения местоположения пользователя в одной из точек будет написано 'Моё местоположение' без адреса)
        Тип маршрута - вело
        На карте различные участки окрашены в разные цвета, в сниппетах вариантов маршрутов отображаются основные 'фичи' маршрута, такие как
          * Участки с выездом на проезжую часть
          * Участки на закрытой территории
          * Участки маршрута по велодорожке
          * Отображаются лестницы на маршруте
        Внизу экрана блоки альтернативных маршрутов(если присутствуют альтернативные)
        Каждый блок представляется из себя карточку с информацией: время в пути, расстояние
        Могут отображаться информационные сообщения
        Внизу справа отображается кнопка Поехали
    - do: Тап на Поехали
    - assert: |
        Открыт экран ведения по вело маршруту
        Отображаются контролы: Кнопка раскрытия слоёв, Кнопки зума, Кнопка геолокации и кнопка меню
    - do: Тап по крестику закрытия
    - assert: |
        Ведение по маршруту закрылось
        Открыт главный экран приложения с картой

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие кнопки Искать похожие у карточки poi на экране ведения по автомаршруту:
    - description: Кнопка Искать похожие может отображаться на экране ведений только для Вело-маршрутов и пешки
    - info: |
        Получен эксперимент search_alike_suggest_poi
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Построить любым способом маршрут на Авто, перейти в экран ведения
    - assert: Открыт экран ведения по автомаршруту
    - do: Тап по poi
    - assert: Открывается миникарточка организации Кнопки Искать похожие нет

    - platforms:
        - ios
    - tags:
        - assessors


  Кнопка Искать похожие у карточки poi на экране ведения по пешему маршруту:
    - description: Кнопка Искать похожие может отображаться на экране ведений только для Вело- маршрутов и пешки
    - info: |
        Получен эксперимент search_alike_suggest_poi
        На iOS происходит симуляция движения: Debug-panel > Routes > Demo movement
    - do: Построить любым способом пеший маршрут, перейти в экран ведения
    - assert: Открыт экран ведения по пешему маршруту
    - do: Тап по poi
    - assert: Открывается миникарточка организации. Отображается кнопка Искать похожие

    - platforms:
        - ios
    - tags:
        - assessors


  Переключение на альтернативный маршрут в режиме обзора в ведении:
    - info: |
        (ios) Включен эксперимент no_toolbar_in_guidance
        Без взаимодействия с картой контролы не отображаются на экране ведения
        Открыто ведение по автомаршруту
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: (IOS)Тап на кнопку меню в виде трех горизонтальных линий
    - assert: (IOS)Поднимается блок с кнопками Пробки, Обзор, Со звуком/Без звука(в зависимости от настроек), Закладки, Дорожное событие, Настройки
    - do: (IOS)Тап на кнопку "Обзор" (Android)Тап на кнопку "Обзор" под навибаром
    - assert: |
        Карта отзумилась
        На карте отображается полный маршрут и альтернативный
        Рядом с каждым вариантом маршрута отображается время в пути
        Внизу экрана отображаются сниппеты с вариантами маршрутов и кнопка "Продолжить маршрут". На сниппетах указаны время, километраж и дорожные события маршрутов. Сниппет выбранного маршрута выделен
    - do: Тап на линию альтернативного маршрута
    - do: Тап на "Продолжить маршрут"
    - assert: |
        Карта призумилась к стрелке ММП
        Маршрут переключился на альтернативный
        Продолжается ведение по автомаршруту
        Контроллы не отображаются
    - do: (IOS)Тап на кнопку меню в виде трех горизонтальных линий
    - assert: Поднимается блок с кнопками Пробки, Обзор, Со звуком/Без звука(в зависимости от настроек), Закладки, Дорожное событие, Настройки
    - do: Тап на кнопку "Обзор"
    - assert: |
        Карта отзумилась
        На карте отображается полный маршрут и альтернативный
        Рядом с каждым вариантом маршрута отображается время в пути
        android: Внизу экрана отображается кнопка "Продолжить"
        ios: Внизу экрана отображаются сниппеты с вариантами маршрутов и кнопка "Продолжить маршрут". На сниппетах указаны время, километраж и дорожные события маршрутов. Сниппет выбранного маршрута выделен
    - do: Тап на плашку времени в пути напротив альтернативного маршрута
    - do: Тап на "Продолжить маршрут"
    - assert: |
        Карта призумилась к стрелке ММП
        Сохранился наклон карты и положение компаса
        Маршрут переключился на альтернативный
        Продолжается ведение по автомаршруту
        Контроллы не отображаются
    - do: (ios) Тап на кнопку меню в виде трех горизонтальных линий
    - assert: Поднимается блок с кнопками Пробки, Обзор, Со звуком/Без звука(в зависимости от настроек), Закладки, Дорожное событие, Настройки
    - do: Тап на кнопку "Обзор"
    - assert: |
        Карта отзумилась
        На карте отображается текущий маршрут и альтернативные
        Рядом с каждым вариантом маршрута отображается время в пути
        Внизу экрана отображаются сниппеты с вариантами маршрутов и кнопка "Продолжить маршрут"
        На сниппетах указаны время, километраж и дорожные события маршрутов
        Сниппет выбранного маршрута выделен
    - do: Тап на спиппет альтернативного маршрута
    - assert: Маршрут переключился на альтернативный
    - do: Тап на "Продолжить маршрут"
    - assert: |
        Карта призумилась к стрелке ММП
        Сохранился наклон карты и положение компаса
        Продолжается ведение по выбранному автомаршруту
        Контроллы не отображаются

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
        - newbie
        - parity


  Переключение на альтернативный маршрут в режиме обзора в ведении через тулбар:
    - info: |
        (ios) Выключен эксперимент no_toolbar_in_guidance
        Построен автомаршрут
        Происходит симуляция движения через Debug-panel > Routes > Demo movement
    - do: Тап по карте
    - assert: Отображается тулбар
    - do: Тап на кнопку "Обзор" в тулбаре
    - assert: |
        Карта отзумилась
        На карте отображается текущий маршрут и альтернативные
        К каждому варианту маршрута приставлен баллун с указанием времени
        Внизу отображаются сниппеты с вариантами маршрутов и кнопка "Продолжить маршрут"
        Сниппет выбранного маршрута выделен
    - do: Тап на линию альтернативного маршрута
    - assert: Маршрут переключился на альтернативный
    - do: Тап на баллун, приставленный к альтернативному маршруту
    - assert: Маршрут переключился на альтернативный
    - do: Тап на спиппет альтернативного маршрута
    - assert: Маршрут переключился на альтернативный
    - do: Тап на "Продолжить маршрут"
    - assert: |
        Карта призумилась к стрелке ММП
        Сохранился наклон карты и положение компаса
        Продолжается ведение по выбранному автомаршруту
        Контроллы не отображаются

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - parity


  Добавление ДС через контрол во время ведения:
    - info: |
        Пользователь не авторизован
        Без взаимодействия с картой контролы не отображаются на экране ведения
        Открыто ведение по автомаршруту
        Происходит симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Тап на контрол добавления ДС
    - assert: Появляется штора с предложением авторизоваться
    - do: Авторизоваться
    - assert: |
        Появляется форма добавления ДС
        Курсор ММП ушел за границы формы
    - do: Добавить произвольное ДС
    - assert: |
        Форма добавления ДС закрылась
        Приложение автоматически сфокусировалось на курсоре ММП
        Ведение по маршруту продолжается

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие лейблов у брендированных пинов в режиме север сверху во время ведения по маршруту:
    - info: |
        Построить маршрут вдоль брендированных пинов
        Открыто ведение по автомаршруту
        Устройство в портертной ориентации
        Debug-panel > Routes > Demo movement
    - do: Перейти в режим 'Север сверху' (Тап на контрол ММП)
    - assert: Камера следит за ММП в режиме Север сверху
    - do: Продолжать движение по маршруту
    - assert: Вдоль маршрута не отображаются лейблы брендированных пинов
    - do: Тап на контрол ММП (стрелка на контроле направлена вверх)
    - assert: Лейблы брендированных пинов отображаются

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Движение в режиме фридрайв (Навигатор) без ведения по маршруту:
    - info: |
        Не получен эксперимент parking_instead_of_layers
        Происходит симуляция движения:
        На Android: через внешнее приложение Mock Location(*)
        *Для запуска симуляции нужно отметить начальную и конечную точки маршрута на карте, сохранить и вернуться на главный экран приложения.
        Открыт главный экран приложения, курсор ммп движется по карте.
        Включен таб Навигатор
    - do: Изменить спан карты так, чтобы курсор ммп оказался за пределами спана
    - assert: Продолжается движение, через некоторое время происходит подзум к курсору ммп
    - do: Взаимодействовать с картой (менять зум/спан)
    - assert: |
        Сверху отображается меню, иконки текущей и максимальной скорости,
        Ниже находятся контролы слоев и пробок, кнопки зума, добавления ДС, свитчер, кнопка определения ммп
        Внизу отображаются саджесты и панель табов
    - do: Не взаимодействовать с картой
    - assert: |
        Отображается иконки текущей и максимальной скорости, саджесты и панель табов
        Контролы и кнопки скрылись

    - testing:
        - acceptance_maps
    - platforms:
        - android
    - tags:
        - assessors
        - newbie


  Пункт меню Закладки во время ведения:
    - info: |
        Отображается экран ведения по маршруту
        Включена симуляция движения
    - do: Тап по меню
    - assert: Отображается меню
    - do: Тап по Закладки
    - assert: Отображается экран закладок
    - do: Тап закрыть
    - assert: |
        (Android) Отображается меню
        (iOS) Отображается экран ведения

    - platforms:
      - ios
      - android
    - testing:
      - lite_acceptance_maps
    - tags:
      - assessors
      - newbie


  Пункт меню со звуком во время ведения:
    - info: |
        (iOS) Включен эксперимент no_toolbar_in_guidance
        Отображается экран ведения по маршруту
        Пользователь авторизован
        Включена симуляция движения
        озвучиваются анотации движения
    - do: Тап по меню
    - assert: Отображается меню ведения
    - do: Тап по со звуком
    - assert: |
        Отображается меню ведения
        Со звуком заменилось на без звука
        Анотации движения не воспроизводятся
    - do: Закрыть меню ведения
    - assert: |
        Отображается экран ведения по маршруту
        Ведение продолжается но без анотаций
    - do: Тап по меню
    - assert: Отображается меню ведения
    - do: Тап по Без звука
    - assert: |
        Отображается меню ведения
        Без звука заменилось на Со звуком
        Анотации движения начали воспроизводиться
    - do: Закрыть меню ведения
    - assert: |
        Отображается экран ведения по маршруту
        Ведение продолжается с анотациями

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Добавления ДС при движении во время фридрайва:
    - info: |
        Построен маршрут через enter you route или mock location
        Включен таб навигатор
        Пользователь авторизован
    - do: Лонг-тап на карте и тап Добавить дорожное событие
    - assert: |
        Отображается экран добавления ДС
        Экран самостоятельно не смещается за контролом МП
    - do: Сместить спан карты
    - assert: |
        Точка установки ДС изменилась
    - do: Тап отправить
    - assert: |
        ДС добавился на карту

    - platforms:
      - ios
      - android
    - testing:
      - lite_acceptance_maps
    - tags:
      - assessors
      - newbie


  Поиск при движении во время фридрайва:
    - info: |
        Построен маршрут через enter you route или mock location
        Включен таб навигатор
        Пользователь авторизован
    - do: Тап по табу поиска
    - assert: |
        Отображается экран поиска
    - do: Произвести поиск
    - assert: |
        Отображается СЕРП
    - do: Закрыть СЕРП
    - assert: |
        Отображается главный экран
        Таб навигатора включен
        Результаты поиска не отображаются


    - platforms:
        - ios
        - android
    - testing:
        - lite_acceptance_maps
    - tags:
        - assessors


  Индикация скорости во время фридрайва:
    - info: |
        Построен маршрут через enter you route или mock location
        Включен таб навигатор
        Пользователь авторизован
    - do: Превысить разрешенную в регионе симуляции движения скорость на 20км/ч или больше
    - assert: |
        Индикатор спидлимита в правом верхнем углу начал пульсировать красным
    - do: Замедлить скорость симуляции движения до разрешенной
    - assert: |
        Индикатор спидлимита в правом верхнем углу перестал пульсировать красным

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Маршрутные саджесты и время доезда в табе "Навигатор":
    - info: |
        Ранее строились различные авто маршруты
        Пользователь авторизован
        У пользователя добавлены в закладки Дом/работа
        Ранее строились различные авто маршруты
    - do: |
        Использовать интент
        [collapsed-image](https://jing.yandex-team.ru/files/polikashinaol/eta_gas_station.png){title=QR-код}

        `yandexmaps://add_exp?eta_in_route_suggest&show_gas_station_in_suggest`
    - do: Выключить эксперимент `service_navi` (Меню -> Настройки -> Дебаг-панель -> Experiments)
    - do: Включить симуляцию движения (Меню -> Настройки -> Дебаг-панель -> Routes -> Demo movement)
    - do: Перезапустить приложение с выгрузкой из памяти
    - do: Тап на таб "Навигатор"
    - assert: |
        Активен режим навигатора
        Далее саджесты с ранее используемыми маршрутами и саджест Куда?
        В маршрутных саджестах присутствует расчетное время доезда, окрашенное в цвет актуальных на маршруте пробок (зеленый, желтый, красный)
    - do: Тап по любому из маршрутных саджестов
    - assert: |
        Строится маршрут до точки из саджеста
        Время доезда по маршруту совпадает со временем доезда из саджеста
    - do: Отключить эксперимент eta_in_route_suggest
    - do: Перезапустить приложение
    - assert: |
        Отображается главный экран приложения
        В нижней части экрана присутствуют саджесты Дом или Работа
    - do: Тап на таб Навигатор
    - assert: |
        Активен режим навигатора
        Маршрутный саджест не перекрывает иконку местоположения
        В нижней части экрана присутствует саджесты Дома или Работы, саджест Заправок
        Далее саджесты с ранее используемыми маршрутами и саджест Куда?

    - platforms:
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - newbie


  Маршрутные саджесты и время доезда в табе Навигатор (Android):
    - info: |
        Пользователь авторизован
        У пользователя добавлены в закладки Дом/работа
        Ранее строились различные автомаршруты
        Таб Навигатор выключен
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/alina-butba/exp-4.png){title=QR-код}

        `yandexmaps://add_exp?show_gas_stations_in_suggest`
    - do: Запустить симуляцию движения с помощью Mock Locations
    - do: Открыть приложение
    - do: Тап на таб Навигатор
    - assert: |
        Активен режим навигатора
        Маршрутный саджест не перекрывает иконку местоположения
        В нижней части экрана присутствует иконка закладок, саджест Заправок
        После закладок идут маршрутные саджесты Дома/Работы, а далее саджесты с ранее используемыми маршрутами
        В маршрутных саджестах присутствует расчетное время доезда, окрашенное в цвет актуальных на маршруте пробок (зеленый, желтый, красный)
    - do: Тап по любому из маршрутных саджестов
    - assert: |
        Строится маршрут до точки из саджеста
        Время доезда по маршруту совпадает со временем доезда из саджеста

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - newbie


  Плашка ББМ во время ведения по маршруту (Посмотреть):
    - info: |
        [Построить маршрут по QR-коду](https://jing.yandex-team.ru/files/linakolpakova/qr-code%20%2831%29.gif)
        Выбрать самый долгий вариант маршрута
        В ведении должна происходить симуляция движения: Debug-panel > Routes > Demo movement
    - do: Тап на Поехали
    - assert: Отображается экран ведения по маршруту
    - do: Продолжать ведение по маршруту до пояления плашки более быстрого маршрута
    - assert: |
        Плашка ББМ появилась
        У плашки есть кнопки Не нужно и Посмотреть
    - do: Свернуть и развернуть приложение
    - assert: Плашка продолжает отображаться на экране ведения по маршруту
    - do: Тап на Посмотреть
    - assert: Отображается экран Обзор маршрута
    - do: Вернуться на экран ведения
    - aseert: Плашка ББМ не отображается

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors

  Плашка ББМ во время ведения по маршруту (Не нужно):
    - info: |
        [Построить маршрут по QR-коду](https://jing.yandex-team.ru/files/linakolpakova/qr-code%20%2831%29.gif)
        Выбрать самый долгий вариант маршрута
        В ведении должна происходить симуляция движения: Debug-panel > Routes > Demo movement
    - do: Тап на Поехали
    - assert: Отображается экран ведения по маршруту
    - do: Продолжать ведение по маршруту до пояления плашки более быстрого маршрута
    - assert: |
        Плашка ББМ появилась
        У плашки есть кнопки Не нужно и Посмотреть
    - do: Свернуть и развернуть приложение
    - assert: Плашка продолжает отображаться на экране ведения по маршруту
    - do: Тап на Не нужно
    - aseert: Плашка ББМ не отображается

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Отображение тулбара в режиме автоведения:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        В ведении должна происходить симуляция движения: Debug-panel > Routes > Demo movement
        Построен любой автомаршрут
    - do: Тап Поехали
    - assert: Происходит переход в режим ведения
    - do: Изменить спан карты
    - assert: |
        Под плашкой ЕТА отображается Тулбар
    - do: Не взаимодействовать с картой
    - assert: Через 5 секунд элементы экрана скрываются
    - do: Изменить ориентацию устройства на горизонтальную
    - assert: Устройство в горизонтальной ориентации
    - do: Изменить спан карты
    - assert: |
        Тулбар отображается в правой части экрана
    - do: Не взаимодействовать с картой
    - assert: Через 5 секунд элементы экрана скрываются

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Изменение режима карты при переходе в ведение перед исчезновением контролов:
    - info: В ведении должна происходить симуляция движения - Debug-panel > Routes > Demo movement
    - do: Построить любой автомобильный маршрут
    - do: Тап Поехали
    - assert: Происходит переход в режим ведения
    - do: Тап на контрол ММП
    - assert: |
        Контрол не скрылся
        Режим слежения за меткой ММП изменился
    - do: Тап на контрол ММП повторно
    - assert: |
        Контрол все еще отображается
        Режим слежения за меткой ММП изменился

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Тулбар при смене ориентации в режиме автоведения:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        В ведении должна происходить симуляция движения: Debug-panel > Routes > Demo movement
        Построен любой автомаршрут
        Устройство в вертикальной ориентации
    - do: Изменить спан карты
    - assert: |
        Под плашкой ЕТА отображается Тулбар с кнопками (слева направо):
        - Лупа
        - Обзор маршрутов
        - Маршрут
        - Меню
    - do: Изменить ориентацию устройства на горизонтальную
    - assert: |
        Устройство в горизонтальной ориентации
        Отображается тулбар в правой части экрана с кнопками (снизу вверх):
        - Лупа
        - Обзор маршрутов
        - Маршрут
        - Меню
    - do: Изменить спан карты
    - assert: Тулбар отображается в правой части экрана

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Переход на экран Маршрут из тулбара в режиме автоведения:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        В ведении должна происходить симуляция движения: Debug-panel > Routes > Demo movement
        Построен любой автомаршрут
    - do: Тап на таб Маршрут в тулбаре
    - assert: |
        Открыт экран Маршрут
        В поле Откуда указано Мое местоположение
        В поле Куда пусто
    - do: Ввести другие значения в полях Откуда и Куда
    - assert: |
        Открыт экран выбора вариантов маршрута c обзором ведения
        Выбран тип - автомаршрут
        В полях Откуда и Куда указаны заданные ранее значения
    - do: Тап Назад
    - assert: |
        Открыт экран Маршрут
        Выбран тип: автомаршрут
        В полях Откуда и Куда указаны заданные ранее значения
        Звучат подсказки по маршруту
    - do: Тап Назад
    - assert: Продолжается ведение по первоначально заданному маршруту
    - do: Тап на таб Маршрут в тулбаре
    - assert: |
        Открыт экран Маршрут
        В поле Откуда: Мое местоположение
        В поле Куда: пусто
        Звучат подсказки по маршруту

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Изменение маршрута на экране Маршрут из тулбара в режиме автоведения:
    - do: (iOS) Выключить эксперимент `no_toolbar_in_guidance` (Меню -> Настройки -> Дебаг-панель -> Experiments)
    - do: (iOS) Закрыть Дебаг-панель
    - do: (iOS) Перезапустить МЯК
    - do: Включить симуялцию ведения (Меню -> Настройки -> Дебаг-панель -> Routes -> Demo movement)
    - do: Построить любой автомаршрут
    - do: Перейти в ведение
    - do: Тап на таб с иконкой закладок в тулбаре
    - assert: |
        Открыт экран Маршрут
        В поле "Откуда" указано "Мое местоположение"
        В поле "Куда" - пусто
    - do: Задать новые значения для полей Откуда/Куда
    - assert: |
        Открыт экран выбора вариантов маршрута
        В поле Откуда и Куда указаны заданные ранее значения
    - do: Начать ведение
    - assert: |
        Происходит ведение по новому маршруту

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Изменение маршрута через лонг-тап в режиме автоведения:
    - info: |
        (iOS) Выключен эксперимент no_toolbar_in_guidance
        В ведении должна происходить симуляция движения: Debug-panel > Routes > Demo movement
        Построен любой автомаршрут
    - do: Тап на таб Маршрут в тулбаре
    - assert: |
        Открыт экран Маршрут
        Выбран тип автомаршрут
        В поле Откуда указано Мое местоположение
        В поле Куда пусто
    - do: Задать новое значение для поля Куда
    - assert: |
        Открыт экран выбора вариантов маршрута c обзором ведения
        В поле Откуда и Куда указаны заданные ранее значения
        Звучат подсказки по маршруту
    - do: Лонг-тап по карте
    - do: Тап Сюда
    - assert: Маршрут перестроен до выбранной точки
    - do: Тап Поехали
    - assert: Продолжается ведение по новому маршруту
    - do: Лонг-тап по карте
    - do: Тап Заехать
    - assert: Маршрут проложен через выбранную ранее промежуточную точку
    - do: Тап Поехали
    - assert: |
        Маршрут перестроен через выбранную промежуточную точку
        Ведение продолжается

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Продолжение автоведения после построения любого маршрута:
    - info: |
        Построен любой автомаршрут
        В ведении должна происходить симуляция движения: Debug-panel > Routes > Demo movement
    - do: Лонг-тап на карте
    - assert: Открылось лонг-тап меню
    - do: Тап на Сюда
    - assert: |
        Открылся экран выбора вариантов маршрута
        Машрут построен от начального местоположения
        Конечная точка находится в месте лонг-тапа
        Звучат подсказки по автомаршруту
    - do: Выбрать тип маршрута - ОТ
    - do: Тап Посмотреть на карте
    - assert: Открыт экран деталей маршрута ОТ
    - do: Тап на стрелку Назад два раза
    - assert: |
        Продолжается автомобильное ведение по первоначально заданному маршруту
        Звучат подсказки по маршруту
        Конечная точка автомаршрута не изменилась

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Завершение автоведения после начала ведения в любом другом маршруте:
    - info: |
        Построен любой автомаршрут
        В ведении должна происходить симуляция движения: Debug-panel > Routes > Demo movement
    - do: Лонг-тап на карте
    - assert: Открылось лонг-тап меню
    - do: Тап на Сюда
    - assert: |
        Открылся экран выбора вариантов маршрута
        Машрут построен от начального местоположения
        Конечная точка находится в месте лонг-тапа
        Звучат подсказки по автомаршруту
    - do: Выбрать тип маршрута - пешеходный
    - do: Тап на Начать
    - assert: |
        Отображается экран ведения по пешеходному маршруту
        Автомаршрут отсутствует
        Звучат подсказки по маршруту для пешеходов

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Строка поиска в режиме навигатора:
    - info: |
        Открыт главный экран приложения
    - do: Тап на таб Режим навигатора
    - assert: |
        Приложение в  режиме навигатора
        Сверху отображается строка поиска как на главном экране приложения
    - do: Изменить ориентацию устройства на горизонтальную
    - assert: |
        Устройство в горизонтальной ориентации
        Сверху отображается строка поиска как на главном экране приложения
    - do: Изменить ориентацию устройства на вертикальную
    - assert: |
        Устройство в вертикальной ориентации
        Сверху отображается строка поиска как на главном экране приложения

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Отображение разрешения для получения доступа к физической активности на Android 10 и выше:
    - info: |
        Используется устройство с Android 10 или выше
        В приложении включено фоновое ведение (Меню - Настройки - Маршруты - Фоновое ведение)
        Ведение по автомаршруту запускается впервые
        Открыт главный экран приложения
    - do: Построить произвольный автомаршрут
    - assert: |
        Произвольный автомаршрут построен
    - do: Тап "Поехали"
    - assert: |
        Открыт экран ведения по автомаршруту
        Отображается кастомное разрешение для получения доступа к физической активности
    - do: Тап "Разрешить"
    - assert: |
        Отображается системное разрешение для получения доступа к физической активности
    - do: Тап "Разрешить"
    - assert: |
        Отображается экран ведения по автомаршруту
    - do: Завершить ведение по автомаршруту
    - assert: |
        Отображается главный экран приложения
    - do: Открыть настройки Я.Карт на устройстве
    - assert: |
        Доступ к физической активности разрешен
    - do: Вернуться в приложение Я.Карт
    - assert: |
        Открыт главный экран приложения
    - do: Построить произвольный автомаршрут
    - assert: |
        Произвольный автомаршрут построен
    - do: Тап "Поехали"
    - assert: |
        Открыт экран ведения по автомаршруту
        Разрешение для получения доступа к физической активности не отображается

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Отсутствие разрешения для получения доступа к физической активности на Android 10 и выше при повторном переходе в автомобильное ведение:
    - info: |
        Используется устройство с Android 10 или выше
        В приложении включено фоновое ведение (Меню - Настройки - Маршруты - Фоновое ведение)
        Ведение по автомаршруту запускается впервые
        Открыт главный экран приложения
    - do: Построить произвольный автомаршрут
    - assert: |
        Произвольный автомаршрут построен
    - do: Тап "Поехали"
    - assert: |
        Открыт экран ведения по автомаршруту
        Отображается кастомное разрешение для получения доступа к физической активности
    - do: Тап "Отмена"
    - assert: |
        Отображается экран ведения по автомаршруту
    - do: Завершить ведение по автомаршруту
    - assert: |
        Отображается главный экран приложения
    - do: Открыть настройки Я.Карт на устройстве
    - assert: |
        Доступ к физической активности запрещен
    - do: Вернуться в приложение Я.Карт
    - assert: |
        Открыт главный экран приложения
    - do: Построить произвольный автомаршрут
    - assert: |
        Произвольный автомаршрут построен
    - do: Тап "Поехали"
    - assert: |
        Открыт экран ведения по автомаршруту
        Разрешение для получения доступа к физической активности не отображается

    - platforms:
        - android
    - tags:
        - assessors


  Отображение экрана ведения по маршруту над лок-скрином:
    - info:
        Включен эксперимент guidance_on_lock_screen
        Отображается экран ведения по произвольному маршруту
        В ведении происходит симуляция движения
        Debug-panel > Routes > Demo movement
    - do: Заблокировать экран устройства
    - assert: Экран устройства заблокирован
    - do: Активировать лок-скрин
    - assert: Отображается экран ведения по маршруту
    - do: Завершить ведение
    - assert: |
        Ведение по маршруту завершено
        Отображается лок-скрин
    - do: Разблокировать устройство
    - do: Вернуться в приложение
    - assert: Отображается главный экран приложения

    - platforms:
        - android
    - tags:
        - assessors


  Тапабельность зданий и входов в режиме навигатора (включен эксперимент):
    - info: |
        (iOS)Включен эксперимент not_tapable_toponyms
        Активен режим навигатора
        Открыт главный экран приложения
    - do: Тап на здание
    - assert: |
        Здание не реагирует на тап
        Не отображается мини-карточка топонима
    - do: Тап на вход в здание
    - assert: |
        Вход в здание не реагирует на тап
        Не отображается мини-карточка входа
    - do: Выключить режим Навигатора и сделать тап по зданию
    - assert: |
        Здание становится активным
        Отображается мини-карточка топонима
    - do: Тап по входу в здание
    - assert: |
        Вход в здание становится активным
        Отображается мини-карточка входа в здание

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - newbie


  Тапабельность зданий и входов в режиме навигатора (выключен эксперимент):
    - info: |
        Выключен эксперимент not_tapable_toponyms
        Активен режим навигатора
        Открыт главный экран приложения
    - do: Тап на здание
    - assert: |
        Здание  реагирует на тап и становится активным
        Отображается мини-карточка топонима
    - do: Тап на вход в здание
    - assert: |
        Вход в здание реагирует на тап и становится активным
        Отображается мини-карточка входа
    - do: Выключить режим Навигатора и сделать тап по зданию
    - assert: |
        Здание становится активным
        Отображается мини-карточка топонима
    - do: Тап по входу в здание
    - assert: |
        Вход в здание становится активным
        Отображается мини-карточка входа в здание

    - platforms:
        - ios
    - tags:
        - assessors


  Тапабельность зданий и входов в режиме навигатора и ведении по маршруту (включен эксперимент):
    - info: |
        (iOS)Включен эксперимент not_tapable_toponyms
        В Дебаг панели в Routes включен Demo movement
        Построен произвольный маршрут любым способом
        Начато ведение по маршруту
    - do: Тап на здание
    - assert: |
        Здание не реагирует на тап
        Не отображается мини-карточка топонима
    - do: Тап на вход в здание
    - assert: |
        Вход в здание не реагирует на тап
        Не отображается мини-карточка входа

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Тапабельность зданий и входов в режиме навигатора и фридрайве (включен эксперимент):
    - info: |
        Android: Построен маршрут через Mock locations
        (iOS)Включен эксперимент not_tapable_toponyms
        В Дебаг панели в Routes включен Demo movement
        IOS: Построен маршрут через Enter your route в панели Routes
        Активен режим навигатора
    - do: Тап на здание
    - assert: |
        Здание не реагирует на тап
        Не отображается мини-карточка топонима
    - do: Тап на вход в здание
    - assert: |
        Вход в здание не реагирует на тап
        Не отображается мини-карточка входа

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Скрытие поисковой строки во фридрайве:
    - info: |
        Получен эксперимент unified_design_of_controllers
        Происходит симуляция движения через Mock locations, выбрана скорость более 10 км/ч
        Отображается главный экран приложения
        Активен режим навигатора (Тап на таб Навигатор)
    - do: Не взаимодействовать с картой, дождаться скрытия контроллов
    - assert: |
        Отображается экран фридрайва с индикатором спидлимита
        Контроллы и поисковая строка скрылись
    - do: Повзаимодействовать с экраном для появления контроллов
    - assert: |
        Отображается экран фридрайва с контроллами и поисковой строкой
        Индикатор спидлимита скрылся
    - do: Сменить ориентацию девайса
    - assert: |
        Отображается экран фридрайва с контроллами и поисковой строкой
        Индикатор спидлимита не отображается
    - do: Не взаимодействовать с картой, дождаться скрытия контроллов
    - assert: |
        Отображается экран фридрайва с индикатором спидлимита
        Контроллы и поисковая строка скрылись
    - do: Сбросить симуляцию движения и вернуться в МЯК
    - do: Дождаться остановки курсора и повзаимодействовать с экраном
    - assert: |
        Таб Навигатор активен
        Индикатор спидлимита не отображается
        Контроллы и поисковая строка отображаются
    - do: Не взаимодействовать с картой более 5 секунд
    - assert: |
        Таб Навигатор активен
        Индикатор спидлимита не отображается
        Контроллы и поисковая строка отображаются

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Отображение контролов при отсутствии движения в режиме навигатора:
    - info:
        Открыт главный экран приложения
        Выключен эксперимент service_navi
    - do: Выключить эксперимент `Debug Panel - Experiments - service_navi`
    - do: Перезапустить приложение
    - do: Тап на таб Навигатор
    - assert: |
        Открыт экран в режиме Навигатор
        Сверху отображаются кнопка меню и строка поиска с Алисой
        Ниже находятся контролы пробок и парковок, кнопки зума, кнопка определения ММП
        Внизу отображаются саджесты и панель табов
    - do: Не взаимодействовать с картой (10 секунд)
    - assert: |
        Открыт экран в режиме Навигатор
        Сверху отображаются кнопка меню и строка поиска с Алисой
        Ниже находятся контролы пробок и парковок, кнопки зума, кнопка определения ММП
        Внизу отображаются саджесты и панель табов

    - testing:
        - acceptance_maps
    - platforms:
        - android
    - tags:
        - assessors


  Отсутствие показа контролов на карте при автоведении, если нет движения по маршруту:
    - info: |
        В дебаг-панели в Routes выключен свитчер Demo movement
        Открыт главный экран приложения
    - do: Построить произвольный автомаршрут и тап Поехали
    - assert: |
        Открыта карта в режиме автоведения
        Отображаются контролы: пробок, парковок, зума, ММП, поиска, меню, вызова Алисы, добавления дорожных событий
    - do: Не взаимодействовать с картой (примерно 3-5 секунд)
    - assert: |
        Открыта карта в режиме автоведения
        Контролы не отображаются
    - do: Взаимодействовать с картой (например тап в любую точку на карте)
    - assert: |
        Открыта карта в режиме автоведения
        Отображаются контролы: пробок, парковок, зума, ММП, поиска, меню, вызова Алисы, добавления дорожных событий

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отображение плашки с поиском в ведении, когда скрыты остальные контролы (toolbar):
    - info: |
        Происходит симуляция движения: Debug-panel > Routes > Demo movement
        Открыт главный экран приложения
    - do: Построить произвольный автомаршрут и тап Поехали
    - assert: Открыт экран ведения по маршруту
    - do: Тап на поиск в тулбаре
    - assert: Открыт экран поиска
    - do: Ввести любой поисковый запрос и тап Найти
    - assert: |
        Открыт экран ведения ведения по маршруту
        Отображаются результаты поиска вдоль маршрута
        Отображается плашка с поисковым запросом
        Отображаются тулбар и контролы пробок, парковок, зума, ММП, Алисы, дорожных событий
    - do: Не взаимодействовать с картой (3-5 секунд)
    - assert: |
        Открыт экран ведения ведения по маршруту
        Отображаются результаты поиска вдоль маршрута
        Отображается плашка с поисковым запросом
        Тулбар и контролы пробок, парковок, зума, ММП, Алисы, дорожных событий не отображаются

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Переход на экран обзор маршрута в режиме автоведения (toolbar):
    - info: |
        Дебаг панель -> Routes -> Demo movement
    - do: Построить автомаршрут любым способом
    - assert: |
        Открыт экран построения маршрута
    - do: Тап на "Поехали"
    - assert: |
        Начато движение по маршруту
    - do: Тап на на кнопку обзора маршрута в тулбаре
    - assert: |
        Открыт экран обзора маршрута
        Отображается кнопка Продолжить
        Контролы не скрываются

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Отображение плашки с названием улицы в ведении:
    - info: |
        Включить Debug-Panel -> Routes -> Demo movement
        Девайс в вертикальной ориентации
    - do: Построить автомаршрут любым способом
    - assert: Открыт экран построения маршрута
    - do: Тап на "Поехали"
    - assert: |
        Началось ведение по маршруту
        Плашка с названием улицы не отображается, когда на карте присутствуют контроллы
    - do: Не взаимодействовать с картой, дождаться скрытия контроллов
    - assert: |
        Контроллы скрылись
        Отображается плашка с названием улицы
    - do: Изменить ориентацию устройства на горизонтальную
    - assert: При скрытии контроллов отображается плашка с названием улицы

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Отображение плашки с названием улицы в офлайн-ведении:
    - info: |
        Включить Debug-Panel -> Routes -> Demo movement
        Девайс в вертикальной ориентации
        Скачать кэш текущего региона (Меню -> Загрузка карт)
        Включить авиарежим
    - do: Построить автомаршрут любым способом
    - assert: Открыт экран построения маршрута
    - do: Тап на "Поехали"
    - assert: |
        Началось ведение по маршруту
        Плашка с названием улицы не отображается, когда на карте присутствуют контроллы
    - do: Не взаимодействовать с картой, дождаться скрытия контроллов
    - assert: |
        Контролы скрыллись
        Отображается плашка с названием улицы
    - do: Изменить ориентацию устройства на горизонтальную
    - assert: При скрытии контроллов отображается плашка с названием улицы

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Стабильность работы приложения при многокрактном переходе в режим Навигатора:
    - info: Открыт главный экран приложения
    - do: Выключить эксперимент `service_navi` (Меню -> Настройки -> Дебаг-панель -> Experiments)
    - do: Закрыть Дебаг-панель
    - do: Перезапустить МЯК
    - do: Произвести многократный тап на таб "Навигатор" в таббаре
    - assert: |
        Происходит включение и отключение режима "Навигатор"
        Приложение работает стабильно

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Закрытие режима Обзор маршрута тапом по контролу ММП:
    - do: Включить симуляцию движения `Дебаг панель -> Routes -> Demo movement`
    - do: Перезагрузить приложение
    - do: Построить автомаршрут любым способом
    - assert: Открыт экран построения маршрута
    - do: Тап на "Поехали"
    - assert: Начато движение по маршруту
    - do: Тап на кнопку обзора маршрута в тулбаре
    - assert: |
        Открыт экран обзора маршрута
        Отображается кнопка Продолжить маршрут
    - do: Тап на контрол ММП
    - assert: |
        Продолжается ведение по маршруту
        Карта призумилась к стрелке ММП

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Сохранение 2D режима при перезапуске приложения:
    - info: |
        Открыт главный экран приложения
        Карта отображается в 3D режиме
    - do: Установить 10 зум
    - assert: Карта отображается в 2D режиме
    - do: Установить 18 зум
    - assert: Карта отображается в 2D режиме
    - do: Перезапустить приложение с выгрузкой из памяти
    - assert: Карта отображается в 2D режиме

    - platforms:
        - android
    - tags:
        - assessors


  Переход велосипедного ведения в автомобильное ведение через лонг-тап:
    - *Bike_guidanceInfo
    - info: Выбран голос диктора Дима (Меню -> Настройки -> Маршруты -> Звук -> Голос)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать велосипедный тип маршрута
    - do: Тап Поехали
    - assert: |
        Начинается ведение по маршруту
    - do: Лонг-тап по карте
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Выбрать автомобильное ведение
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Тап Поехали
    - assert: |
        Начинается автомобильное ведение по маршруту
        Появилась плашка ЕТА

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Отображение нотификаций фонового ведения при переходе велосипедного ведения в автомобильное ведение через лонг-тап:
    - *Bike_guidanceInfo
    - info: Выбран голос диктора Дима (Меню -> Настройки -> Маршруты -> Звук -> Голос)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать велосипедный тип маршрута
    - do: Тап Поехали
    - assert: |
        Начинается ведение по маршруту
    - do: Свернуть приложение
    - do: Открыть шторку уведомлениий
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения, на которой отображаются:
        - Расстояние до следующего маневра
        - Стрелка маневра (поворот направо, поворот налево, прямо)
        - Расстояние до конца маршрута, время маршрута, время прибытия
        - Кнопки завершения маршрута и выключения звука
        Аннотации о маневрах озвучиваются в фоне
    - do: Развернуть приложение
    - assert: Отображается карта с ведением по велосипедному маршруту
    - do: Лонг-тап по карте
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Выбрать автомобильное ведение
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Тап Поехали
    - assert: |
        Начинается автомобильное ведение по маршруту
        Появилась плашка ЕТА
    - do: Свернуть приложение
    - do: Открыть шторку уведомлениий
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения, на которой отображаются:
        - Расстояние до следующего маневра с названием улицы
        - Стрелка маневра (поворот направо, поворот налево, прямо)
        - Расстояние до конца маршрута, время маршрута, время прибытия
        - Дорожные события
        - Кнопки завершения маршрута и выключения звука
        Аннотации о маневрах озвучиваются в фоне

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Переход самокатного ведения в автомобильное ведение через лонг-тап:
    - *Bike_guidanceInfo
    - info: Выбран голос диктора Дима (Меню -> Настройки -> Маршруты -> Звук -> Голос)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Начинается ведение по маршруту
    - do: Лонг-тап по карте
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Выбрать автомобильное ведение
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Тап Поехали
    - assert: |
        Начинается автомобильное ведение по маршруту
        Появилась плашка ЕТА

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Отображение нотификаций фонового ведения при переходе самокатного ведения в автомобильное ведение через лонг-тап:
    - *Bike_guidanceInfo
    - info: Выбран голос диктора Дима (Меню -> Настройки -> Маршруты -> Звук -> Голос)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Начинается ведение по маршруту
    - do: Свернуть приложение
    - do: Открыть шторку уведомлениий
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения, на которой отображаются:
        - Расстояние до следующего маневра
        - Стрелка маневра (поворот направо, поворот налево, прямо)
        - Расстояние до конца маршрута, время маршрута, время прибытия
        - Кнопки завершения маршрута и выключения звука
        Аннотации о маневрах озвучиваются в фоне
    - do: Развернуть приложение
    - assert: Отображается карта с ведением по самокатному маршруту
    - do: Лонг-тап по карте
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Выбрать автомобильное ведение
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Тап Поехали
    - assert: |
        Начинается автомобильное ведение по маршруту
        Появилась плашка ЕТА
    - do: Свернуть приложение
    - do: Открыть шторку уведомлениий
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения, на которой отображаются:
        - Расстояние до следующего маневра с названием улицы
        - Стрелка маневра (поворот направо, поворот налево, прямо)
        - Расстояние до конца маршрута, время маршрута, время прибытия
        - Дорожные события
        - Кнопки завершения маршрута и выключения звука
        Аннотации о маневрах озвучиваются в фоне

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Переход автомобильного ведения в велосипедное ведение через лонг-тап:
    - *Bike_guidanceInfo
    - info: Выбран голос диктора Дима (Меню -> Настройки -> Маршруты -> Звук -> Голос)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать автомобильный тип маршрута
    - do: Тап Поехали
    - assert: |
        Начинается ведение по маршруту
        Появилась плашка ЕТА
    - do: Лонг-тап по карте
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        Плашка ЕТА не отображается на экране
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Выбрать велосипедное ведение
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Тап Поехали
    - assert: |
        Начинается велосипедное ведение по маршруту

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Отображение нотификаций фонового ведения при переходе автомобильного ведения в велосипедное ведение через лонг-тап:
    - *Bike_guidanceInfo
    - info: Выбран голос диктора Дима (Меню -> Настройки -> Маршруты -> Звук -> Голос)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать автомобильный тип маршрута
    - do: Тап Поехали
    - assert: |
        Начинается ведение по маршруту
        Появилась плашка ЕТА
    - do: Свернуть приложение
    - do: Открыть шторку уведомлениий
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения, на которой отображаются:
        - Расстояние до следующего маневра с названием улицы
        - Стрелка маневра (поворот направо, поворот налево, прямо)
        - Расстояние до конца маршрута, время маршрута, время прибытия
        - Дорожные события
        - Кнопки завершения маршрута и выключения звука
        Аннотации о маневрах озвучиваются в фоне
    - do: Развернуть приложение
    - assert: Отображается карта с ведением по автомобильному маршруту
    - do: Лонг-тап по карте
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        Плашка ЕТА не отображается на экране
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Выбрать велосипедное ведение
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Тап Поехали
    - assert: |
        Начинается велосипедное ведение по маршруту
    - do: Свернуть приложение
    - do: Открыть шторку уведомлениий
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения, на которой отображаются:
        - Расстояние до следующего маневра
        - Стрелка маневра (поворот направо, поворот налево, прямо)
        - Расстояние до конца маршрута, время маршрута, время прибытия
        - Кнопки завершения маршрута и выключения звука
        Аннотации о маневрах озвучиваются в фоне

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Переход автомобильного ведения в самокатное ведение через лонг-тап:
    - *Bike_guidanceInfo
    - info: Выбран голос диктора Дима (Меню -> Настройки -> Маршруты -> Звук -> Голос)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать автомобильный тип маршрута
    - do: Тап Поехали
    - assert: |
        Начинается ведение по маршруту
        Появилась плашка ЕТА
    - do: Лонг-тап по карте
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        Плашка ЕТА не отображается на экране
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Выбрать самокатное ведение
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Тап Поехали
    - assert: |
        Начинается самокатное ведение по маршруту

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Отображение нотификаций фонового ведения при переходе автомобильного ведения в самокатное ведение через лонг-тап:
    - *Bike_guidanceInfo
    - info: Выбран голос диктора Дима (Меню -> Настройки -> Маршруты -> Звук -> Голос)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать автомобильный тип маршрута
    - do: Тап Поехали
    - assert: |
        Начинается ведение по маршруту
        Появилась плашка ЕТА
    - do: Свернуть приложение
    - do: Открыть шторку уведомлениий
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения, на которой отображаются:
        - Расстояние до следующего маневра с названием улицы
        - Стрелка маневра (поворот направо, поворот налево, прямо)
        - Расстояние до конца маршрута, время маршрута, время прибытия
        - Дорожные события
        - Кнопки завершения маршрута и выключения звука
        Аннотации о маневрах озвучиваются в фоне
    - do: Развернуть приложение
    - assert: Отображается карта с ведением по автомобильному маршруту
    - do: Лонг-тап по карте
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        Плашка ЕТА не отображается на экране
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Выбрать самокатное ведение
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Тап Поехали
    - assert: |
        Начинается самокатное ведение по маршруту
    - do: Свернуть приложение
    - do: Открыть шторку уведомлениий
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения, на которой отображаются:
        - Расстояние до следующего маневра
        - Стрелка маневра (поворот направо, поворот налево, прямо)
        - Расстояние до конца маршрута, время маршрута, время прибытия
        - Кнопки завершения маршрута и выключения звука
        Аннотации о маневрах озвучиваются в фоне

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Переход пешеходного ведения в автомобильное ведение через лонг-тап:
    - *Bike_guidanceInfo
    - info: Выбран голос диктора Дима (Меню -> Настройки -> Маршруты -> Звук -> Голос)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать пешеходный тип маршрута
    - do: Тап Начать
    - assert: |
        Начинается пешеходное ведение по маршруту
    - do: Лонг-тап по карте
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Выбрать автомобильное ведение
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Тап Поехали
    - assert: |
        Начинается автомобильное ведение по маршруту
        Появилась плашка ЕТА

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Отображение нотификаций фонового ведения при переходе пешеходного ведения в автомобильное ведение через лонг-тап:
    - *Bike_guidanceInfo
    - info: Выбран голос диктора Дима (Меню -> Настройки -> Маршруты -> Звук -> Голос)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать пешеходный тип маршрута
    - do: Тап Начать
    - assert: |
        Начинается пешеходное ведение по маршруту
    - do: Свернуть приложение
    - do: Открыть шторку уведомлениий
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения, на которой отображаются:
        - Расстояние до следующего маневра
        - Стрелка маневра (поворот направо, поворот налево, прямо)
        - Расстояние до конца маршрута, время маршрута, время прибытия
        - Кнопки завершения маршрута и выключения звука
        Аннотации о маневрах озвучиваются в фоне
    - do: Развернуть приложение
    - assert: Отображается карта с ведением по пешеходному маршруту
    - do: Лонг-тап по карте
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Выбрать автомобильное ведение
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Тап Поехали
    - assert: |
        Начинается автомобильное ведение по маршруту
        Появилась плашка ЕТА
    - do: Свернуть приложение
    - do: Открыть шторку уведомлениий
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения, на которой отображаются:
        - Расстояние до следующего маневра с названием улицы
        - Стрелка маневра (поворот направо, поворот налево, прямо)
        - Расстояние до конца маршрута, время маршрута, время прибытия
        - Дорожные события
        - Кнопки завершения маршрута и выключения звука
        Аннотации о маневрах озвучиваются в фоне

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Переход автомобильного ведения в пешеходное ведение через лонг-тап:
    - info: Выбран голос диктора Дима (Меню -> Настройки -> Маршруты -> Звук -> Голос)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать автомобильный тип маршрута
    - do: Тап Поехали
    - assert: |
        Начинается ведение по маршруту
        Появилась плашка ЕТА
    - do: Лонг-тап по карте
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        Плашка ЕТА не отображается на экране
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Выбрать пешеходное ведение
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Тап Начать
    - assert: |
        Начинается пешеходное ведение по маршруту

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Отображение нотификаций фонового ведения при переходе автомобильного ведения в пешеходное ведение через лонг-тап:
    - info: Выбран голос диктора Дима (Меню -> Настройки -> Маршруты -> Звук -> Голос)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать автомобильный тип маршрута
    - do: Тап Поехали
    - assert: |
        Начинается ведение по маршруту
        Появилась плашка ЕТА
    - do: Свернуть приложение
    - do: Открыть шторку уведомлениий
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения, на которой отображаются:
        - Расстояние до следующего маневра с названием улицы
        - Стрелка маневра (поворот направо, поворот налево, прямо)
        - Расстояние до конца маршрута, время маршрута, время прибытия
        - Дорожные события
        - Кнопки завершения маршрута и выключения звука
        Аннотации о маневрах озвучиваются в фоне
    - do: Развернуть приложение
    - assert: Отображается карта с ведением по автомобильному маршруту
    - do: Лонг-тап по карте
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        Плашка ЕТА не отображается на экране
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Выбрать пешеходное ведение
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Тап Начать
    - assert: |
        Начинается пешеходное ведение по маршруту
    - do: Свернуть приложение
    - do: Открыть шторку уведомлениий
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения, на которой отображаются:
        - Расстояние до следующего маневра
        - Стрелка маневра (поворот направо, поворот налево, прямо)
        - Расстояние до конца маршрута, время маршрута, время прибытия
        - Кнопки завершения маршрута и выключения звука
        Аннотации о маневрах озвучиваются в фоне

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Добавление промежуточных точек в велосипедном маршруте:
    - *Bike_guidanceInfo
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать велосипедный тип маршрута
    - assert: Построился велосипедный маршрут
    - do: Лонг-тап по обьекту POI, находящемуся вдоль линии маршрута
    - assert: Открывается Лонг-тап меню
    - do: Тап по кнопке Заехать
    - assert: |
        Линия маршрута изменилась
        Линия маршрута не прерывается (нет разрывов, отсутствующих линий)
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Лонг-тап по другому обьекту POI, находящемуся вдоль линии маршрута
    - assert: Открывается Лонг-тап меню
    - do: Тап по кнопке Заехать
    - assert: |
        Линия маршрута изменилась
        Линия маршрута не прерывается (нет разрывов, отсутствующих линий)
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
    - testing:
        - acceptance_maps


  Выключение Фридрайва при скорости 0 км/ч:
    - estimatedTime: 11m
    - info: |
        Интерфейс навигатора нужен, чтобы определять по нему переход в Фридрайв
        Если интерфейс пропал и отображается спидометр - включен режим Фридрайва
    - do: Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/xnautilusx/Screenshot%202022-06-01%20at%2013.06.09.png){title=QR-код}

        `yandexmaps://add_exp?service-navi&freedrive_from_route_and_turn_off`
    - do: Перезагрузить приложение
    - assert: Открыт главный экран
    - do: Построить маршрут через симуляцию движения (Меню -> Настройки -> Дебаг-панель -> Routes -> Demo movement)
    - do: Включить симуляцию движения (Debug-panel -> Routes -> Demo movement)
    - do: Выставить скорость симуляции больше 15 км/ч (Debug-panel -> Routes -> Demo movement speed, km/h)
    - do: Перейти на главный экран
    - do: Тап на таб "Навигатор"
    - assert: |
        Открыт сервис "Навигатор"
        Через некторое время (примерно 10 секунд) происходит переход в режим Фридрайва
        Пропал интерфейс навигатора
    - do: Выключить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Вернуться на главный экран
    - assert: Отображается интерфейс сервиса "Навигатор" в режиме Фридрайв
    - do: Подождать 10 минут
    - assert: Режим Фридрайв отключен

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Включение фридрайва после его автоотключения:
    - info: |
        Интерфейс навигатора нужен, чтобы определять по нему переход в фридрайв
        Если интерфейс пропал и отображается спидометр - включен режим фридрайва
    - do: Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/xnautilusx/Screenshot%202022-06-01%20at%2013.06.09.png){title=QR-код}

        `yandexmaps://add_exp?service-navi&freedrive_from_route_and_turn_off`
    - do: Перезагрузить приложение
    - do: Включить симуляцию движения (Debug-panel > Routes > Demo movement)
    - assert: Открыт главный экран
    - do: Тап на таб навигатора
    - assert: |
        Включился режим навигатора
        Отображается интерфейс навигатора
    - do: |
        Перейти в настройки Debug-panel > Routes
        Через enter_your_route построить маршрут с скоростью больше 0 км/ч
        Вернуться на экран навигатора
    - assert: |
        Началось ведение
        Через некторое время (примерно 10 секунд) навигатор перешел в режим фридрайва
        Пропал интерфейс навигатора
    - do: |
        Перейти в настройки Debug-panel > Routes
        Выставить скорость 0км/ч
        Перевести время на устройстве на 11 минут вперед
    - assert: |
        Через 10 минут фридрайв выключился
        Отображается интерфейс навигатора
        Таб навигатора активен
    - do: |
        Перейти в настройки Debug-panel > Routes
        Выставить скорость больше 0 км/ч
    - assert: |
        Началось ведение
        Через некторое время (примерно 10 секунд) навигатор перешел в режим фридрайва
        Пропал интерфейс навигатора

    - platforms:
        - ios
    - tags:
        - assessors


  Переход в фридрайв после активного маршрута:
    - info: |
        Интерфейс навигатора нужен, чтобы определять по нему переход в фридрайв
        Если интерфейс пропал и отображается спидометр - включен режим фридрайва
    - do: Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/xnautilusx/Screenshot%202022-06-01%20at%2013.06.09.png){title=QR-код}

        `yandexmaps://add_exp?service-navi&freedrive_from_route_and_turn_off`
    - do: Перезагрузить приложение
    - do: Включить симуляцию движения (Debug-panel > Routes > Demo movement)
    - do: Закрыть дебаг-панель
    - do: Тап на таб навигатора
    - assert: |
        Включился режим навигатора
        Отображается интерфейс навигатора
    - do: |
        Перейти в настройки Debug-panel > Routes
        Через enter_your_route построить маршрут с скоростью больше 0 км/ч
        Закрыть дебаг-панель
        Построить автомаршрут, короче того, что построен в дебаг панели
        Перейти в ведение
    - assert: Началось автомобильное ведение
    - do: Дождаться окончания автомаршрута
    - assert: |
        Маршрут завершился
        Движение продолжается
        Через некоторое время (примерно 10 секунд) включился фридрайв
        Таб навигатора активен

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Закрытие таба навигатор при перезагрузке приложения (во время фридрайва):
    - info: |
        Интерфейс навигатора нужен, чтобы определять по нему переход в фридрайв
        Если интерфейс пропал и отображается спидометр - включен режим фридрайва
    - do: Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/xnautilusx/Screenshot%202022-06-01%20at%2013.06.09.png){title=QR-код}

        `yandexmaps://add_exp?service-navi&freedrive_from_route_and_turn_off`
    - do: Перезагрузить приложение
    - do: Включить симуляцию движения (Debug-panel > Routes > Demo movement)
    - assert: Открыт главный экран
    - do: Тап на таб навигатора
    - assert: |
        Включился режим навигатора
        Отображается интерфейс навигатора
    - do: |
        Перейти в настройки Debug-panel > Routes
        Через enter_your_route построить маршрут с скоростью больше 0 км/ч
        Вернуться на экран навигатора
    - assert: |
        Началось ведение
        Через некторое время (примерно 10 секунд) навигатор перешел в режим фридрайва
        Пропал интерфейс навигатора
    - do: Перезагрузить приложение
    - assert: |
        Открыт главный экран приложения
        Таб навигатора выключен
        Фридрайв не происходит


    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Сохранение фридрайва при выключении экрана:
    - info: |
        Интерфейс навигатора нужен, чтобы определять по нему переход в фридрайв
        Если интерфейс пропал и отображается спидометр - включен режим фридрайва
    - do: Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/xnautilusx/Screenshot%202022-06-01%20at%2013.06.09.png){title=QR-код}

        `yandexmaps://add_exp?service-navi&freedrive_from_route_and_turn_off`
    - do: Перезагрузить приложение
    - do: Включить симуляцию движения (Debug-panel > Routes > Demo movement)
    - assert: Открыт главный экран
    - do: Тап на таб навигатора
    - assert: |
        Включился режим навигатора
        Отображается интерфейс навигатора
    - do: |
        Перейти в настройки Debug-panel > Routes
        Через enter_your_route построить маршрут с скоростью больше 0 км/ч
        Вернуться на экран навигатора
    - assert: |
        Началось ведение
        Через некторое время (примерно 10 секунд) навигатор перешел в режим фридрайва
        Пропал интерфейс навигатора
    - do: Заблокировать телефон
    - do: Разблокировать телефон
    - assert: Открыт таб навигатора

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Дабл-тап по карте на экране выбора вариантов маршрута:
    - info: Открыт главный экран приложения
    - do: Построить автомаршрут
    - assert: |
        Строится автомаршрут
        Открыт экран выбора вариантов маршрута
    - do: Сделать дабл-тап по карте на месте топонима
    - assert: |
         Масштаб карты увеличивается после каждого дабл-тапа
         Карточка топонима на который происходил дабл-тап не открывается
    - do: Сделать дабл-тап по карте на месте организации
    - assert: |
        Масштаб карты увеличивается после каждого дабл-тапа
        Карточка организации на который происходил дабл-тап не открывается

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Фоновое ведение при заблокированном экране. Аннотации:
    - estimatedTime: 5m
    - info: |
        Включено фоновое ведение: Настройки - Маршруты
        Звук аннотаций включен: Настройки - Маршруты - Звук
    - do: Включить симуляцию движения (Debug-panel > Routes > Demo movement)
    - do: Построить маршрут
    - assert: Начинается ведение по маршруту
    - do: |
        Свернуть приложение
        Заблокировать девайс
    - do: Подождать 1-2 минуты
    - assert: Аннотации продолжают озвучиваться

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Фоновое ведение при заблокированном экране на ios:
    - estimatedTime: 5m
    - info: |
        Включено фоновое ведение: Настройки - Маршруты
        Звук аннотаций включен: Настройки - Маршруты - Звук
    - do: Включить симуляцию движения (Debug-panel > Routes > Demo movement)
    - do: Построить маршрут
    - assert: Начинается ведение по маршруту
    - do: |
        Свернуть приложение
        Заблокировать девайс
    - do: Подождать 1-2 минуты
    - do: Разблокировать девайс
    - assert: Отображается значок фонового ведения в левом верхнем углу экрана в виде стрелки

    - platforms:
        - ios
    - tags:
        - assessors


  Запуск пешего ведения, находясь в режиме фридрайва:
    - info: |
        В ведении должна происходить симуляция движения: На Android через Mock location
    - do: Тап на таб Навигатор в таббаре
    - assert: Приложение перешло в режим фридрайва
    - do: Лонг-тап по карте
    - do: Тап Сюда
    - assert: |
        Открылся экран выбора маршрута
        Сверху отображаются табы с вариантами маршрута
    - do: Тап на таб пешего варианта маршрута
    - do: Тап на Начать
    - assert: Открылся экран ведения по пешеходному маршруту
    - do: Тап на завершение пешеходного ведения
    - assert: |
        Экран ведения по пешеходному маршруту закрылся
        Включен режим фридрайва

    - platforms:
        - android
    - tags:
        - assessors


  Запуск велосипедного ведения, находясь в режиме фридрайва:
    - info: |
        В ведении должна происходить симуляция движения: На Android через Mock location
    - do: Тап на таб Навигатор в таббаре
    - assert: Приложение перешло в режим фридрайва
    - do: Лонг-тап по карте
    - do: Тап Сюда
    - assert: |
        Открылся экран выбора маршрута
        Сверху отображаются табы с вариантами маршрута
    - do: Тап на таб велосипедного варианта маршрута
    - do: Тап на Начать
    - assert: Открылся экран ведения по велосипедному маршруту
    - do: Тап на завершение ведения
    - assert: |
        Экран ведения по велосипедному маршруту закрылся
        Включен режим фридрайва

    - platforms:
        - android
    - tags:
        - assessors


  Запуск самокатного ведения, находясь в режиме фридрайва:
    - info: |
        В ведении должна происходить симуляция движения: На Android через Mock location
    - do: Тап на таб Навигатор в таббаре
    - assert: Приложение перешло в режим фридрайва
    - do: Лонг-тап по карте
    - do: Тап Сюда
    - assert: |
        Открылся экран выбора маршрута
        Сверху отображаются табы с вариантами маршрута
    - do: Тап на таб самокатного варианта маршрута
    - do: Тап на Начать
    - assert: Открылся экран ведения по самокатному маршруту
    - do: Тап на завершение ведения
    - assert: |
        Экран ведения по самокатному маршруту закрылся
        Включен режим фридрайва

    - platforms:
        - android
    - tags:
        - assessors


  Запуск автоведения, находясь в пешеходном ведении:
    - do: Включить симуляцию ведения Debug-panel -> Routes -> Demo movement
    - do: Построить любой пешеходный маршрут
    - do: Перейти в ведение
    - assert: Открыт экран ведения по пешеходному маршруту
    - do: Лонг-тап по карте
    - do: Тап на Зайти
    - assert: |
        Открылся экран выбора маршрута
        Сверху отображаются табы с вариантами маршрута
    - do: Тап на таб автомобильного маршрута
    - do: Тап на Поехали
    - assert: Открылся экран ведения по автомобильному маршруту

    - platforms:
        - android
    - tags:
        - assessors


  Запуск автоведения, находясь в велосипедном ведении:
    - do: Включить симуляцию ведения Debug-panel -> Routes -> Demo movement
    - do: Построить любой велосипедный маршрут
    - do: Перейти в ведение
    - assert: Открыт экран ведения по велосипедному маршруту
    - do: Лонг-тап по карте
    - do: Тап на Заехать
    - assert: |
        Открылся экран выбора маршрута
        Сверху отображаются табы с вариантами маршрута
    - do: Тап на таб автомобильного маршрута
    - do: Тап на Поехали
    - assert: Открылся экран ведения по автомобильному маршруту

    - platforms:
        - android
    - tags:
        - assessors


  Запуск автоведения, находясь в самокатном ведении:
    - do: Включить симуляцию ведения Debug-panel -> Routes -> Demo movement
    - do: Построить любой самокатный маршрут
    - do: Перейти в ведение
    - assert: Открыт экран ведения по самокатному маршруту
    - do: Лонг-тап по карте
    - do: Тап на Заехать
    - assert: |
        Открылся экран выбора маршрута
        Сверху отображаются табы с вариантами маршрута
    - do: Тап на таб автомобильного маршрута
    - do: Тап на Поехали
    - assert: Открылся экран ведения по автомобильному маршруту

    - platforms:
        - android
    - tags:
        - assessors


  Отсутствие плашки заказа в режиме ведения:
    - info: Достаточно оформить любой заказ имеющий плашку статуса. Ниже будет пример с заказом Такси.
    - do: Подключится к внутренней сети VPN через Charles
    - do: |
        В дебаг-панели установить:
            `Webview -> Taxi webview base url -> testing`
            `Environment -> Passport Environment -> testing`
            `Environment -> Mobmaps Proxy host -> testing`
            `Environment -> PaymentSDK Environment -> testing`
    - do: |
        Включить эксперименты, используя интент [collapsed-image](https://jing.yandex-team.ru/files/tdon/tab.png){title=QR-код}

        `yandexmaps://add_exp?service_navi&service_architecture&taxi_native_order_in_taxi_tab=always_open&taxi_open_webview=web_view_always_open&orders_tracking_new_api`
    - do: Авторизоваться тестовым аккаунтом, например, `yndx-kripp-le-ami606` `gen2752`
    - do: Перезапустить МЯК
    - do: Построить маршрут на такси 
    - do: Написать в комментарии к заказу `speed-300, wait-10`
    - do: Заказать такси
    - do: Вернуться на главный экран МЯК
    - assert: |
        Отображается главный экран приложения
        Отображается плашка со статусом заказа 
    - do: Построить маршрут
    - do: Запустить ведение по маршруту
    - assert: |
        Плашка заказа в режиме ведения отсутствует 

    - platforms:
        - android
    - testing:
        - acceptance_maps