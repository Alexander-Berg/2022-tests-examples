components: beta_testing
testing:
  - regress
tags:
  - assessors

aliases:
  - &button_beta_testing
    - do: |
        (iOS) Использовать интент:
        [collapsed-image](https://jing.yandex-team.ru/files/linakolpakova/бета.png){title=QR-код}

        `yandexmaps://add_exp?testflight_button`
    - do: (iOS) Перезапустить приложение
    - do: Открыть меню
    - do: Тап на Настройки

specs:
  Отображение кнопки бета-тестирования в настройках приложения:
    - info: |
        Устройство в вертикальной ориентации
        Отображается главный экран приложения
    - *button_beta_testing
    - assert: |
        Отображается экран настроек
        Присутствует кнопка бета-тестирования
    - do: Сменить ориентацию девайса
    - assert: |
        Отображается экран настроек в горизонтальной ориентации
        Присутствует кнопка бета-тестирования

    - testing:
        - acceptance_maps
    - tags:
        - newbie
        - refactor_ready


  Открытие лендинга об участии в бета-тестировании - русская локаль:
    - info: |
        Установлена локаль ru_RU
        Отображается главный экран приложения
    - *button_beta_testing
    - do: Тап по кнопке для участия в бета-тестировании
    - assert: |
        Отображается страница с лендингом о бета-тестировании Яндекс.Карт
        Лендинг отображается на русском языке

    - testing:
        - acceptance_maps
    - tags:
        - refactor_ready
    - platforms:
        - ios
        - android


  Открытие лендинга об участии в бета-тестировании - украинская локаль:
    - info: |
        Установлена локаль uk_UA
        Отображается главный экран приложения
    - *button_beta_testing
    - do: Тап по кнопке для участия в бета-тестировании
    - assert: |
        Отображается страница с лендингом о бета-тестировании Яндекс.Карт
        Лендинг отображается на украинском языке

    - tags:
        - refactor_ready
    - platforms:
        - ios
        - android


  Открытие лендинга об участии в бета-тестировании - турецкая локаль:
    - info: |
        Установлена локаль tr_TR
        Отображается главный экран приложения
    - *button_beta_testing
    - do: Тап по кнопке для участия в бета-тестировании
    - assert: |
        Отображается страница с лендингом о бета-тестировании Яндекс.Карт
        Лендинг отображается на турецком языке

    - tags:
        - refactor_ready
    - platforms:
        - ios
        - android


  Открытие лендинга об участии в бета-тестировании - английская локаль:
    - info: |
        Установлена локаль en_EN
        Отображается главный экран приложения
    - *button_beta_testing
    - do: Тап по кнопке для участия в бета-тестировании
    - assert: |
        Отображается страница с лендингом о бета-тестировании Яндекс.Карт
        Лендинг отображается на английском языке

    - tags:
        - refactor_ready
    - platforms:
        - ios
        - android


  Отсутствие пункта про бета-версию на девайсах без Google-сервисов:
    - info: Отображается главный экран приложения
    - do: Тап по кнопке меню
    - do: Тап по кнопке настроек
    - assert: |
        Отображается экран настроек
        Пункт с предложением попробовать бета-версию отсутствует

    - tags:
        - not_gp
    - platforms:
        - android
