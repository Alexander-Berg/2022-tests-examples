components: scooter_routes
testing:
  - regress


aliases:
    - &Bike_guidanceInfo
      - do: |
          Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/QR-код%20Bike_Guidance.png){title=QR-код}

          `yandexmaps://add_exp?bike_guidance=on`
      - do: Выключить эксперимент no_routes_tab (Настройки - Debug Panel - Experiments)
      - do: Перезапустить приложение


specs:
  Сохранение самокатного типа маршрута при расстоянии от ММП с расстоянием более 150 метров:
    - *Bike_guidanceInfo
    - do: Открыть главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612
    - do: Выбрать самокатный тип маршрута
    - assert: Отображается построенный маршрут
    - do: Сбросить построенный маршрут
    - assert: Построенный маршрут сброшен
    - do: Открыть карточку организации, которая находится на расстоянии более 150 метров от ММП
    - do: Тап Маршрут
    - assert: |
        Открыта форма выбора маршрута
        Предлагается построить самокатный тип маршрута

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Переключение самокатного типа маршрута на пешеходый при построении маршрута с расстоянием менее 150 метров до места назначения:
    - *Bike_guidanceInfo
    - do: Открыть главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612
    - do: Выбрать самокатный тип маршрута
    - assert: Отображается самокатный маршрут
    - do: Сбросить построенный маршрут
    - assert: Построенный маршрут сброшен
    - do: Открыть карточку организации, которая находится на расстоянии менее 150 метров от ММП
    - do: Тап Маршрут
    - assert: |
        Открыта форма выбора маршрута
        Предлагается построить пешеходный тип маршрута

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Отображение времени напротив Дома/Работы на экране Маршруты, если последний маршрут был самокатным:
    - *Bike_guidanceInfo
    - info: |
        Пользователь авторизован
        Добавлены в закладки Дом и Работа
        Дом и Работа находятся в пределах 50 км и не ближе 500 м от текущего местоположения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать автомобильный тип маршрута
    - do: Сбросить построенный автомаршрут
    - do: Открыть экран Маршрут (таб Маршруты/кнопка "Куда?")
    - assert: |
        Отображается экран Маршрут
        Напротив Дома и Работы отображается время в пути по автомаршруту
    - do: Задать произвольную точку Куда
    - do: Сменить тип маршрута на самокатный
    - assert: |
        Открыт экран выбора маршрута
        Тип маршрута самокатный
    - do: Тап на кнопку назад
    - assert: |
        Отображается экран Маршрут
        Напротив Дома и Работы отображается иконка самоката и время пути

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Логика работы стрелки в самокатном ведении по маршруту при скорости > 1 км/ч:
    - *Bike_guidanceInfo
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=5 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Открыт экран ведения по самокатному маршруту
        На экране движется стрелка

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
    - integration_run:
        - mapkit


  Отображение экрана самокатного ведения:
    - *Bike_guidanceInfo
    - info: Устройство в вертикальной ориентации
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Лонг-тап по карте
    - do: Тап на Сюда
    - assert: Открыт экран построения маршрута
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Открыт экран ведения по самокатному маршруту
        На карте отображаются:
        - начальная и конечная точки
        - линия маршрута
        На экране присутствуют котролы:
        - слоев и транспорта
        - включения/выключения звука
        - зума
        - ММП
        - сообщения об ошибки
        - меню (на Android)
        В навбаре отображаются:
        - кнопка закрытия
        - расстояние / время в пути
        - кнопка поиска (на IOS)
    - do: Сменить ориентацию устройства
    - assert: |
        Открыт экран ведения по велосипедному маршруту
        На экране присутствуют котролы:
        - слоев
        - транспорта (на IOS)
        - ММП
        - сообщения об ошибки
        - меню (на Android)
        В навбаре отображаются:
        - кнопка закрытия
        - расстояние / время в пути
        - кнопка поиска (на IOS)

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Отображение времени в карточке POI организации, если последний маршрут был самокатным:
    - *Bike_guidanceInfo
    - info: Пользователь авторизован
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Сбросить построенный маршрут
    - assert: Построенный маршрут сброшен
    - do: Тап на POI организации
    - assert: |
        Отображается карточка организации
        В карточке указано время пути до места на самокате

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
    - integration_run:
        - mapkit


  Отображение времени в карточке Дома/Работы, если последний маршрут был самокатным:
    - *Bike_guidanceInfo
    - info:
        Пользователь авторизован
        Добавлены Дом/Работа
        Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Сбросить построенный маршрут
    - assert: Построенный маршрут сброшен
    - do: Тап на Закладки и мой транспорт
    - do: Тап на Дом/Работа
    - assert: |
        Отображается карточка Дома/Работы
        В карточке указано время пути до места на самокате

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
    - integration_run:
        - mapkit


  Отображение времени в карточке закладки, если последний маршрут был самокатным:
    - *Bike_guidanceInfo
    - info:
        Пользователь авторизован
        Имеются места в списке закладок
        Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/fundzi/qr_code_maneuver.f86e52f.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Сбросить построенный маршрут
    - assert: Построенный маршрут сброшен
    - do: Тап на Закладки и мой транспорт
    - do: Тап на список закладок
    - do: Тап на пин закладки из списка
    - assert: |
        Отображается карточка закладки
        В карточке указано время пути до места на самокате

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
    - integration_run:
        - mapkit


  Отображение времени в карточке объекта, если последний маршрут был самокатным:
    - *Bike_guidanceInfo
    - info: Пользователь авторизован
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Сбросить построенный маршрут
    - assert: Построенный маршрут сброшен
    - do: Тап на топоним на карте
    - assert: |
        Отображается карточка топонима
        В карточке указано время пути до места на самокате

    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map
    - integration_run:
        - mapkit


  Построение самокатного маршрута через экран Маршрут и переход в ведение:
    - *Bike_guidanceInfo
    - do: Открыть главный экран приложения
    - do: Открыть экран Маршрут (таб Маршруты/кнопка "Куда?")
    - do: Ввести любой адрес в поле Куда
    - do: Тап на любой из предложенных саджестов
    - assert: Отображается экран выбора маршрута
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Открыт экран ведения по самокатному маршруту

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - integration_run:
        - mapkit
    - tags:
        - use_map
        - assessors


  Построение самокатного маршрута через карточку организации и переход в ведение:
    - *Bike_guidanceInfo
    - do: Открыть главный экран приложения
    - do: Тап на POI организации
    - assert: |
        Открыта карточка организации
        Присутствует кнопка Маршрут
    - do: Тап на кнопку маршрут
    - assert: Отображается экран выбора маршрута
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Открыт экран ведения по самокатному маршруту

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - integration_run:
        - mapkit
    - tags:
        - use_map
        - assessors


  Ведение по самокатному маршруту:
    - *Bike_guidanceInfo
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения
        На спане карты отображается линия маршрута
        В навбаре изменяется счетчик расстояния и времени, в зависимости от пройденного маршрута
    - do: Проехать приблизительно 5 секунд
    - assert: |
        Пройденный линия маршрута постепенно стирается при перемещении метки ММП
        В навбаре изменяется счетчик расстояния и времени, в зависимости от пройденного маршрута

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Аннотация "Вы в промежуточной точке" в самокатном маршруте:
    - *Bike_guidanceInfo
    - info: |
        Аннотации самокатного маршрута воспроизводятся только Алисой
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/QR-код%20промежуточные%20точки.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.786409&lon_from=37.617036&lat_to=55.785120&lon_to=37.620895&lat_via_0=55.786583&lon_via_0=37.618681&lat_via_1=55.786494&lon_via_1=37.620064&lat_via_2=55.785861&lon_via_2=37.619738`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Отображается экран ведения
    - do: Дождаться прохождения промежуточной точки
    - assert: Озвучивается аннотация "Вы в промежуточной точке"

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Озвучивание аннотаций только голосом Алисы при смене диктора в самокатном ведении:
    - *Bike_guidanceInfo
    - info: |
        Аннотации самокатного маршрута воспроизводятся только Алисой
        В настройках приложения выбрать голос диктора Оксаны (Меню -> Настройки -> Маршруты -> Звук -> Голос)
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Отображается экран ведения по самокатному маршруту
    - do: Дождаться поворотов
    - assert: |
        На протяжении маршрута озвучиваются аннотации о поворотах, расстоянии
        Аннотации воспроизводятся голосом Алисы
    - do: Выбрать голос диктора Дмитрия
    - assert: Аннотации продолжают воспроизводиться голосом Алисы

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Аннотации в самокатном ведении в фоне:
    - *Bike_guidanceInfo
    - info: |
        Аннотации самокатного маршрута воспроизводятся только Алисой
        Включено фоновое ведение (Настройки -> Маршрут -> Фоновое ведение)
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Отображается экран ведения
    - do: Свернуть приложение
    - assert: |
        Аннотации озвучиваются голосом Алисы
        Звучат аннотации о маневрах

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Включение аннотаций в самокатном ведении:
    - *Bike_guidanceInfo
    - info: |
        Аннотации самокатного маршрута воспроизводятся только Алисой
        Выключен звук (Настройки -> Маршрут -> Звук -> ВЫКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения
        Справа под контролами слоя и транспорта отображается кнопка в виде перечеркнутого динамика
        Аннотации не воспроизводятся
    - do: Тап на кнопку в виде перечеркнутого динамика
    - assert: |
        Изображение кнопки сменилось на неперечеркнутый динамик
        Аннотации воспроизводятся

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Выключение аннотаций в самокатном ведении:
    - *Bike_guidanceInfo
    - info: |
        Включен звук (Настройки -> Маршруты -> Звук -> ВКЛ)
        Аннотации самокатного маршрута воспроизводятся только Алисой
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения
        Справа под контролами слоя и транспорта отображается кнопка в виде динамика
        Аннотации воспроизводятся
    - do: Тап на кнопку в виде динамика
    - assert: |
        Изображение кнопки сменилось на перечеркнутый динамик
        Аннотации не воспроизводятся

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Сохранение состояния кнопки выключения звука в самокатном ведении при смене ориентации экрана:
    - *Bike_guidanceInfo
    - info: |
        Устройство в вертикальной ориентации
        Включен звук (Настройки -> Маршруты -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения
        Справа под контролами слоя и транспорта отображается кнопка в виде неперечеркнутого динамика
    - do: Сменить ориентацию устройства на горизонтальную
    - do: Сменить ориентацию устройства на вертикальную
    - assert: Кнопка в виде неперечеркнутого динамика отображается

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Сохранение состояния кнопки выключения звука в самокатном ведении при сворачивании приложения:
    - *Bike_guidanceInfo
    - info: |
        Устройство в вертикальной ориентации
        Включен звук (Настройки -> Маршруты -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения
        Справа под контролами слоя и транспорта отображается кнопка в виде неперечеркнутого динамика
    - do: Свернуть приложение
    - do: Развернуть приложение
    - assert: Кнопка в виде неперечеркнутого динамика отображается


    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Исчезновение промежуточных точек в самокатном ведении:
    - *Bike_guidanceInfo
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=5 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/QR-код%20промежуточные%20точки.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.786409&lon_from=37.617036&lat_to=55.785120&lon_to=37.620895&lat_via_0=55.786583&lon_via_0=37.618681&lat_via_1=55.786494&lon_via_1=37.620064&lat_via_2=55.785861&lon_via_2=37.619738`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - do: Дождаться прохождения первой промежуточной точки
    - assert: |
        Звучит аннотация о промежуточной точке
        Промежуточная точка исчезла со спана карты
        Непройденные промежуточные точки продолжают отображаться
    - do: Дождаться прохождения второй промежуточной точки
    - assert: |
        Отображается экран ведения по самокатному маршруту
        Пройденные промежуточные точки не отображаются на маршруте
        Непройденная промежуточная точка продолжают отображаться

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Исчезновение промежуточных точек в фоновом самокатном ведении:
    - *Bike_guidanceInfo
    - info: |
        Включено фоновое ведение (Меню -> Настройки -> Маршруты)
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=5 (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Demo_movement_speed,km/h = 20 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/fundzi/route_with_via_points.f1d8ef7.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.786409&lon_from=37.617036&lat_to=55.785120&lon_to=37.620895&lat_via_0=55.786583&lon_via_0=37.618681&lat_via_1=55.786494&lon_via_1=37.620064&lat_via_2=55.785861&lon_via_2=37.619738`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - do: Дождаться прохождения первой промежуточной точки
    - assert: |
        Звучит аннотация о промежуточной точке
        Промежуточная точка исчезла со спана карты
        Непройденные промежуточные точки продолжают отображаться
    - do: Свернуть приложение перед прохождением другой промежуточной точки
    - assert: |
        Продолжается ведение в фоновом режиме
        При достижении промежуточной точки, звучит аннотация
    - do: Развернуть приложение
    - assert: |
        Отображается экран ведения по самокатному маршруту
        Пройденные промежуточные точки не отображаются на маршруте
        Непройденные промежуточные точки продолжают отображаться

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Изменение времени и расстояния при добавлении промежуточной точки в самокатном ведении:
    - *Bike_guidanceInfo
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/qr-код%20для%20перестроений.jpeg){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.191721&lon_from=37.615874&lat_to=54.183722&lon_to=37.607105`
    - do: Выбрать самокатный тип маршрута
    - assert: Построился самокатный маршрут
    - do: Тап по обьекту POI
    - do: Тап Заехать
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились
    - do: Лонг-тап по спану карты
    - do: Тап Заехать
    - do: Тап Поехали
    - assert: |
        Линия маршрута изменилась
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменились

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Сохранение состояния приложения при переходе по url-схеме во время самокатного ведения:
    - *Bike_guidanceInfo
    - info: Включено фоновое ведение (Меню -> Настройки -> Маршруты)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Отображается экран ведения по самокатному маршруту
    - do: Свернуть приложение
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/QR-код%20ПОИСК%20ЗАПРАВОК.png){title=QR-код}

        `yandexmaps://search_gas_stations`
    - assert: |
        Открывается приложение
        Продолжается ведение по маршруту
        Открывается поисковая выдача
        На карте отображаются поисковые пины заправок

    - tags:
        - assessors
    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit


  Аннотации в фоне при самокатном ведении в офлайн-режиме:
    - *Bike_guidanceInfo
    - info: |
        Аннотации самокатного маршрута воспроизводятся только Алисой
        Включено фоновое ведение (Меню -> Настройки -> Маршруты)
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Выключить интернет на девайсе
    - do: Тап Поехали
    - assert: Отображается экран ведения по самокатному маршруту
    - do: Свернуть приложение
    - assert: Аннотации озвучиваются

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Сохранение аннотаций в фоне при самокатном ведении в офлайн-режиме:
    - *Bike_guidanceInfo
    - info: |
        Аннотации самокатного маршрута воспроизводятся только Алисой
        Включено фоновое ведение (Меню -> Настройки -> Маршруты)
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Выключить интернет на девайсе
    - do: Тап Поехали
    - assert: Отображается экран ведения по самокатному маршруту
    - do: Свернуть приложение
    - do: Развернуть приложение
    - assert: Аннотации воспроизводятся

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Завершение самокатного ведения в фоне при достижении конечной точки:
    - *Bike_guidanceInfo
    - info: |
        Включено фоновое ведение (Настройки -> Маршрут -> Фоновое ведение)
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/короткиймаршрут.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.854295&lon_from=38.442030&lat_to=55.852906&lon_to=38.443260`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Отображается экран ведения по самокатному маршруту
    - do: Свернуть приложение
    - assert: |
        Аннотации о маневрах озвучиваются в фоне
        Сверху экрана отображаются уведомления с информацией о маршруте (на Android)
    - do: Дождаться прибытия на конечную точку
    - assert: Озвучивается аннотация "Вы на месте"
    - do: Развернуть приложение
    - assert: |
        Отображается главный экран приложения
        Маршрут не отображается

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Завершение самокатного ведения в фоне при достижении конечной точки c DKA:
    - *Bike_guidanceInfo
    - info: |
        Включено фоновое ведение (Настройки -> Маршрут -> Фоновое ведение)
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
        В параметрах разработчика на устройстве - включен режим Don’t keep activities
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/короткиймаршрут.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.854295&lon_from=38.442030&lat_to=55.852906&lon_to=38.443260`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Отображается экран ведения по самокатному маршруту
    - do: Свернуть приложение
    - assert: |
        Аннотации о маневрах озвучиваются в фоне
        Сверху экрана отображаются уведомления с информацией о маршруте
    - do: Дождаться прибытия на конечную точку
    - assert: Озвучивается аннотация "Вы на месте"
    - do: Развернуть приложение
    - assert: |
        Отображается главный экран приложения
        Маршрут не отображается

    - platforms:
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Офлайн самокатное ведение в фоне с DKA:
    - *Bike_guidanceInfo
    - info: |
        Включено фоновое ведение (Настройки -> Маршрут -> Фоновое ведение)
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
        В параметрах разработчика на устройстве - включен режим Don’t keep activities
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Выключить интернет на девайсе
    - do: Тап Поехали
    - assert: Отображается экран ведения по самокатному маршруту
    - do: Свернуть приложение
    - assert: |
        Аннотации о маневрах озвучиваются в фоне
        Сверху экрана отображаются уведомления с информацией о маршруте
    - do: Развернуть приложение
    - assert: Продолжается ведение по маршруту

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Отображение фоновой самокатной нотификации:
    - *Bike_guidanceInfo
    - info: Включено фоновое ведение (Настройки -> Маршрут -> Фоновое ведение)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Отображается экран ведения по самокатному маршруту
    - do: Свернуть приложение
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения, на которой отображаются:
        - Расстояние до следующего маневра
        - Стрелка маневра (поворот направо, поворот налево, прямо)
        - Расстояние до конца маршрута, время маршрута, время прибытия
        - Кнопка "Завершить маршрут"
        - Кнопка включения звука, которая имеет два состояния: "С уведомлениями" или "Без уведомлений"

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Функциональность кнопки "Без уведомлений" в фоновой самокатной нотификации:
    - *Bike_guidanceInfo
    - info: |
        Включено фоновое ведение (Настройки -> Маршрут -> Фоновое ведение)
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Отображается экран ведения по самокатному маршруту
    - do: Свернуть приложение
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения с кнопками "Без уведомлений" и "Завершить маршрут" (На некоторых девайсах необходимо раскрыть плашку оповещения до полной)
        Аннотации о маневрах произносятся
    - do: Тап на "Без уведомлений"
    - assert: |
        Состояние кнопки изменилось на "С уведомлениями"
        Продолжается ведение по маршруту
        Аннотации не озвучиваются

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Функциональность кнопки "С уведомлениями" в фоновой самокатной нотификации:
    - *Bike_guidanceInfo
    - info: |
        Включено фоновое ведение (Настройки -> Маршрут -> Фоновое ведение)
        Выключен звук (Настройки -> Маршрут -> Звук -> ВЫКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Отображается экран ведения по самокатному маршруту
    - do: Свернуть приложение
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения с кнопками "С уведомлениями" и "Завершить маршрут"
        Аннотации о маневрах не произносятся
    - do: Тап на "С уведомлениями"
    - assert: |
        Состояние кнопки изменилось на "Без уведомлений"
        Продолжается ведение по маршруту
        Аннотации озвучиваются

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Завершение самокатного ведения через нотификацию:
    - *Bike_guidanceInfo
    - info: |
        Включено фоновое ведение (Настройки -> Маршрут -> Фоновое ведение)
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Отображается экран ведения по самокатному маршруту
    - do: Свернуть приложение
    - assert: В шторке уведомлений отображается нотификация фонового ведения с кнопками "Без уведомлений" и "Завершить маршрут" (На некоторых девайсах необходимо раскрыть плашку оповещения до полной)
    - do: Тап "Завершить"
    - assert: Всплывающее уведомление навигации пропало
    - do: Развернуть приложение
    - assert: |
        Маршрут не отображается
        Отображается главный экран приложения

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Отсутствие аннотаций в фоне в режиме самокатного маршрута, если настройка фоновое ведение выключена:
    - *Bike_guidanceInfo
    - info: |
        Выключено фоновое ведение (Настройки -> Маршрут -> Фоновое ведение)
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения по самокатному маршруту
        Воспроизводятся аннотации по маршруту
    - do: Свернуть приложение
    - assert: |
        Сверху экрана уведомления с информацией о маршруте не появляются
        Аннотации не воспроизводятся

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Аннотация "Перейдите дорогу" в самокатном ведении:
    - *Bike_guidanceInfo
    - info: Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/ПЕШЕХОДНЫЙПЕРЕХОД.png)){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.199359&lon_from=37.636170&lat_to=54.198775&lon_to=37.634668`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения по самокатному маршруту
        Воспроизводятся аннотации по маршруту
    - do: Дождаться прибытия к пешеходному переходу
    - assert: Звучит аннотация "Перейдите дорогу"

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Аннотация "Спуститесь в подземный" в самокатном ведении:
    - *Bike_guidanceInfo
    - info: Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/лестница-QR.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.850644&lon_from=38.497527&lat_to=55.850210&lon_to=38.499087`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения по самокатному маршруту
        Воспроизводятся аннотации по маршруту
    - do: Дождаться прибытия к подземному переходу
    - assert: Звучит аннотация "Спуститесь в подземный переход"

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Аннотация "Поднимитесь в надземный переход" в самокатном ведении:
    - *Bike_guidanceInfo
    - info: Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/надземныйпереход.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=57.937558&lon_from=56.040945&lat_to=57.937602&lon_to=56.042615`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения по самокатному маршруту
        Воспроизводятся аннотации по маршруту
    - do: Дождаться прибытия к надземному переходу
    - assert: Звучит аннотация "Поднимитесь в надземный переход"

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Аннотация "Маршрут перестроен" в самокатном ведении:
    - *Bike_guidanceInfo
    - info: Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Построить маршрут через Mock Location (на Android) / через Enter your route (на IOS) (Debug-Panel -> Routes -> Enter your route)
    - do: Запустить ведение через Mock Location (на Android) / через Enter your route (на IOS)
    - do: Открыть главный экран приложения
    - assert: Отображается главный экран приложения
    - do: Построить маршрут схожий с тем, что построен в симуляции, но имеющий другую конечную точку
    - do: Выбрать самокатный тип маршрута
    - do: Тап на Поехали
    - assert: |
        Отображается экран ведения по самокатному маршруту
        Воспроизводятся голосовые аннотации по маршруту
    - do: Дождаться расхождения построенного маршрута и симуляции
    - assert: |
        Маршрут перестроен
        Звучит аннотация "Маршрут перестроен"

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Аннотация "Вы на месте" в самокатном ведении:
    - *Bike_guidanceInfo
    - info: Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/короткиймаршрутик.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.854295&lon_from=38.442030&lat_to=55.852906&lon_to=38.443260`
    - do: Выбрать самокатный тип маршрута
    - assert: Построен самокатный маршрут
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения по самокатному маршруту
        Воспроизводятся аннотации по маршруту
    - do: Дождаться достижения конечной точки
    - assert: Звучит аннотация "Вы на месте"

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Аннотация "Пройдите по лестнице" в самокатном ведении:
    - *Bike_guidanceInfo
    - info: Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/лестницы.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.153851&lon_from=37.578387&lat_to=54.153150&lon_to=37.576781`
    - do: Выбрать самокатный тип маршрута
    - assert: |
        Построен самокатный маршрут c лестницами
        Отображается информация о лестницах на маршруте
        На линии маршрута отображается значок лестницы, в том месте, где она присутствует
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения по самокатному маршруту
        Воспроизводятся аннотации по маршруту
        На линии маршрута отображается значок лестницы, в том месте, где она присутствует
    - do: Дождаться прибытия к лестнице
    - assert: |
        Звучит аннотация "Пройдите по лестнице"
        После прохождения значка лестницы он пропадает

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Завершение самокатного ведения через нотификацию c DKA:
    - *Bike_guidanceInfo
    - info: |
        В параметрах разработчика на устройстве - включен режим Don’t keep activities
        Включено фоновое ведение (Настройки -> Маршрут -> Фоновое ведение)
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Отображается экран ведения по самокатному маршруту
    - do: Свернуть приложение
    - assert: В шторке уведомлений отображается нотификация фонового ведения с кнопками "Без уведомлений" и "Завершить маршрут" (На некоторых девайсах необходимо раскрыть плашку оповещения до полной)
    - do: Тап "Завершить"
    - assert: Всплывающее уведомление навигации пропало
    - do: Развернуть приложение
    - assert: |
        Маршрут не отображается
        Отображается главный экран приложения

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Завершение самокатного ведения через закрытие маршрута (крестик):
    - *Bike_guidanceInfo
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Открыт экран ведения по самокатному маршруту
    - do: Тап на кнопку Закрытия маршрута (крестик) в навбаре
    - assert: |
        Ведение по маршруту завершилось
        Отображается главный экран приложения

    - platforms:
        - android
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Завершение самокатного ведения через тап Назад (навигационная панель):
    - *Bike_guidanceInfo
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Открыт экран ведения по самокатному маршрут
    - do: Тап Назад в навигационной панели
    - assert: |
        Ведение по маршруту завершилось
        Отображается экран выбора маршрутов

    - platforms:
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Завершение самокатного ведения через тап Завершить (навбар):
    - *Bike_guidanceInfo
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Открыт экран ведения по самокатному маршрут
    - do: Тап по навбару
    - assert: Навбар раскрылся целиком
    - do: Тап Завершить
    - assert: |
        Ведение по маршруту завершилось
        Отображается главный экран приложения

    - platforms:
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors


  Отображение линий дороги на самокатном маршруте:
    - *Bike_guidanceInfo
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/дорога.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.119712&lon_from=37.705223&lat_to=54.115576&lon_to=37.733420`
    - do: Выбрать самокатный тип маршрута
    - assert: |
        Построен маршрут, проходящий через дорогу
        Линия маршрута проходящая через дорогу имеет синий цвет

    - integration_run:
        - mapkit
    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Отображение линий велодорожки на самокатном маршруте:
    - *Bike_guidanceInfo
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/велодорожка.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.197614&lon_from=37.590661&lat_to=54.185815&lon_to=37.593292`
    - do: Выбрать самокатный тип маршрута
    - assert: |
        Построен маршрут, проходящий через велодорожку
        Линия маршрута проходящая через велодорожку имеет зеленый цвет с белой пунктирной линией

    - integration_run:
        - mapkit
    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Отображение линий тротуара на самокатном маршруте:
    - *Bike_guidanceInfo
    - do: Включить симуляцию ведения (Debug-panel -> Routes -> Demo movement)
    - do: Установить скорость движения Pedestrian_demo_movement_speed=10 (Debug-panel -> Routes -> Demo movement
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/rustamram/тратуар.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=54.185528&lon_from=37.593601&lat_to=54.182549&lon_to=37.601458`
    - do: Выбрать самокатный тип маршрута
    - assert: |
        Построен маршрут, проходящий через тротуар
        Линия маршрута проходящая через тротуар имеет зеленый цвет

    - integration_run:
        - mapkit
    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Схождение с построенного самокатного маршрута:
    - *Bike_guidanceInfo
    - info: Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Курсор не двигается, оставаясь на месте
    - do: Построить альтернативный маршрут через Mock Location (на Android) / через Enter your route (на IOS) (Debug-Panel -> Routes -> Enter your route)
    - do: Запустить ведение через Mock Location (на Android) / через Enter your route (на IOS)
    - assert: |
        Начинается движение
        Аннотации о маневрах произносятся
    - do: Дождаться расхождения построенного маршрута и симуляции
    - assert: |
        Звучит аннотация "Маршрут перестроен"
        Маршрут перестраивается

    - integration_run:
        - mapkit
    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Схождение с построенного самокатного маршрута в фоне:
    - *Bike_guidanceInfo
    - info: |
        Включено фоновое ведение (Настройки -> Маршрут -> Фоновое ведение)
        Включен звук (Настройки -> Маршрут -> Звук -> ВКЛ)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: Курсор не двигается, оставаясь на месте
    - do: Построить альтернативный маршрут через Mock Location (на Android) / через Enter your route (на IOS) (Debug-Panel -> Routes -> Enter your route)
    - do: Запустить ведение через Mock Location (на Android) / через Enter your route (на IOS)
    - assert: |
        Начинается движение
        Аннотации о маневрах произносятся
    - do: Свернуть приложение
    - assert: |
        В шторке уведомлений отображается нотификация фонового ведения (на Android)
        Аннотации о маневрах произносятся
    - do: Дождаться аннотации "Маршрут перестроен"
    - assert: Звучит аннотация "Маршрут перестроен"
    - do: Развернуть приложение
    - assert: |
        Маршрут перестроен
        Происходит ведение по альтернативному маршруту

    - integration_run:
        - mapkit
    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Отображение навигационной шторки во время ведения по самокатному маршруту:
    - *Bike_guidanceInfo
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/rustamram/QR-код%20Маршрут%20с%20маневрами.png){title=QR-код}

        `yandexmaps://build_route_on_map?lat_from=55.763152&lon_from=37.628675&lat_to=55.761956&lon_to=37.609431&lat_via_0=55.764744&lon_via_0=37.616612`
    - do: Выбрать самокатный тип маршрута
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения
        Отображается навбар
    - do: Тап по навбару
    - assert: |
        Навбар раскрылся целиком
        В навбаре отображаются:
        - расстояние / время в пути / время прибытия
        - кнопка "Поиск"
        - кнопка "Голосовой ввод"
        - кнопка "Меню"
        - элемент с поисковыми категориями "Рядом с вами"
        - кнопка "К навигации"
        - кнопка "Завершить"

    - platforms:
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
