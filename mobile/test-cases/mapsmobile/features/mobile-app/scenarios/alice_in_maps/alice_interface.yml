components: alice_interface
testing:
  - regress
tags:
  - assessors
  - not_suitable_for_farm
integration_run:
  - alicekit

aliases:
  - &info_voice_activation_on_and_mic_on
    - info: Установлена локаль на устройстве ru_RU
    - do: Выключить эксперименты `use_datasync_settings` и `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Перезапустить приложение
    - do: Включить Алису (Меню -> Настройки -> Основные -> Алиса)
    - do: Включить голосовую активацию Алисы (Меню -> Настройки -> Основные -> Алиса)
    - do: В настройках приложения на устройстве выдать доступ к микрофону девайса
    - do: Открыть главный экран приложения

specs:
  Отображение шторы Алисы в вертикальной ориентации:
    - *info_voice_activation_on_and_mic_on
    - info: Устройство в вертикальной ориентации
    - do: Вызвать Алису голосом/тапом по кнопке
    - assert: |
        Отображается штора Алисы
        Присутсвуют кнопки вопроса и настроек
        Кнопка Алисы в состоянии записи речи

    - platforms:
        - ios
        - android
    - tags:
        - refactor_ready

  Отображение шторы Алисы в горизонтальной ориентации:
    - *info_voice_activation_on_and_mic_on
    - info: Устройство в горизонтальной ориентации
    - do: Вызвать Алису голосом/тапом по кнопке
    - assert: |
        Отображается штора Алисы
        Присутсвуют кнопки вопроса и настроек
        Кнопка Алисы в состоянии записи речи

    - platforms:
        - ios
        - android
    - tags:
        - refactor_ready


  Смена ориентации устройства при открытой шторе Алисы:
    - info: Устройство в вертикальной ориентации
    - *info_voice_activation_on_and_mic_on
    - do: Вызвать Алису голосом/тапом по кнопке
    - assert: Отображается штора Алисы
    - do: Сменить ориентацию устройства
    - assert: |
        Устройство в горизонтальной ориентации
        Слева отображается штора Алисы

    - platforms:
        - ios
        - android
    - tags:
        - refactor_ready


  Отображение онбординга Алисы:
    - *info_voice_activation_on_and_mic_on
    - info: |
        Ранее Алиса не была запущена
    - do: Запустить Алису
    - assert: |
        Открылась штора Алисы
        Отображается текстовый онбординг
        Алиса рассказывает один из вариантов:
        - Я могу найти...
        - Я умею...
        - Я отвечаю на любые вопросы...
    - do: Пообщаться с Алисой голосом/саджестами
    - assert: Алиса поддерживает разговор
    - do: Закрыть штору Алисы
    - assert: Отображается главный экран приложения
    - do: Запустить Алису
    - assert: |
        Открылась штора Алисы
        Онбординг не появляется
        Отображается фраза последнего диалога

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - refactor_ready


  Отображение онбординга при тапе на кнопку "?" в шторе Алисы:
    - *info_voice_activation_on_and_mic_on
    - do: Запустить Алису
    - assert: Открылась штора Алисы
    - do: Тап на кнопку вопроса
    - assert: |
        Отображается текстовый онбординг Алисы
        Алиса рассказывает один из вариантов:
        - Я могу найти...
        - Я умею...
        - Я отвечаю на любые вопросы...

    - platforms:
        - android
        - ios
    - tags:
        - refactor_ready
