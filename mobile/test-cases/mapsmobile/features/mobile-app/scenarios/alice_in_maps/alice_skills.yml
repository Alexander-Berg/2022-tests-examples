components: alice_skills
testing:
  - regress
tags:
  - assessors
  - not_suitable_for_farm
integration_run:
  - alicekit

aliases:
  - &info_voice_activation_on_and_mic_on
    - info: Установлена локаль на устройстве ru_RU
    - do: Выключить эксперименты `use_datasync_settings` и `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Перезапустить приложение
    - do: Включить Алису (Меню -> Настройки -> Основные -> Алиса)
    - do: Включить голосовую активация Алисы (Меню -> Настройки -> Основные -> Алиса)
    - do: В настройках приложения на устройстве выдать доступ к микрофону девайса
    - do: Открыть главный экран приложения

specs:
  Алиса. Прогноз погоды:
    - *info_voice_activation_on_and_mic_on
    - do: Вызвать Алису тапом по кнопке/голосом
    - do: Спросить прогноз погоды
    - assert: |
        Алиса отвечает голосом и текстом
        Алиса говорит о погоде сейчас в текущем городе
        Присутствуют саджесты На завтра, На выходные
    - do: Спросить прогноз погоды на месяц
    - assert: |
        Алиса отвечает голосом и текстом
        На экране отображается список погоды на 10 дней в городе текущего ММП
        Список начинается с текущей даты
        В конце Алиса сообщает, что на остальные дни нет прогноза
        Под списком присутствуют саджесты На сегодня, На завтра

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready
    - testing:
        - acceptance_maps


  Алиса. Диалоги - Что ты умеешь:
    - *info_voice_activation_on_and_mic_on
    - do: Тап на таб Навигатор
    - do: Вызвать Алису
    - assert: Отображается штора Алисы
    - do: Спросить "Что ты умеешь?"
    - assert: |
        Алиса рассказывает один из вариантов:
        - Я могу найти...
        - Я умею...
        - Я строю маршруты, ищу адреса и парковки...
        - Я отвечаю...
    - do: Что еще ты умеешь?
    - assert: Алиса рассказывает другой вариант из перечисленных выше

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready


  Алиса. Новости:
    - *info_voice_activation_on_and_mic_on
    - do: Вызвать Алису
    - do: Попросить рассказать новости
    - assert: Алиса начинает рассказывать актуальные новости

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready
    - testing:
        - acceptance_maps


  Алиса. Попытка поставить напоминание:
    - *info_voice_activation_on_and_mic_on
    - do: Вызвать Алису
    - do: Сказать "Поставь напоминание"
    - assert: Алиса отвечает текстом и голосом, что в этом приложении это невозможно

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready


  Алиса. Попытка подключить лампочку:
    - *info_voice_activation_on_and_mic_on
    - do: Вызвать Алису
    - do: Сказать "Подключи лампочку"
    - assert: Алиса отвечает текстом и голосом, что в этом приложении это невозможно

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready


  Алиса. Попытка позвонить в колонку:
    - *info_voice_activation_on_and_mic_on
    - do: Вызвать Алису
    - do: Сказать "Позвони в колонку/Позвони на колонку"
    - assert: Алиса отвечает текстом и голосом, что в этом приложении это невозможно

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready


  Диалог с Алисой:
    - *info_voice_activation_on_and_mic_on
    - do: Вызвать Алису
    - do: Произнести команду "Давай поболтаем"
    - assert: |
        Алиса показывает информационное сообщение о начале режима разговора
        Появляется саджест "Хватит болтать"
    - do: |
        Завершить разговор одной из фраз:
        - Алиса, хватит
        - Хватит болтать
    - assert: Алиса показывает информационное сообщение, завершающее разговор

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready


  Алиса. Повторение последней фразы:
    - *info_voice_activation_on_and_mic_on
    - do: Тап на таб Навигатор
    - do: Вызвать Алису
    - do: Сказать "Алиса, расскажи анекдот"
    - assert: Алиса рассказывает анекдот
    - do: Сказать "Повтори, пожалуйста"
    - assert: Алиса повторяет анекдот
    - do: Сказать "Поехали в МакДональдс"
    - assert: Строится маршрут до ближайшего МакДональдса
    - do: Сбросить маршрут
    - assert: |
        Нет активных маршрутов
        Отображается главный экран приложения
        Таб Навигатор включен
        Маршрутный саджест не перекрывает иконку местоположения
    - do: Вызвать Алису
    - do: Сказать "Алиса, повтори"
    - assert: Строится маршрут до ближайшего МакДональдса

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready


  Алиса. Перевод фраз:
    - *info_voice_activation_on_and_mic_on
    - do: Вызвать Алису
    - do: Попросить Алису перевести слово на любой известный язык
    - assert: |
        Запрос отображается текстом на экране
        Алиса отвечает голосом и текстом перевод

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready


  Алиса. Открытие сайтов:
    - *info_voice_activation_on_and_mic_on
    - do: Вызвать Алису
    - do: Попросить Алису открыть любой сайт (напр., гибдд, центробанка и т.п.)
    - assert: Открывается запрашиваемый сайт в браузере

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready


  Алиса. Вызов такси с отменой заказа:
    - *info_voice_activation_on_and_mic_on
    - do: Вызвать Алису
    - do: Сказать "Вызови такси"
    - assert: |
        Алиса отвечает, что поищет такси в Яндекс Go, просит уточнить местоположение
        На экране присутствуют саджесты Из дома, С работы, Что ты умеешь?
    - do: Назвать любой адрес в городе ММП
    - assert: Алиса просит указать конечную точку
    - do: Назвать любой адрес в городе ММП
    - assert: |
        Алиса говорит информацию о маршруте и просит подтверждения
        На экране присутствуют саджесты Верно, Измени адрес, Отмена
    - do: Сказать "Отмена"
    - assert: Алиса отвечает, что отменила заказ

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready


  Алиса. Вызов такси:
    - *info_voice_activation_on_and_mic_on
    - do: Вызвать Алису
    - do: Сказать "Вызови такси"
    - do: Назвать любой адрес в городе ММП
    - assert: Алиса просит указать конечную точку
    - do: Назвать любой адрес в городе ММП
    - assert: |
        Алиса говорит информацию о маршруте и просит подтверждения
        На экране присутствуют саджесты Верно, Измени адрес, Отмена
    - do: Подтвердить
    - assert: Алиса отвечает, что сделала заказ

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready


  Алиса. Диалоги - Курс валют:
    - *info_voice_activation_on_and_mic_on
    - do: Вызвать Алису
    - do: Спросить "Какой курс доллара?"
    - assert: Алиса отвечает голосом и текстом о курсе доллара

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready


  Алиса. Диалоги - Какой день:
    - *info_voice_activation_on_and_mic_on
    - do: Вызвать Алису
    - do: Спросить "Какой сегодня день?"
    - assert: Алиса отвечает голосом и текстом день недели и число

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready


  Алиса. Диалоги - Спой песню:
    - info: Приложение Яндекс.Музыка не установлено
    - *info_voice_activation_on_and_mic_on
    - do: Запустить Алису
    - do: Сказать "Спой песню"
    - assert: |
        Алиса подтверждает действие
        Начинает воспроизводится песня, окникс Алисы в виде кнопки "Стоп"
        Отображаются саджесты Ещё песню!, Слушать на Яндекс.Музыке! и Что ты умеешь?

    - platforms:
        - ios
        - android
    - tags:
        - not_suitable_for_farm
        - refactor_ready
