components: panoramas
testing:
  - regress

specs:
  Переход в панораму из лонг-тап меню:
    - info: |
        Открыт главный экран приложения на спане Москвы
    - do: Лонг-тап на карте
    - assert: |
        Открылось лонг-тап меню
        На карте отображается активный пин
        Присутствует блок с панорамой
    - do: Тап на блок с панорамой
    - assert: |
        Открылся экран с панорамой
        Отображаемая панорама соответствует месту, где был произведен лонг-тап
    - do: Свайп по слайду панорамы
    - assert: |
        Спан слайда панорамы изменился
        Анимация изменения спана панорамы плавная, без рывков

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
        - newbie

  Просмотр исторической панорамы:
    - info: |
        Устройство находится в вертикальной ориентации
        Открыт экран с панорамой
    - do: Тап на drop-down меню
    - assert: |
        Drop-down меню раскрылось
        В меню перечислены года, когда были сделаны снимки
        Выбранный год выделен
        Стрелка, справа от года, указывает вверх
    - do: Сменить ориентацию девайса
    - assert: |
        Панорама отображается в горизонтальной ориентации
        Внизу экрана отображается мини карта, лого "Яндекс", раскрытое drop-down меню
    - do: Свайп по экрану панорамы
    - assert: |
        Android: Drop-down меню закрылось
        Наверху экрана отображается компас, кнопка шаринга и крестик
    - do: |
        Android: Тап на drop-down меню
    - do: Выбрать любой другой год
    - assert: |
        Drop-down меню свернулось
        В меню отображается выбранный год
        Загрузилась панорама этого же места, но другого года
        Навигация по панораме Доступна
    - do: Тап на мини карту
    - assert: |
        Мини карта раскрылась и теперь занимает левую часть экрана
        Компас отображается поверх мини карты
    - do: Проскроллить мини карту
    - assert: |
        Пин переместился на новое место
        Во время загрузки в центре экрана отображается спиннер
        После остановки пина подгружается новый участок панорамы за последний доступный год
        Навигация по панораме доступна
    - testing:
        - acceptance_maps
        - lite_acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
        - newbie

  Отображение подсказки о воздушных панорамах при чистой установке:
    - info: |
        Начисто установлены Я.Карты
        Подсказка о воздушных панорамах не просмотрена.
        Открыт спан Москвы, зум 9-12
    - do: Тап на Слои
    - assert: |
        Открыт экран Слои, отображается на высоту списка пунктов меню.
        В верхней части экрана может отображаться часть карты(зависит от размера экрана).
        Отображаются слои с иконками:
        - 3D-режим, пробки, парковки, движущийся транспорт, панорамы
        - Дорожные события и Закладки
          (Android- отображается список выбранного и справа чекбокс)
          (iOS - отображается кнопка меню в виде многоточия)
    - do: Тап на Панорамы
    - assert: |
        Кнопка панорам становится активной, дороги, на которых доступна панорама, окрасились.
        На карте также отображаются пины воздушной панорамы(кружок с воздушным шаром) - может отображаться не везде.
        iOS - Отобразилась подсказка -  “Чтобы увидеть панораму улицы, нажмите на цветную линию, а для просмотра панорамы с воздуха - на воздушный шар”
    - do: iOS - Закрыть подсказку свайпом
    - do: Закрыть экран Слои свайпом
    - assert: |
        Открыт главный экран приложения.
        Дороги, на которых доступна панорама, окрасились.
        На карте также отображаются пины воздушной панорамы(кружок с воздушным шаром) - может отображаться не везде.
        Android - Отобразилась подсказка - 'Чтобы увидеть панораму улицы, нажмите на цветную линию, а для просмотра панорамы с воздуха - на воздушный шар'
    - do: Подождать 4-8 секунд
    - assert: Подсказка анимировано скрылась

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Просмотр панорамы при отсутствии интернета:
    - info: |
        Открыт главный экран приложения
        Устройство в вертикальной ориентации
    - do: Лонг-тап по карте
    - assert: Открыто лонг-тап меню
    - do: Выключить интернет
    - assert: Подключение к интернету отсутствует
    - do: Тап на блок с панорамой
    - assert: |
        Открылся экран с панорамой
        Панорама не отображается
        Отображается сообщение 'Ошибка загрузки. Проверьте подключение к интернету и попробуйте ещё раз.'
        Присутствует кнопка обновления
    - do: Тап на кнопку обновления
    - assert: |
        Ничего не происходит
        Панорама не загружается
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается экран с сообщением об ошибке в горизонтальной ориентации
        Присутствует кнопка обновления
    - do: Включить интернет
    - do: Тап на кнопку обновления
    - assert: |
        Отображается спиннер загрузки
        После отобразилась панорама в горизонтальной ориентации
        Сообщение об ошибке отсутствует

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Просмотр панорамы в месте, где панорам нет:
    - info: |
        Открыта панорама
        Устройство в вертикальной ориентации
    - do: Проскроллить мини карту в место, где нет панорамы
    - assert: |
        Экран зафейжен
        В центре экрана отображается текст 'Сюда панорамомобиль еще не добрался. Улицы, где он уже побывал, отмечены цветом.'
    - do: Свернуть приложение
    - do: Развернуть приложение
    - assert: |
        Экран зафейжен
        В центре экрана отображается текст 'Сюда панорамомобиль еще не добрался. Улицы, где он уже побывал, отмечены цветом.'
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается зафейженный экран в горизонтальной ориентации
        В центре экрана отображается текст 'Сюда панорамомобиль еще не добрался. Улицы, где он уже побывал, отмечены цветом.'
    - do: Проскроллить мини карту в место, где есть панорама
    - assert: |
        Панорама загрузилась
        Ошибка не отображается
        Во время загрузки в центре экрана отображается спиннер

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready

  Проверка отображения слоя панорамы:
    - info: |
        Установить зум > 14 (самый ближний 21 зум)
        Открыто меню слоев (тап на кнопку слоев на главном экране)
        Ранее слой панорам не был включен
    - do: Тап на Панорамы
    - assert: |
        Кнопка панорам становится активной
        Меню слоёв открыто
        (iOS) Появляется toast 'Чтобы посмотреть панораму, нажмите на цветную линию'
    - do: Вернуться на главный экран
    - assert: |
        Дороги, на которых доступна панорама, выделены
        На карте также могут отображаются пины воздушной панорамы (кружок с воздушным шаром)
        Отображается контроллы слоев и пробок
        Под ними отображается активный контролл панорам
    - do: Тап по контроллу панорам
    - assert: |
        Контролл панорам пропал с главного экрана
        Дороги с панорамами не выделены

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
        - newbie

  Отключение слоя Панорамы из меню:
    - info: |
        Открыт главный экран приложения
        Включен слой панорам
    - do: Тап по контроллу слоев
    - assert: |
        Открыт экран слоев
    - do: Тап на Панорамы
    - assert: |
        Кнопка панорам не активна
        На видимой части карты не отображаются линии панорам
    - do: Вернуться главный экран приложения
    - assert: |
        Открыт главный экран приложения
        Линии панорам не отображаются
        Контролл панорам не отображается

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready

  Переход в панораму из карточки:
    - info: Раскрыта полная карточка организации
    - do: Тап на блок с панорамой
    - assert: Открылся экран с панорамой
    - do: Тап на мини карту
    - assert: |
        Мини карта раскрылась и теперь занимает всю нижнюю часть экрана.
        Компас и лого отображаются поверх мини карты (в iOS компас не отображается, появляется при свайпе)
    - do: Проскроллить мини карту
    - assert: |
        Пин установлен на новое место.
        После остановки пина подгружается новый участок панорамы.
        Во время загрузки в центре экрана отображается спиннер
    - do: Сменить ориентацию девайса
    - assert: |
        Панорама отображается в горизонтальной ориентации.
        Мини карта не свернулась и теперь отображается слева экрана.
        Компас в левом верхнем углу (в iOS компас не отображается, появляется при свайпе)
        В правом верхнем углу кнопка шаринга и крестик.
        В правом нижнем углу drop-down меню с выбором года снимков.
        Внизу посередине логотип Яндекс

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
        - newbie
    - testing:
        - lite_acceptance_maps


  Управление в панораме с помощью гироскопа:
    - info: |
        Открыта панорама
        Устройство в вертикальной ориентации
    - do: Свайпнуть по экрану
    - assert: |
        Отображается панорама
        Отображается компас
    - do: Тап на компас
    - assert: |
        Компас скрылся
        Управление в панораме (обзор) теперь осуществляется с помощью гироскопа
    - do: Сменить ориентацию девайса
    - assert: |
        Отображается панорама в горизонтальной ориентации
        Компас не отображается
        Управление все еще с помощью гироскопа
    - do: Проскроллить миникарту
    - assert: |
        Пин перенесся на новое место
        Отображается новый участок панорамы
        Во время загрузки в центре экрана отображается спиннер
        Компас не отображается
        Управление все еще с помощью гироскопа
    - do: Свайпнуть по экрану
    - assert: |
        Появился компас
        Управление с помощью гироскопа отключено
    - do: Свернуть приложение
    - do: Развернуть приложение
    - assert: |
        Отображается панорама
        Отображается компас
        Управление с помощью гироскопа отключено

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Шаринг панорамы:
    - info: Открыта панорама
    - do: Тап на кнопку шаринга (слева от крестика)
    - assert: Открылось стандартное шаринг меню
    - do: Выбрать любой из способов шаринга
    - do: Поделиться панорамой
    - assert: |
        Отправленная ссылка имеет вид: https://yandex.ru/maps/?ll=37.616088%2C54.191854&panorama%5Bpoint%5D=37.616088%2C54.191854&panorama%5Bdirection%5D=120.471451%2C-13.410362&panorama%5Bspan%5D=90.000000%2C90.000000&panorama%5Bid%5D=1298130531_689424276_23_1469624152
    - do: Перейти по ссылке с другого девайса или компьютера
    - assert: |
        Открылась панорама
        Отображается то же место, с тем же направлением камеры
    - do: Выбрать другой год в панораме
    - do: Поделиться панорамой
    - do: Перейти по ссылке с другого девайса или компьютера
    - assert: |
        Открылась панорама
        Отображается то же место, с тем же направлением камеры
        Панорама отображается того же года, что и на девайсе, с которого была отправлена

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - tags:
        - assessors


  Просмотр статус-бара на экране панорамы:
    - info: |
        Кейс проходится на Android 6.0 и вышеn.
        Статус бар - полоса состояния устройства расположена сверху(содержит информацию о времени, подключение к сети, заряд батареи и т.д.).
        Navigation бар - полоса с кнопками Домой, Назад и пр., расположена снизу.
        Иконки в статус баре и в navigation баре не должны сливаться с фоном ни в тёмном ни в светлом режимах
        Включён слой панорам
    - do: Тап по любому участку дороги с  панорамой
    - assert: |
        Открылся экран с панорамой.
        Отображаемая панорама соответствует месту тапа.
        Статус бар на экране отсутствует.
        Navigation бар, если он есть, окрашен в тёмный цвет, независимо от выбранной темы.
        На телефонах с чёлкой/камерой статус бар показывается всегда, он не перекрывает элементы интерфейса
    - do: Свайп вниз вверху экрана
    - assert: |
        Появляется статус бар.
        Статус бар в тёмном режиме, полупрозрачный.
        Через несколько секунд статус бар скрывается.
        На телефонах с чёлкой статус бар показывается всегда, он не перекрывает элементы интерфейса

    - platforms:
        - android
    - tags:
        - assessors
        - use_map


  Переход к просмотру воздушной панорамы:
    - info: |
        Ранее слой панорам уже включался
        Отображается главный экран приложения
        Слой панорам выключен
        Устройство в вертикальной ориентации
    - do: Тап на контролл слоёв
    - assert: |
        Отображается меню слоёв
        Кнопка Панорамы не активна
    - do: Тап на Панорамы
    - assert: |
        Кнопка Панорамы активна
        (iOS) Фон иконки закрашен
        На видимой части карты отображаются линии панорам
        Могут отображаться пины воздушной панорамы (кружок с воздушным шаром)
    - do: Вернуться на главный экран приложения
    - assert: |
        Открыт главный экран приложения
        Отображается контролл панорам
        На карте отображаются линии панорам
        Могут отображаться пины воздушной панорамы (кружок с воздушным шаром)
    - do: Сменить ориентацию устройства
    - do: Открыть спан карты, где присутсвуют пины воздушной панорамы
    - do: Тап по пину воздушной панорамы
    - assert: |
        Открывается экран просмотра воздушной панорамы (обзор выполнен с воздуха) в горизонтальной ориентации
        Блок с участком карты не отображается
        Доступны кнопки:
        - Поделиться
        - Закрыть
        - Выбор года
        - (iOS) Активация управления гироскопом (компас) не отображается, появляется при свайпе
        - (Android) Активация управления гироскопом (компас) отображается
    - do: Изменить угол обзора панорамы жестами
    - assert: Угол обзора изменен
    - do: Закрыть панораму
    - assert: |
        Отображается главный экран приложения
        Отображаются линии панорам
        Отображаются пины воздушных панорам (кружок с воздушным шаром)
        Отображается контролл панорам

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready

  Смена точки просмотра в воздушной панораме:
    - info: |
        Отображается главный экран приложения
        Слой панорам включен
        На спане присутствуют пины воздушных панорам
    - do: Тап по пину воздушной панорамы
    - assert: |
        Открывает экран просмотра воздушной панорамы (обзор выполнен с воздуха)
        Блок с участком карты не отображается
        Доступны кнопки:
        - Поделиться
        - Закрыть
        - Выбор года
        - (iOS) Активация управления гироскопом (компас) не отображается, появляется при свайпе
        - (Android) Активация управления гироскопом (компас)
    - do: Изменить угол и зум отображения воздушной панорамы так, чтобы на экране отображался пин другой воздушной панорамы
    - assert: |
        Изменился угол и зум отображаемого участка воздушной панорамы
        На отображаемом участке воздушной панорамы отображается пин воздушной панорамы
    - do: Тап по пину воздушной панорамы
    - assert: Сменился ракурс отображаемой воздушной панорамы
    - do: Свернуть приложение
    - do: Развернуть приложение
    - assert: |
        Отображается воздушная панорама
        Ракурс не изменился

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready
        - newbie

  Поделиться 'Воздушной панорамой':
    - info: |
        Открыт главный экран приложения с картой.
        Слой панорам включен.
        На экране отображается г. Москва
    - do: Тап на пин воздушной панорамы
    - assert: |
        Открывается экран просмотра воздушной панорамы(обзор выполнен с воздуха).
        Блок с участком карты не отображается.
        Доступны кнопки:
          * Поделиться
          * Закрыть
          * Выбор года
          * (iOS) Активация управления гироскопом(компас) не отображается, появляется при свайпе
          * (Android) Активация управления гироскопом(компас)
    - do: Тап на кнопку Поделиться на экране просмотра воздушной панорамы
    - assert: Отображается экран шаринга
    - do: Поделиться воздушной панорамой
    - assert: Ссылка на просмотр воздушной панорамы отправлена
    - do: Перейти по ссылке на воздушную панораму, отправленную ранее
    - assert: |
        Открывается экран просмотра воздушной панорамы открытой в предыдущих шагах(обзор выполнен с воздуха).
        Блок с участком карты не отображается.
        Доступны кнопки:
          * Поделиться
          * Закрыть
          * Выбор года
          * (iOS) Активация управления гироскопом(компас) не отображается, появляется при свайпе
          * (Android) Активация управления гироскопом(компас)

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map

  Просмотр воздушной панорамы в офлайне:
    - info: |
        Открыт главный экран приложения
        Слой панорам включен
        На спане присутствуют пины воздушных панорам
        Интернет включен
    - do: Тап по пину воздушной панорамы
    - assert: |
        Открывается экран просмотра воздушной панорамы (обзор выполнен с воздуха)
        Блок с участком карты не отображается
        Доступны кнопки:
        - Поделиться
        - Закрыть
        - Выбор года
        - (iOS) Активация управления гироскопом (компас) не отображается, появляется при свайпе
        - (Android) Активация управления гироскопом (компас)
    - do: Закрыть воздушную панораму
    - assert: |
        Отображается главный экран приложения
        Включен слой панорам
        На карте отображаются линии панорам
        Отображаются пины воздушных панорам
    - do: Выключить интернет
    - do: Открыть воздушную панораму
    - assert: |
        Отображается сообщение об ошибке "Ошибка загрузки. Проверьте ...'
        Под сообщением с ошибкой отображается кнопка повтора загрузки
    - do: Тап на кнопку повтора загрузки
    - assert: |
        Отображается сообщение об ошибке 'Ошибка загрузки. Проверьте …'
        Под сообщением с ошибкой отображается кнопка повтора загрузки
    - do: Включить интернет
    - do: Тап на кнопку повтора загрузки
    - assert: |
        Во время загрузки на экране крутится спикер
        После отображается экран просмотра воздушной панорамы (обзор выполнен с воздуха)
        Блок с участком карты не отображается
        Доступны кнопки:
        - Поделиться
        - Закрыть
        - Выбор года
        - (iOS) Активация управления гироскопом (компас) не отображается
        - (Android) Активация управления гироскопом (компас) отображается
    - do: Изменить угол и зум отображения воздушной панорамы так, чтобы на экране отображался пин другой воздушной панорамы
    - do: Выключить интернет
    - do: Перейти к другому пину воздушной панорамы
    - assert: |
        Отображается сообщение об ошибке - 'Ошибка загрузки. Проверьте …'
        Под сообщением с ошибкой отображается кнопка повтора загрузки
    - do: Тап на кнопку повтора загрузки
    - assert: |
        Отображается сообщение об ошибке - 'Ошибка загрузки. Проверьте …'
        Под сообщением с ошибкой отображается кнопка повтора загрузки
    - do: Включить интернет
    - do: Тап на кнопку повтора загрузки
    - assert: |
        Во время загрузки на экране крутится спикер
        После отображается экран просмотра воздушной панорамы (обзор выполнен с воздуха)
        Блок с участком карты не отображается
        Доступны кнопки:
        - Поделиться
        - Закрыть
        - Выбор года
        - (iOS) Активация управления гироскопом (компас) не отображается
        - (Android) Активация управления гироскопом (компас) отображается

    - testing:
        - acceptance_maps
    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready

  Просмотр воздушной панорамы с помощью гироскопа:
    - info: |
        Открыт главный экран приложения с картой
        Слой панорам включен
        На спане присутствуют пины воздушных панорам
    - do: Тап по пину воздушной панорамы
    - assert: |
        Открывается экран просмотра воздушной панорамы (обзор выполнен с воздуха)
        Блок с участком карты не отображается
        Доступны кнопки:
        - Поделиться
        - Закрыть
        - Выбор года
        - (iOS)Активация управления гироскопом не отображается
        - (Android) Активация управления гироскопом(компас)
    - do: Сменить обзор воздушной панорамы свайпами по экрану
    - do: Приблизить/отдалить панораму
    - assert: |
        Изменился угол обзора/зум отображаемого участка воздушной панорамы
        Появилась кнопка активации управления просмотром панорамы с помощь гироскопа
    - do: Тап на кнопку компаса
    - assert: |
        Режим просмотра панорамы выполнен с помощью управления гироскопом
        Кнопка активации управления просмотром панорамы с помощь гироскопа не отображается
    - do: Свайпнуть по экрану
    - assert: |
        Включен режим управления панорамой жестами
        Кнопка активации управления просмотром панорамы с помощь гироскопа отображается

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
        - newbie
    - testing:
        - lite_acceptance_maps

  Отображение подсказки о воздушных панорамах при обновлении:
    - info: |
        Сейчас показываем подсказку про панорамы при первом включении слоя.
        В новой версии мы поддерживаем еще и воздушные панорамы, поэтому повторно всем показываем тост с расширенной информацией
        Установлена старая версия карт: Android: 9.1 и ранее iOS: 12.1 и ранее.
        Ранее слой панорам включался
    - do: Обновить МЯК на более свежую версию с поддержкой воздушных панорам и открыть приложение
    - assert: |
        приложение запущено.
        отображается главный экран с картой
    - do: Тап по кнопке меню
    - assert: Открывается главное меню экрана
    - do: Тап на Слои
    - assert: Отображается экран выбора слоя
    - do: Тап на Панорамы
    - assert: |
        Отображается подсказка с расширенной информацией про панорамы 'Чтобы увидеть панораму улицы, нажмите на цветную линию, а для просмотра панорамы с воздуха - на воздушный шар'.
        На андроиде подсказка отображается после выхода из меню на главный экран приложения
    - do: Тап на подсказку или в свободное место
    - assert: Подсказка про панорамы скрылась
    - do: Тап на Панорамы
    - assert: |
        Слой панорам выключился.
        Иконка не подсвечена
    - do: Повторно включить слой панорам
    - assert: |
        На спане карты отображаются включенные панорамы.
        Подсказка не появилась

    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Отображение подсказки о воздушных панорамах после обновления:
    - info: |
        Проверка отображения подсказки о воздушных панорамах после обновления с предыдущей версии приложения (не выше 9.1) и закрытие подсказки по тапу.
        Версия приложения с которого происходит обновление не выше 9.1.
        Слой панорам выключен.
        Открыт главный экран приложения
    - do: Тап по кнопке меню
    - assert: Открывается главное меню экрана
    - do: Тап на Слои
    - assert: |
        Открыт экран 'Слои', отображается на высоту списка пунктов меню.
        В верхней части экрана может отображаться часть карты(зависит от размера экрана).
        В первом блоке отображаются слои с иконками:
          * Пробки
          * Парковки
          * Движущийся транспорт
        Во втором блоке метки с иконками:
          * Дорожные события(снизу отображается список выбранных событий и справа чекбокс по умолчанию вкл.)
          * Закладки (снизу список Показывать все по умолчанию и чекбокс справа вкл.)
    - do: Тап на Панорамы
    - assert: |
        Кнопка панорам становится активной
        Дороги, на которых доступна панорама, окрашены
        На карте также отображаются пины воздушной панорамы(кружок с воздушным шаром) - может отображаться не везде
    - do: Закрыть экран Слои
    - assert: |
        Открыт главный экран приложения
        Дороги, на которых доступна панорама, окрасились в серо-голубой цвет(тёмно-лиловый для ночного режима).
        На карте также отображаются пины воздушной панорамы (кружок с воздушным шаром) - может отображаться не везде.
        Отобразилась подсказка с текстом: Чтобы увидеть панораму улицы, нажмите на цветную линию, а для просмотра панорамы с воздуха - на воздушный шар
    - do: Во время отображения подсказки тап в любое место
    - assert: Подсказка анимировано скрылась

    - platforms:
        - android
    - tags:
        - assessors

  Подсказка о воздушных панорамах не отображается после обновления:
    - info: |
        Проверка на то, что просмотренная подсказка на предыдущей версии приложения после обновления не показывается.
        Обновление происходит с версии (Android - 9.1.1)/( iOS - 12.1.1 ) или больше.
        Подсказка о воздушных панорамах просмотрена на предыдущей версии приложения.
        Слой панорам выключен.
        Открыт главный экран приложения
    - do: Тап по кнопке меню
    - assert: Открывается главное меню экрана
    - do: Тап на Слои
    - assert: |
        Открыт экран 'Слои', отображается на высоту списка пунктов меню.
        В верхней части экрана может отображаться часть карты(зависит от размера экрана).
        Отображаются слои с иконками:
          * Пробки
          * Парковки
          * Движущийся транспорт
          * Дорожные события
          * Закладки
    - do: Тап на Панорамы
    - assert: |
        Кнопка панорам становится активной
        Дороги, на которых доступна панорама,окрашены
        На карте также отображаются пины воздушной панорамы(кружок с воздушным шаром) - может отображаться не везде.
        iOS - Подсказка о воздушных панорамах не отображается
    - do: Закрыть экран Слои
    - assert: |
        Открыт главный экран приложения
        Дороги, на которых доступна панорама, окрашены
        На карте также отображаются пины воздушной панорамы(кружок с воздушным шаром) - может отображаться не везде.
        Подсказка о воздушных панорамах не отображается

    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Подсказка о воздушных панорамах не отображается второй раз после ее просмотра:
    - info: |
        Проверка на то, что подсказка о воздушных панорамах не отображается, если ее уже просмотрели.
        Подсказка о воздушных панорамах просмотрена.
        Слой панорам выключен.
        Открыт главный экран приложения
    - do: Тап по кнопке меню
    - assert: Открывается главное меню экрана
    - do: Тап на Слои
    - assert: |
        Открыт экран 'Слои', отображается на высоту списка пунктов меню.
        В верхней части экрана может отображаться часть карты(зависит от размера экрана).
        Отображаются слои с иконками:
          * Пробки
          * Парковки
          * Движущийся транспорт
          * Дорожные события
          * Закладки
    - do: Тап на Панорамы
    - assert: |
        Кнопка панорам становится активной
        Дороги, на которых доступна панорама, окрашены
        На карте также отображаются пины воздушной панорамы(кружок с воздушным шаром) - может отображаться не везде.
        iOS - Подсказка о воздушных панорамах не отображается
    - do: Закрыть экран Слои
    - assert: |
        Открыт главный экран приложения
        Дороги, на которых доступна панорама, окрашены
        На карте также отображаются пины воздушной панорамы(кружок с воздушным шаром) - может отображаться не везде.
        Подсказка о воздушных панорамах не отображается

    - platforms:
        - ios
        - android


  Отображение подсказки после обновления о воздушных панорамах:
    - info: |
        Проверка отображения подсказки о воздушных панорамах после обновления с предыдущей версии приложения (не выше 12.1).
        Версия приложения с которого происходит обновление не выше 12.1.
        Слой панорам выключен.
        Открыт главный экран приложения
    - do: Тап по кнопке меню
    - assert: Открывается главное меню экрана
    - do: Тап на Слои
    - assert: |
        Открыт экран 'Слои', отображается на высоту списка пунктов меню.
        В верхней части экрана может отображаться часть карты(зависит от размера экрана).
        Отображаются слои с иконками:
         * Пробки
         * Парковки
         * Движущийся транспорт
         * Дорожные события
         * Закладки
    - do: Тап на Панорамы
    - assert: |
        Кнопка панорам становится активной
        Дороги, на которых доступна панорама, окрашены
        На карте также отображаются пины воздушной панорамы(кружок с воздушным шаром) - может отображаться не везде.
        Отобразилась подсказка с текстом: 'Чтобы увидеть панораму улицы, нажмите на цветную линию, а для просмотра панорамы с воздуха - на воздушный шар'

    - platforms:
        - ios
    - tags:
        - assessors

  Отображение подсказки о воздушных панорамах(обновление):
    - info: |
        Проверка на то, что не просмотренная подсказка на предыдущей версии приложения после обновления показывается.
        Обновление происходит с версии(Android - 9.1.1)/(iOS - 12.1.1) или больше.
        Подсказка о воздушных панорамах не просмотрена на предыдущей версии приложения.
        Слой панорам выключен.
        Открыт главный экран приложения
    - do: Тап по кнопке меню
    - assert: Открывается главное меню экрана
    - do: Тап на Слои
    - assert: |
        Открыт экран 'Слои', отображается на высоту списка пунктов меню.
        В верхней части экрана может отображаться часть карты(зависит от размера экрана).
        Отображаются слои с иконками:
          * Пробки
          * Парковки
          * Движущийся транспорт
          * Дорожные события
          * Закладки
    - do: Тап на Панорамы
    - assert: |
        Кнопка панорам становится активной
        Дороги, на которых доступна панорама окрашены
        На карте также отображаются пины воздушной панорамы(кружок с воздушным шаром) - может отображаться не везде.
        (iOS)Отобразилась подсказка с текстом - 'Чтобы увидеть панораму улицы, нажмите на цветную линию, а для просмотра панорамы с воздуха - на воздушный шар'
    - do: Закрыть экран Слои
    - assert: |
        Открыт главный экран приложения
        Дороги, на которых доступна панорама окрашены
        На карте также отображаются пины воздушной панорамы(кружок с воздушным шаром) - может отображаться не везде.
        Отобразилась подсказка с текстом - 'Чтобы увидеть панораму улицы, нажмите на цветную линию, а для просмотра панорамы с воздуха - на воздушный шар'

    - platforms:
        - ios
        - android

    - tags:
        - assessors


  Баллун с адресом топонима в Панорамах:
    - info: |
        Проверка отображения баллуна с адресом на топонимах
        Открыт спан Москвы
    - do: Тап на топоним
    - assert: |
        Появился красный пин над топонимом
        Открыта миникарточка топонима
    - do: Открыть карточку топонима до полной
    - assert: Отображается полная карточка топонима
    - do: Тап на блок панорам
    - assert: |
        Отображается экран панорам
        На экране отображается топоним из карточки
        Участок с мини картой, на которой отображается пин с областью обзора, лого 'Яндекс'
        Доступны кнопки:
          * Поделиться
          * Закрыть
          * Выбор года
          * (iOS) Активация управления гироскопом(компас) не отображается, появляется при свайпе
          * (Android) активация управления гироскопом(компас)
    - do: Рассмотреть топоним на панораме
    - assert: Отображается баллун с адресом на топониме
    - do: Тап на баллун
    - assert: |
        Баллун плавно раскрывается
        Отображается полный адрес
    - do: Тап на баллун
    - assert: |
        Баллун плавно сворачивается
    - do: Закрыть экран панорам
    - assert: |
        Отображается карточка топонима
        Проскролл сохранился

    - platforms:
        - ios
        - android

    - tags:
        - assessors


  Отображение баллунов с адресом на топонимах из слоя Панорамы:
    - info:
        Проверка отображения баллунов на топонимах с его адресом
        Открыт спан Москвы
        Слой панорам включен
    - do: Тап на подсвеченную дорогу с панорамами
    - assert: |
        Отображается экран панорам
        Участок с мини картой, на которой отображается пин с областью обзора, лого 'Яндекс'
        Доступны кнопки:
          * Поделиться
          * Закрыть
          * Выбор года
          * (iOS) Активация управления гироскопом(компас) не отображается, появляется при свайпе
          * (Android) Активация управления гироскопом(компас)
        Навигация по панораме возможно с помощью белых стрелок на экране
    - do: Рассмотреть улицу
    - assert: |
        На прилегающих топонимах к положению на схеме, отображаются баллуны с адресом
        Могут отображаться баллуны и на других топонимах
    - do: Тап на баллун
    - assert: |
        Баллун плавно раскрывается
        Отображается полный адрес
    - do: Тап на баллун
    - assert: |
        Баллун плавно сворачивается
    - do: Тап на белую стрелку
    - assert: |
        Происходит переход к следующему участку панорамы.
        Во время загрузки белая стрелка пропадает, отображается спиннер.
        Если на новом участке недоступен выбор года снимков, то drop-down меню дизейблится.
    - do: Рассмотреть улицу
    - assert: |
        На прилегающих топонимах к положению на схеме, отображаются баллуны с адресом
        Могут отображаться баллуны и на других топонимах
    - do: Тап на баллун
    - assert: |
        Баллун плавно раскрывается
        Отображется полный адрес топонима
    - do: Тап на баллун
    - assert: |
        Баллун плавно сворачивается
        Отображаются названия улиц и другие баллуны адресов

    - platforms:
        - ios
        - android
    - tags:
        - assessors
