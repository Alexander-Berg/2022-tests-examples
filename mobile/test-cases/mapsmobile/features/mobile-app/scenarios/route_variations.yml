components: route_variations
testing:
  - regress

specs:
  Построение нескольких маршрутов с разным количеством вариантов пути:
    - info: |
        Проверяем, не будет ли креша, если: сначала построить маршрут с несколькими вариантами далее открыть миникарточку последнего варианта маршрута а затем через форму Маршрут построить маршрут с единственным вариантом маршрута
        Построить произвольный автомаршрут и сбросить его
        Открыть форму Маршрут
    - do: Задать точки начала и конца автомаршрута так, чтобы на форме выбора варианта предлагалось больше 1 маршрута
    - assert: |
        Открыта форма выбора маршрута на вкладке автомаршрута
        На карте показано несколько вариантов автомаршрута
        Снизу открыта миникарточка текущего варианта автомаршрута, точки показывают количество альтернативных маршрутов
    - do: Несколько раз свайпнуть влево по мини-карточке варианта автомаршрута (не работает для ОТ), чтобы в итоге открыть мини-карточку последнего варианта автомаршрута или же можно свайпнуть вверх и выбрать последний автомаршрут из списка
    - assert: Открыта мини-карточка последнего варианта автомаршрута
    - do: тап по стрелке Назад в навбаре  (Для ОТ предварительно закрыть карточку маршрута)
    - assert: Открыта форма Маршрут со значениями точек
    - do: Построить новый маршрут, у которого будет только 1 вариант автомаршрута
    - assert: Открыта форма выбора варианта автомаршрута с 1 вариантом маршрута между новыми точками маршрута
    - do: Повторить предыдущие  шаги для маршрутов ОТ
    - assert: |
        Приложение не крешится, новый маршрут строится успешно
        На форме выбора варианта маршрута ОТ отображается миникарточка единственного варианта маршрута
    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Построение автомобильного маршрута после завершения предыдущего маршрута через лонгтап по карте:
    - info: |
        Проверяем, что при построении нескольких маршрутов один за другим обновляются данные о текущем местоположении: маршрут из точки А в точку В -> после достижения точки
        В построение маршрута из нового местоположения в условную точку В1
        В результате маршрут должен построиться от точки текущего местоположения (условно В) в новую точку конца маршрута (условно В1)
        Построить маршрут с подменой местоположения с произвольными точками маршрута Отсюда/Куда можно с включенной тычкой Demo Movement в дебаг панели
    - do: Построить автомобильный маршрут, перейти на форму ведения по нему и доехать до точки В
    - assert: |
        Открыта форма ведения по построенному маршруту
        По достижению точки конца маршрута в навбаре отображается Финиш с соответствующим черно-белым флагом
        Положение пина ММП отличается от точки начала первого маршрута
        Пин ММП находится в конце первого маршрута
    - do: Лонгтап по карте в другом месте карты -> Сюда
    - assert: |
        Открыта форма выбора варианта автомобильного маршрута
        Точка А находится в актуальном местоположении
        Точка В находится в месте, заданном лонгтап ->Сюда
        Линия маршрута проложена между точками А и В
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map

  Построение маршрута после завершения другого маршрута и проезда с открытым главным экраном:
    - info: |
        Построить произвольный маршрут через лонгтап по карте -> Сюда
        Открыть форму ведения по автомобильному маршруту
        Построить маршрут с подменой местоположения с произвольными точками маршрута Отсюда/Куда можно с включенной тычкой Demo Movement в дебаг панели
    - do: Доехать до конца маршрута и сбросить маршрут
    - assert: Пин Я переместился в точку конца маршрута Открыт главный экран приложения
    - do: Переместиться подальше от точки, в которой был завершен первый маршрут, оставляя открытым главный экран
    - assert: Пин текущего местоположения переместился
    - do: Открыть форму Маршрут и выбрать произвольную точку В
    - assert: Открыта форма выбора варианта маршрута с маршрутом, построенным от текущего местоположения  до точки В

    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Изменение маршрута из текущ местоположения на форме выбора варианта через лонгтап по карте -> Сюда:
    - info: |
        Проверяем, что на форме выбора варианта маршрут перестраивается правильно через лонгтап-> Сюда
        В этом случае точка А должна оставаться в прежнем месте, а В перестраиваться в заданную лонгтап точку
        Построен произвольный маршрут с точкой А в текущем местоположении
        Открыта форма выбора варианта маршрута на произвольной вкладке
    - do: Лонгтап по карте в месте, подальше от точки В -> Сюда
    - assert:
        Все еще открыта форма выбора варианта маршрута
        Точка В перенеслась в новое место, заданное лонгтап по карте
        Линия маршрута изменилась

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map

  Изменение маршрута из текущ местоположения на форме выбора маршрута через лонгтап по карте -> Отсюда:
    - info: |
        Проверяем, что при лонгтапе по карте-> Отсюда маршрут, построенный из точки текущего местоположения перестраивается от новой точки А в уже имеющуюся точку В, а не в текущее местоположение
        Построен произвольный маршрут с точкой А в текущем местоположении
        Открыта форма выбора варианта маршрута на произвольной вкладке
        Девайс в landscape ориентации
    - do: Лонгтап по карте в месте подальше от точки текущего местоположения -> Отсюда
    - assert: |
        Все еще открыта форма выбора варианта маршрута
        Точка А переместилась в точку, где был произведен лонгтап по карте -> Отсюда
        Точка В осталась на своем месте
        Линия маршрута обновилась

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map

  Изменение маршрута между точками, не совпадающими с текущ положением, через лонгтап по карте:
    - info: |
        Построен произвольный маршрут между точками, не совпадающими с текущим местоположением
        Открыта форма выбора маршрута на произвольной вкладке
    - do: Лонгтап по карте вдали от точки В -> Сюда
    - assert: |
        Все еще открыта форма выбора варианта маршрута
        Точка А осталась на прежнем месте и все еще не совпадает с текущим местоположением
        Точка В переместилась в место, в котором был произведен лонгтап по карте ->Сюда
        Линия маршрута обновилась
    - do: Лонгтап по карте вдали от точки А -> Отсюда
    - assert: |
        Все еще открыта форма выбора варианта маршрута
        Точка А переместилась в место, заданное в шаге 2 лонгтап-> Отсюда
        Точка В осталась на месте, заданном в шаге 1
        Линия маршрута обновилась

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map

  Изменение маршрута из текущ местоположения на форме выбора маршрута через драг-н-дроп:
    - info: |
        При перемещении точки В драг-н-дропом в маршруте из текущего местоположения точка А должна остаться в текущем местоположении, а точка В - в месте завершения драг-н-дропа
        При перемещении точки А драг-н-дропом в маршруте из текущего местоположения точка А должна переместиться в новое место
        Точка В должна остаться на прежнем В этом случае маршрут не должен привязываться к пину текущего местоположения
        Построен произвольный маршрут из точки текущего местоположения
        Открыта форма выбора варианта маршрута на произвольной вкладке
    - do: Лонгтап по пину точки В -> перенести ее драг-н-дропом в место подальше от текущей точки конца маршрута
    - assert: |
        После лонгтапа пин точки В поднимается
        Во время драг-н-дропа перемещается за пальцем в выбранную точку
        После завершения жеста все еще открыта форма выбора варианта маршрута
        Точка А осталась в текущем местоположении
        Точка В перенеслась в то место, где был завершен драг-н-дроп
        Линия маршрута обновилась и пролегает между текущим местоположением  и новой точкой В
    - do: Лонгтап по пину точки А -> перенести ее драг-н-дропом в место подальше от текущего местоположения
    - assert: |
        После лонгтапа пин точки А поднимается
        Во время драг-н-дропа перемещается за пальцем в выбранную точку
        После завершения жеста все еще открыта форма выбора варианта маршрута
        Точка А переместилась в выбранное драг-н-дропом место
        Точка В находится в месте, которое было выбрано в шаге 1
        Линия маршрута обновилась и пролегает между новой точкой А и точкой В из шага 2

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map

  Автофокус на участке карты с построенным маршрутом на форме выбора маршрута при переключении между вариантами маршрута:
    - info: |
        Проверяем, что приложение автоматически фокусируется на участке с построенным маршрутом при переключении между вариантами маршрута и вкладками с типами маршрута
        Перед прохождением ТК был создан автомобильный маршрут или не создавался никакой
        Открыт главный экран на 18-м зуме
    - do: Прокрутить карту так, чтобы был открыт участок подальше от текущего местоположения
    - assert: На карте не видно иконки текущего местоположения девайса
    - do: Создать автомобильный маршрут, чтобы было предложено минимум 2 варианта
    - assert: |
        Карта автоматически отзумилась и фокус переместился так, чтобы на экране был целиком виден построенный маршрут с его вариантами
        В навбаре выбран тип маршрута Автомобиль
    - do: Отзумить карту так, чтобы на карте была видна вся страна (для России последний зум)
    - assert: Отобразилась карта всей России
    - do: Свайп влево по блоку с описанием маршрута в миникарточке
    - assert:  Отобразилась миникарточка второго варианта маршрута Карта НЕ призумливается для вписания геометрии маршрут в видимый спан
    - do: Свайп в сторону на карте
    - assert: Маршрут скрылся за границами карты
    - do: Свайп вправо по блоку с миникарточками маршрута
    - assert:  Открылась миникарточка первого варианта маршрута Карта НЕ призумливается для вписания геометрии маршрут в видимый спан

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map

  Проверка количества подсказок о разнице между автомаршрутами на форме выбора маршрута (все  разные по времени):
    - info: Когда у всех маршрутов разное время в пути, на карте формы выбора варианта автомобильного маршрута всегда отображается n-1 подсказок, где n - общее количество маршрутов (максимальное кол-во 4)
    - do: Построить автомаршрут так, чтобы у текущего маршрута и альтернативных было разное время в пути Количество вариантов 2, 3,  4
    - assert: |
        Открыта форма выбора варианта автомобильного маршрута с подсказками на карте о разнице во времени между маршрутами
        Количество подсказок равно n-1, то есть: 1 при суммарно 2 маршрутах 2 подсказки при 3 маршрутах 3 подсказки при 4 маршрутах
    - platforms:
        - android
    - tags:
        - assessors

  Поверка кол-ва подсказок о разнице между автомаршрутами на форме выбора маршрута (всего 2 варианта с одинаковым временем):
    - do: Построить маршрут так, чтобы на форме выбора предлагалось всего 2 варианта маршрута с одинаковым временем в пути
    - assert: Открыта форма выбора варианта маршрута На карте отображаются две линии - окрашенная в цвет трафика и серая Подсказок о разнице во времени в пути нет, так как время у маршрутов одинаковое
    - do: Тап по линии альтернативного маршрута
    - assert: |
        На карте все еще нет подсказок о разнице во времени
        Стоит иметь ввиду, что в момент перехода к альтернативному маршруту ситуация с трафиком поменяется и разница во времени все-таки появится
        Перед заведением подобной ошибки просьба учитывать этот факт

    - platforms:
        - android
    - tags:
        - assessors
        - use_map

  Проверка кол-ва подсказок о разнице между автомаршрутами на форме выбора маршрута (всего 3 маршрута, у 2 одинаковое время в пути):
    - info: |
        В этом случае возможно 2 варианта: одинаковое время в пути у первого и второго маршрута одинаковое время в пути у первого и третьего маршрута одинаковое время в пути у второго и третьего маршрута
        Количество подсказок о разнице во времени в этих случаях при просмотре вариантов маршрутов будет разным  в разные моменты
    - do: Построить автомобильный маршрут так, чтобы всего было предложено 3 варианта, у двух из которых время в пути одинаковое (у 1 и 2)
    - assert: Открыта форма выбора варианта автомаршрута На карте всего 1 подсказка о разнице во времени — около последнего маршрута
    - do: Выбрать второй маршрут
    - assert: |
        Второй маршрут стал активным (его линия выделена в цвет трафика, снизу открыта миникарточка с его описанием)
        На карте все еще показана только 1 подсказка о разнице во времени в пути между маршрутами — около линии третьего маршрута
    - do: Выбрать третий маршрут
    - assert: |
        Третий маршрут стал активным (линия выделена в цвет трафика, остальные линии серые, открыта миникарточка с его описанием)
        Теперь на карте 2 подсказки о разнице во времени между маршрутами, так как и 1, и 2 маршрут отличаются по времени от 3
    - do: Построить автомобильный маршрут так, чтобы всего было предложено 3 варианта, у двух из которых одинаковое время в пути (у 1 и 3)
    - assert: |
        Открыта форма выбора варианта автомаршрута
        На карте всего 1 подсказка о разнице во времени — около второго маршрута
    - do: Выбрать второй маршрут
    - assert: |
        Второй маршрут стал активным (его линия выделена в цвет трафика, снизу открыта миникарточка с его описанием)
        На карте показаны 2 одинаковые подсказки о разнице во времени в пути между маршрутами — около линий 1 и 3 маршрутов
    - do: Выбрать третий маршрут
    - assert: |
        Третий маршрут стал активным (линия выделена в цвет трафика, остальные линии серые, открыта миникарточка с его описанием)
        На карте 1 подсказка о разнице во времени около линии второго маршрута
    - do: Построить автомобильный маршрут так, чтобы всего было предложено 3 варианта, у двух из которых одинаковое время в пути (у 2 и 3)
    - assert: |
        Открыта форма выбора варианта автомаршрута
        На карте 2 подсказки о разнице во времени — около второго и третьего маршрутов
    - do: Выбрать второй маршрут
    - assert: |
        Второй маршрут стал активным (его линия выделена в цвет трафика, снизу открыта миникарточка с его описанием)
        На карте показана только 1 подсказка о разнице во времени в пути между маршрутами — около линии первого маршрута
    - do: Выбрать третий маршрут
    - assert: |
        Третий маршрут стал активным (линия выделена в цвет трафика, остальные линии серые, открыта миникарточка с его описанием)
        На карте 1 подсказка о разнице во времени около линии первого маршрута

    - platforms:
        - android
    - tags:
        - assessors
        - use_map

  Просмотр информации о точках маршрута А и В  на форме выбора варианта маршрута:
    - info: |
        Построен произвольный автомаршрут
        Отображается экран выбора вариантов маршрута
    - do: Тап по пину начальной точки (если маршрут от текущего местоположения, то на пин 'Я')
    - assert: |
        Открыта мини-карточка топонима с информацией о точке
        На карте отображается поднятый пин (пин Я не поднимается)
        Адрес топонима совпадает с адресом, который был задан для начальной точки при построении маршрута
    - do: Тап по пину конечной точки
    - assert: |
        Открыта мини-карточка топонима с информацией о точке
        На карте отображается поднятый пин
        Адрес топонима совпадает с адресом, который был задан для конечной точки при построении маршрута
    - do: Повторить предыдущие проверки для маршрутов ОТ, пешком, на велосипеде
    - assert:  Ожидаемые результаты аналогичны ожидаемым результатам из предыдущих шагов

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map

  Проверка опции Избегать платных дорог при построении маршрута:
    - info: |
        Примеры маршрутов с платными дорогами: Москва - Ростов-на-Дону (трасса М4)Великий Новгород - Санкт-Петербург (трасса М11-Нева)Тверь - Москва (Трасса М11-Нева)
        Авторизоваться под тестовым аккаунтом:Меню - Личный кабинет - 'Войти'
        Функция Избегать платных дорог включена (Меню - Настройки - )
        Построен маршурут, проходящий через платную дорогу
    - do: тап на кнопку 'Параметры'
    - assert: Снизу отображается плашка параметров Свитчер рядом с 'Избегать платных дорог' активен и выделен
    - do: Тап на свитчер 'Избегать платных дорог'
    - assert: Свитчер переключился в неактивное состояние
    - do: тап на 'Готово'
    - assert: Список маршрутов изменился В списке отображаются  с платными дорогами

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - newbie


  Отображение манёвра 'Платная дорога':
    - info: |
        Примеры маршрутов с платными дорогами: Москва - Ростов-на-Дону (трасса М4)Великий Новгород - Санкт-Петербург (трасса М11-Нева)Тверь - Москва (Трасса М11-Нева).
    - do: Выключить эксперимент no_routes_tab (Настройки - Debug Panel - Experiments)
    - do: Перезапустить приложение
    - do: Тап на таб Маршруты
    - do: Построить автомобильный маршрут по платной дороге
    - assert: Маршрут построился. В миникарточке маршрута отображается иконка с валютой (для России с рублем) и фраза 'Есть платный участок'
    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Переход на экран выбора вариантов автомаршрута:
    - do: Тап на таб 'Маршруты'
    - assert:  Открылся экран 'Маршруты'
    - do: Тап в поле 'Куда'
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе (в поле мигает вертикальный курсор)
        Под полем 'Куда': 'Указать на карте', 'Голосовой ввод'
    - do: Ввести произвольный адрес и тап на него в появившейся подсказке под полем ввода
    - assert: |
        Открыт экран выбора вариантов маршрута
        Заполнены поля Откуда/Куда
        На карте отображается линия маршрута и линии альтернативных маршрутов (если есть) с подсказками
        Тип маршрута соответствует последнему выбранному (по умолчанию автомобильный)
        У каждого типа маршрута отображается время в пути (для такси цена)
        Если маршрут какого-то типа нельзя построить(например, слишком длинный для пешеходного), то время заменяется на троеточие
        Внизу экрана блоки маршрутов (если присутствуют альтернативные)
        В офлайн режиме могут отображаться не все маршруты
    - do: Сменить ориентацию девайса
    - assert:  Отображается экран выбора вариантов маршрута в landscape ориентации

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - newbie

  Переключение альтернативных маршрутов тап на карточки:
    - info: |
        Построен произвольный автомаршрут
        Маршрут должен быть с альтернативными маршрутами
        Открыт экран выбор вариантов маршрута
    - do: Тап на сниппет альтернативного автомаршрута
    - assert: |
        Выбранный сниппент выделен
        Выбранный маршрут окрасился цветом трафика
    - do: Выбрать пешеходный маршрут
    - assert: |
        Один из сниппетов выделен
        Линия выбранного маршрута выделена
    - do: Тап на карточку любого из маршрутов, кроме того, который сейчас выбран
    - assert: |
        Выбранный сниппент выделен
        Линия выбранного маршрута выделена
    - do: Выбрать велосипедный маршрут
    - assert: |
        Один из сниппетов выделен
        Линия выбранного маршрута выделена
    - do: Тап на карточку любого из маршрутов, кроме того, который сейчас выбран
    - assert: |
        Выбранный сниппент выделен
        Линия выбранного маршрута выделена

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors

  Переключение альтернативных автомобильных маршрутов тап на подсказку:
    - info: |
        Построен произвольный автомаршрут
        Маршрут должен быть с альтернативными вариантами маршрута
        Открыт экран выбора вариантов маршрута
    - do: Тап по одной из подсказок с временем над альтмаршрутом
    - assert: |
        Маршрут, по подсказке которого был произведен тап, выделен цветом трафика
        Автоматически изменилась мини-карточка маршрута
        (iOS) В подсказках отображается абсолютное время маршрута
        (Android) Значение в появившейся подсказке около линии первого маршрута совпадает с разницей между времени в пути в мини-карточках кратчайшего и текущего маршрутов

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - newbie

  Открытие формы Параметры на экране выбора вариантов автомобильного маршрута:
    - info: Построен произвольный автомаршрут Открыт экран выбора вариантов маршрута
    - do: Тап 'Параметры' в правом нижнем углу
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Ниже расположены: опция Избегать платных дорог со свитчером(по умолчанию выключена)((iOS)опция Запомнить параметры (по умолчанию включена))
    - do: Тап на свитчер 'Избегать платных дорог'
    - assert:  Свитчер перешел в состояние вкл
    - do: Тап 'Готово'
    - assert: |
        Параметры закрылись
        Если маршрут проходил через платные дороги, то он перестроился
        Открыт экран выбора вариантов маршрута
        В списке нет ни одного маршрута, который проходит по платным дорогам

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - newbie

  Открытие формы Параметры на экране выбора вариантов ОТ маршрута:
    - info:  Построен произвольный маршрут ОТ Открыт экран выбора вариантов маршрута
    - do: Тап на 'Параметры'
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Ниже блок Предпочтения по транспорту с различными видами транспорта
        В самом низу свитчер 'Запомнить параметры'
        По дефолту все чекбоксы отключены
    - do: Активировать один чекбокс
    - assert:  Чекбокс стал активным
    - do: Изменить ориентацию девайса на горизонтальную
    - assert: Состояние чекбоксов не поменялось
    - do: Тап на 'Готово'
    - assert:  |
        Панель 'Параметры маршрута' скрылась
        Открыт экран выбора вариантов маршрута
        Справа от кнопки 'Параметры' отображается цифра 1
        В начале списка отображены предпочитаемые типы маршрутов
        Если предпочитаемого типа нет для данного маршрута или другие типы подходят гораздо лучше, то отобразятся маршруты с другими типами транспорта
    - do: Тап на 'Параметры'
    - assert:  |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Ниже блок Виды транспорта: Электрички, Метро, Маршрутки, Автобусы, Троллейбусы, Трамваи
        В самом низу свитчер 'Запомнить параметры'
        Тип транспорта из предыдущих шагов включен
    - do: Отключить все типы транспорта
    - assert:  Все чекбоксы не подсвечиваются
    - do: Тап на 'Готово'
    - assert: |
        Панель 'Параметры маршрута' скрылась
        Открыт экран выбора вариантов маршрута
        Справа от кнопки 'Параметры' цифры не отображаются
        Список маршрутов изменился Отображается один маршрут пешком
        Маршрут пешком не отобразится, если длинна маршрута более 1 км (или более 10 мин)

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - newbie

  Опция Запомнить параметры для автомобильного маршрута:
    - info: Построить произвольный автомобильный маршрут Раскрыть список с альтернативными маршрутами
    - do: Тап 'Параметры'
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Ниже расположены опции: со свитчером 'Избегать платных дорог' (по умолчанию выключена), 'Запомнить параметры' (по умолчанию включена)
    - do: Тап 'Запомнить настройки' и 'Избегать платных дорог'
    - assert:  Свитчер 'Запомнить настройки выключен' Свитчер 'Избегать платных дорог' включен
    - do: Тап Готово
    - assert:  |
        Параметры закрылись
        Если маршрут проходил через платные дороги, то он перестроился
        Открыт экран выбора вариантов маршрута
        В списке нет ни одного маршрута, который проходит по платным дорогам
    - do: Закрыть экран выбора вариантов и построить новый авто-маршрут
    - assert:  Открыт экран выбора вариантов маршрута В списке может присутствовать маршрут по платным дорогам
    - do: Тап 'Параметры'
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Все свитчер в состоянии выкл
    - do: Включить все свитчеры и тап Готово
    - assert: |
        Параметры закрылись
        Открыт экран выбора вариантов маршрута
        В списке нет ни одного маршрута, который проходит по платным дорогам
    - do: Закрыть экран выбора вариантов и построить новый авто-маршрут
    - assert: Открыт экран выбора вариантов маршрута В списке нет ни одного маршрута, который проходит по платным дорогам
    - do: Тап Параметры
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Все свитчеры в состоянии 'вкл'

    - platforms:
        - ios
    - tags:
        - assessors


  Опция Запомнить параметры для маршрута ОТ:
    - info: Построить произвольный маршрут ОТ Открыт экран выбора вариантов маршрута
    - do: Тап на 'Параметры'
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Ниже блок Предпочтения по транспорту с различными видами транспорта
        В самом низу свитчер 'Запомнить параметры'
        По дефолту все чекбоксы отключены
    - do: Тап на 'Запомнить параметры' и на любой тип транспорта, например Маршрутки
    - assert:  Свитчер 'Запомнить параметры' выключен Тип транспорта Маршрутки включен
    - do: Тап на Готово
    - assert: |
        Панель 'Параметры маршрута' скрылась
        Открыт экран выбора вариантов маршрута
        В начале списка отображены предпочитаемые типы маршрутов
        Если предпочитаемого типа нет для данного маршрута или другие типы подходят гораздо лучше, то отобразятся маршруты с другими типами транспорта
    - do: Закрыть экран выбора вариантов и построить новый маршрут ОТ
    - assert:  Открыт экран выбора вариантов маршрута предлагаются на всех видах транспорта
    - do: Тап на 'Параметры'
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Все типы транспорта выключены
        Свитчер 'Запомнить параметры' выключен
    - do: Включить Запомнить параметры, проставить чекбокс напротив типа Маршрутки
    - assert: |
        Свитчер 'Запомнить параметры' в состоянии вкл
        Тип транспорта Маршрутки включен
    - do: Тап Готово
    - assert: |
        Открыт экран вариантов ОТ маршрута
        В начале списка отображены предпочитаемые типы маршрутов
        Если предпочитаемого типа нет для данного маршрута или другие типы подходят гораздо лучше, то отобразятся маршруты с другими типами транспорта
    - do: Закрыть экран выбора вариантов и построить новый маршрут ОТ
    - assert: |
        Открыт экран вариантов ОТ маршрута
        В начале списка отображены предпочитаемые типы маршрутов
        Если предпочитаемого типа нет для данного маршрута или другие типы подходят гораздо лучше, то отобразятся маршруты с другими типами транспорта
    - do: Тап на 'Параметры'
    - assert:  Снизу экрана появилась слайдинг-панель Тип транспорта Маршрутки включен Свитчер 'Запомнить настройки' включен
    - do: Перезапустить приложение и построить маршрут ОТ
    - do: Тап на 'Параметры'
    - assert: Снизу экрана появилась слайдинг-панель Тип транспорта Маршрутки включен Свитчер 'Запомнить настройки' включен
    - do: Разлогиниться в приложении и построить маршрут ОТ
    - do: Тап на 'Параметры'
    - assert: Снизу экрана появилась слайдинг-панель Тип транспорта Маршрутки включен Свитчер 'Запомнить настройки' включен

    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Опция Запомнить параметры для маршрута ОТ при обновлении приложения:
    - info: |
        Установлено приложение карт более ранней версии, чем тестируемая
        Построить произвольный маршрут ОТ Открыт экран выбора вариантов маршрута
    - do: Тап на 'Параметры'
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Ниже блок Предпочтения по транспорту с различными видами транспорта
        В самом низу свитчер 'Запомнить параметры'
        По дефолту все чекбоксы отключены, свитчер 'Запомнить параметры' включен
    - do: Активировать чекбокс любого вида транспорта, например Маршрутки
    - assert:  Свитчер 'Запомнить параметры' включен Тип транспорта Маршрутки включен
    - do: Тап на Готово
    - assert: |
        Панель 'Параметры маршрута' скрылась
        Открыт экран выбора вариантов маршрута
        В начале списка отображены предпочитаемые типы маршрутов
        Если предпочитаемого типа нет для данного маршрута или другие типы подходят гораздо лучше, то отобразятся маршруты с другими типами транспорта
    - do: Обновить приложение на тестируемую версию
    - do: Построить произвольный маршрут ОТ
    - assert: |
        Открыт экран выбора вариантов маршрута
        В начале списка отображены предпочитаемые типы маршрутов
        Если предпочитаемого типа нет для данного маршрута или другие типы подходят гораздо лучше, то отобразятся маршруты с другими типами транспорта
    - do: Тап на 'Параметры'
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Ниже блок Предпочтения по транспорту с различными видами транспорта
        Напротив типа транспорта Маршрутки установлен чекбокс
        Свитчер 'Запомнить параметры' включен

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps

  Построение маршрута ОТ:
    - info: |
        Не получен эксперимент `no_routes_tab` (Меню - Настройки - Debag panel - Experiments)
        Отображается главный экран приложения Маршрут должен быть построен между городами, куда входит участок по ЖД линиям
    - do: Тап на таб 'Маршруты'
    - assert:  Открылся экран Маршрут
    - do: Тап в поле 'Куда'
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе (в поле мигает вертикальный курсор)
        Под полем 'Куда': 'Указать на карте', 'Голосовой ввод'
    - do: Ввести произвольный адрес и тап на него в появившейся подсказке под полем ввода
    - assert:  |
        Открыт экран выбора вариантов маршрута
        Заполнены поля Откуда/Куда
        На карте отображается линия маршрута и линии альтернативных маршрутов(если есть) с подсказками
        Тип маршрута соответствует последнему выбранному (по умолчанию автомобильный)
        У каждого типа маршрута отображается время в пути(для такси цена)
        Если маршрут какого-то типа нельзя построить(например, слишком длинный для пешеходного), то время заменяется на троеточие
        Внизу экрана блоки маршрутов (если присутствуют альтернативные)
        В офлайн режиме могут отображаться не все
    - do: Тап на маршрут ОТ
    - assert: |
        Открыт экран выбора вариантов ОТ-маршрута
        Вверху экрана - Назад, Откуда/Куда (заполнены), кнопка вызова меню в виде трех вертикальных точек
        У каждого типа маршрута отображается время в пути
        Если маршрут какого-то типа нельзя построить, то время заменяется на троеточие
        Отображаются детали ОТ маршрута
        Отображаются 'Отправление сейчас' и 'Параметры'
    - do: Сменить ориентацию девайса
    - assert: |
        Отображается экран выбора вариантов маршрута в landscape ориентации
        Слева меню выбора вариантов маршрута, справа участок карты с маршрутом
        На карте отображается маршрут, блок слоев, изменения масштаба, ММП(на маленьких экранах кнопки масштаба и ММП могут не отображаться)
    - do: Свернуть и развернуть приложение
    - assert: Приложение разворачивается Отображается экран выбора вариантов маршрута

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - integration_run:
        - kotlin


  Отображение шторки на экране выбора вариантов маршрута:
    - info: Построить произвольный автомаршрут с экрана Маршрут Открыт экран выбора вариантов маршрута
    - do: Тап стрелку Назад
    - assert: |
        Открыт экран построения маршрута
        Поля начальной и конечной точки заполнены
        Появилось поле Добавить точку
        Справа от каждого поля отображается 2 горизонтальные линии
        В правом верхнем углу кнопка 'Далее'
    - do: Лонг-тап на горизонтальные линии у поля Добавить точку и драг-энд-дропом перенести это поле между начальной и конечной точкой
    - assert:  Поле Добавить точку находится межу начальной и конечной точкой
    - do: Тап на Далее
    - assert: |
        Открыт экран выбора вариантов маршрута
        Маршрут построен Отображается линия маршрута
        В навбаре: стрелка назад, Откуда, Куда, кнопка вызова контекстного меню
    - do: Тап на Откуда/Куда в навбаре
    - assert: |
        Навбар и список маршрутов скрылись
        Сверху экрана раскрылась шторка
        В шторке присутствуют поля: начальная точка, конечная точка, добавить точку (начальная и конечная точка заполнены)
        (iOS) Поле 'Добавить точку' находится внизу списка (Android) Поле 'Добавить точку' находится между начальной и конечной точкой
        В нижней части шторки отображается блок с иконкой типа транспорта, временем маршрута и кнопкой 'Готово'
    - do: Тап на Далее
    - assert:  |
        Шторка скрылась
        Навбар и список маршрутов отображается
        Построен маршрут
        На карте отображается линия маршрута
    - do: Повторить предыдущие шаги для остальных типов маршрута
    - assert:  Шторка корректно открывается и закрывается Поле Добавить точку отсутствует в маршруте на такси
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Добавление точки в автомаршрут:
    - info: |
        Пользователь авторизован
        Построен произвольный автомаршрут
        Открыт экран выбора вариантов маршрута
    - do: Тап на Откуда/Куда в навбаре
    - assert: |
        Раскрылась штора навбара
        Присутствует поле Добавить точку
    - do: Тап в поле Добавить точку
    - assert:  |
        Поле сместилось вверх экрана
        На экране отображается блок Дом/Работа, блок истории и закладок
        Фокус в поле ввода, отображается клавиатура
        Под строкой отображаются саджесты 'Моё местоположение, Указать на карте и Голосовой ввод
    - do: Ввести произвольный адрес
    - do: Тап на саджест
    - assert:  |
        Открыт экран выбора вариантов маршрута
        Сверху экрана отображается шторка Начальная точка не изменилась
        В правом углу находится кнопка 'Готово'
        Та точка, которая была конечной, теперь промежуточная и отображается с иконкой в виде квадрата
        Добавленная точка теперь отображается как конечная
        Внизу списка поле Добавить точку
        В нижней части шторки отображается блок с иконкой типа транспорта и временем маршрута
    - do: Тап на Готово
    - assert:  |
        Штора скрылась
        Навбар и блоки маршрутов отображаются
        Маршрут перестроился
        На линии маршрута отображается промежуточная точка
    - do: Тап на Откуда/Куда в навбаре
    - do: Тап в поле начальной точки
    - do: Ввести произвольный адрес
    - do: Тап на саджест
    - assert: В поле начальной точки отображается новый адрес
    - do: Тап на Готово
    - assert: Маршрут перестроен

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - newbie


  Отображение меню маршрута:
    - info: Построить произвольный автомаршрут от текущего местоположения Открыт экран выбора вариантов маршрута
    - do: Тап в навбаре кнопку в виде 3 вертикальных точек
    - assert: |
        В нижней части экрана появилось меню Маршрут
        В меню кнопки: Изменить маршрут, Параметры маршрута, Добавить точку, iOS 'Отменить' / Android 'Поделиться маршрутом'
    - do: Сменить ориентацию девайса
    - assert: |
        iOS: Ориентация не меняется Открыт экран выбора вариантов маршрута в вертикальной ориентации Отображается меню маршрута
        Android: Изменилась ориентация экрана устройства
    - do: |
        iOS: Тап Отменить
        Android: Тап в затемненную область экрана
    - assert:  Меню скрылось. Открыт экран выбора вариантов маршрута
    - do: Повторить  предыдущие шаги для остальных типов маршрута
    - assert: |
        Для общественного транспорта: Изменить маршрут, Параметры маршрута, Время отправления/прибытия, Поделиться маршрутом, Добавить точку, Сообщить об ошибке Отменить.
        Для такси: Изменить маршрут, Поделиться маршрутом, Сообщить об ошибке, Отменить.
        Для пеших маршрутов и вело: Изменить маршрут, Добавить точку, Поделиться маршрутом, Сообщить об ошибке, Отменить

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Редактирование маршрута через меню:
    - info: |
        Построен произвольный автомаршрут
        Открыт экран выбора вариантов маршрута
    - do: Тап в навбаре кнопку в виде 3 вертикальных точек
    - assert: В нижней части экрана появилось меню (на iPad посередине)
    - do: Тап на Изменить маршрут
    - assert: |
        Сверху экрана раскрылась шторка
        В шторке присутствуют поля: начальная точка, конечная точка, добавить точку
        Отображается кнопка Готово
    - do: Тап на Готово
    - assert: |
        Шторка скрылась
        Маршрут построен заново (вероятнее всего, совпадает с предыдущим)
        Навбар и список маршрутов отображается
    - do: Повторить предыдущие шаги для остальных типов маршрута
    - assert: Результат идентичный предыдущим шагам, но при построении маршрута такси отсутствует возможность добавить точку
    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Изменение параметров маршрута через меню:
    - info: Построен произвольный автомаршрут Открыт экран выбора вариантов маршрута
    - do: Тап в навбаре кнопку в виде 3 вертикальных точек
    - assert:  В нижней части экрана появилось меню
    - do: Тап 'Параметры маршрута'
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Ниже расположена опция со свитчером 'Избегать платных дорог'(по умолчанию выключена)
        (iOS) В самом низу опция 'Запомнить параметры'(по умолчанию включена)
    - do: Тап 'Готово'
    - assert:  Открыт экран выбора вариантов маршрута Меню скрыто
    - do: Выбрать тип транспорта ОТ
    - assert: |
        Маршрут перестроился
        Открыт экран выбора вариантов маршрута ОТ
        В навбаре адрес маршрута: 'Откуда: адрес_начальной_точки' и 'Куда: адрес_конечной_точки', кнопка меню
        Ниже список маршрутов в виде карточке
    - do: Тап в навбаре кнопку в виде 3 вертикальных точек
    - assert:  В нижней части экрана появилось меню
    - do: Тап 'Параметры маршрута'
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Ниже блок Предпочтения по транспорту с различными видами транспорта
        В самом низу свитчер 'Запомнить параметры'
        По дефолту все чекбоксы отключены
    - do: Тап 'Готово'
    - assert:  Открыт экран выбора вариантов маршруты Меню скрыто
    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - newbie

  Отображение манёвра «Въезд по пропускам»:
    - info: Проверяем, что отображается манёвр «Въезд по пропускам», если маршрут проложен через КПП
    - do: Тап на Маршрут
    - assert: |
        Открыт экран построения маршрута
        В поле начальной точки Моё местоположение (если определено)
        В поле конечной точки плейсхолдер Куда
    - do: Заполнить поле Куда Построить маршрут со шлагбаумом (например, подъезды к площади Ленина, г Тула)
    - assert:  Открылся экран выбора маршрута На карте отображается шлагбаум (могут также отображается и другие знаки, например, плохая дорога)

    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Переключение альтернативных маршрутов тап по линии маршрута:
    - info: |
        Построен произвольный автомаршрут
        Маршрут должен быть с альтернативными маршрутами
        Открыт экран выбора вариантов маршрута
    - do: Тап по одной из линий альтернативного маршрута
    - assert: |
        Выбранная линия маршрута активна
        Android: Значение в появившейся подсказке около линии первого маршрута совпадает с разницей между времени в пути в мини-карточках первого и текущего маршрутов
        iOS: В подсказках отображается абсолютное время текущего и альтернативных маршрутов
    - do: Построить пешеходный маршрут
    - do: Тап по одной из линии альтернативного маршрута
    - assert: |
        Выбранная линия маршрута активна
        Автоматически изменилась мини-карточка маршрута Время в пути указывается в мини-карточке
        Android: Значение в появившейся подсказке около линии первого маршрута совпадает с разницей между времени в пути в мини-карточках первого и текущего маршрутов
        iOS: В подсказках отображается абсолютное время текущего и альтернативных маршрутов
    - do: Построить велосипедный маршрут
    - do: Тап по одной из линии альтернативного маршрута
    - assert: |
        Выбранная линия маршрута активна
        Android: Значение в появившейся подсказке около линии первого маршрута совпадает с разницей между времени в пути в мини-карточках первого и текущего маршрутов
        iOS: В подсказках отображается абсолютное время текущего и альтернативных маршрутов

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - newbie

  Настройка времени отправления на экране выбора ОТ-маршрута:
    - info: |
        Кнопка 'Сбросить' в свитчере 'Отправление' по умолчанию не активна, становится активной после смены даты/времени
        Кнопка 'Сбросить' в свитчере 'Прибытие' активна всегда
        В свитчерах 'Отправление' и 'Прибытие' по умолчанию выставлено актуальное на данный момент время
    - preconditions: Открыт главный экран приложения
    - do: |
        Построить маршрут на ОТ:
        [collapsed-image](https://jing.yandex-team.ru/files/linakolpakova/маршрут%20ОТ.png){title=QR-код}

        yandexmaps://build_route_on_map/?lat_from=55.749041&lon_from=37.610946&lat_to=55.766539&lon_to=37.621245&rtt=mt
    - assert: |
        Отображается экран выбора ОТ-маршрута
        Отображается кнопка 'Отправление сейчас'
    - do: Тап 'Отправление сейчас'
    - assert: Открыта шторка настройки времени отправления и прибытия
    - do: Изменить время отправления
    - assert: |
        Время изменено
        Кнопка 'Сбросить' активна
    - do: Тап Сбросить
    - assert: |
        Время отправления изменено на актуальное
        Кнопка 'Сбросить' не активна
    - do: Изменить дату отправления
    - assert: |
        Дата изменена
        Кнопка 'Сбросить' активна
    - do: Тап Готово
    - assert: |
        Шторка закрыта
        Варианты маршрута изменены в соответствии с выбранным временем отправления
        Кнопка 'Отправление сейчас' заменилась на 'Отправление дд:мм в xx:хх'

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - newbie


  Настройка времени прибытия на экране выбора ОТ-маршрута:
    - info: |
        Кнопка 'Сбросить' в свитчере 'Отправление' по умолчанию не активна, становится активной после смены даты/времени
        Кнопка 'Сбросить' в свитчере 'Прибытие' активна всегда
        В свитчерах 'Отправление' и 'Прибытие' по умолчанию выставлено актуальное на данный момент время
    - preconditions: Открыт главный экран приложения
    - do: |
        Построить маршрут на ОТ:
        [collapsed-image](https://jing.yandex-team.ru/files/linakolpakova/маршрут%20ОТ.png){title=QR-код}

        yandexmaps://build_route_on_map/?lat_from=55.749041&lon_from=37.610946&lat_to=55.766539&lon_to=37.621245&rtt=mt
    - assert: |
        Отображается экран выбора ОТ-маршрута
        Отображается кнопка 'Отправление сейчас'
    - do: Тап 'Отправление сейчас'
    - assert: Открыта шторка настройки времени отправления и прибытия
    - do: Тап 'Прибытие'
    - assert:  |
        Выбрано 'Прибытие'
        Кнопка 'Сбросить' активна
        Отображаются актуальные дата и время
    - do: Изменить дату прибытия
    - do: Тап 'Сбросить'
    - assert: |
        Свитчер переключен в 'Отправление'
        Отображаются актуальные дата и время
    - do: Тап 'Прибытие'
    - assert: |
        Выбрано 'Прибытие'
        Кнопка 'Сбросить' активна
        Отображаются актуальные дата и время
    - do: Изменить время
    - do: Тап Готово
    - assert: |
        Шторка настройки времени отправления и прибытия закрыта
        Варианты маршрута изменены в соответствии с выбранным временем прибытия
        Кнопка 'Отправление в xx:хх' изменена на 'Прибытие в xx:хх'

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - newbie


  Отображение настройки времени отправления и прибытия на экране выбора ОТ-маршрута в горизонтальной ориентации:
    - info: |
        Кнопка 'Сбросить' в свитчере 'Отправление' по умолчанию не активна, становится активной после смены даты/времени
        Кнопка 'Сбросить' в свитчере 'Прибытие' активна всегда
        В свитчерах 'Отправление' и 'Прибытие' по умолчанию выставлено актуальное на данный момент время
    - preconditions: |
        Устройство в горизонтальной ориентации
        Открыт главный экран приложения
    - do: |
        Построить маршрут на ОТ:
        [collapsed-image](https://jing.yandex-team.ru/files/linakolpakova/маршрут%20ОТ.png){title=QR-код}

        yandexmaps://build_route_on_map/?lat_from=55.749041&lon_from=37.610946&lat_to=55.766539&lon_to=37.621245&rtt=mt
    - assert: |
        Отображается экран выбора ОТ-маршрута
        Отображается кнопка 'Отправление сейчас'
    - do: Тап 'Отправление сейчас'
    - assert: |
        Открыта шторка настройки времени отправления и прибытия, где присутствуют:
        Свитчер 'Отправление' и 'Прибытие', где по умолчанию выбрано 'Отправление'
        Блок с выбором даты и времени
        Кнопки 'Сбросить' и 'Готово'
    - do: Тап 'Прибытие'
    - assert: |
        Выбрано 'Прибытие'
        Кнопка 'Сбросить' активна
        Отображаются актуальные дата и время

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - newbie


  Отображение настройки времени отправления и прибытия на экране выбора ОТ-маршрута в вертикальной ориентации:
    - info: |
        Кнопка 'Сбросить' в свитчере 'Отправление' по умолчанию не активна, становится активной после смены даты/времени
        Кнопка 'Сбросить' в свитчере 'Прибытие' активна всегда
        В свитчерах 'Отправление' и 'Прибытие' по умолчанию выставлено актуальное на данный момент время
    - preconditions: |
        Устройство в вертикальной ориентации
        Открыт главный экран приложения
    - do: |
        Построить маршрут на ОТ:
        [collapsed-image](https://jing.yandex-team.ru/files/linakolpakova/маршрут%20ОТ.png){title=QR-код}

        yandexmaps://build_route_on_map/?lat_from=55.749041&lon_from=37.610946&lat_to=55.766539&lon_to=37.621245&rtt=mt
    - assert: |
        Отображается экран выбора ОТ-маршрута
        Отображается кнопка 'Отправление сейчас'
    - do: Тап 'Отправление сейчас'
    - assert: |
        Открыта шторка настройки времени отправления и прибытия, где присутствуют:
        Свитчер 'Отправление' и 'Прибытие', где по умолчанию выбрано 'Отправление'
        Блок с выбором даты и времени
        Кнопки 'Сбросить' и 'Готово'
    - do: Тап 'Прибытие'
    - assert: |
        Выбрано 'Прибытие'
        Кнопка 'Сбросить' активна
        Отображаются актуальные дата и время

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - newbie


  Настройка времени отправления в автомобильном маршруте (вертикальная ориентация):
    - info: |
        Устройство в вертикальной ориентации
        Открыт главный экран приложения
    - do: |
        Испольовать интент [collapsed-image](https://jing.yandex-team.ru/files/aamikhailin/YQR%20%281%29.jpeg){title=QR-код}

        `yandexmaps://add_exp?auto_departure_time_in_future`
    - do: Перезапустить приложение
    - do: Построить автомобильный маршрут
    - assert: |
        Отображается экран выбора маршрутов
        В левом нижнем углу отображается кнопка 'Часы' в виде циферблата
    - do: Тап по кнопке 'Часы'
    - assert: |
        Снизу появилась слайдинг-панель
        Вверху панели название 'Время отправления' и кнопка 'Готово'
        Под названием блок выбора даты и времени
        Дата и время актуальны на момент открытия
        Внизу кнопка 'Сбросить', не активна
    - do: Изменить дату и время
    - assert: |
        Дата и время изменились
        Кнопка 'Сбросить' стала активной
    -   do: Тап по 'Готово'
    - assert: |
        Маршрут на экране пересчитался
        Рядом с кнопкой 'Часы' появилась цифра 1
    - do: Тап по 'Поехали'
    - assert: |
        Появилось сообщение "Маршрут будет перестроен. Настройки времени будут сброшены, а маршрут перестроен на оптимальный"
        Ниже кнопки 'Понятно' и 'Закрыть' одна под другой
    - do: Тап по Понятно
    - assert: |
        Маршрут на экране пересчитался
        Отображается кнопка 'Часы' без цифры 1
    - do: Тап по 'Поехали'
    - assert: |
        Маршрут подтвержден
        Началось ведение

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - use_map
      - newbie


  Настройка времени отправления в автомобильном маршруте (горизонтальная ориентация):
    - info: |
        Устройство в горизонтальной ориентации
        Открыт главный экран приложения
    - do: |
        Испольовать интент [collapsed-image](https://jing.yandex-team.ru/files/aamikhailin/YQR%20%281%29.jpeg){title=QR-код}

        `yandexmaps://add_exp?auto_departure_time_in_future`
    - do: Перезапустить приложение
    - do: Построить автомобильный маршрут
    - assert: |
        Отображается экран выбора маршрутов
        В левом нижнем углу отображается кнопка 'Отправление сейчас'
    - do: Тап по кнопке 'Отправление сейчас'
    - assert: |
        Появилась слайдинг-панель
        Вверху панели название 'Время отправления' и кнопка 'Готово'
        Под названием блок выбора даты и времени
        Дата и время актуальны на момент открытия
        Внизу кнопка Сбросить, не активна
    - do: Изменить дату и время
    - assert: |
        Дата и время изменились
        Кнопка 'Сбросить' стала активной
    -   do: Тап по кнопке 'Готово'
    - assert: |
        Маршрут на экране пересчитался
        Кнопка 'Отправление сейчас' заменилась на 'Отправление в хх:хх'
    - do: Тап по 'Поехали'
    - assert: |
        Появилось сообщение "Маршрут будет перестроен. Настройки времени будут сброшены, а маршрут перестроен на оптимальный"
        Ниже кнопки Понятно и Закрыть одна под другой
    - do: Тап по 'Понятно'
    - assert: |
        Маршрут на экране пересчитался
        Кнопка 'Отправление в хх:хх' заменилась на 'Отправление сейчас'
    - do: Тап по 'Поехали'
    - assert: |
        Маршрут подтвержден
        Началось ведение

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - use_map
      - newbie


  Фиксация параметров для автомобильного маршрута:
    - info: Построить произвольный автомобильный маршрут Раскрыть список с альтернативными маршрутами
    - do: Тап 'Параметры'
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Ниже расположены: Опции со свитчером 'Избегать платных дорог'(по умолчанию выключена)
    - do: Тап на 'Избегать платных дорог'
    - assert:  Свитчер 'Избегать платных дорог' включен
    - do: Тап Готово
    - assert: |
        Параметры закрылись
        Если маршрут проходил через платные дороги, то он перестроился
        Открыт экран выбора вариантов маршрута
        В списке нет ни одного маршрута, который проходит по платным дорогам
    - do: Закрыть экран выбора вариантов и построить новый автомаршрут
    - assert:  Открыт экран выбора вариантов маршрута В списке отсутствуют по платным дорогам
    - do: Тап 'Параметры'
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Свитчер 'Избегать платных дорог включён'

    - platforms:
        - android
        - ios
    - tags:
        - assessors

  Построение веломаршрута через таб Маршруты:
    - do: Выключить эксперимент no_routes_tab (Настройки - Debug Panel - Experiments)
    - do: Перезапустить приложение
    - do: Тап на таб Маршруты
    - assert: Открылся экран Маршрут
    - do: Тап в поле Куда
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе
        Под полем 'Куда', 'Указать на карте', 'Голосовой ввод'
    - do: Ввести произвольный адрес
    - do: Тап на него в появившейся подсказке под полем ввода
    - assert: |
        Открыт экран выбора вариантов маршрута
        Заполнены поля Откуда/Куда
        На карте отображается линия маршрута и линии альтернативных маршрутов (если есть)
        Тип маршрута соответствует последнему выбранному (по умолчанию автомобильный)
    - do: Тап на веломаршрут
    - assert: |
        Открыт экран выбора вариантов веломаршрута
        Вверху экрана отображаются:
        - кнопка возвращения назад
        - заполненные поля Откуда/Куда
        - кнопка редактирования
        На карте отображается линия маршрута и линии альтернативных маршрутов (если есть)
        Внизу экрана кнопка вертикальной выдачи и сниппеты вариантов маршрута
        Отображается кнопка Поехали

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - newbie

  Автофокус на участке карты с построенным маршрутом на форме выбора маршрута при переключении между вариантами маршрута (ОТ):
    - info: Перед прохождением ТК был создан маршрут для ОТ Открыт главный экран на 18-м зуме
    - do: Прокрутить карту так, чтобы был открыт участок подальше от текущего местоположения
    - assert: На карте не видно иконки текущего местоположения девайса
    - do: Создать ОТ маршрут, чтобы было предложено минимум 2 варианта
    - assert:  Отобразилась страница со списком вариантов маршрута В навбаре выбран тип маршрута 'Общественный транспорт'
    - do: тап на 1-м варианте
    - assert: |
        Отобразилась карта с отцентрованным полным маршрутом (верхняя 1/4 - 1/3 часть экрана)
        На остальной части экрана детализация маршрута
    - do: Свернуть детализацию маршрута свайпом вниз
    - assert: |
        Детализация свернулась до миникарточки
        Карта отобразилась на весь экран, маршрут остался отцентрованным, масштаб карты не изменился
    - do: Отзумить карту так, чтобы на карте была видна вся страна (для России последний зум)
    - assert: Отобразилась карта всей России
    - do: Тап на кнопку Закрыть в навбаре
    - assert: Отобразилась страница со списком вариантов маршрута
    - do: тап на 2-м или других вариантах (кроме 1-го)
    - assert: |
        Отобразилась карта с отцентрованным полным выбранным маршрутом(верхняя 1/3 - 1/4 часть экрана)
        На остальной части экрана детализация выбранного маршрута
    - do: Свернуть детализацию маршрута свайпом вниз
    - assert: |
        Детализация свернулась до миникарточки
        Карта отобразилась на весь экран, маршрут остался отцентрованным, масштаб карты не изменился

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
    - integration_run:
        - kotlin

  Автофокус на участке карты с построенным маршрутом (Такси):
    - info: Перед прохождением ТК был создан маршрут для такси через таб Открыт главный экран на 18-м зуме
    - do: Прокрутить карту так, чтобы был открыт участок подальше от текущего местоположения
    - assert: На карте не видно иконки текущего местоположения девайса
    - do: Выбрать конечную точку маршрута (на карте или через избранное)
    - assert:  Карта автоматически отзумилась и фокус переместился так, чтобы на экране был целиком виден построенный маршрут В навбаре выбран тип маршрута 'Такси'
    - do: Тап на кнопку Назад в навбаре
    - assert: Отобразилась страница Маршрут
    - do: Тап на кнопку Назад в верхнем левом углу страницы
    - assert: Маршрут сбросился, отобразилась карта без маршрута с той отцентровкой и зумом
    - do: Отзумить карту так, чтобы на карте была видна вся страна (для России последний зум)
    - assert: Отобразилась карта всей России
    - do: Выбрать конечную точку маршрута (через меню )
    - assert:  Отобразилась миникарточка маршрута Карта автоматически зазумилась и сфокусировалась так, что крупно виден весь построенный маршрут целиком

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map

  Переключение альтернативных пешеходных маршрутов тап на подсказку:
    - info: |
        Построен произвольный пеший маршрут
        Открыт экран выбора вариантов маршрута
    - do: Тап по одной из подсказок с временем над альтмаршрутом
    - assert: |
        Выбранный маршрут активен
        (iOS)В подсказках отображается абсолютное время маршрута
        (Android)Значение в появившейся подсказке около линии первого маршрута совпадает с разницей между времени в пути в мини-карточках первого и текущего маршрутов

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors

  Переключение альтернативных велосипедных маршрутов тап на подсказку:
    - info: |
        Построен произвольный веломаршрут
        Открыт экран выбора вариантов маршрута
        Маршрут должен быть с альтернативными вариантами
    - do: Тап по одной из подсказок с временем над альтернативным маршрутом
    - assert: |
        Первый маршрут, который был выделен зеленым цветом на карте, стал выделен серой линией
        Маршрут, по подсказке которого был произведен тап, выделен зеленым цветом
        Автоматически изменилась мини-карточка маршрута
        (iOS)В подсказках отображается абсолютное время маршрута
        (Android)Значение в появившейся подсказке около линии первого маршрута совпадает с разницей между времени в пути в мини-карточках первого и текущего маршрутов

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors

  Проверка количества подсказок с временем в пути для автомаршрутов на форме выбора маршрута(все  разные по времени):
    - do: Построить автомаршрут так, чтобы у текущего маршрута и альтернативных было разное время в пути Количество вариантов 2 3 4
    - assert: |
        Открыта форма выбора варианта автомобильного маршрута с подсказками на карте о времени в пути
        Подсказка отображается для каждого маршрута
        Подсказка текущего маршрута синяя
        Подсказки альтернативных маршрутов белые

    - platforms:
        - ios
    - tags:
        - assessors

  Поверка кол-ва подсказок о разнице между автомаршрутами на форме выбора маршрута(всего 2 варианта с одинаковым временем):
    - do: Построить маршрут так, чтобы на форме выбора предлагалось всего 2 варианта маршрута с одинаковым временем в пути
    - assert: |
        Открыта форма выбора варианта маршрута
        На карте отображаются две линии - окрашенная в цвет трафика и серая
        У каждой линии показано абсолютное время в пути
    - do: Тап по линии альтернативного маршрута
    - assert:  На карте показаны линии маршрута с абсолютным временем в пути в каждом варианте

    - platforms:
      - ios
    - tags:
        - assessors

  Проверка кол-ва подсказок о времени в пути между автомаршрутами на форме выбора маршрута (всего 3 маршрута у 2 одинаковое время в пути):
    - info: |
        В этом случае возможно 2 варианта: одинаковое время в пути у первого и второго маршрута одинаковое время в пути у первого и третьего маршрута одинаковое время в пути у второго и третьего маршрута
        Возле каждой линии маршрута указано абсолютное время в пути
    - do: Построить автомобильный маршрут так, чтобы всего было предложено 3 варианта, у двух из которых время в пути одинаковое (у 1 и 2)
    - assert: Открыта форма выбора варианта автомаршрута На карте все 3 подсказки о времени в пути возле каждой линии
    - do: Выбрать второй маршрут
    - assert: |
        Второй маршрут стал активным(его линия выделена в цвет трафика, снизу открыта миникарточка с его описанием), показана подсказка со временем в пути
        Возле остальных линий маршрута показаны подсказки со временем в пути
    - do: Выбрать третий маршрут
    - assert: |
        Третий маршрут стал активным(линия выделена в цвет трафика, остальные линии серые, открыта миникарточка с его описанием)
        На карте по-прежнему три подсказки со временем в пути возле каждой линии маршрута
    - do: Построить автомобильный маршрут так, чтобы всего было предложено 3 варианта, у двух из которых одинаковое время в пути (у 1 и 3)
    - assert: Открыта форма выбора варианта автомаршрута На карте 3 подсказки о времени — около каждого маршрута
    - do: Выбрать второй маршрут
    - assert: |
        Второй маршрут стал активным(его линия выделена в цвет трафика, снизу открыта миникарточка с его описанием)
        На карте показаны 3 подсказки о времени в пути, две из них - с одинаковым временем
    - do: Выбрать третий маршрут
    - assert: |
        Третий маршрут стал активным(линия выделена в цвет трафика, остальные линии серые, открыта миникарточка с его описанием)
        На карте 3 подсказки о времени
    - do: Построить автомобильный маршрут так, чтобы всего было предложено 3 варианта, у двух из которых одинаковое время в пути (у 2 и 3)
    - assert: |
        Открыта форма выбора варианта автомаршрута
        На карте 3 подсказки о времени
    - do: Выбрать второй маршрут
    - assert: |
        Второй маршрут стал активным(его линия выделена в цвет трафика, снизу открыта миникарточка с его описанием)
        На карте 3 подсказки
    - do: Выбрать третий маршрут
    - assert: |
        Третий маршрут стал активным(линия выделена в цвет трафика, остальные линии серые, открыта миникарточка с его описанием)
        На карте 3 подсказки

    - platforms:
        - ios
    - tags:
        - assessors

  Отображение плашки 'Перекрыто' при построении маршрута через перекрытый участок дороги:
    - info: В настройках отображено перекрытие дороги (Настройки -> Слои -> Дорожные события) Найти на карте перекрытый участок дороги
    - do: Построить автомобильный маршрут (без вариантов выбора маршрута) через перекрытый участок дороги
    - assert: |
        Отображается экран с построенным маршрутом
        На линии маршрута отображается плашка с текстом 'Перекрыто'
        В карточке маршрута отображено: Время в пути, Расстояние, Кнопка 'Поехали', Надпись 'Закрыт участок маршрута'
    - do: Построить автомобильный маршрут (с вариантами выбора %маршрута) через перекрытый участок дороги
    - assert: |
        Отображается экран с построенными маршрутом
        На линии с маршрутами проходящими через перекрытый участок дороги отображается плашка с текстом 'Перекрыто'
        В карточке маршрута с перекрытым участком дороги отображено: Время в пути, Расстояние, Кнопка 'Поехали', надпись 'Закрыт участок маршрута'
        Если есть альтернативные варианты маршрута, в объезд перекрытого участка, маршрут через перекрытый участок не отображается

    - platforms:
        - ios
    - tags:
        - assessors


  Просмотр карточки маршрута ОТ:
    - info: |
        Отображается главный экран приложения
        Участок карты - г Москва, остановка ОТ - метро Отрадное
        Слой ОТ включён (Таб Транспорт)
    - do: Открыть полную карточку остановки
    - assert: |
        Открывается полная карточка остановки
        Отображаются action-кнопки 'Маршрут' и 'Сохранить'
        Может отображаться кнопка 'Расписание'
    - do: Открыть карточку любого маршрута ОТ, ходящего по расписанию (без зеленого кружка)
    - assert: |
        Открывается мини-карточка маршрута
        Отображается кнопка "Другие рейсы"
    - do: Тап по кнопке 'Другие рейсы маршрута'
    - assert: |
        Спан карты затемняется, снизу открывается поп-ап
        В нем отображается: Номер или название маршрута, кнопка Готово
        Отображается список маршрутов данного транспорта в различные направления
        Напротив выбранного маршрута стоит активный чекбокс
    - do: Тап по другому пункту в списке
    - assert: Маршрут изменен
    - do: (Android) Тап на Готово / (iOS) Тап на Закрыть
    - assert: |
        Открыта мини-карточка маршрута в выбранном направлении
        На спане карты отображается изменившийся маршрут
    - do: Тап по мини-карточке
    - assert: |
        Открывается полная карточка маршрута
        В карточке указано общее кол-во остановок на маршруте (N остановок), а также их список
        Может отображаться кнопка 'N остановок' со стрелочкой вниз
    - do: Тап по кнопке 'N остановок' (если такой кнопки нет, то пропустить шаг)
    - assert: |
        Список остановок разворачивается
        Отображаются все остановки данного маршрута
    - do: Тап на крестик в карточке маршрута
    - do: Тап на крестик в карточке остановки
    - do: Открыть мини-карточку маршрута, который ходит с интервалами и сейчас находится в пути
    - assert: |
        Имеется номер или название маршрута
        Отображается начальная и конечная точки
        Ниже значок ОТ с видом выделенного транспорта своего цвета
        Указана следующая остановка транспорта, время прибытия на неё
    - do: Тап по мини-карточке
    - assert: |
        Открывается полная карточка маршрута
        В карточке указано общее кол-во остановок на маршруте (N остановок), а также их список
        Указана начальная остановка
        Присутствует кнопка 'N остановок' со стрелкой вниз
        Рядом с остановкой, на которой находится или на которую прибывает выбранный транспорт, пульсирующий цветной кружок
        У непройденных остановок линия цветная, кружки тоже цветные, слева от кнопки N остановок цветная точка
        У непройденных остановок отображается время прибытия

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map

  Построение маршрута такси с учетом встречной выделенной полосы:
    - info: Открыт экран построение маршрута Последний построенный маршрут - маршрут Такси
    - do: Тап по полю 'Откуда'
    - assert: |
        Поле 'Откуда' стало активным и переместилось в верхнюю часть экрана
        Под полем 'Откуда' отображаются: 'Моё местоположение', 'Указать на карте', 'Голосовой ввод'
        В поле 'Откуда' мигает указатель ввода
    - do: Ввести в поле 'Откуда' - Курортный проспект 58, Сочи
    - assert: |
        В поле 'Откуда' отображается 'Курортный проспект 58, Сочи'
        Отображаются саджесты поисковой выдачи
        Раскрыта клавиатура ввода
    - do: Тап по саджесту 'Курортный проспект, 58 - Сочи, Краснодарский край, Россия'
    - assert: |
        Отображается экран 'Маршрут'
        Клавиатура ввода скрыта
        В поле 'Откуда' отображается выбранный пользователем адрес 'Курортный проспект, 58'
    - do: Тап по полю 'Куда'
    - assert: |
        Поле 'Куда' стало активным и переместилось в верхнюю часть экрана
        Поле 'Куда' переместилось в верхнюю часть экрана
        Под полем ‘Откуда’ отображаются: ‘Моё местоположение’, ‘Указать на карте’, ‘Голосовой ввод’
    - do: Ввести в поле ‘Куда’ - Депутатская 8, Сочи
    - assert: |
        В поле ‘Откуда’ отображается ‘Депутатская 8, Сочи’
        Отображаются саджесты поисковой выдачи
        Раскрыта клавиатура ввода
    - do: Тап по саджесту 'Депутатская улица, 8 - микрорайон Светлана, Сочи, Краснодарский край, Россия'
    - assert: |
        Открывается экран с построенным маршрутом
        Маршрут проложен через Курортный проспект на Курортном проспекте есть встречная полоса такси)
        В верхней части экрана отображаются:Кнопка 'Назад', Откуда, Куда
        В нижней части экрана отображаются: Время в пути, Иконка ЯндексGo и надпись: 'ЯндексGo приедет за N минут', Примерная цена поездки, Кнопка 'Вызвать'
    - do: Сменить вариант вида транспорта на автомобиль
    - assert: |
        Маршрут перестроен и не совпадает с маршрутом Такси
        Автомобильный маршрут не проходит через Курортный проспект
    - do: Сменить вариант вида транспорта на такси
    - assert: |
        Маршрут перестроен и не совпадает с автомобильным
        Маршрут такси построен через дорогу со встречной полосой такси (Курортный проспект)

    - platforms:
        - ios
    - tags:
        - assessors

  Отображение экрана сравнения маршрутов (карточка организации):
    - do: Тап на пин организации
    - assert: |
        На карте поднятый пин
        Отображается миникарточка организации
        В экшен баре присутсвует кнопка 'Маршрут'
    - do: Тап на кнопку маршрута
    - assert: |
        Открыт экран выбора вариантов маршрута/
        Маршрут построен
        Вверху экрана: < Назад, Откуда/Куда (заполнены), кнопка вызова меню
        Тип маршрута соответствует последнему выбранному(по умолчанию автомобильный)
    - do: Тап на Все
    - assert: |
        Отображается экран сравнения маршрутов
        Вверху отображается навбар, где заполнены поля Откуда и Куда
        Ниже отображаются кнопка Все и виды транспортов
        Далее отображаются сниппеты маршрутов
        По левому  краю отображаются иконки транспорта, далее наименование каждого транспорта(в случае с такси указана примерная стоимость, в случае каршеринга - указана стоимость, марка  автомобиля, время в пути)
        В сниппете также отображаются подсказки по маршруту и алерты
        По правому краю показана информация по времени
    - do: Сменить ориентацию устройства на горизонтальную
    - assert: |
        При повороте ничего не съехало
        Экран сравнения варианта маршрута отображается слева
        Справа отображается спан карты

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Построение пешего маршрута:
    - do: Тап на таб 'Маршруты'
    - assert:  Открылся экран Маршрут
    - do: Тап в поле 'Куда'
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе
        Под полем 'Куда', 'Указать на карте', 'Голосовой ввод'
    - do: Ввести произвольный адрес и тап на него в появившейся подсказке под полем ввода
    - assert: |
        Открыт экран выбора вариантов маршрута
        Заполнены поля Откуда/Куда
        На карте отображается линия маршрута и линии альтернативных маршрутов(если есть)
        Тип маршрута соответствует последнему выбранному(по умолчанию автомобильный)
    - do: Тап на пешеходный маршрут (иконка в виде человека)
    - assert: |
        Открыт экран выбора вариантов пешеходного маршрута
        Вверху экрана - кнопка Назад, Откуда/Куда (заполнены), кнопка вызова меню в виде трех вертикальных точек
        На карте отображается линия маршрута и линии альтернативных маршрутов(если есть)
        Внизу экрана кнопка вертикальной выдачи и сниппеты вариантов маршрута
        Каждый блок представляется из себя карточку с информацией о времени в пути и расстоянии
        Отображается кнопка Начать

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - newbie

  Отображение экрана сравнения маршрутов (лонгтап):
    - do: Лонг-тап по карте
    - assert: |
        Отображается лонг-тап меню
        На экране отображаются: Сохранить, Отсюда, Сюда/Что здесь? Добавить объект, Добавить дорожное событие, Измерить расстояние, Панорама
    - do: Тап на  Сюда
    - assert: |
        Открыт экран выбора вариантов маршрута
        Маршрут построен
        Вверху экрана: (iOS) < Назад, Откуда/Куда (заполнены), кнопка вызова меню в виде трех вертикальных точек
        Вверху экрана: (Android) <-, Откуда/Куда (заполнены), кнопка вызова меню в виде трех вертикальных точек
        На карте отображается линия маршрута и линии альтернативных маршрутов(если есть) с подсказками
        Тип маршрута соответствует последнему выбранному(по умолчанию автомобильный)
        У каждого типа маршрута отображается время в пути (для такси цена)
        Если маршрут какого-то типа нельзя построить(например, слишком длинный для пешеходного), то время заменяется на троеточие
        Внизу экрана свернутый список маршрутов (если присутствуют альтернативные)
        Каждый маршрут в списке представляется из себя карточку с информацией: время в пути, расстояни
        Также отображается таб Все с иконкой автомобиля и автобуса
    - do: Свернуть и развернуть приложение
    - assert:  Отображается  экран сравнения маршрутов, ничего не пропало/не съехало

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map

  Построение ОТ маршрута через экран сравнения маршрута:
    - info: Построить маршрут и открыть  экран сравнения маршрутов ОТ любым способом
    - do: Тап на 'Посмотреть на карте'
    - assert: |
        Открываются детали маршрута
        Вверху кнопка Назад, общее время маршрута, время начала и конца маршрута
        Ниже блок с картой и линией маршрута
        Внизу карточка маршрута с информацией: последовательность пересадок, подробная информация о маршруте, с номерами транспорта, расстояниям, прогнозом прибытия, кнопкой Открыть варианты и расписание и тд (наличие элементов зависит от маршрута)
        В самом низу карточки кнопка: Поехали
    - do: Сменить ориентацию устройства на горизонтальную
    - assert:  При повороте ничего не съехало Экран выбора варианта маршрута отображается слева Справа отображается геометрия маршрута

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors

  Построение пешеходного маршрута через экран сравнения маршрута:
    - info: Открыт экран сравнения маршрутов любым способом
    - do: Выбрать пеший маршрут
    - assert: |
        Открыт экран выбора вариантов маршрута
        В вверху адрес маршрута: Откуда, Куда
        Тип маршрута - пеший
        Внизу экрана блоки альтернативных маршрутов(если присутствуют альтернативные)
        Каждый блок представляется из себя карточку с информацией: время в пути, расстояние, количество лестниц (при их наличии по маршруту)
        Внизу отображается кнопка 'Начать'
    - do: Сменить ориентацию устройства на горизонтальную
    - assert:  При повороте ничего не съехало Экран выбора варианта маршрута отображается слева Справа отображается геометрия маршрута

    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Отображение экрана сравнения маршрутов офлайн (через экран построение маршрутов):
    - info: |
        Открыт главный экран приложения
        Скачана офлайн-карта города, где определено ММП
        Включен авиа-режим
    - do: Тап на таб 'Маршруты'
    - assert:  Открылся экран Маршрут
    - do: Тап в поле 'Куда'
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе
        Под полем 'Куда', 'Указать на карте', 'Голосовой ввод'
    - do: Ввести произвольный адрес и построить автомобильный маршрут
    - assert: |
        Построился маршрут
        Открыт экран выбора вариантов маршрута
        Линия маршрута окрашена в фиолетовый цвет
        Отображается кнопка 'Поехали'
    - do: Тап на таб Все
    - assert: |
        Отображается экран сравнения маршрутов
        Вверху отображается навбар, где заполнены поля Откуда и Куда
        Ниже отображаются кнопка Все и виды транспортов
        Далее отображается один сниппет 'На машине' с указанием времени

    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Запоминание таба Все при первом построении маршрута:
    - info: |
        В дебаг-панели включён эксперимент routes_comparison_tab_retention
        Пользователь строит маршрут впервые
        Открыт главный экран приложения
    - do: Тап на таб 'Маршруты'
    - assert:  Открылся экран Маршрут
    - do: Тап в поле 'Куда'
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе
        Под полем 'Куда', 'Указать на карте', 'Голосовой ввод'
    - do: Ввести произвольный адрес и тап на него в появившейся подсказке под полем ввода
    - assert: |
        Отображается экран сравнения маршрутов
        Вверху отображается навбар, где заполнены поля Откуда и Куда
        Ниже отображаются кнопка Все и виды транспортов
        Далее отображаются сниппеты маршрутов
        По левому  краю отображаются иконки транспорта, далее время в пути(в случае с такси - примерная стоимость поездки, в случае каршеринга - указана стоимость, марка  автомобиля, время в пути)
        В сниппете также отображаются подсказки по маршруту и алерты
        По правому  краю дублируется информация по времени

    - platforms:
        - ios
    - tags:
        - assessors

  Запоминание таба Все если последний маршрут был не авто:
    - info: В дебаг-панели включён эксперимент routes_comparison_tab_retention В последний раз был построен не автомаршрут
    - do: Тап на таб 'Маршруты'
    - assert:  Открылся экран Маршрут
    - do: Тап в поле 'Куда'
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе
        Под полем 'Куда', 'Указать на карте', 'Голосовой ввод'
    - do: Ввести произвольный адрес и тап на него в появившейся подсказке под полем ввода
    - assert: |
        Открывается экран сравнения маршрутов Все
        Наполнение зависит от длины маршрута и города
        Экран сравнения открывается независимо от того, какой маршрут был построен последним (кроме авто)

    - platforms:
        - ios
    - tags:
        - assessors

  Запоминание таба если последний маршрут был авто:
    - info: В дебаг-панели включён эксперимент routes_comparison_tab_retention В последний раз был построен автомаршрут
    - do: Тап на таб 'Маршруты'
    - assert:  Открылся экран Маршрут
    - do: Тап в поле 'Куда'
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе
        Под полем 'Куда', 'Указать на карте''Голосовой ввод'
    - do: Ввести произвольный адрес и тап на него в появившейся подсказке под полем ввода
    - assert: |
        Открывается экран выбор вариантов автомаршрута
        Экран сравнения Все не открывается, но доступен для перехода на него

    - platforms:
        - ios
    - tags:
        - assessors

  Пеший маршрут при построении из Ближайших станций метро:
    - info: |
        При построении маршрута из Ближайших станций метро в карточке должен строится пешеходный маршрут
        В дебаг-панели включён эксперимент routes_comparison_tab_retention
        На спане карта г Москва
    - do: Тап на пин организации
    - assert: |
        На карте поднятый пин и точки входа(если присутствуют)
        Отображается миникарточка организации
        На карточке отображается: Название, категория, рейтинг и количество оценок, режим работы, время маршрута и растояние
        Ниже кнопки: Маршрут кнопка определенного типа маршрута, кнопка звонка, поделиться, закладка, сайт (обязательно присутствуют только Маршрут и добавления в закладки, остальные могут отсутствовать)
    - do: Раскрыть карточку организации
    - assert: |
        Отображается полная карточка организации
        В карточке присутсвует блок "Близжайшие станции метро"
    - do: Тап по блоку Ближайшие станции метро
    - assert: |
        Разворачивается список ближайших станций метро
        У каждого пункта списка имеются: Кружок цвета линии, на которой находится станция, Название, Расстояние от организации до станции метро, Стрелка вправо
    - do: Тап по любой из станций
    - assert: |
        Открывается экран выбора маршрутов
        Построен пешеходный маршрут от организации до станции метро
        Независимо от того, какой маршрут был последним, всегда построен пешеходный маршрут
    - platforms:
        - ios
    - tags:
        - assessors
        - use_map

  Режим навигации на нестартовых экранах:
    - info: |
        Открыт главный экран приложения
        Включён режим навигации
    - do: Тап по строке поиска
    - assert:  Открылся экран поиска
    - do: Тап по любой категории
    - assert: |
        Отображаются пины поисковой выдачи
        Ниже - список организаций
        Режим навигации НЕ отключается
        Слежение за стрелкой прекращается
    - do: Тап Закрыть
    - assert: |
        Открыт главный экран приложения
        Режим навигации включён
    - do: Тап на таб 'Маршруты'
    - assert:  Открылся экран Маршрут
    - do: Тап в поле 'Куда'
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе(в поле мигает вертикальный курсор)
        Под полем 'Куда', Указать на карте, 'Голосовой ввод'
    - do: Ввести произвольный адрес и тап на него в появившейся подсказке под полем ввода
    - assert: |
        Открыт экран выбора вариантов маршрута
        На экране выбора вариантов маршрута автоматически открывается тип "Авто"
        Построен маршрут Режим навигации включён
        Слежение за стрелкой прекращается

    - platforms:
        - ios
    - tags:
        - assessors

  Отображение алерта при построении маршрута Такси с промежуточными точками:
    - info: Построен произвольный маршрут, без промежуточных точек Открыт экран выбора вариантов маршрута на табе Авто
    - do: Тап на маршрут такси
    - assert: |
        Открыт экран выбора вариантов маршрута Маршрут построен
        Вверху экрана: < Назад, Откуда/Куда(заполнены), кнопка вызова меню в виде трех вертикальных точек
        Выбран тип маршрута - такси
        В нижней части экрана отображается блок с ценой за поездку, временем в пути, иконкой ЯндексGo, надписью ЯндексGo приедет за n мин, справа кнопка 'Выбрать тариф'
        Алерт не отображается
    - do: Тап на пешеходный маршрут
    - assert: |
        Открыт экран выбора вариантов маршрута
        В вверху адрес маршрута: 'Откуда' и 'Куда'
        Тип маршрута - пеший
        Внизу экрана блоки альтернативных маршрутов(если присутствуют альтернативные)
        В сниппетах маршрута отображается количество лестниц (при их наличии по маршруту)
        Каждый блок представляется из себя карточку с информацией: время в пути, расстояние
        Внизу отображается кнопка Начать
    - do: Добавить промежуточные точки
    - assert:  Промежуточные точки добавлены в маршрут
    - do: Тап на маршрут такси
    - assert: |
        Открыт экран выбора вариантов маршрута
        Маршрут построен Вверху экрана: < Назад, Откуда/Куда(заполнены), кнопка вызова меню в виде трех вертикальных точек
        Выбран тип маршрута - такси
        В нижней части экрана отображается блок с ценой за поездку, временем в пути, иконкой ЯндексGo, надписью ЯндексGo приедет за n мин, справа кнопка Выбрать тариф
        Отобразился алерт с текстом:  на такси пока не поддерживают промежуточные точки, справа через разделитель кнопка Ок
    - do: Сменить ориентацию устройства на горизонтальную и обратно
    - assert:  Алерт отображается как в вертикальной так и в горизонтальной ориентации Алерт все еще отображается
    - do: Тап на таб Авто и обратно на таб Такси
    - assert:  Алерт все еще отображается
    - do: Тап на кнопку Ок в алерте
    - assert:  Алерт анимировано скрылся
    - do: Тап на таб 'Авто' и обратно на таб 'Такси'
    - assert:  Алерт не отображается

    - platforms:
        - ios
    - tags:
        - assessors
        - newbie


  Отображение алерта при построении маршрута Авто не подходящий под параметры:
    - info: |
        В параметрах маршрута Авто выключена настройка 'Избегать платных дорог'
        Построен маршрут по участку платной дороги
        Например: участок платной дороги, трассы М4, рядом с городом Венёв (на дороге есть знак рубля)
        Открыт экран выбора вариантов маршрута с выбранным пешеходным маршрутом
    - do: Выбрать автомаршрут
    - assert: |
        Открыт экран выбора вариантов маршрута
        Маршрут построен
        Вверху экрана: < Назад, Откуда/Куда(заполнены), кнопка вызова меню в виде трех вертикальных точек
        На карте отображается линия маршрута и линии альтернативных маршрутов(если есть) с подсказками
        В подсказках время в пути Тип маршрута - автомобильный
        У каждого маршрута отображается время в пути
        Внизу экрана блоки альтернативных маршрутов(если присутствуют альтернативные)
        Каждый блок представляется из себя карточку с информацией: время в пути, расстояние, доп информация
        Ниже отображаются 3 кнопки: 'Показать список', 'Поехали', 'Параметры'
        Алерт не отображается
    - do: Тап на иконку параметров маршрута (справа снизу) и включить свитчер 'Избегать платных дорог'
    - assert: |
        Снизу экрана появилась слайдинг-панель
        Вверху панели название 'Параметры маршрута' и кнопка 'Готово'
        Ниже расположены: Опции со свитчером 'Избегать платных дорог'
    - do: Тап на Готово
    - assert: |
        Панель Параметры маршрута закрылась
        Над карточкой с информацией о маршруте отобразился алерт 'Полностью подходящих параметров не нашлось Есть варианты проезда, соответствующие не всем параметрам' и справа через разделитель кнопка 'Ок'
    - do: Сменить ориентацию устройства на горизонтальную и обратно
    - assert:  Алерт отображается как в вертикальной так и в горизонтальной ориентации Алерт все еще отображается
    - do: Тап на таб Пешеходный маршрут и обратно на таб Авто
    - assert:  Алерт все еще отображается
    - do: Тап на кнопку 'Ок' в алерте
    - assert:  Алерт скрылся
    - do: Тап на таб Пешеходный маршрут и обратно на таб Авто
    - assert:  Алерт не отображается
    - platforms:
        - ios
    - tags:
        - assessors




  Логика открытия таба Все в ночное время:
    - info: |
        Получен эксперимент change_order_route_tabs с параметром all_tab
        Время на девайсе в промежутке 6:00 - 21:00
    - do: Построить пешеходный или ОТ маршрут
    - assert: Маршрут построен, отображается линия маршрута
    - do: Закрыть маршрут тапом Назад
    - assert: Маршрут закрыт
    - do: Выставить время на устройстве в промежутке 21:00 - 6:00
    - assert: На девайсе установлено ночное время
    - do: Построить маршрут
    - assert: Открывается таб с вариантом проезда Все
    - do: Отключить эксперимент change_order_route_tabs
    - assert: Эксперимент выключен
    - do: Построить маршрут
    - assert: Открывается таб пешеходного или ОТ маршрута (в зависимости от построения маршрута в первом шаге)
    - platforms:
        - android
    - tags:
        - assessors


  Выбор типа ТС на нулевом экране построения маршрута:
    - info: |
        Открыт главный экран приложения
    - do: Тап на таб "Маршруты"
    - assert: |
        Открылся экран "Маршрут"
        В верхней панели отображается бар с видами транспорта
    - do: Тап любой вид транспорта в верхней панели
    - assert: Вид ТС выделяется
    - do: Проверить тапабельность всех видов ТС в верхней панели
    - assert: Все виды транспорта в верхней панели тапабельны
    - do: Тап в поле "Куда"
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе
        Ниже отображается "Указать на карте", "Голосовой ввод"
    - do: Ввести произвольный адрес
    - assert: Под полем ввода появляются подсказки
    - do: Тап по подсказке
    - assert: |
        Открыт экран выбора вариантов маршрута
        Маршрут автоматически строится с типом ТС из предыдущего экрана
    - do: Тап Назад
    - assert: Открылся экран Маршрут
    - do: Сменить тип ТС в верхней панели
    - assert: Вид ТС изменился на выбранный
    - do: Тап в поле "Куда"
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе
        В поле отображается ранее введенный адрес
    - do: Ввести другой произвольный адрес
    - assert: Под полем ввода появляются подсказки
    - do: Тап по подсказке
    - assert: |
        Открыт экран выбора вариантов маршрута.
        Маршрут автоматически строится с типом ТС из предыдущего экрана

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - newbie


  Выбор типа ТС на нулевом экране построения маршрута с построением через голосовой ввод:
    - info: |
        МЯКу выдано разрешение на доступ к микрофону девайса
        Открыт главный экран приложения
    - do: Тап на таб "Маршруты"
    - assert: |
        Открылся экран "Маршрут"
        В верхней панели отображается бар с видами транспорта
    - do: Тап любой вид транспорта в верхней панели
    - assert: Вид ТС выделяется
    - do: Проверить тапабельность всех видов ТС в верхней панели
    - assert: Все виды транспорта в верхней панели таппабельны
    - do: Тап в поле "Куда"
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе
        Ниже отображается "Указать на карте", "Голосовой ввод"
    - do: Тап на "Голосовой ввод"
    - assert: |
        Открылся экран голосового ввода
        Проигрывается звук начала записи с микрофона
    - do: Сказать произвольный адрес
    - assert: Под полем ввода появляются подсказки
    - do: Тап по подсказке
    - assert: |
        Открыт экран выбора вариантов маршрута
        Маршрут автоматически строится с типом ТС из предыдущего экрана
    - do: Тап Назад
    - assert: Открылся экран Маршрут
    - do: Сменить тип ТС в верхней панели
    - assert: Вид ТС изменился на выбранный
    - do: Тап в поле "Куда"
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе
        В поле отображается ранее введенный адрес
    - do: Очистить поисковую строку
    - assert: |
        Поле ввода очищено
        Под полем "Указать на карте", "Голосовой ввод"
    - do: Тап "Голосовой ввод"
    - assert: |
        Открылся экран голосового ввода
        Проигрывается звук начала записи с микрофона
    - do: Сказать произвольный адрес
    - assert: Под полем ввода появляются подсказки
    - do: Тап по подсказке
    - assert: |
        Открыт экран выбора вариантов маршрута
        Маршрут автоматически строится с типом ТС из предыдущего экрана

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Выбор типа ТС на нулевом экране построения маршрута с построением через закладки:
    - info: |
        Пользователь авторизован
        На аккаунте есть добавленные дом/работа
        Открыт главный экран приложения
    - do: Тап на таб "Маршруты"
    - assert: |
        Открылся экран "Маршрут"
        В верхней панели отображается бар с видами транспорта
    - do: Тап на любой вид транспорта в верхней панели
    - assert: Вид ТС выделяется
    - do: Проверить таппабельность всех видов ТС в верхней панели
    - assert: Все виды транспорта в верхней панели таппабельны
    - do: Тап на Дом
    - assert: |
        Открыт экран выбора вариантов маршрута
        Маршрут автоматически строится с типом ТС из предыдущего экрана
    - do: Тап Назад
    - assert: Открылся экран "Маршрут"
    - do: Сменить тип ТС в верхней панели
    - assert: Вид ТС изменился на выбранный
    - do: Тап на Работа
    - assert: |
        Открыт экран выбора вариантов маршрута
        Маршрут автоматически строится с типом ТС из предыдущего экрана

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Запоминание последнего типа маршрута при переходе из таба "Навигатор":
    - info: |
        (IOS) Не получен эксперимент `routes_new_screen_from_modes` (Меню - Настройки - Debag panel - Experiments)
        Ранее был построен маршрут
        Последний построенный маршрут не автомобильный
    - do: Перейти в таб "Навигатор"
    - assert: Выделен таб "Навигатор"
    - do: Выйти из таба "Навигатор"
    - assert: Открыт главный экран
    - do: Построить произвольный маршрут
    - assert: |
        Тип маршрута не изменился на автомобильный
        Тип маршрута соответсвует последнему построенному маршруту

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Изменение типа маршрута на автомобильный при построении через таб "Навигатор":
    - info: |
        (IOS) Не получен эксперимент `routes_new_screen_from_modes` (Меню - Настройки - Debag panel - Experiments)
        Ранее был построен маршрут
        Последний построенный маршрут не автомобильный
    - do: Перейти в таб "Навигатор"
    - assert: Выделен таб "Навигатор"
    - do: Построить произвольный маршрут
    - assert: Построен автомобильный маршрут

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Отображение в табах времени первого авто-маршрута при выборе альтернативного варианта:
    - info: |
        Построен авто-маршрут с альтернативными вариантами
        Выбран первый баллун
    - do: Тап на другой баллун в панели альтернативных вариантов
    - assert: |
        Выделен другой баллун
        Время в баллуне и на спане с маршрутом одинаковое
        В табе авто-маршрута отображается время первого авто-маршрута из баллуна вариантов
    - do: Тап на таб "Все"
    - assert: |
        Открыт экран маршрутов "Все"
        Время "На машине" совпадает со временем первого авто-маршрута из баллуна вариантов

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Обновление времени автомобильного маршрута на экране вариантов в зависимости от дорожной обстановки:
    - info: |
        Построен авто-маршрут с альтернативными вариантами на участке дороги с возможным изменением времени маршрута (например, на участке дороги с пробками)
    - do: Дождаться изменения дорожной обстановки на выбранном маршруте (в среднем до 5 минут)
    - assert: |
        Время в баллунах, в сниппетах и маршрутном табе обновилось
        Отображается новое время авто-маршрута
    - do: Тап на таб "Все"
    - assert: |
        Открыт экран "Все"
        Время авто-маршрута также обновилось

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Линии маршрута и баллуны альтернатив на экране выбора вариантов маршрута:
    - info: |
        Устройство в вертикальной ориентации
        Отображается главный экран приложения
    - do: Построить автомобильный маршрут
    - assert: |
        Отображается экран выбора вариантов маршрута
        На линии основного маршрута отображается баллун с временем в пути и расстоянием
        На линии альтернативных маршутов отображаются баллуны с разницей во времени
    - do: Тап на линию альтернативного маршрута
    - assert: |
        Выбран альтернативный маршрут в качестве основного
        На линии основного маршрута отображается баллун с временем в пути и расстоянием
        На линии альтернативных маршутов отображаются баллуны с разницей во времени
    - do: Сменить ориентацию устройства
    - assert: |
        Устройство в горизонтальной ориентации
        Отображается экран выбора вариантов маршрута
        На линии основного маршрута отображается баллун с временем в пути и расстоянием
        На линии альтернативных маршутов отображаются баллуны с разницей во времени
    - do: Тап на сниппет альтернативного маршрута
    - assert: |
        Выбран альтернативный маршрут в качестве основного
        На линии основного маршрута отображается баллун с временем в пути и расстоянием
        На линии альтернативных маршутов отображаются баллуны с разницей во времени
    - do: Свернуть приложение
    - do: Развернуть приложение
    - assert: |
        Отображается экран выбора вариантов маршрута
        На линии основного маршрута отображается баллун с временем в пути и расстоянием
        На линии альтернативных маршутов отображаются баллуны с разницей во времени

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - newbie
    - testing:
        - acceptance_maps


  Отображение сниппетов ОТ с автобусными маршрутами на экране выбора вариантов маршрута:
    - info: |
        Устройство в вертикальной ориентации
        Отображается главный экран приложения
    - do: Построить ОТ-маршрут, по которому ездят 4 автобуса (напр., https://yandex.ru/maps/-/CCU5MQEfOA)
    - assert: |
        Отображается экран выбора вариантов маршрута
        Присутствуют сниппеты маршрутов
        В одном сниппете маршрута предлагается 4 автобусных маршрута
        Перед номерами отображается иконка автобуса
        Отображаются все 4 номера автобусов
    - do: Построить ОТ-маршрут, по которому ездят больше 4 автобусов (напр., https://yandex.ru/maps/-/CCU5MQu6kC)
    - assert: |
        Отображается экран выбора вариантов маршрута
        Присутствуют сниппеты маршрутов
        В одном сниппете маршрута предлагается 3 и более автобусных маршрута
        Перед номерами отображается иконка автобуса
        Отображаются только 3 номера, остальные скрыты за +N
    - do: Построить маршрут, по которому ездят разные варианты маршрута (напр., https://yandex.ru/maps/-/CCU5MQVPhB)
    - assert: |
        Отображается экран выбора вариантов маршрута
        Присутствуют сниппеты маршрутов
        В одном сниппете маршрута предлагаются номера маршрутов, относящиеся к разными видам транспорта
        Перед номерами отображается иконка автобуса
        Отображаются только 3 номера, остальные скрыты за +N

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Отображение сниппетов ОТ с трамвайными/троллейбусными маршрутами на экране выбора вариантов маршрута:
    - info: |
        Устройство в вертикальной ориентации
        Отображается главный экран приложения
    - do: Построить ОТ-маршрут, по которому ездят 4 трамвая/троллейбуса (напр., https://yandex.ru/maps/-/CCU5MHsoLD)
    - assert: |
        Отображается экран выбора вариантов маршрута
        Присутствуют сниппеты маршрутов
        В одном сниппете маршрута предлагается 4 трамвайных/троллейбусных маршрута
        Перед номерами отображается иконка трамвая/троллейбуса
        Отображаются все 4 номера трамвая/троллейбуса
    - do: Построить ОТ-маршрут, по которому ездят больше 4 трамваев/троллейбуса (напр., https://yandex.ru/maps/-/CCU5MHDG-A)
    - assert: |
        Отображается экран выбора вариантов маршрута
        Присутствуют сниппеты маршрутов
        В одном сниппете маршрута предлагается 3 и более трамвайных/троллейбусных маршрута
        Перед номерами отображается иконка трамвая/троллейбуса
        Отображаются только 3 номера, остальные скрыты за +N

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Переключение между альтернативными маршрутами тапом по линии:
    - info: |
        Открыт экран выбора вариантов маршрута
        Построенный маршрут имеет альтернативы
    - do: Тап на линии альтернатив на карте
    - assert: |
        Выбранный таб альтернативы активен
        На карте выделен соответствуюший альтернативе маршрут

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Переключение между альтернативными маршрутами тапом по подсказке разницы по времени:
    - info: |
        Открыт экран выбора вариантов маршрута
        Построенный маршрут имеет альтернативы
    - do: Тап на подсказки со временем на карте
    - assert: |
        Выбранный таб альтернативы активен
        На карте выделен соответствуюший альтернативе маршрут

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Поведение камеры при переходе в веловедение:
    - info: |
        Построен произвольный веломаршрут
        Отображается экран выбора маршрута
    - do: Тап на Поехали
    - assert: |
        Происходит плавный одноэтапный подзум к метке ММП
        Отображается экран ведения по веломаршруту
        Карта отображается в 3D-режиме
        Активирован режим слежения по направлению движения

    - platforms:
        - ios
    - tags:
        - assessors


  Восстановление экрана выбора маршрута ОТ после десериализации с помощью кнопки Terminate Application в Logcat:
    - info: |
        Устнавлена Dev сборка МЯК
        Устройство подключено к Android Studio
        Android Studio: в Logcat выбрано подключенное устройство и сборка МЯК
        Кнопка Terminate Application активна (квадратная кнопка красного цвета на панели Logcat слева)
    - do: В МЯК построить маршрут на ОТ с различными видами транспорта, который имеет альтернативы
    - assert: |
        Отображается экран выбора вариантов маршрута ОТ
        Построенный маршрут имеет альтернативы
        В карточках вариантов маршрутов отображается разный вид транспорта
    - do: Свернуть МЯК
    - assert: |
          Приложение свернуто
          Отображается рабочий экран устройства
    - do: В Logcat завершить процессы, нажав кнопку Terminate Application
    - assert: Кнопка неактивна (серого цвета)
    - do: Развернуть МЯК
    - assert: |
        Происходит запуск МЯК
        Открыт экран выбора вариантов маршрута на ОТ
        Отображаются варианты маршрута на ОТ с разными видами транспорта, как и до завершения процессов

    - platforms:
        - android
    - testing:
        - acceptance_maps


  Восстановление экрана деталей маршрута ОТ после десериализации с помощью кнопки Terminate Application в Logcat:
    - info: |
        Устнавлена Dev сборка МЯК
        Устройство подключено к Android Studio
        Android Studio: в Logcat выбрано подключенное устройство и сборка МЯК
        Кнопка Terminate Application активна (квадратная кнопка красного цвета на панели Logcat слева)
        МЯК: открыт экран выбора вариантов маршрута ОТ с разными видами транспорта
    - do: Тап на Посмотреть на карте
    - assert: |
        Отображается экран деталей маршрута ОТ
        Маршрут построен с учетом соответствующих видов ОТ
    - do: Свернуть МЯК
    - assert: |
        Приложение свернуто
        Отображается рабочий экран устройства
    - do: В Logcat завершить процессы, нажав кнопку Terminate Application
    - assert: Кнопка неактивна (серого цвета)
    - do: Развернуть МЯК
    - assert: |
        Происходит запуск МЯК
        Открыт экран деталей маршрута на ОТ, как и до завершения процессов

    - platforms:
        - android
    - testing:
        - acceptance_maps


  Восстановление экрана ведения маршрута ОТ после десериализации с помощью кнопки Terminate Application в Logcat:
    - info: |
        Устнавлена Dev сборка МЯК
        Устройство подключено к Android Studio
        Android Studio: в Logcat выбрано подключенное устройство и сборка МЯК
        Кнопка Terminate Application активна (квадратная кнопка красного цвета на панели Logcat слева)
    - do: Построить маршрут ОТ с разными видами транспорта
    - do: Перейти в ведение
    - assert: |
        Происходит ведение по ОТ маршруту
        Маршрут построен с учетом соответствующих видов ОТ
    - do: Свернуть МЯК
    - assert: |
        Приложение свернуто
        Отображается рабочий экран устройства
    - do: В Logcat завершить процессы, нажав кнопку Terminate Application
    - assert: Кнопка неактивна (серого цвета)
    - do: Развернуть МЯК
    - assert: |
        Происходит запуск МЯК
        Открыт экран ведения по маршруту на ОТ, как и до завершения процессов

    - platforms:
        - android
    - testing:
        - acceptance_maps


  Запоминание последнего типа маршрута при переходе из таба "Транспорт":
    - info: |
        Ранее был построен хотя бы один маршрут
        Последний построенный маршрут не ОТ
    - do: Тап на таб "Транспорт"
    - assert: Таб "Транспорт" активен
    - do: Тап на таб "Транспорт"
    - assert: |
        Открыт главный экран
        Таб "Транспорт" неактивен
    - do: Построить произвольный маршрут
    - assert: |
        Тип маршрута не изменился на ОТ
        Тип маршрута соответствует последнему построенному маршруту

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Запуск ведения другого типа маршрута после добавления промежуточной точки:
    - info: |
        Включена симуляция ведения Debug-panel > Routes > Demo movement
        Построен и запущен пешеходный маршрут любым способом
    - do: Лонг-тап по карте
    - assert: Отбражается лонг-тап меню
    - do: Тап на "Зайти"
    - assert: |
        Открыт экран выбора вариантов маршрута
        В поле "Откуда" отображается начальная точка
        В поле "Куда" отображается финишная и промежуточные точки
        Маршрут перестроен с учетом промежуточной точки
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменены
        Отображается кнопка "Начать"
    - do: Тап на автомобильный маршрут
    - assert: Открыт экран выбора вариантов маршрута
    - do: Тап на "Поехали"
    - assert: |
        Открыт экран ведения по маршруту
        На линии автомаршрута отображается промежуточная точка

    - platforms:
        - android
    - tags:
        - assessors


  Изменение типа маршрута на ОТ при построении через таб "Транспорт":
    - info: |
        Ранее был построен хотя бы один маршрут
        Последний построенный маршрут не ОТ
    - do: Тап на таб "Транспорт"
    - assert: Таб "Транспорт" активен
    - do: Построить произвольный маршрут
    - assert: Построен маршрут на ОТ

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Сброс построенного маршрута, на экране добавления промежуточной точки при тапе назад:
    - info: |
        Включена симуляция ведения Debug-panel > Routes > Demo movement
        Построен и запущен пешеходный маршрут любым способом
    - do: Лонг-тап по карте
    - assert: Отбражается лонг-тап меню
    - do: Тап на "Зайти"
    - assert: |
        Открыт экран выбора вариантов маршрута
        В поле "Откуда" отображается начальная точка
        В поле "Куда" отображается финишная и промежуточные точки
        Маршрут перестроен с учетом промежуточной точки
        На линии маршрута отображается промежуточная точка
        Время и расстояние маршрута изменены
        Отображается кнопка "Начать"
    - do: Тап "Назад" в навбаре
    - assert: Открыт экран выбора вариантов маршрута
    - do: Тап на системную кнопку Back (Android)
    - assert: |
        Открыт экран ведения по маршруту
        На линии маршрута не отображается промежуточная точка
        Отмечены начальная и конечная точки
        Отображается время и расстояние маршрута

    - platforms:
        - android
    - tags:
        - assessors


  Проверка построения ОТ маршрута при первом запуске приложения:
    - info: Приложение запускается первый раз
    - do: Тап на таб "Транспорт"
    - assert: Таб "Транспорт" активен
    - do: Построить маршрутом лонг-тапом по карте
    - assert: Построился ОТ маршрут
    - do: Сбросить маршрут
    - do: Открыть любую карточку организации
    - do: Тап на "Маршрут"
    - assert: Строится ОТ маршрут

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Установка пина Куда в оффлайне при построении маршрута:
    - info: |
        Девайс в оффлайн режиме
        Открыт главный экран приложения
    - do: Тап на "Маршруты" в таббаре
    - do: Тап на поле "Куда" на экране "Маршруты"
    - assert: |
        Отображается главный экран приложения
        Отображается пин "Куда"
    - do: Изменить местоположение пина "Куда" свайпом
    - assert: Пин "Куда" меняет местоположение

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Сброс автомобильного маршрута в фоне при пешем ведении:
    - estimatedTime: 6m
    - info: |
        Можно попробовать сделать симуляцию пешего ведения - ходить по дому и трясти девайс в течение одной минуты
        Выдан доступ к физической активности
        Открыт главный экран приложения
    - do: |
        Построить автомобильный маршрут
        Тап "Поехали"
    - do: Тап "Обзор маршрута"
    - assert: Открылся экран обзора маршрута
    - do: Свернуть приложение
    - do: Начать пешеходное ведение
    - do: Через минуту развернуть приложение
    - assert: Маршрут сброшен

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие типов транспорта в сервисе Навигатор:
    - info: Отображается главный экран приложения
    - do: Построить любой маршрут, любого типа транспорта (кроме автомобильного)
    - assert: |
        Открылась карта с построенным маршрутом
        Вверху экрана отображается плашка с табами выбора типа маршрута, кнопка Назад
    - do: Тап Назад
    - assert: Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/nikmakarov23/Сервис%20нави%2Bнету%20типо%20транспорта%20в%20сервисах.png){title=QR-код}

        `yandexmaps://add_exp?service_navi&service_architecture&routes_new_screen_from_modes`
    - do: Перезапустить приложение после применения интента
    - do: Тап по табу Навигатор в таббаре
    - assert: |
        Включен режим Навигатора
        ММП отображается курсором
    - do: Тап на поиск в тулбаре
    - do: Ввести любой адрес или название организации
    - assert: Открывается поисковая выдача
    - do: Тап по саджесту искомой организации/адреса
    - assert: Открыта мини-карточка топонима/организации
    - do: Тап Маршрут
    - assert: |
        Открыт экран выбора варианта маршрута
        Построен автомобильный маршрут
        Вверху экрана НЕ отображается плашка с табами выбора типа маршрута
        Машрут построен от текущего местоположения

    - platforms:
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Отсутствие типов транспорта в сервисе Такси:
    - info: |
        Пользователь авторизован
        Отображается главный экран приложения
    - do: Построить любой маршрут, любого типа транспорта (кроме автомобильного и на такси)
    - assert: |
        Открылась карта с построенным маршрутом
        Вверху экрана отображается плашка с табами выбора типа маршрута, кнопка Назад
    - do: Тап Назад
    - assert: Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/nikmakarov23/taxi%2Broutes_models.png){title=QR-код}

        `yandexmaps://add_exp?taxi_native_order_in_taxi_tab=ALWAYS_OPEN&taxi_tab_on_main_screen&service_architecture&routes_new_screen_from_modes`
    - do: Перезапустить приложение после применения интента
    - do: Тап по табу Такси в таббаре
    - assert: |
        Открывается шторка такси
        На карте есть пин точки "Откуда" который соответствует ММП пользователя
        В поле Откуда показан адрес, на который указывает пин
    - do: В шторке такси тап на Куда
    - do: Тап Указать на карте
    - do: На карте указать любое место
    - do: Тап на Готово
    - assert: |
        Открыт экран выбора варианта маршрута
        Построен маршрут на такси
        Внизу экрана отображается нативная карточка выбора тарифов с указанием стоимости по каждому тарифу
        Вверху экрана НЕ отображается плашка с табами выбора типа маршрута
        Машрут построен от текущего местоположения

    - platforms:
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Отсутствие типов транспорта в сервисе Заправки:
    - info: |
        Отображается главный экран приложения
    - do: Построить любой маршрут, любого типа транспорта (кроме автомобильного)
    - assert: |
        Открылась карта с построенным маршрутом
        Вверху экрана отображается плашка с табами выбора типа маршрута, кнопка Назад
    - do: Тап Назад
    - assert: Отображается главный экран приложения
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/nikmakarov23/АЗС%2Bсервис%2Bмоделс.png){title=QR-код}

        `yandexmaps://add_exp?service_gas_stations&service_architecture&routes_new_screen_from_modes`
    - do: Перезапустить приложение после применения интента
    - do: Тап по табу Заправки в таббаре
    - assert: |
        Открылся экран с заголовком Заправки
        На карте отображаются пины АЗС
        Внизу экрана отображаются фильтры
    - do: Тап на любой пин АЗС
    - do: Тап Маршрут
    - assert: |
        Открыт экран выбора варианта маршрута
        Построен автомобильный маршрут до выбранной АЗС
        Вверху экрана НЕ отображается плашка с табами выбора типа маршрута
        Машрут построен от текущего местоположения

    - platforms:
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Построение маршрута не из режимов с экспериментом:
      - info: |
          Отображается главный экран приложения
      - do: |
          Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/nikmakarov23/routes_new_screen_from_modes.png){title=QR-код}

          `yandexmaps://add_exp?routes_new_screen_from_modes`
      - do: Перезапустить приложение после применения интента
      - do: Лонг-тап по карте
      - assert: |
          Отображается лонг-тап меню
          На экране отображаются: Сохранить, Отсюда, Сюда
      - do: Тап на Сюда
      - assert: |
          Открыт экран выбора вариантов маршрута
          Вверху экрана присутствует плашка с табами выбора типа маршрута

      - platforms:
          - ios
      - tags:
          - assessors


  Возвращение в режим Заправки с экрана построения маршрута с экспериментом:
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/nikmakarov23/АЗС%2Bсервис%2Bмоделс.png){title=QR-код}

        `yandexmaps://add_exp?service_gas_stations&service_architecture&routes_new_screen_from_modes`
    - do: Перезапустить приложение после применения интента
    - do: Тап на таб Заправки в таббаре
    - assert: Открылся экран с заголовком Заправки
    - do: Тап на любой пин АЗС
    - do: Тап Маршрут
    - assert: Построен автомобильный маршрут до выбранной АЗС
    - do: Тап Назад
    - assert: |
        Открылся экран с заголовком Заправки
        Отображаются пины АЗС на спане
        Открыта мини карточка выбранной АЗС
        Поднят пин выбранной АЗС

    - platforms:
        - ios
    - tags:
        - assessors


  Возвращение в режим Такси с экрана построения маршрута с экспериментом:
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/nikmakarov23/taxi%2Broutes_models.png){title=QR-код}

        `yandexmaps://add_exp?taxi_native_order_in_taxi_tab=ALWAYS_OPEN&taxi_tab_on_main_screen&service_architecture&routes_new_screen_from_modes`
    - do: Перезапустить приложение после применения интента
    - do: Тап на таб Такси в таббаре
    - assert: |
        Открывается шторка такси
        В шторке такси отображаются маршрутные саджесты последних адресов из истории
    - do: Тап на любой маршрутный саджест
    - assert: Построен маршрут на такси
    - do: Тап Назад
    - assert: |
        Отображается шторка такси
        В поле Откуда показан адрес, на который указывает пин

    - platforms:
        - ios
    - tags:
        - assessors


  Возвращение в режим Навигатор с экрана построения маршрута с экспериментом:
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/nikmakarov23/Сервис%20нави%2Bнету%20типо%20транспорта%20в%20сервисах.png){title=QR-код}

        `yandexmaps://add_exp?service_navi&service_architecture&routes_new_screen_from_modes`
    - do: Перезапустить приложение после применения интента
    - do: Тап на таб Навигатор в таббаре
    - assert: |
        Включен режим Навигатора
        Над тулбаром отображаюся маршрутные саджесты
    - do: Тап на любой маршрутный саджест
    - assert: Построен автомобильный маршрут
    - do: Тап Назад
    - assert: |
        Отображается экран режима Навигатор
    - do: Подождать ~10 секунд
    - assert: Спан подзумился к курсору ммп

    - platforms:
        - ios
    - tags:
        - assessors


  Построение другого маршрута во время ведения с экспериментом:
   - info: Ранее был построен любой маршрут
   - do: |
       Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/nikmakarov23/Сервис%20нави%2Bнету%20типо%20транспорта%20в%20сервисах.png){title=QR-код}

       `yandexmaps://add_exp?service_navi&service_architecture&routes_new_screen_from_modes`
   - do: Перезапустить приложение после применения интента
   - do: Тап на таб Навигатор в таббаре
   - assert: |
       Включен режим Навигатора
       Над тулбаром отображаюся маршрутные саджесты
   - do: Тап на любой маршрутный саджест
   - assert: Построен автомобильный маршрут
   - do: Тап Поехали
   - assert: Открыт экран ведения по маршруту
   - do: Тап на поиск в тулбаре
   - do: Ввести любой адрес или название организации
   - assert: Открывается поисковая выдача
   - do: Тап по саджесту искомой организации/адреса
   - assert: Открыта мини-карточка топонима/организации
   - do: Тап Сюда
   - assert: |
       Построился маршрут
       Открыт экран выбора вариантов маршрута
       Вверху экрана НЕ отображается плашка с табами выбора типа маршрута

   - platforms:
       - ios
   - tags:
       - assessors


  Построение промежуточной точки во время ведения с экспериментом:
   - info: Ранее был построен любой маршрут
   - do: |
       Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/nikmakarov23/Сервис%20нави%2Bнету%20типо%20транспорта%20в%20сервисах.png){title=QR-код}

       `yandexmaps://add_exp?service_navi&service_architecture&routes_new_screen_from_modes`
   - do: Перезапустить приложение после применения интента
   - do: Тап на таб Навигатор в таббаре
   - assert: |
       Включен режим Навигатора
       Над тулбаром отображаюся маршрутные саджесты
   - do: Тап на любой маршрутный саджест
   - assert: Построен автомобильный маршрут
   - do: Тап Поехали
   - assert: Открыт экран ведения по маршруту
   - do: Тап на поиск в тулбаре
   - assert: |
       Открыт экран поиска
   - do: Тап на одну из категорий поиска (Напр. Яндекс Заправки)
   - assert: |
       Открылись результаты поиска
       На спане отображаются пины искомой категории
   - do: Тап на любой пин
   - assert: |
       Поднялся пин выбранной организации
       Отображается мини карточка выбранной организации
   - do: Тап Заехать
   - assert: |
       Маршрут перестроился
       Вверху экрана НЕ отображается плашка с табами выбора типа маршрута
       На линии маршрута отображается промежуточная точка
       В навбаре отображаются пункты Откуда, Куда: 2 места

   - platforms:
       - ios
   - tags:
       - assessors


  Оффлайн маршруты из режима Навигатор с экспериментом:
    - info: |
        На устройстве скачаны оффлайн-карты текущего региона (Меню - Загрузка карт)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/nikmakarov23/Сервис%20нави%2Bнету%20типо%20транспорта%20в%20сервисах.png){title=QR-код}

        `yandexmaps://add_exp?service_navi&service_architecture&routes_new_screen_from_modes`
    - do: Перезапустить приложение после применения интента
    - do: Включить авиарежим
    - do: Тап по табу Навигатор в таббаре
    - assert: |
        Включен режим Навигатора
        ММП отображается курсором
    - do: Лонг тап в любое место карты
    - do: Тап Сюда
    - assert: |
        Построился оффлайн - маршрут
        Линия маршрута окрашена в синий цвет
        Вверху экрана НЕ отображается плашка с табами выбора типа маршрута
    - do: Лонг тап в любое место карты
    - do: Тап Заехать
    - assert: |
        Маршрут перестроился
        Вверху экрана НЕ отображается плашка с табами выбора типа маршрута
        На линии маршрута отображается промежуточная точка

    - platforms:
        - ios
    - tags:
        - assessors


  Оффлайн маршруты из режима Заправки с экспериментом:
    - info: |
        На устройстве скачаны оффлайн-карты текущего региона (Меню - Загрузка карт)
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/nikmakarov23/АЗС%2Bсервис%2Bмоделс.png){title=QR-код}

        `yandexmaps://add_exp?service_gas_stations&service_architecture&routes_new_screen_from_modes`
    - do: Перезапустить приложение после применения интента
    - do: Включить авиарежим
    - do: Тап на таб Заправки в таббаре
    - assert: Открылся экран с заголовком Заправки
    - do: Тап на любой пин АЗС
    - do: Тап Маршрут
    - assert: |
        Построился оффлайн - маршрут до выбранной АЗС
        Линия маршрута окрашена в синий цвет
        Вверху экрана НЕ отображается плашка с табами выбора типа маршрута

    - platforms:
        - ios
    - tags:
        - assessors


  Порядок табов такси и пешеходного на экране построения маршрута:
    - do: Построить маршрут длинной более 1,5 км любым способом
    - assert: |
        Открыт экран выбора вариантов маршрута
        Таб такси находится перед табом пешего маршрута
    - do: Вернуться на главный экран
    - do: Построить маршрут длинной менее 1,5 км любым способом
    - assert: |
        Открыт экран выбора вариантов маршрута
        Таб такси находится перед табом пешего маршрута

    - platforms:
        - ios
        - android


  Изменение настройки "Избегать платных дорог" в обзоре маршрута:
    - info: |
        Пользователь не авторизован
    - do: |
        Выключить эксперимент `new_maps_settings` 
        [collapsed-image](https://jing.yandex-team.ru/files/shindzhev/download%20(2).e37eb8a.png){title=QR-код}
        
         `yandexmaps://add_exp?new_maps_settings=null` 
    - do: |
        Включить эксперимент `use_datasync_settings`
        [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/use_datasync.png){title=QR-код}

        `yandexmaps://add_exp?use_datasync_settings`
    - do: Перезапустить приложение
    - do: Настройки -> Маршруты -> Изменить настройку "Избегать платных дорог" 
    - do: Построить маршрут 
    - do: В обзоре маршрута несколько раз изменить настройку "Избегать платных дорог"
    - assert: |
        Маршрут изменяется в соответствии с настройкой

    - platforms:
        - android
    - tags:
        - assessors