components: maps
testing:
  - regress

aliases:
  - &info_vmap3_vulkan_off
    - info: Включен экперимент vmap3_enabled
    - info: Выключен vulkan_rendering

  - &info_vmap3_vulkan_on
    - info: Включен экперимент vmap3_enabled
    - info: Включен vulkan_rendering

  - &info_vmap2_vulkan_off
    - info: Выключен экперимент vmap3_enabled
    - info: Выключен vulkan_rendering

  - &info_vmap2_vulkan_on
    - info: Выключен экперимент vmap3_enabled
    - info: Включен vulkan_rendering

  - &exp_service_architecture_on
    - do: |
        Для Android Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/aamikhailin/YQR%20%281%29.png){title=QR-код}

        `yandexmaps://add_exp?service_architecture`
    - do: перезапустить приложение
    - assert: |
        Отображается главный экран приложения
    - do: Тап на таб Транспорт в таббаре
    - assert: Отображается экран сервиса "Транспорт"

specs:
  Смена ориентации устройства на главном экране:
    - *info_vmap2_vulkan_off
    - info: |
        Открыт главный экран приложения
        Устройство в вертикальной ориентации
        Отображение пробок выключено
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        Все элементы интерфейса, кроме контрола пробок отображаются на экране
        На маленьких экранах некоторые элементы могут скрываться
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: |
        (iOS) Перевернуть устройство так, чтобы кнопка home была наверху
        Шаг актуален для устройств без "челки"
    - assert: |
        Отображается главный экран в вертикальной ориентации
        Все элементы интерфейса отображаются на экране
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Смена ориентации устройства на главном экране, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Открыт главный экран приложения
        Устройство в вертикальной ориентации
        Отображение пробок выключено
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        Все элементы интерфейса, кроме контрола пробок отображаются на экране
        На маленьких экранах некоторые элементы могут скрываться
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: |
        (iOS) Перевернуть устройство так, чтобы кнопка home была наверху
        Шаг актуален для устройств без "челки"
    - assert: |
        Отображается главный экран в вертикальной ориентации
        Все элементы интерфейса отображаются на экране
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Смена ориентации устройства на главном экране в офлайн:
    - *info_vmap2_vulkan_off
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Открыт главный экран приложения
        Устройство в вертикальной ориентации
        Отображение пробок выключено
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        Все элементы интерфейса, кроме контрола пробок отображаются на экране
        На маленьких экранах некоторые элементы могут скрываться
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: |
        (iOS) Перевернуть устройство так, чтобы кнопка home была наверху
        Шаг актуален для устройств без "челки"
    - assert: |
        Отображается главный экран в вертикальной ориентации
        Все элементы интерфейса отображаются на экране
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Смена ориентации устройства на главном экране в офлайн, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Открыт главный экран приложения
        Устройство в вертикальной ориентации
        Отображение пробок выключено
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        Все элементы интерфейса, кроме контрола пробок отображаются на экране
        На маленьких экранах некоторые элементы могут скрываться
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: |
         (iOS) Перевернуть устройство так, чтобы кнопка home была наверху
         Шаг актуален для устройств без "челки"
    - assert: |
        Отображается главный экран в вертикальной ориентации
        Все элементы интерфейса отображаются на экране
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Разрешение на доступ к геолокации на старте (Android 9 и ниже):
    - info: |
        Первый запуск приложения
        Устройство на Android 9 и ниже
    - do: Пройти все экраны интро и тап на "Понятно"
    - assert: |
        Открыт главный экран приложения
        Появился системный запрос на доступ приложения Яндекс.Карты к данным о местоположении устройства
        В запросе присутствуют кнопки "Отклонить" и "Разрешить"
    - do: Тап на "Разрешить"
    - assert: |
        Системный запрос пропал
        Определилось актуальное местоположение
        Происходит зум к местоположению
        Никаких других запросов и поп-апов не появилось
    - do: Перезапустить приложение с выгрузкой из пямяти
    - assert: |
        Открыт главный экран приложения
        Местоположение определено
        Запрос на доступ к геоданным не появляется

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Разрешение на доступ к геолокации на старте (Android 10):
    - info: |
        Первый запуск приложения
        Устройство на Android 10
    - do: Пройти все экраны интро и тап на "Понятно"
    - assert: |
        Открыт главный экран приложения
        Появился системный запрос на доступ приложения Яндекс.Карты к данным о местоположении устройства
        В запросе присутствуют "Разрешить в любом режиме", "Разрешить только во время использования приложения", "Отклонить"
    - do: Тап на "Отклонить"
    - assert: Отображается крупный спан карты
    - do: Тап на кнопку определения ММП
    - assert: Появляется поп-ап с сообщением о выдаче доступа к геолокации
    - do: Тап на "Разрешить"
    - assert: Появился системный запрос на доступ приложения Яндекс.Карты к данным о местоположении устройства
    - do: Тап на кнопку "Разрешить только во время использования приложения" (может понадобиться несколько секунд)
    - assert: Спан карты центрируется на ММП

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Разрешение на доступ к геолокации на старте (Android 11-12):
    - info: |
        Первый запуск приложения
        Устройство на Android 11 и 12
    - do: Пройти все экраны интро и тап на "Понятно"
    - assert: |
        Открыт главный экран приложения
        Появился системный запрос на доступ приложения Яндекс.Карты к данным о местоположении устройства
        В запросе присутствуют "При использовании приложения", "Только в этот раз", "Запретить"
        Android 12: Также отображается пункт "Точно" и "Приблизительно"
    - do: Тап на "Только в этот раз"
    - assert: Спан карты центрируется на ММП
    - do: Перезапустить МЯК
    - assert: ММП отсуствует на карте
    - do: Тап на кнопку определения ММП
    - assert: Появился системный запрос на доступ приложения Яндекс.Карты к данным о местоположении устройства
    - do: Тап на кнопку "При использовании приложения"
    - assert: Спан карты центрируется на ММП (может понадобиться несколько секунд)
    - do: Перезапустить МЯК
    - assert: Спан карты центрируется на ММП (может понадобиться несколько секунд)

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Отображение контролов слоев карты:
    - info: |
        Отображается главный экран приложения.
        Горизонтальная ориентация
    - do: Тап по контролу слоев
    - assert: Отобразилось меню слоев
    - do: Тап на Пробки
    - assert: |
        Цвет светофора изменился.
        Если в городе есть бальность пробок, то цвет светофора будет соответствовать текущей бальности 1-3 зеленый цвет, 4-6 - желтый, 6-9 - красный.
        (iOS) Фон иконки закрашен в цвет бала пробок, в иконке отображается балл пробок
        Если в городе нет бальности пробок, то цвет светофора будет серый.
        На карте цветным линиями отображается информация о текущей пробочной ситуации в городе
    - do: Тап на Пробки
    - assert: |
            На карте перестала отображаться загруженность дорог
    - do: Тап по кнопке парковок
    - assert: |
        Цвет кнопки парковок изменился на синий.
        (iOS) Фон иконки закрашен
        На карте отображаются парковочные зоны, места, где парковка разрешена только по пропускам и метки со стоимостью парковки и освободившемся парковочном месте
    - do: Тап по кнопке парковок
    - assert: |
            Слой парковок становится неактивным.

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map


  Протапывание объектов на карте:
    - *info_vmap2_vulkan_off
    - info: |
        Проверяем не только тапы на POI, но и на их подписи
        Открыт главный экран приложения
    - do: Тап на пин организации
    - assert: |
        Открылась карточка организации
        На карте отображается активный пин организации
        Отображаются точки входа в организацию, если они указаны
        В карточке отображается информация об организации
        Присутствует кнопка построения маршрута
    - do: Тап на здание
    - assert: |
        Карточка организации и пин скрылись
        Отображается активный пин здания
        Отображаются точки входа в здание, если они указаны
        Отображается карточка топонима
    - do: Тап на здание, для которого геопоиск не отдает информацию (например, Тула, Жуковского 38Б, одно из зданий слева)
    - assert: |
        На здании отображается поднятый пин
        Внизу экрана карточка топонима
        В качестве заголовка - координаты топонима, ниже - текст "Добавить адрес"
    - do: Тап на пустое место (без топонима, без POI)
    - assert: |
        Ничего не произошло
        Отображается мини-карточка топонима, открытого ранее
        На карте отображается активный пин топонима

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Протапывание объектов на карте в офлайн:
    - *info_vmap2_vulkan_off
    - info: |
        Проверяем не только тапы на POI, но и на их подписи
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Открыт главный экран приложения
    - do: Тап на пин организации
    - assert: |
        Открылась карточка организации
        На карте отображается активный пин организации
        В карточке отображается информация об организации
        Присутствует кнопка построения маршрута
    - do: Тап на здание
    - assert: |
        Карточка организации и пин скрылись
        Отображается активный пин здания
        Отображается карточка топонима
    - do: Тап на здание, для которого геопоиск не отдает информацию (без номера дома)
    - assert: |
        На здании отображается поднятый пин
        Внизу экрана карточка топонима
        В качестве заголовка - координаты топонима, ниже - текст "Добавить адрес"
    - do: Тап на пустое место (без топонима, без POI)
    - assert: |
        Ничего не произошло
        Отображается мини-карточка топонима, открытого ранее
        На карте отображается активный пин топонима

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Протапывание объектов на карте, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Открыт главный экран приложения
    - do: Тап на пин организации
    - assert: |
        Открылась карточка организации
        На карте отображается активный пин организации
        Отображаются точки входа в организацию, если они указаны
        В карточке отображается информация об организации
        Присутствует кнопка построения маршрута
    - do: Тап на здание
    - assert: |
        Карточка организации и пин скрылись
        Отображается активный пин здания
        Отображаются точки входа в здание, если они указаны
        Отображается карточка топонима
    - do: Тап на здание, для которого геопоиск не отдает информацию (например, Тула, Жуковского 38Б, одно из зданий слева)
    - assert: |
        На здании отображается поднятый пин
        Внизу экрана карточка топонима
        В качестве заголовка - координаты топонима, ниже - текст "Добавить адрес"
    - do: Тап на пустое место (без топонима, без POI)
    - assert: |
        Ничего не произошло
        Отображается мини-карточка топонима, открытого ранее
        На карте отображается активный пин топонима

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Протапывание объектов на карте в офлайн, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Открыт главный экран приложения
    - do: Тап на пин организации
    - assert: |
        Открылась карточка организации
        На карте отображается активный пин организации
        Отображаются точки входа в организацию, если они указаны
        В карточке отображается информация об организации
        Присутствует кнопка построения маршрута
    - do: Тап на здание
    - assert: |
        Карточка организации и пин скрылись
        Отображается активный пин здания
        Отображаются точки входа в здание, если они указаны
        Отображается карточка топонима
    - do: Тап на здание, для которого геопоиск не отдает информацию (без номера дома)
    - assert: |
        На здании отображается поднятый пин
        Внизу экрана карточка топонима
    - do: Тап на пустое место (без топонима, без POI)
    - assert: |
        Ничего не произошло
        Отображается мини-карточка топонима, открытого ранее
        На карте отображается активный пин топонима

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Выделение геометрии при открытии карточки области:
    - do: Ввести в поиск название произвольной области
    - do: Тап на "Найти"
    - assert: |
        Открывается карточка области
        Территория области подсвечивается красным цветом
        Границы области обведены линией

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Выделение геометрии при открытии карточки города:
    - info: Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info`
    - do: Выставить зум на 9-12
    - do: Тап на название произвольного города
    - assert: |
          Открывается карточка города
          Территория города подсвечивается красным цветом
          Границы города обведены линией

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Выделение геометрии при открытии карточки района:
    - info: |
        Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info`
        Спан направлен на Москву
    - do: Выставить зум на 11-13
    - do: Тап на название произвольного района Москвы
    - assert: |
        Открывается карточка района
        Территория района подсвечивается красным цветом
        Границы района обведены линией

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Выделение геометрии при открытии карточки улицы:
    - do: Ввести в поиск "Шоссе Энтузиастов, Москва"
    - do: Тап на "Найти"
    - assert: |
        Открывается карточка улицы
        Линия улицы выделена цветом

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Наклон карты:
    - *info_vmap2_vulkan_off
    - info: |
        Отображается главный экран приложения
        Режим 2D (нет наклона)
        Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info`
    - do: Установить 17-19 зум
    - do: Свайп двумя пальцами вверх
    - assert: |
        Изменился наклон карты
        Карта отображается в 3D-режиме
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Свайп вниз двумя пальцами
    - assert: |
        Карта отображается в 2D-режиме
        Наклон деактивировался
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Наклон карты, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Отображается главный экран приложения
        Режим 2D (нет наклона)
        Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info`
    - do: Установить 17-19 зум
    - do: Свайп двумя пальцами вверх
    - assert: |
        Изменился наклон карты
        Карта отображается в 3D-режиме
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Свайп двумя пальцами вниз
    - assert: |
        Карта отображается в 2D-режиме
        Наклон деактивировался
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Наклон карты в офлайн:
    - *info_vmap2_vulkan_off
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Отображается главный экран приложения
        Режим 2D (нет наклона)
        Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info`
    - do: Установить 17-19 зум
    - do: Свайп двумя пальцами вверх
    - assert: |
        Изменился наклон карты
        Карта отображается в 3D-режиме
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Свайп двумя пальцами вниз
    - assert: |
        Карта отображается в 2D-режиме
        Наклон деактивировался
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Наклон карты в офлайн, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Отображается главный экран приложения
        Режим 2D (нет наклона)
        Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info`
    - do: Установить 17-19 зум
    - do: Свайп двумя пальцами вверх
    - assert: |
        Изменился наклон карты
        Карта отображается в 3D-режиме
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Свайп двумя пальцами вниз
    - assert: |
        Карта отображается в 2D-режиме
        Наклон деактивировался
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Вращение карты без наклона со включенной опцией вращения на угол>10 градусов:
    - info: |
          Включить в настройках опцию "Вращение карты".
          Если наклон активирован, деактивировать его. Разместить карту в положении север сверху
    - do: Повернуть карту двумя пальцами влево на угол >10 градусов
    - assert: |
            Карта плавно повернулась в выбранную сторону, справа внизу на кнопке ММП появился компас.
            Положение карты сохранилось
    - do: Повернуть карту двумя пальцами в противоположном направлении на угол >10 градусов
    - assert: |
            Карта плавно повернулась на выбранный угол в выбранном направлении.
            Новое положение карты сохранилось. Состояние компаса также поменялось на новое

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Вращение карты с наклоном со включенной опцией вращения на угол >10 градусов:
    - info: |
          Карта находится в положении север сверху.
          Наклон деактивирован. Опция "Вращение карты" в Настройках включена
    - do: Свайп вверх двумя пальцами
    - assert: Активирован наклон карты
    - do: Повернуть двумя карту влево направлении на угол >10 градусов
    - assert: |
            Карта плавно повернулась в выбранном направлении на выбранный угол, наклон при этом сохранился.
            Новое положение карты сохранилось
    - do: Повернуть двумя пальцами карту в противоположном направлении на угол >10 градусов
    - assert: |
            Карта плавно повернулась вправо на выбранный угол, наклон при этом сохранился.
            Новое положение карты сохранилось

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Вращение карты без наклона со включенной опцией вращения на угол<10 градусов:
    - info: |
          Включить в настройках опцию “Вращение карты”. Если наклон активирован, деактивировать его.
          Разместить карту в положении север сверху
    - do: Повернуть карту двумя пальцами против часовой стрелки на угол <10 градусов
    - assert: Карта повернулась против часовой стрелки на угол<10 градусов, после автоматически вернулась в прежнее направление
    - do: Повернуть карту двумя пальцами в произвольном направлении на угол >10 градусов
    - assert: Карта повернулась в выбранном направлении на угол>10 градусов и сохранила положение

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Вращение карты с наклоном со включенной опцией вращения на угол<10 градусов:
    - info: |
          Карта находится в положении север сверху.
          Активирован наклон карты. Опция “Вращение карты” в Настройках включена
    - do: Повернуть карту двумя пальцами против часовой стрелки на угол <10 градусов
    - assert: |
            Карта повернулась против часовой стрелки на угол<10 градусов, после автоматически вернулась в прежнее направление.
            Наклон карты при этом сохранился
    - do: Повернуть карту двумя пальцами в произвольном направлении на угол>10 градусов
    - assert: |
            Карта плавно повернулась в выбранном направлении на угол>10 градусов и сохранила выбранное положение.
            Наклон при этом также сохранился

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Отключение вращения карты тач жестами:
    - *info_vmap2_vulkan_off
    - info: |
        Отображается главный экран приложения
        Настройка Вращение карты пальцами включена (Меню -> Настройки -> Карта)
    - do: Вращать карту пальцами
    - assert: |
        Карта вращается
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Перейти на экран Карта (Меню -> Настройки -> Карта)
    - assert: Настройка Вращение карты пальцами включена
    - do: Тап на Вращение карты пальцами
    - assert: Настройка Вращение карты пальцами выключена
    - do: Вернуться на главный экран
    - assert: |
        Отображается главный экран приложения
        Карта разворачивается в режим "Север сверху"
        Компас в правом нижнем углу пропадает
    - do: Вращать карту пальцами
    - assert: |
        Карта не повернулась
        Изменяется масштаб карты
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отключение вращения карты тач жестами, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Отображается главный экран приложения
        Настройка Вращение карты пальцами включена (Меню -> Настройки -> Карта)
    - do: Вращать карту пальцами
    - assert: |
        Карта вращается
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Перейти на экран Карта (Меню -> Настройки -> Карта)
    - assert: Настройка Вращение карты пальцами включена
    - do: Тап на Вращение карты пальцами
    - assert: Настройка Вращение карты пальцами выключена
    - do: Вернуться на главный экран
    - assert: |
        Отображается главный экран приложения
        Карта разворачивается в режим "Север сверху"
        Компас в правом нижнем углу пропадает
    - do: Вращать карту пальцами
    - assert: |
        Карта не повернулась
        Изменяется масштаб карты
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Включение вращения карты тач жестами:
    - info: 1. Открыт экран "Карта" в настройках 2. Опция "Вращение карты" выключена
    - do: Тап в строку “Вращение карты”
    - assert: Изменилось положение свитчера и цвет фона
    - do: Вернуться к экрану карты
    - assert: Отображается главный экран с картой
    - do: Повернуть карту 2 пальцами
    - assert:
            Карта повернулась.
            В правом нижнем углу на месте кнопки ММП появился компас.
            Может измениться масштаб карты

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Включение отображения Масштабной линейки на карте:
    - info: Открыт экран карты
    - do: Выключить эксперименты `use_datasync_settings` и `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Перезапустить приложение
    - do: Открыть “Настройки”
    - do: Тап по пункту меню "Карта"
    - assert: Опция "Масштабная линейка" в блоке "Карта" по умолчанию выключена
    - do: Тап на свитчер "Масштабная линейка"
    - assert: Свитчер стал активным
    - do: Вернуться к экрану карты
    - assert: |
        Слева появилась масштабная линейка.
        Линейка состоит из "скобы" и масштаба, указанного в метрах/километрах или футах/милях (зависит от выбранной системы измерения).
        При изменении масштаба изменяются цифры, размер "скобы" не меняется.
        Масштабная линейка не пропадает по тайм-ауту (2 секунды)

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
    - testing:
        - lite_acceptance_maps


  Выключение отображения Масштабной линейки на карте:
    - info: Открыт главный экран
    - do: Выключить эксперименты `use_datasync_settings` и `new_maps_settings` (Меню -> Настройки -> Debug-Panel - Experiments)
    - do: Перезапустить приложение
    - do: Выключить опцию "Масштабная линейка" (Меню-> Настройки -> Карта)
    - assert: Свитчер неактивный
    - do: Вернуться к экрану карты
    - assert: |
        Слева отображается масштабная линейка.
        Линейка состоит из "скобы" и масштаба, указанного в метрах/километрах или футах/милях (зависит от выбранной системы измерения).
        Масштабная линейка пропадает по тайм-ауту (2 секунды).
    - do: Изменить масштаб карты
    - assert: |
        Масштабная линейка отображается на экране и вновь пропадает по тайм-ауту (через 2 секунды)

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
    - testing:
        - lite_acceptance_maps


  Включение отображения Масштабной линейки на карте в новых настройках:
    - info: Открыт экран карты
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Включить опцию "Масштабная линейка"(Меню -> Настройки -> Карта и интерфейс)
    - assert: Свитчер у масштабной линейки в сотоянии включено
    - do: Вернуться к экрану карты
    - assert: |
        Слева появилась масштабная линейка.
        Линейка состоит из вертикальной полосы и масштаба, указанного в метрах/километрах или футах/милях (зависит от выбранной системы измерения).
        При изменении масштаба изменяются цифры, размер полосы не меняется.
        Масштабная линейка не пропадает по тайм-ауту (2 секунды)

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
        - new_settings
    - testing:
        - acceptance_maps


  Выключение отображения Масштабной линейки на карте в новых настройках:
    - info: Открыт главный экран
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/new_maps_settings.png){title=QR-код}

        `yandexmaps://add_exp?new_maps_settings`
    - do: Перезапустить приложение
    - do: Выключить опцию "Масштабная линейка"(Меню -> Настройки -> Карта и интерфейс)
    - assert: Свитчер у масштабной линейки в сотоянии выключено
    - do: Вернуться к экрану карты
    - assert: |
        Слева отображается масштабная линейка.
        Линейка состоит из "скобы" и масштаба, указанного в метрах/километрах или футах/милях (зависит от выбранной системы измерения).
        Масштабная линейка пропадает по тайм-ауту (2 секунды).
    - do: Изменить масштаб карты
    - assert: |
        Масштабная линейка отображается на экране и вновь пропадает по тайм-ауту (через 2 секунды)

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map
    - testing:
        - acceptance_maps


  Отображение изменения точности геолокации:
    - info: |
        Открыта карта на 15-16 зуме в районе пина текущего местоположения
        Самый ближний зум 21
        Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info``
        Имеется доступ к мобильному интернету и сети Wi-Fi
        (Android) Включена высокая точность определения местоположения в настройках устройства
    - do: Открыта карта на 15-16 зуме в районе пина текущего местоположения
    - do: Отключить Wi-Fi
    - do: Включить мобильный интернет в режиме 2G
    - assert: Полупрозрачный ореол вокруг пина текущего местоположения увеличился
    - do: Отключить мобильный интернет
    - do: Включить стабильный wi-fi
    - assert: Диаметр полупрозрачного ореола вокруг пина текущего местоположения уменьшился

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - use_map
        - mapkit_ready


  Центрирование по пину "Я" после перезапуска приложения (пин "Я" виден, размещен не в центре):
    - info: Открыт главный экран приложения
    - do: Подвинуть карту так, чтобы пин "Я" был виден и находился где-то сбоку
    - assert: Пин "Я" отображается не в центре экрана
    - do: Перезапустить приложение с выгрузкой из памяти
    - assert: Открыт главный экран приложения. Пин "Я" размещен в центре экрана

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Протапывание объектов, находящихся в области полупрозрачного ореола точности геолокации:
    - info: |
          Залогиниться. Добавить Дом/Работу рядом с текущим местоположением.
          Добавить минимум 1 место рядом с текущим местоположением в список и включить его отображение.
          Включить 2g, чтобы диаметр ореола точности геолокации был максимально большим.
          Включить отображение ДС на карте. Включен режим карты "Схема"
    - do: Тап по значку Дома/Работы, находящему внутри ореола точности геолокации вокруг пина "Я"
    - assert: Значок Дома/Работы поднялся. Открыта миникарточка Дома/Работы
    - do: Тап по POI внутри ореола точности геолокации
    - assert: Значок POI увеличился. Открыта миникарточка POI
    - do: Тап по значку остановки ОТ/станции метро внутри ореола точности геолокации
    - assert: Значок остановки ОТ/станции метро увеличился. Открыта миникарточка остановки ОТ/станции метро
    - do: Тап по значку ДС внутри ореола точности геолокации
    - assert: Значок ДС увеличился. Открыта миникарточка ДС
    - do: Свернуть миникарточку ДС и открыть форму поиска -> Тап по категории "Где поесть"
    - assert: На карте отобразились результаты поиска
    - do: Свернуть блок результатов поиска -> Тап по пину результата поиска, находящемуся внутри ореола точности геолокации
    - assert: Пин результата поиска поднялся. Открыта миникарточка результата поиска

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Сохранение активного состояния приложения при включенной автоблокировке устройства:
    - info: |
          В настройках устройства настроить автоблокировку экрана через 1 минуту.
          Запустить приложение
    - do: Оставить приложение в активном состоянии на 1 минуту, 15 минут, полчаса
    - assert: Экран не заблокирован. Приложение по-прежнему активно

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Включение ориентации по направлению девайса на экранах с рез-тами поиска/выбора маршрута (по умолчанию активен режим север сверху):
    - info: |
          Открыт главный экран
          Включен режим север сверху
          Карта центрирована по пину текущего местоположения
    - do: Тап на поиск
    - assert: Открыт поиск на вкладке категорий
    - do: Тап на любую категорию
    - assert: Отображается результаты поиска по данной категории
    - do: Свайпом вниз свернуть список результатов поиска
    - assert: Список свернулся. Отображается свернутая плашка с заголовком 'Результаты поиска'
    - do: Тап по кнопке фокуса на текущем местоположении
    - assert: Все еще включен режим север сверху. Вид кнопки фокуса на текущем местоположении не изменился.
    - do: Закрыть экран с результатами поиска и построить произвольный маршрут
    - assert: Отображается экран выбора варианта маршрута
    - do: Тап по кнопке фокуса на текущем местоположении
    - assert: Карта центрирована относительно пина текущего местоположения
    - do: Тап еще раз по кнопке фокуса на текущем местоположении
    - assert: Активирован режим ориентации по направлению устройства

    - platforms:
        - ios
    - tags:
        - assessors
        - use_map


  Обновление МЯКа незалогиненным пользователем:
    - info: |
          Экраны интро отображаются только при первом запуске приложения и при первом запуске после обновления.
    - do: Установить МЯК предыдущей версии
    - do: Запустить МЯК
    - do: |
        Изменить положение карты (координаты и зум),
        Включить пробки
        Выполнить 1 или более поисков
        Выбрать вкладку история в поиске
        Построить 1 или более маршрутов
        Выбрать вкладку история в меню построения маршрута
        Изменить стиль отображения карты (спутник, гибрид)
        Скачать несколько оффлайн кешей
        Изменить настройки.
    - do: Обновиться до текущей (тестируемой) версии МЯК и запустить приложение
    - assert: |
            Спан карты сохранился.
            Пробки включены.
            Поисковые запросы сохранились.
            История мест, использованных в маршрутах сохранилась.
            Отображается Спутниковая/Гибридная карта. Оффлайн кеши на месте.
            Настройки идентичны настройкам до обновления

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Запрет на доступ к геолокации на старте:
    - info: Проверка runtime permissions проводится только на >=6 android. Первый запуск приложения
    - do: Пройти все экраны интро
    - assert: |
            Появился системный запрос на доступ приложения Яндекс.Карты к данным о местоположении устройства.
            В запросе присутствуют кнопки “Отклонить” и “Разрешить”
    - do: В системном запросе Тап “Отклонить”
    - assert: Системный запрос пропал. Открыт главный экран приложения. Местоположение не определено
    - do: Перезапустить приложение с выгрузкой из пямяти
    - assert: |
            Открыт главный экран приложения.
            Местоположение не определено.
            Запрос на доступ к геоданным не появляется

    - platforms:
        - android
    - tags:
        - assessors


  Разрешение на доступ к геолокации по тапу на кнопку:
    - info: |
          Проверка runtime permissions проводится только на >=6 android.
          Первый запуск приложения.
          В системном запросе запретить доступ к местоположению
    - do: Тап на кнопку определения местоположения
    - assert: |
            Появился поп-ап с заголовком “Разрешите геолокацию” и текстом “Тогда Карты покажут, где вы сейчас находитесь”.
            В поп-апе две кнопки “Не сейчас” и “Разрешить”
    - do: Тап “Разрешить”
    - assert: |
            Появился системный запрос на доступ к местоположению.
            В запросе присутствуют кнопки “Отклонить”, “Разрешить” и чекбокс “Больше не спрашивать”
    - do: Тап “Разрешить”
    - assert: |
            Системный запрос пропал.
            Определилось актуальное местоположение.
            Происходит зум к местоположению.
            Никаких других запросов и поп-апов не появилось
    - do: Перезапустить приложение с выгрузкой из пямяти
    - assert: |
            Открыт главный экран приложения.
            Местоположение определено.
            Запрос на доступ к геоданным не появляется

    - platforms:
        - android
    - tags:
        - assessors


  Запрет на доступ к геолокации по тапу на кнопку:
    - info: |
          Проверка runtime permissions проводится только на >=6 android.
          Первый запуск приложения.
          В системном запросе запретить доступ к местоположению
    - do: Тап на кнопку определения местоположения
    - assert: |
            Появился поп-ап с заголовком “Разрешите геолокацию” и текстом “Тогда Карты покажут, где вы сейчас находитесь”.
            В поп-апе две кнопки “Не сейчас” и “Разрешить”
    - do: Тап “Не сейчас”
    - assert: |
            Поп-ап закрылся.
            Открыт главный экран приложения.
            Местоположение не определено
    - do: Тап на кнопку определения местоположения
    - assert: |
            Появился поп-ап с заголовком “Разрешите геолокацию” и текстом “Тогда Карты покажут, где вы сейчас находитесь”.
            В поп-апе две кнопки “Не сейчас” и “Разрешить”
    - do: Тап “Разрешить”
    - assert: |
            Появился системный запрос на доступ к местоположению.
            В запросе присутствуют кнопки “Отклонить”, “Разрешить” и чекбокс “Больше не спрашивать”
    - do: Тап на чекбокс “Больше не спрашивать”
    - assert: Кнопка “Разрешить” задизейбленна
    - do: Тап “Отклонить”
    - assert: |
            Системный запрос пропал.
            Открыт главный экран приложения.
            Местоположение не определено
    - do: Тап на кнопку определения местоположения
    - assert: |
            Появился поп-ап с заголовком “Карты не знают, где вы находитесь” и текстом “Разрешите им определять ваше местоположение это делается в настройках устройства”.
            На поп-апе присутствует кнопка “Настройки”, при тапе на которую открываются настройки для МЯКа.

    - platforms:
        - android
    - tags:
        - assessors


  Проверка  отображения запроса пермишена  на доступ к геолокации после сворачивания приложения:
    - info: |
          Проверка runtime permissions проводится только на >=6 android
          Первый запуск приложения после установки
    - do: Пропустить экран интро
    - assert: |
            Экран интро закрылся
            Открыт главный экран приложения
            Появился системный запрос на доступ приложения Яндекс.Карты к данным о местоположении устройства
            В запросе присутствуют кнопки: “Отклонить” и “Разрешить”
    - do: Свернуть приложение по кнопке Home
    - assert: |
            Приложение свернуто
            Отображается рабочий стол устройства
    - do: Запустить приложение через иконку на рабочем столе или в списке приложений
    - assert: |
            Открыт главный экран приложения
            Отображается системный запрос на доступ приложения Яндекс.Карты к данным о местоположении устройства
            В запросе присутствуют кнопки: “Отклонить” и “Разрешить”

    - platforms:
        - android
    - tags:
        - assessors


  Сохранение положения камеры при повороте экрана:
    - *info_vmap2_vulkan_off
    - info: |
        Устройство в горизонтальной ориентации
        Отображается главный экран приложения
    - do: Подвинуть карту так, чтобы пин Я отображался в одном из углов экрана
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        Пин остаётся в той же части экрана
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в вертикальной ориентации
        Пин остался в той же части экрана
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Сохранение положения камеры при повороте экрана в ведении по маршруту:
    - *info_vmap2_vulkan_off
    - info: |
        Устройство в горизонтальной ориентации
        Отображается экран ведения по произвольному типу маршрута
    - do: Подвинуть карту так, чтобы пин/стрелка ММП отображался в одном из углов экрана
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        НЕ в автоведении пин/стрелка остаётся в той же части экрана
        В автоведении стрелка отображается в центре экрана
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в вертикальной ориентации
        НЕ в автоведении пин/стрелка остаётся в той же части экрана
        В автоведении стрелка отображается в центре экрана
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Сохранение положения камеры при повороте экрана, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Устройство в горизонтальной ориентации
        Отображается главный экран приложения
    - do: Подвинуть карту так, чтобы пин Я отображался в одном из углов экрана
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        Пин остаётся в той же части экрана
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в вертикальной ориентации
        Пин остался в той же части экрана
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Сохранение положения камеры при повороте экрана в ведении по маршруту, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Устройство в горизонтальной ориентации
        Отображается экран ведения по произвольному типу маршрута
    - do: Подвинуть карту так, чтобы пин/стрелка ММП отображался в одном из углов экрана
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        НЕ в автоведении пин/стрелка остаётся в той же части экрана
        В автоведении стрелка отображается в центре экрана
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в вертикальной ориентации
        НЕ в автоведении пин/стрелка остаётся в той же части экрана
        В автоведении стрелка отображается в центре экрана
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение масштабной линейки в режиме ведения по автомаршруту:
    - info: |
          Линейка появляется только в 2D режиме
          1. В настройках приложения отключена опция "Масштабная линейка" (Меню - Настройки - Карта)
          2. Открыт экран ведения по автомаршруту
    - do: Призумить и отзумить карту
    - assert: Масштабная линейка появилась слева посередине приложения и так же через некоторое время исчезла (в 3D режиме отображения линейка не появляется)
    - do: В режиме ведения по автомаршруту включить опцию "Масштабная линейка" и открыть экран ведения па маршруту
    - assert: Масштабная линейка не отображается
    - do: Призумить и отзумить карту
    - do: Свернуть и развернуть приложение
    - assert: Масштабная линейка не отображается

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map


  Отображение контролов при поиске:
    - info: Открыт главный экран приложения
    - do: Тап по строке поиска
    - assert: Открылся экран поиска
    - do: Произвести поиск, например "Где поесть"
    - assert: |
            Справа контролы отображаются сверху вниз в следующем порядке:
            Кнопка слоев
            Кнопка геолокации/компас (прибита к нижней части экрана)
            При включенной опции постоянного отображения линейки масштаба карты, она отображается слева по середине над шторой
            На маленьких экранах контролы могут не отображаться, если им не хватает места
    - do: Свернуть результаты поиска
    - assert: |
            Справа контролы отображаются сверху вниз в следующем порядке:
            Кнопка слоев
            Кнопки изменения масштаба
            Кнопка геолокации/компас (прибита к нижней части экрана)
            При включенной опции постоянного отображения линейки масштаба карты, она отображается слева по середине над шторой
            Над шторкой слева логотип Яндекс
    - do: Развернуть результаты поиска и тап на любую организацию из списка
    - assert: Отображается полная карточка организации
    - do: Медленно сворачивать карточку организации
    - assert: Все контролы продолжают отображаться

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Двигающиеся контролы при поднятии карточки организации/экрана поиска:
    - info: |
          1. Открыт главный экран
          2. Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info`
          3. Карта в режиме 3D
    - do: Установить зум >16
    - do: Тап на пин организации
    - assert: |
            На карте поднятый пин и точки входа (если присутствуют)
            Отображается миникарточка организации
    - do: Свайпом вниз свернуть карточку до микро
    - assert: |
            Отображается микрокарточка организации
            Справа контролы отображаются сверху вниз в следующем порядке:
            Контрол слоев и контрол пробок (прибиты к верхнему ряду кнопок)
            Контролы изменения масштаба (позиционируются по центру экрана)
            Контрол геолокации (прибита к нижней части экрана)
    - do: Начать медленно поднимать карточку организации
    - assert: Кнопка геолокации прибита к нижней части экрана и поднимаются вместе с карточкой
    - do: Продолжать поднимать карточку организации
    - assert: |
            Контролы должны исчезать в следующем порядке:
            iOS: Контрол пробок, контрол слоев, контролы изменения масштаба, контрол геолокации
            Android: Контрол пробок, контролы изменения масштаба. Контролы слоев и геолокации не исчезают (перекрываются карточкой организации)
    - do: Проверить поведение контролов для экрана поиска
    - assert: |
            Поведение контролов при поднятии экрана поиска соответствует поднятию карточки организации
            Контрол пробок на экране поиска не должен отображаться


    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map


  Контрол ММП при отображенном СЕРПе:
    - info: |
          1. Отображается главный экран приложения
          Местоположение не Москва (на Android можно сэмулировать местоположение через Mock Location)
          Метка "Я" отображается не в центре карты
    - do: Тап на контрол местоположения
    - assert: |
            Карта центрировалась на метке "Я"
            Контрол местоположения - активирован режим "Север сверху", отображается синяя стрелка
    - do: Ввести запрос "Кафе Москва" и тап "Найти" на кнопку поиска на клавиатуре
    - assert: |
            Отображаются результаты поиска с карточками организаций
            На карте отображаются поисковые пины
            Кнопка определения местоположения не подсвечивается синим цветом
    - do: Свайп вниз по поисковой выдаче
    - assert: |
            Поисковая выдача скрылась
            На карте отображаются пины организаций
    - do: Тап на контрол ммп
    - assert: |
            Спан карты центрирован на метке - Я
            Активирован режим "Север сверху", в контроле стрелка синего цвета
    - do: Тап на контрол ммп
    - assert: Активирован режим "По направлению девайса", контрол залит синим цветом, стрелка белого цвета

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map


  Табы на главном экране приложения:
    - info: |
        Раннее были построены маршруты
        Слой ОТ выключен
        Приложение не запущено
    - do: Запустить приложение
    - assert: |
        Отображается главный экран приложения
        В нижней части экрана отображаются табы "Поиск", "Маршруты", "Навигатор", "Транспорт"
    - do: Тап на таб "Поиск"
    - assert: |
        Отображается полная шторка
        Вверху шторки отображается поисковая строка со спичкитом и кнопкой закрытия
        Ниже отображаются поисковые категории
        Рекламные категории отображаются самыми последними
        Присутствует блок сторис и подборок
    - do: Тап на крестик в правом верхнем углу
    - assert: Отображается главный экран приложения
    - do: Тап по строке поиска
    - assert: Открылся экран поиска
    - do: Тап на крестик в правом верхнем углу
    - assert: Отображается главный экран приложения
    - do: |
        Тап на кнопку построения маршрута (в виде изогнутой линии маршрута)
        [image](https://jing.yandex-team.ru/files/agafonovnik/11.png)
    - assert: Открылся экран 'Маршрут'
    - do: Тап на стрелку назад в левом верхнем углу
    - assert: Отображается главный экран приложения
    - do: Тап на 'Транспорт'
    - assert: |
            Таб 'Транспорт' активен
            Происходит кастомизация подложки
            На карте отображаются разноцветные пины общественного транспорта: троллейбусы, автобусы, маршрутки, трамваи
            В некоторых городах живые метки транспорта не отображаются из-за отсутствия данных

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Прозрачный статус бар на главном экране:
    - info: |
          Кейс проходится на Android 6.0 и выше
          Статус бар - полоса состояния устройства  расположена сверху (содержит информацию о времени, подключение к сети, заряд батареи и т.д.)
          Navigation бар - полоса с кнопками "Домой", "Назад" и пр., расположена снизу
          Иконки в статус баре и в navigation баре не должны сливаться с фоном ни в тёмном ни в светлом режимах
    - do: Открыть главный экран приложения
    - assert: |
            Статус бар на карте полупрозрачный
            Статус бар не перекрывает элементы интерфейса
            Цвет значков в статус баре зависит от поставленного режима:
            Значки светлые, если выставлена тёмная тема
            Значки тёмные, если выставлена светлая тема
            Android 6.0 и до 8.0: при наличии на устройстве Navigation бар - он окрашен в тёмный цвет
            Android 8.0 и выше: Navigation бар, если он есть, окрашен в соответствии с выбранной темой, цветовое оформление совпадает со статус баром
            Значки navigation бара не сливаются с фоном

    - platforms:
        - android
    - tags:
        - assessors


  Проверка состояния пинов:
    - info: |
          Пины различаются по состоянию на:
          1. Dot (маленький пин)
          2. Pin (дефолтный пин)
          3. Pin + Name (дефолтный пин с названием)
          4. Pin + Name + Details (дефолтный пин с названием и подстрочником).
          Пины различаются по внешнему виду на:
          1. До взаимодействия
          2. Активный пин
          3. Пин после взаимодействия
          4. Пин закрытой организации (Зависит от графика работы)
          5. Пин организации с геопродуктом до взаимодействия
          6. Просмотренный пин организации с геопродуктом
          Включить/выключить отображение зумов на карте можно через:
            - тычку `Debug Panel -> Environment -> Mapkit debug info`
            - тапом тремя пальцами на спан карты (может сработать не сразу)
    - do: Открыть главный экран приложения на 19-ом зуме
    - do: Тап по строке поиска
    - assert: Открыт экран поиска
    - do: Выбрать раздел “Бары и пабы”
    - assert: |
            Отображается поисковая выдача на карте
            На карте отображаются пины организаций выбранного раздела
            В нижней части экрана отображается список миникарточек организаций
            Пины организаций, которые работают в данный момент имеют состояние до взаимодействия (синий пин)
            У организаций с геопродуктом пины зеленые или с картинкой (брендированные)
            Пины организаций который по графику работ закрыты имеют состояния закрытой организации (серый пин)
    - do: Свернуть список миникарточек
    - assert: Отображается строка поиска с “Бары и пабы”
    - do: Тап по синему пину на карте
    - assert: |
            Открывается миникарточка организации
            Пин организации имеет активное состояние (красный пин)
    - do: Тап по другому синему пину
    - assert: |
            Открывается миникарточка новой организации
            Пин новой организации имеет активное состояние
            Пин ранее открытой организации отображается как “После взаимодействия”
    - do: Тап по первому посещенному пину
    - assert: |
            Открывается миникарточка организации
            Пин новой организации имеет активное состояние
            Остальные посещенные пины сохраняют свой внешний вид “После взаимодействия”
    - do: Тап по пину организации с геопродуктом
    - assert: |
            Открывается миникарточка организации с геопродуктом
            Пин новой организации имеет активное состояние, пин зеленый или брендированный (с картинкой)
            Остальные посещенные пины сохраняют свой внешний вид “После взаимодействия”
    - do: Свайп вниз по миникарточке
    - assert: |
            Миникарточка свернулась до микрокарточки
            Отображается свёрнутая строка организации
            Состояние пина активно
    - do: Отзумить карту до 13-го зума
    - assert: |
            Область поиска изменилась
            Поисковая выдача на карте обновилась
            На карте не отображаются пины с подстрочником
    - do: Отзумить карту до 11-го зума
    - assert: |
            Область поиска изменилась
            Поисковая выдача на карте обновилась
            На карте не отображаются пины с названием
    - do: Отзумить карту до 7-го зума
    - assert: |
            Область поиска изменилась
            Поисковая выдача на карте обновилась
            На карте отображаются только пины Dot

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map


  Отображение контрола ММП при запуске приложения:
    - info: Приложение не запущено
    - do: Запустить приложение
    - assert: |
        Отображается главный экран приложения
        Стрелка контрола ММП серого цвета
    - do: Тап на контрол ММП
    - assert: |
        Спан карты центрируется на пине Я
        Стрелка контрола ММП синего цвета
    - do:  Сместить спан карты, чтобы ММП был за пределами экрана
    - assert: |
        Стрелка контрола ММП серого цвета
        ММП не отображается на экране
    - do: Изменить масштаб на отличный от 16
    - do: Перезапустить приложение
    - assert: |
        Открыт тот же спан карты и зум, что и до закрытия
        Стрелка контрола ММП серого цвета

    - testing:
        - acceptance_maps
    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map


  Отображение контрола ММП при запуске приложения с экспериментом на центрирование пина Я:
    - info: |
        Приложение не запущено
    - do: Запустить приложение
    - assert: |
        Отображается главный экран приложения с ММП в центре
        Стрелка контрола ММП серого цвета
    - do: Тап на контрол ММП
    - assert: |
        ММП в центре спана карты
        Стрелка контрола ММП синего цвета
    - do: Сместить спан карты, чтобы ММП был за пределами экрана
    - assert: |
        Стрелка контрола ММП серого цвета
        ММП не отображается на экране
    - do: Изменить масштаб на отличный от 16
    - do: Выгрузить приложение из памяти
    - do: |
        (iOS) Установить 0 в значении эксперимента inactive_session_timeout_in_minutes
        (Android) Перевести время на 2 часа вперед
    - do: Перезапустить приложение
    - assert: |
        Отображается главный экран приложения с ММП в центре
        Стрелка контрола ММП серого цвета
        Масташтаб 16

    - testing:
        - acceptance_maps
    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map


  Штора с настройками слоев:
    - info: |
        Открыта главная карта
    - do: Тап по контролу слоев на главном экране
    - assert: |
        Открывается штора с настройками слоев
        В верхней части отображаются кнопки выбора режима карты
        Ниже кнопки включения слоев:
        * 3D-режим
        * пробки
        * парковки
        * движущийся транспорт
        * панорамы
        * дорожные события
        * закладки
    - do: Сменить режим карты, включить любой слой, кроме Пробок
    - do: Перейти на главный экран
    - assert: |
        Режим карты сменился
        Отображается контрол приоритетного слоя: Пробки (только в вертикальной ориентации)
        Отображается контрол включенного слоя (Контрол слоя ОТ отображается в таббаре)

    - testing:
        - acceptance_maps
    - platforms:
        - android
        - ios
    - tags:
        - assessors

  Контрол выбора слоев и приоритетный контрол Пробки:
    - info: |
        Устройство в вертикальной ориентации
    - do: Открыть главный экран приложения
    - assert: |
        Присутствует свернутый контрол выбора слоев
        Отображается контрол приоритетного слоя: Пробки (только в вертикальной ориентации)
    - do: Включить в контроле слоев один из слоев (ОТ, панорама, парковки)
    - do: Перейти на главный экран
    - assert: |
        Присутствует свернутый контрол выбора слоев
        Отображается контрол приоритетного слоя: Пробки (только в вертикальной ориентации)
        Отображается контрол включенного слоя (Контрол слоя ОТ не отображается)
    - do: Построить автомобильный маршрут любым способом, начать ведение по маршруту
    - assert: |
        Открывается экран ведения в режиме навигатора
        Отображается контрол приоритетного слоя: Пробки и Парковки
    - do: Сбросить маршрут
    - do: Тап на тап Навигатор
    - assert: |
        Открывается сервис навигатор
        Отображается контрол приоритетного слоя: Пробки и Парковки
    - do: В режиме навигатора, тап таб "поиск", произвести поиск
    - assert: |
        Присутствует свернутый контрол выбора слоев (только в вертикальной ориентации)
    - do: Включить в контроле слоев другой слой (парковки, панорама)
    - assert: |
        Присутствует свернутый контрол выбора слоев (только в вертикальной ориентации)
        Отображается контрол включенного слоя

    - testing:
        - acceptance_maps
    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Контрол выбора слоев и приоритетный контрол Движущийся транспорт:
    - info: |
        Устройство в вертикальной ориентации
    - do: Открыть экран выбора вариантов ОТ-маршрутов
    - do: Открыть экран деталей ОТ-маршрута
    - assert: |
        Присутствует свернутый контрол выбора слоев
        Отображается контрол приоритетного слоя: Движущийся транспорт
    - do: Открыть экран ведения ОТ-маршрута
    - assert: |
        Присутствует свернутый контрол выбора слоев
        Отображается контрол приоритетного слоя: Движущийся транспорт
    - do: Открыть экран выбора вариантов пеших маршрутов
    - assert: |
        Присутствует свернутый контрол выбора слоев
        Отображается контрол приоритетного слоя: Движущийся транспорт
    - do: Открыть экран ведения пешего маршрута
    - assert: |
        Присутствует свернутый контрол выбора слоев
        Отображается контрол приоритетного слоя: Движущийся транспорт
    - do: (iOS)Открыть экран результатов поиска в пешем ведении
    - assert: |
        Присутствует свернутый контрол выбора слоев
        Отображается контрол приоритетного слоя: Движущийся транспорт
    - do: Включить в контроле слоев другой слой (парковки, панорама, пробки)
    - do: Закрыть экран контрола слоев
    - assert: |
        Присутствует свернутый контрол выбора слоев
        Отображается контрол приоритетного слоя: Движущийся транспорт
        Отображается контрол включенного слоя

    - testing:
        - acceptance_maps
    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Отсутствие контрола приоритетных слоев при открытии таба "Поиск" в горизонтальной ориентации:
    - info: |
        Устройство в горизонтальной ориентации
        Приоритетный слой (пробки, парковки, панорамы) неактивен
    - do: Тап на таб "Поиск"
    - assert: |
        Открыт экран поиска
        Справа присутствует контрол выбора слоев
        Контрол приоритетного слоя отсутствует

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Отсутствие контрола приоритетных слоёв при откытии таба "Маршруты" в горизонтальной ориентации:
    - info: |
        Устройство в горизонтальной ориентации
        Приоритетный слой (пробки, парковки, панорамы) неактивен
    - do: Отключить эксперимент `no_routes_tab` (Меню -> Настройки -> Дебаг-панель -> Experiments)
    - do: Закрыть Дебаг-панель
    - do: Перезапустить МЯК
    - do: Тап на таб "Маршруты"
    - assert: |
        Открыт экран "Маршруты"
        Справа присутствует контрол выбора слоев
        Контрол приоритетного слоя отсутствует

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Кастомизация подложки в режиме ведения:
    - info: |
        Включен эксперимент auto_base_map_poi_limit с параметром N
        Отображается главный экран приложения
        Включен дневной режим
        Включить/выключить отображение зумов на карте можно через:
         - тычку `Debug Panel -> Environment -> Mapkit debug info`
         - тапом тремя пальцами на спан карты (может сработать не сразу)
    - do: Построить произвольный автомобильный маршрут
    - assert: Отображается экран выбора вариантов маршрута
    - do: Перейти в режим ведения
    - assert: |
        Применена кастомная подложка
        Размер POI и текста на карте увеличены
        Номера домов на 17-ом зуме отображаются
        Количество POI на карте ограничено параметром N
    - do: Завершить маршрут
    - assert: |
        Отображается главный экран приложения
    - do: Тап по табу Навигатор
    - assert:
        Отображается режим ведения
        Применилась кастомная подложка
        Размер POI и текста на карте увеличены
        Номера домов на 17-ом зуме отображаются
        Количество POI на карте примерно совпадает с параметром N
    - do: Повторить все шаги для ночного режима
    - assert: |
        В режиме ведения по маршруту и при активном табе Навигатор также применятеся кастомная подложка
        Размер POI и текста на карте увеличены
        Номера домов на 17-ом зуме отображаются
        Количество POI на карте примерно совпадает с параметром N

    - testing:
        - acceptance_maps
    - platforms:
        - ios
    - tags:
        - assessors
        - use_map

  Отображение режима 2d/3d в меню слоев:
    - info: |
        Устройство в вертикальной ориентации
        Открыт главный экран приложения
    - do: Тап на контрол слоев
    - assert: |
        Открыто меню слоёв
        Присутствует пункт 3D-режим
    - do: Тап на "3D-режим"
    - assert: |
        Активировался режим 3D
        Анимировано изменился тилт карты за меню слоёв
        Меню слоёв не скрылось
    - do: Свернуть приложение
    - assert: |
        Отображается главный экран устройства
        Приложение свернуто и отображается в списке запущенных
    - do: Развернуть приложение
    - assert: |
        Отображается меню слоёв
        3D режим всё также активен
    - do: Сменить ориентацию устройства
    - assert: |
        Устройство в горизонтальной ориентации
        Режим 3D всё также активен
        За меню слоёв отображается карта в 3D-режиме
    - do: Тап на "3D-режим"
    - assert: |
        3D-режим не активен
        Карта отображается в 2D-режиме
    - do: Тап на "3D-режим"
    - assert: |
        Активировался режим 3D
    - do: Перезапустить приложение
    - assert: |
        Отображается главный экран приложения
        Карта отображается в 3D режиме

    - testing:
        - acceptance_maps
    - platforms:
        - android
        - ios
    - tags:
        - assessors
        - use_map

  Кастомизация подложки пробок во фридрайве и ведении:
    - info: |
        Установлена светлая тема в приложении
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Включить таб "Навигатор"
    - assert: Подложка пробок изменила свой вид на удлиненные цветные стрелки
    - do: Построить автомаршрут и перейти в ведение по маршруту
    - assert: Подложка пробок не изменилась
    - do: Выйти из ведения
    - do: Отключить таб навигатор, построить автомаршрут и перейти в ведение по маршруту
    - assert: Подложка пробок не изменилась
    - do: Включить темную тему приложения
    - do: Перезапустить приложение и повторить все предыдущие шаги

    - tags:
        - assessors
    - platforms:
        - ios
        - android


  Отображение масштабной линейки в режиме "Навигатор" с выключенной настройкой "Масштабная линейка":
    - do: Выключить эксперимент `service_navi` (Меню -> Настройки -> Дебаг-панель -> Experiments)
    - do: Закрыть Дебаг-панель
    - do: Перезапустить МЯК
    - do: Выключить настройку "Масштабная линейка" (Меню -> Настройки -> Карта)
    - do: Тап на таб "Навигатор"
    - do: Установить 2D режим, свайпая двумя пальцами вниз
    - do: Призумить и отзумить карту
    - assert: |
        Масштабная линейка появилась слева посередине экрана
        Через некоторое время масштабная линейка исчезла
    - do: Установить 3D-режим, свайпая двумя пальцами вверх
    - do: Призумить и отзумить карту
    - assert: Масштабная линейка перестаэёт отображаться

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Отображение масштабной линейки в режиме "Навигатор" с включённой настройкой "Масштабная линейка":
    - do: Выключить эксперимент `service_navi` (Меню -> Настройки -> Дебаг-панель -> Experiments)
    - do: Закрыть Дебаг-панель
    - do: Перезапустить МЯК
    - do: Включить настройку "Масштабная линейка" (Меню -> Настройки -> Карта)
    - do: Включить симуляцию движения (с помощью Enter your route или MockLocations)
    - do: Тап на таб "Навигатор"
    - do: Установить 2D режим, свайпая двумя пальцами вниз
    - do: Призумить и отзумить карту
    - assert: |
        Масштабная линейка появилась слева посередине экрана
        Линейка продолжает отображаться спустя время
    - do: Подождать исчезновения контроллов
    - assert: Линейка не исчезает
    - do: Сменить ориентацию на горизонтальную
    - assert: Линейка не исчезает

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Отображение масштабной линейки в режиме ведения по маршруту ОТ:
    - info: |
        Линейка появляется только в 2D режиме
        1. В настройках приложения отключена опция "Масштабная линейка" (Меню - Настройки - Карта)
        2. Открыт экран ведения по маршруту ОТ
        3. Кейс не проходится на iPad
    - do: Призумить и отзумить карту
    - assert: Масштабная линейка появилась слева посередине приложения и так же через некоторое время исчезла (в 3D режиме отображения линейка не появляется)
    - do: Выйти из ОТ ведения на главный экран приложения
    - assert: Открыт главный экран приложения
    - do: Включить Масштабную линейку в настройках (Меню - Настройки - Карта)
    - assert: Настройка Масштабная линейка активна
    - do: Построить маршрут ОТ и открыть экран ведения па маршруту
    - assert: Масштабная линейка отображается посередине слева приложения и не исчезает (в 3D режиме отображения линейка не появляется)
    - do: Призумить и отзумить карту
    - do: Свернуть и развернуть приложение
    - assert: Масштабная линейка отображается посередине слева приложения и не исчезает (в 3D режиме отображения линейка не появляется)
    - do: Сменить ориентацию устройства
    - assert: Масштабная линейка всё также отображается посередине слева приложения и не исчезает (в 3D режиме отображения линейка не появляется)

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Отображение масштабной линейки в режиме ведения по веломаршруту:
    - info: |
        Линейка появляется только в 2D режиме
        В настройках приложения отключена опция 'Масштабная линейка' (Меню - Настройки - Карта)
    - do: Выключить эксперимент no_routes_tab (Настройки - Debug Panel - Experiments)
    - do: Перезапустить приложение
    - do: Тап на таб Маршруты
    - do: Выбрать тип маршрута велосипед
    - do: В поле "Куда" указать любое место текущего региона
    - assert: |
        Маршрут построен
        Отображается экран выбора веломаршрута
    - do: Тап "Поехали"
    - assert: |
        Началось ведение по веломаршруту
    - do: Призумить и отзумить карту
    - assert: Масштабная линейка появилась слева посередине приложения и так же через некоторое время исчезла (в 3D режиме отображения линейка не появляется)
    - do: В настройках приложения включить опцию 'Масштабная линейка'
    - do: Открыть экран ведения по веломаршруту
    - assert: Масштабная линейка отображается посередине слева приложения и не исчезает (в 3D режиме отображения линейка не появляется)
    - do: Призумить и отзумить карту
    - do: Свернуть и развернуть приложение
    - assert: Масштабная линейка отображается посередине слева приложения и не исчезает (в 3D режиме отображения линейка не появляется)
    - do: Сменить ориентацию устройства
    - assert: Масштабная линейка всё также отображается посередине слева приложения и не исчезает (в 3D режиме отображения линейка не появляется)

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Отображение масштабной линейки в режиме ведения по пешеходному маршруту:
    - info: |
        Линейка появляется только в 2D режиме
        1. В настройках приложения отключена опция "Масштабная линейка" (Меню - Настройки - Карта)
        2. Открыт экран ведения по пешеходному маршруту
    - do: Призумить и отзумить карту
    - assert: Масштабная линейка появилась слева посередине приложения и так же через некоторое время исчезла (в 3D режиме отображения линейка не появляется)
    - do: В режиме ведения по пешеходному маршруту включить опцию "Масштабная линейка"
    - do: Открыть экран ведения по пешему маршруту
    - assert: Масштабная линейка отображается посередине слева приложения и не исчезает (в 3D режиме отображения линейка не появляется)
    - do: Призумить и отзумить карту
    - do: Свернуть и развернуть приложение
    - assert: Масштабная линейка отображается посередине слева приложения и не исчезает (в 3D режиме отображения линейка не появляется)
    - do: Сменить ориентацию устройства
    - assert: Масштабная линейка всё также отображается посередине слева приложения и не исчезает (в 3D режиме отображения линейка не появляется)

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors

  Переключение схем карты:
    - info: |
        По умолчанию включена Схема
        Открыты слои
        Устройство в вертикальной ориентации
    - do: Тап на Спутник
    - assert: Карта отображается в режиме Спутник
    - do: Сменить ориентацию устройства на горизонтальную
    - assert: |
        Открыты слои
        Кнопка Спутник подсвечена
        Карта отображается в режиме Спутник
    - do: Сменить ориентацию устройства на вертикальную
    - assert: |
        Открыты слои
        Кнопка Спутник подсвечена
        Карта отображается в режиме Спутник
    - do: Повторить шаги с типом Гибрид
    - assert: Поведение аналогичное

    - platforms:
        - ios
        - android
    - testing:
        - lite_acceptance_maps


  Cохранение угла наклона после измения наклона свайпом в табе "Навигатор":
    - info: |
        Включена симуляция движения (Меню -> Настройки -> Дебаг-панель -> Routes -> Demo movement)
        Открыт главный экран
    - do: Тап на таб "Навигатор"
    - assert: |
        Включен режим "Навигатор"
        Подложка отображается в 3D-режиме
    - do: Свайп двумя пальцами вверх или вниз
    - assert: Угол наклона меняетя
    - do: Свернуть/развернуть МЯК
    - assert: |
        Угол наклона сохранился
    - do: Перезапустить МЯК с выгрузкой из памяти
    - assert: |
        МЯК запущен
        Открыт главный экран
    - do: Тап на таб "Навигатор"
    - assert: |
        Активен таб "Навигатор"
        Подложка отображается в 3D-режиме под наклоном

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Кастомизация подложки при поиске не по единичному запросу:
    - info: |
        Приложение запущено
        Отображается главный экран приложения
        Включен эксперимент search_custom_map
    - do: Произвести поиск по любой из категорий/запросу (не единичный запрос)
    - assert: |
        Отображаются результаты поиска
        На карте отображаются цветные поисковые пины
    - do: Сменить ориентацию устройства
    - assert: |
        Отображаются результаты поиска
        Подложка карты не изменилась
        На карте по-прежнему отображаются цветные поисковые пины
    - do: (Android) Свернуть и развернуть приложение / (IOS) Свернуть/развернуть/перезапустить
    - aseert: |
        Отображаются результаты поиска
        На карте отображаются цветные поисковые пины
        Подложка карты не изменилась
    - do: Закрыть результаты поиска тапом на крестик
    - do: Выключить эксперимент search_custom_map
    - do: Перезапустить приложение
    - do: Повторить поиск
    - assert: |
        Отображаются результаты поиска
        Отображаются цветные поисковые пины
        На карте присутствуют серые кастомные пины
    - do: Сменить ориентацию
    - assert: |
        Отображаются результаты поиска
        Отображаются цветные поисковые пины
        Подложка карты не изменилась
        На карте по-прежнему отображаются серые кастомные пины
    - do: (Android) Свернуть и развернуть приложение / (IOS) Свернуть/развернуть/перезапустить
    - aseert: |
        Отображаются результаты поиска
        Отображаются цветные поисковые пины
        На карте отображаются серые кастомные пины
        Подложка карты не изменилась
    - do: Повторить предыдущие шаги для поиска в режиме нави-ведения, также если включен таб "Транспорт", "Навигатор"
    - assert: |
        Подложка в поиске в ведении везде отображается одинаково, с цветными поисковыми пинами на карте

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Кастомизация подложки при поиске по единичному запросу:
    - info: |
        Приложение запущено
        Отображается главный экран приложения
        Включен эксперимент search_custom_map (iOS)
    - do: Произвести поиск по топониму/1орг (единичный запрос)
    - assert: |
        Отображается миникарточка топонима/организации
        На карте отображается поднятый пин топонима/организации
        На карте отображаются цветные пины
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается миникарточка топонима/организации
        На карте отображается поднятый пин топонима/организации
        Подложка карты не изменилась
        На карте по-прежнему отображаются цветные пины
    - do: (Android) Свернуть и развернуть приложение / (IOS) Свернуть/развернуть/перезапустить
    - aseert: |
        Отображается миникарточка топонима/организации
        На карте отображается поднятый пин топонима/организации
        Подложка карты не изменилась
        На карте по-прежнему отображаются цветные пины
    - do: Закрыть результаты поиска тапом на крестик
    - do: Выключить эксперимент search_custom_map
    - do: Перезапустить приложение
    - do: Повторить поиск по 1орг/топониму
    - assert: |
        Отображается миникарточка топонима/организации
        На карте отображается поднятый пин топонима/организации
        Подложка карты не изменилась
        На карте по-прежнему отображаются цветные пины
    - do: Сменить ориентацию
    - assert: |
        Отображается полная карточка топонима/организации
        На карте отображается поднятый пин топонима/организации
        Подложка карты не изменилась
        На карте по-прежнему отображаются цветные пины
    - do: (Android) Свернуть и развернуть приложение / (IOS) Свернуть/развернуть/перезапустить
    - aseert: |
        Отображается миникарточка топонима/организации
        На карте отображается поднятый пин топонима/организации
        Подложка карты не изменилась
        На карте по-прежнему отображаются цветные пины
    - do: Повторить предыдущие шаги для поиска в режиме нави-ведения, также если включен таб "Транспорт", "Навигатор"
    - assert: |
        Подложка в поиске в ведении везде отображается одинаково, с цветными пинами на карте

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Кастомизация подложки на экране выбора автомаршрута:
    - info: |
        Для IOS: получен эксперимент navi_renders_route_variants
        Приложение запущено
        Отображается главный экран приложения
        Устройство в вертикальной ориентации
    - do: Построить автомаршрут
    - assert: |
        Отображается экран выбора автомаршрута
        Применена автомобильная кастомизации подложки
    - do: Изменить ориентацию устройства
    - assert: |
        Устройство в вертикальной ориентации
        Отображается экран выбора автомаршрута
        Применена автомобильная кастомизации подложки
    - do: Свернуть/развернуть приложение
    - assert: |
        Устройство в вертикальной ориентации
        Отображается экран выбора автомаршрута
        Применена автомобильная кастомизации подложки
    - do: Выбрать другой тип маршрута (ОТ/вело/пеш/самокат)
    - assert: |
        Отображается экран выбора маршрута
        Автомобильная кастомизации подложки не применена

    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Открытие сториз через тап на промо-объект парковок:
    - info: |
        ММП в Москве
        Включить/выключить отображение зумов на карте можно через:
         - тычку `Debug Panel -> Environment -> Mapkit debug info`
         - тапом тремя пальцами на спан карты (может сработать не сразу)
        Включен эксперимент parking_promo_object
        Объект до этого ни разу не отображался
        МЯК не запущен
    - do: Запустить МЯК
    - do: Установить зум 13 и больше
    - assert: На подложке отображается анимированный объект парковок
    - do: Включить режим "Транспорт"
    - assert: Объект отображается
    - do: Отключить режим "Транспорт"
    - assert: Объект отображается
    - do: Тап на объект
    - assert: Открывается сториз с промо парковок
    - do: Дождаться конца проигрывания сториз
    - assert: Объект не отображается на карте
    - do: Перезапустить МЯК
    - assert: Объект всё так же не отображается на карте

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps

  Взаимодействие с промо-объектом во Фридрайве:
    - info: |
        ММП в Москве
        Включить/выключить отображение зумов на карте можно через:
         - тычку `Debug Panel -> Environment -> Mapkit debug info`
         - тапом тремя пальцами на спан карты (может сработать не сразу)
        Включен эксперимент parking_promo_object
        Объект до этого ни разу не отображался
        МЯК не запущен
    - do: Запустить МЯК
    - do: Установить 13 зум и выше
    - assert: На подложке отображается анимированный объект парковок
    - do: Включить режим "Навигатор"
    - assert: Объект продолжает отображаться
    - do: С помощью MockLocations включить симуляцию движения
    - assert: Объект перестаёт отображаться
    - do: Дождаться остановки движения в симуляции
    - assert: Объект появляется спустя 30 секунд
    - do: Тап на объект
    - assert: Открывается сториз с промо парковок
    - do: Дождаться конца проигрывания сториз
    - assert: Объект не отображается на карте

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps

  Отображение промо-объекта парковок на разных спанах:
    - info: |
        ММП в Москве
        Включить/выключить отображение зумов на карте можно через:
         - тычку `Debug Panel -> Environment -> Mapkit debug info`
         - тапом тремя пальцами на спан карты (может сработать не сразу)
        Включен эксперимент parking_promo_object
        Объект до этого ни разу не отображался
        МЯК не запущен
    - do: Запустить МЯК
    - do: Установить 13 зум и больше
    - assert: На подложке отображается анимированный объект парковок
    - do: Немного поменять спан карты
    - assert: В процессе скроллинга спана объект не отображается
    - do: Сменить спан так, чтобы метка ММП пересеклась с объектом
    - assert: Объект перестал отображаться
    - do: Поставить спан на расстоянии от ММП
    - assert: Объект отображается
    - do: Направить спан за пределы Москвы и Московской области
    - assert: Объект не отображается
    - do: Вернуть спан на Москву
    - assert: Объект отображается

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Исчезновение промо-объекта парковок при разных условиях:
    - info: |
        ММП в Москве
        Включить/выключить отображение зумов на карте можно через:
         - тычку `Debug Panel -> Environment -> Mapkit debug info`
         - тапом тремя пальцами на спан карты (может сработать не сразу)
        Включен эксперимент parking_promo_object
        Объект до этого ни разу не отображался
        МЯК не запущен
    - do: Запустить МЯК
    - do: Поставить 13 зум и больше
    - assert: На подложке отображается анимированный объект парковок
    - do: Поставить зум 12 и меньше
    - assert: Объект перестал отображаться
    - do: Поставить зум 13 и больше
    - assert: Объект отображается
    - do: Включить авиарежим
    - assert: Объект перестал отображаться
    - do: Отключить авиарежм
    - assert: Объект отображается
    - do: Открыть карточку орги/топонима
    - assert: Объект не отображается
    - do: Закрыть карточку орги/топонима
    - assert: Объект отображается
    - do: Закрыть МЯК
    - do: Запустить МЯК три раза
    - assert: На третий запуск объект перестал отображаться

    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Отображение увеличенных табов на главном экране:
    - info: |
        Приложение не запущено
        Устройство в вертикальной ориентации
    - do: Открыть приложение
    - assert: |
        Отображается главный экран приложения
        Табы в таббаре увеличены
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран в горизонтальной ориентации
        Табы в таббаре увеличены

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Карта, локализация tr_TR:
    - *info_vmap2_vulkan_off
    - info: |
        Локаль устройства tr_TR
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Haritaları indir -> кнопка настроек -> İndirilen haritaları sil
        (iOS) Меню -> Ayarlar -> Çevrimdışı haritalar -> İndirilen haritaları sil
    - do: Скачать кэш текущего региона (Меню -> Haritaları indir)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Для Турции подписи отображаются на турецком
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Для Турции подписи отображаются на турецком
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация uk_UA:
    - *info_vmap2_vulkan_off
    - info: |
        Локаль устройства uk_UA
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Завантажити карти -> кнопка настроек -> Видалити завантажені карти
        (iOS) Меню -> Налаштування -> Офлайн-карти -> Видалити завантажені карти
    - do: Скачать кэш текущего региона (Меню -> Завантаження карт)
    - do: Просмотреть подписи, перемещаясь по спану Украины
    - assert: |
        Отображаются подписи на украинском
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Просмотреть подписи, перемещаясь по спану России
    - assert: |
        Отображаются подписи на русском
        Часть подписей переведена на украинский и дублируется на русском языке
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану скачанного региона
    - assert: |
        Отображаются подписи на языке скачанного региона
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация en_RU:
    - *info_vmap2_vulkan_off
    - info: |
        Локаль устройства en_RU
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Download maps -> кнопка настроек -> Delete downloaded maps
        (iOS) Меню -> Settings -> Offline maps -> Delete downloaded maps
    - do: Скачать кэш текущего региона (Меню -> Download maps)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация uz_EN:
    - *info_vmap2_vulkan_off
    - info: |
        Локаль устройства uz_EN
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Xaritalarni yuklash -> кнопка настроек -> Yuklangan xaritalarni o‘chirib tashlash
        (iOS) Меню -> Parametrlar -> Oflayn xaritalar -> Yuklangan xaritalarni o‘chirib tashlash
    - do: Скачать кэш текущего региона (Меню -> Xaritalarni yuklash)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация ru_RU:
    - *info_vmap2_vulkan_off
    - info: |
        Локаль устройства ru_RU
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Загрузка карт -> кнопка настроек -> Удалить загруженные карты
        (iOS) Меню -> Настройки -> Офлайн-карты -> Удалить загруженные карты
    - do: Скачать кэш текущего региона (Меню -> Загрузка карт)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на русском
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на русском
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация tr_TR, vmap3:
    - *info_vmap2_vulkan_off
    - info: |
        Локаль устройства tr_TR
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Haritaları indir -> кнопка настроек -> İndirilen haritaları sil
        (iOS) Меню -> Ayarlar -> Çevrimdışı haritalar -> İndirilen haritaları sil
    - do: Скачать кэш текущего региона (Меню -> Haritaları indir)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Для Турции подписи отображаются на турецком
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Для Турции подписи отображаются на турецком
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация uk_UA, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Локаль устройства uk_UA
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Завантажити карти -> кнопка настроек -> Видалити завантажені карти
        (iOS) Меню -> Налаштування -> Офлайн-карти -> Видалити завантажені карти
    - do: Скачать кэш текущего региона (Меню -> Завантаження карт)
    - do: Просмотреть подписи, перемещаясь по спану Украины
    - assert: |
        Отображаются подписи на украинском
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Просмотреть подписи, перемещаясь по спану России
    - assert: |
        Отображаются подписи на русском
        Часть подписей переведена на украинский и дублируется на русском языке
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану скачанного региона
    - assert: |
        Отображаются подписи на языке скачанного региона
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация en_RU, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Локаль устройства en_RU
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Download maps -> кнопка настроек -> Delete downloaded maps
        (iOS) Меню -> Settings -> Offline maps -> Delete downloaded maps
    - do: Скачать кэш текущего региона (Меню -> Download maps)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация uz_EN, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Локаль устройства uz_EN
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Xaritalarni yuklash -> кнопка настроек -> Yuklangan xaritalarni o‘chirib tashlash
        (iOS) Меню -> Parametrlar -> Oflayn xaritalar -> Yuklangan xaritalarni o‘chirib tashlash
    - do: Скачать кэш текущего региона (Меню -> Xaritalarni yuklash)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация ru_RU, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Локаль устройства ru_RU
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Загрузка карт -> кнопка настроек -> Удалить загруженные карты
        (iOS) Меню -> Настройки -> Офлайн-карты -> Удалить загруженные карты
    - do: Скачать кэш текущего региона (Меню -> Загрузка карт)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на русском
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на русском
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Смена ориентации устройства на главном экране (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Открыт главный экран приложения
        Устройство в вертикальной ориентации
        Отображение пробок выключено
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        Все элементы интерфейса, кроме контрола пробок отображаются на экране
        На маленьких экранах некоторые элементы могут скрываться
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: |
        (iOS) Перевернуть устройство так, чтобы кнопка home была наверху
        Шаг актуален для устройств без "челки"
    - assert: |
        Отображается главный экран в вертикальной ориентации
        Все элементы интерфейса отображаются на экране
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Смена ориентации устройства на главном экране (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Открыт главный экран приложения
        Устройство в вертикальной ориентации
        Отображение пробок выключено
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        Все элементы интерфейса, кроме контрола пробок отображаются на экране
        На маленьких экранах некоторые элементы могут скрываться
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: |
        (iOS) Перевернуть устройство так, чтобы кнопка home была наверху
        Шаг актуален для устройств без "челки"
    - assert: |
        Отображается главный экран в вертикальной ориентации
        Все элементы интерфейса отображаются на экране
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Смена ориентации устройства на главном экране в офлайн (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Открыт главный экран приложения
        Устройство в вертикальной ориентации
        Отображение пробок выключено
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        Все элементы интерфейса, кроме контрола пробок отображаются на экране
        На маленьких экранах некоторые элементы могут скрываться
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: |
        (iOS) Перевернуть устройство так, чтобы кнопка home была наверху
        Шаг актуален для устройств без "челки"
    - assert: |
        Отображается главный экран в вертикальной ориентации
        Все элементы интерфейса отображаются на экране
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Смена ориентации устройства на главном экране в офлайн (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Открыт главный экран приложения
        Устройство в вертикальной ориентации
        Отображение пробок выключено
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        Все элементы интерфейса, кроме контрола пробок отображаются на экране
        На маленьких экранах некоторые элементы могут скрываться
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: |
        (iOS) Перевернуть устройство так, чтобы кнопка home была наверху
        Шаг актуален для устройств без "челки"
    - assert: |
        Отображается главный экран в вертикальной ориентации
        Все элементы интерфейса отображаются на экране
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Протапывание объектов на карте (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Открыт главный экран приложения
    - do: Тап на пин организации
    - assert: |
        Открылась карточка организации
        На карте отображается активный пин организации
        Отображаются точки входа в организацию, если они указаны
        В карточке отображается информация об организации
        Присутствует кнопка построения маршрута
    - do: Тап на здание
    - assert: |
        Карточка организации и пин скрылись
        Отображается активный пин здания
        Отображаются точки входа в здание, если они указаны
        Отображается карточка топонима
    - do: Тап на здание, для которого геопоиск не отдает информацию (например, Тула, Жуковского 38Б, одно из зданий слева)
    - assert: |
        На здании отображается поднятый пин
        Внизу экрана карточка топонима
        В качестве заголовка - координаты топонима, ниже - текст "Добавить адрес"
    - do: Тап на пустое место (без топонима, без POI)
    - assert: |
        Ничего не произошло
        Отображается мини-карточка топонима, открытого ранее
        На карте отображается активный пин топонима

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Протапывание объектов на карте (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Открыт главный экран приложения
    - do: Тап на пин организации
    - assert: |
        Открылась карточка организации
        На карте отображается активный пин организации
        Отображаются точки входа в организацию, если они указаны
        В карточке отображается информация об организации
        Присутствует кнопка построения маршрута
    - do: Тап на здание
    - assert: |
        Карточка организации и пин скрылись
        Отображается активный пин здания
        Отображаются точки входа в здание, если они указаны
        Отображается карточка топонима
    - do: Тап на здание, для которого геопоиск не отдает информацию (например, Тула, Жуковского 38Б, одно из зданий слева)
    - assert: |
        На здании отображается поднятый пин
        Внизу экрана карточка топонима
        В качестве заголовка - координаты топонима, ниже - текст "Добавить адрес"
    - do: Тап на пустое место (без топонима, без POI)
    - assert: |
        Ничего не произошло
        Отображается мини-карточка топонима, открытого ранее
        На карте отображается активный пин топонима

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Протапывание объектов на карте в офлайн (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Проверяем не только тапы на POI, но и на их подписи
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Открыт главный экран приложения
    - do: Тап на пин организации
    - assert: |
        Открылась карточка организации
        На карте отображается активный пин организации
        В карточке отображается информация об организации
        Присутствует кнопка построения маршрута
    - do: Тап на здание
    - assert: |
        Карточка организации и пин скрылись
        Отображается активный пин здания
        Отображается карточка топонима
    - do: Тап на здание, для которого геопоиск не отдает информацию (без номера дома)
    - assert: |
        На здании отображается поднятый пин
        Внизу экрана карточка топонима
        В качестве заголовка - координаты топонима, ниже - текст "Добавить адрес"
    - do: Тап на пустое место (без топонима, без POI)
    - assert: |
        Ничего не произошло
        Отображается мини-карточка топонима, открытого ранее
        На карте отображается активный пин топонима

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Протапывание объектов на карте в офлайн (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Открыт главный экран приложения
    - do: Тап на пин организации
    - assert: |
        Открылась карточка организации
        На карте отображается активный пин организации
        Отображаются точки входа в организацию, если они указаны
        В карточке отображается информация об организации
        Присутствует кнопка построения маршрута
    - do: Тап на здание
    - assert: |
        Карточка организации и пин скрылись
        Отображается активный пин здания
        Отображаются точки входа в здание, если они указаны
        Отображается карточка топонима
    - do: Тап на здание, для которого геопоиск не отдает информацию (без номера дома)
    - assert: |
        На здании отображается поднятый пин
        Внизу экрана карточка топонима
        В качестве заголовка - координаты топонима, ниже - текст "Добавить адрес"
    - do: Тап на пустое место (без топонима, без POI)
    - assert: |
        Ничего не произошло
        Отображается мини-карточка топонима, открытого ранее
        На карте отображается активный пин топонима

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready
    - integration_run:
        - mapkit


  Наклон карты (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Отображается главный экран приложения
        Режим 2D (нет наклона)
        Включить/выключить отображение зумов на карте можно через:
         - тычку `Debug Panel -> Environment -> Mapkit debug info`
         - тапом тремя пальцами на спан карты (может сработать не сразу)
    - do: Установить 17-19 зум
    - do: Свайп двумя пальцами вверх
    - assert: |
        Изменился наклон карты
        Карта отображается в 3D-режиме
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Свайп двумя пальцами вниз
    - assert: |
        Карта отображается в 2D-режиме
        Наклон деактивировался
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Наклон карты (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Отображается главный экран приложения
        Режим 2D (нет наклона)
        Включить/выключить отображение зумов на карте можно через:
         - тычку `Debug Panel -> Environment -> Mapkit debug info`
         - тапом тремя пальцами на спан карты (может сработать не сразу)
    - do: Установить 17-19 зум
    - do: Свайп двумя пальцами вверх
    - assert: |
        Изменился наклон карты
        Карта отображается в 3D-режиме
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Свайп двумя пальцами вниз
    - assert: |
        Карта отображается в 2D-режиме
        Наклон деактивировался
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Наклон карты в офлайн (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Отображается главный экран приложения
        Режим 2D (нет наклона)
        Включить/выключить отображение зумов на карте можно через:
         - тычку `Debug Panel -> Environment -> Mapkit debug info`
         - тапом тремя пальцами на спан карты (может сработать не сразу)
    - do: Установить 17-19 зум
    - do: Свайп двумя пальцами вверх
    - assert: |
        Изменился наклон карты
        Карта отображается в 3D-режиме
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Свайп двумя пальцами вниз
    - assert: |
        Карта отображается в 2D-режиме
        Наклон деактивировался
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Наклон карты в офлайн (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Отображается главный экран приложения
        Режим 2D (нет наклона)
        Включить/выключить отображение зумов на карте можно через:
         - тычку `Debug Panel -> Environment -> Mapkit debug info`
         - тапом тремя пальцами на спан карты (может сработать не сразу)
    - do: Установить 17-19 зум
    - do: Свайп двумя пальцами вверх
    - assert: |
        Изменился наклон карты
        Карта отображается в 3D-режиме
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Свайп двумя пальцами вниз
    - assert: |
        Карта отображается в 2D-режиме
        Наклон деактивировался
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отключение вращения карты тач жестами (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Отображается главный экран приложения
        Настройка Вращение карты пальцами включена (Меню -> Настройки -> Карта)
    - do: Вращать карту пальцами
    - assert: |
        Карта вращается
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Перейти на экран Карта (Меню -> Настройки -> Карта)
    - assert: Настройка Вращение карты пальцами включена
    - do: Тап на Вращение карты пальцами
    - assert: Настройка Вращение карты пальцами выключена
    - do: Вернуться на главный экран
    - assert: |
        Отображается главный экран приложения
        Карта разворачивается в режим "Север сверху"
        Компас в правом нижнем углу пропадает
    - do: Вращать карту пальцами
    - assert: |
        Карта не повернулась
        Изменяется масштаб карты
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отключение вращения карты тач жестами (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Отображается главный экран приложения
        Настройка Вращение карты пальцами включена (Меню -> Настройки -> Карта)
    - do: Вращать карту пальцами
    - assert: |
        Карта вращается
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Перейти на экран Карта (Меню -> Настройки -> Карта)
    - assert: Настройка Вращение карты пальцами включена
    - do: Тап на Вращение карты пальцами
    - assert: Настройка Вращение карты пальцами выключена
    - do: Вернуться на главный экран
    - assert: |
        Отображается главный экран приложения
        Карта разворачивается в режим "Север сверху"
        Компас в правом нижнем углу пропадает
    - do: Вращать карту пальцами
    - assert: |
        Карта не повернулась
        Изменяется масштаб карты
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Сохранение положения камеры при повороте экрана (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Устройство в горизонтальной ориентации
        Отображается главный экран приложения
    - do: Подвинуть карту так, чтобы пин Я отображался в одном из углов экрана
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        Пин остаётся в той же части экрана
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в вертикальной ориентации
        Пин остался в той же части экрана
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Сохранение положения камеры при повороте экрана в ведении по маршруту (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Устройство в горизонтальной ориентации
        Отображается экран ведения по произвольному типу маршрута
    - do: Подвинуть карту так, чтобы пин/стрелка ММП отображался в одном из углов экрана
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        НЕ в автоведении пин/стрелка остаётся в той же части экрана
        В автоведении стрелка отображается в центре нижней части экрана
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в вертикальной ориентации
        НЕ в автоведении пин/стрелка остаётся в той же части экрана
        В автоведении стрелка отображается в центре экрана
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Сохранение положения камеры при повороте экрана (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Устройство в горизонтальной ориентации
        Отображается главный экран приложения
    - do: Подвинуть карту так, чтобы пин Я отображался в одном из углов экрана
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        Пин остаётся в той же части экрана
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в вертикальной ориентации
        Пин остался в той же части экрана
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Сохранение положения камеры при повороте экрана в ведении по маршруту (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Устройство в горизонтальной ориентации
        Отображается экран ведения по произвольному типу маршрута
    - do: Подвинуть карту так, чтобы пин/стрелка ММП отображался в одном из углов экрана
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в горизонтальной ориентации
        НЕ в автоведении пин/стрелка остаётся в той же части экрана
        В автоведении стрелка отображается в центре экрана
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Отображается главный экран приложения в вертикальной ориентации
        НЕ в автоведении пин/стрелка остаётся в той же части экрана
        В автоведении стрелка отображается в центре экрана
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Карта, локализация tr_TR (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Локаль устройства tr_TR
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Haritaları indir -> кнопка настроек -> İndirilen haritaları sil
        (iOS) Меню -> Ayarlar -> Çevrimdışı haritalar -> İndirilen haritaları sil
    - do: Скачать кэш текущего региона (Меню -> Haritaları indir)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Для Турции подписи отображаются на турецком
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Для Турции подписи отображаются на турецком
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация uk_UA (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Локаль устройства uk_UA
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Завантажити карти -> кнопка настроек -> Видалити завантажені карти
        (iOS) Меню -> Налаштування -> Офлайн-карти -> Видалити завантажені карти
    - do: Скачать кэш текущего региона (Меню -> Завантаження карт)
    - do: Просмотреть подписи, перемещаясь по спану Украины
    - assert: |
        Отображаются подписи на украинском
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Просмотреть подписи, перемещаясь по спану России
    - assert: |
        Отображаются подписи на русском
        Часть подписей переведена на украинский и дублируется на русском языке
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану скачанного региона
    - assert: |
        Отображаются подписи на языке скачанного региона
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация en_RU (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Локаль устройства en_RU
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Download maps -> кнопка настроек -> Delete downloaded maps
        (iOS) Меню -> Settings -> Offline maps -> Delete downloaded maps
    - do: Скачать кэш текущего региона (Меню -> Download maps)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация uz_EN (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Локаль устройства uz_EN
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Xaritalarni yuklash -> кнопка настроек -> Yuklangan xaritalarni o‘chirib tashlash
        (iOS) Меню -> Parametrlar -> Oflayn xaritalar -> Yuklangan xaritalarni o‘chirib tashlash
    - do: Скачать кэш текущего региона (Меню -> Xaritalarni yuklash)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Табы главного экрана приложения:
    - info: |
          Отображается главный экран приложения
          Раннее были построены маршруты
          Слой ОТ выключен
    - do: Отображается главный экран приложения
    - assert: |
            В нижней части экрана отображаются табы "Поиск", "Навигатор", "Маршруты", "Транспорт"
            Отображается поисковая строка с кнопкой меню и спичкита
    - do: Тап на таб "Поиск"
    - assert: |
        Отображается полная шторка
        Вверху шторки отображается поисковая строка со спичкитом и кнопкой закрытия
        Ниже отображаются поисковые категории
        Рекламные категории отображаются самыми последними
        (IOS) Ниже, под заголовком 'Актуальное', отображаются сторис и подборки
        (Android) Ниже, под заголовком 'Актуальное' отображаются сторис, а под заголовком 'Новые истории и подборки' - подборки
        Подборки и сторис обновляются в соответствии с городом
    - do: Тап на крестик в правом верхнем углу
    - assert: Отображается главный экран приложения
    - do: Тап по строке поиска
    - assert: Открылся экран поиска
    - do: Тап на крестик в правом верхнем углу
    - assert: Отображается главный экран приложения
    - do: |
        Тап на кнопку построения маршрута (в виде изогнутой линии маршрута)
        [image](https://jing.yandex-team.ru/files/agafonovnik/11.png)
    - assert: Открылся экран 'Маршрут'
    - do: Тап на стрелку назад в левом верхнем углу
    - assert: Отображается главный экран приложения
    - do: Тап на 'Транспорт'
    - assert: |
        Таб 'Транспорт' активен
        Происходит кастомизация подложки
        На карте отображаются разноцветные пины общественного транспорта: троллейбусы, автобусы, маршрутки, трамваи
        В некоторых городах живые метки транспорта не отображаются из-за отсутствия данных

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps


  Карта, локализация ru_RU (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Локаль устройства ru_RU
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Загрузка карт -> кнопка настроек -> Удалить загруженные карты
        (iOS) Меню -> Настройки -> Офлайн-карты -> Удалить загруженные карты
    - do: Скачать кэш текущего региона (Меню -> Загрузка карт)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на русском
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на русском
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация tr_TR (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Локаль устройства tr_TR
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Haritaları indir -> кнопка настроек -> İndirilen haritaları sil
        (iOS) Меню -> Ayarlar -> Çevrimdışı haritalar -> İndirilen haritaları sil
    - do: Скачать кэш текущего региона (Меню -> Haritaları indir)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Для Турции подписи отображаются на турецком
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Для Турции подписи отображаются на турецком
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация uk_UA (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Локаль устройства uk_UA
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Завантажити карти -> кнопка настроек -> Видалити завантажені карти
        (iOS) Меню -> Налаштування -> Офлайн-карти -> Видалити завантажені карти
    - do: Скачать кэш текущего региона (Меню -> Завантаження карт)
    - do: Просмотреть подписи, перемещаясь по спану Украины
    - assert: |
        Отображаются подписи на украинском
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Просмотреть подписи, перемещаясь по спану России
    - assert: |
        Отображаются подписи на русском
        Часть подписей переведена на украинский и дублируется на русском языке
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану скачанного региона
    - assert: |
        Отображаются подписи на языке скачанного региона
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация en_RU (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Локаль устройства en_RU
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Download maps -> кнопка настроек -> Delete downloaded maps
        (iOS) Меню -> Settings -> Offline maps -> Delete downloaded maps
    - do: Скачать кэш текущего региона (Меню -> Download maps)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация uz_EN (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Локаль устройства uz_EN
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Xaritalarni yuklash -> кнопка настроек -> Yuklangan xaritalarni o‘chirib tashlash
        (iOS) Меню -> Parametrlar -> Oflayn xaritalar -> Yuklangan xaritalarni o‘chirib tashlash
    - do: Скачать кэш текущего региона (Меню -> Xaritalarni yuklash)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на карте представлены английской транслитерацией и дублируются на языке региона
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Карта, локализация ru_RU (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Локаль устройства ru_RU
        Включен интернет
        Отображается главный экран приложения
    - do: Перезапустить приложение
    - do: |
        Очиcтить кэш:
        (Android) Меню -> Загрузка карт -> кнопка настроек -> Удалить загруженные карты
        (iOS) Меню -> Настройки -> Офлайн-карты -> Удалить загруженные карты
    - do: Скачать кэш текущего региона (Меню -> Загрузка карт)
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на русском
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить интернет
    - do: Просмотреть подписи, перемещаясь по спану
    - assert: |
        Подписи на русском
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение карты, если активен слой транспорта (vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Слой транспорта выключен
        Отображается главный экран приложения на спане Москвы
        Устройство в вертикальной ориентации
        Светлая тема оформления (Меню -> Настройки -> Основные)
    - do: Тап на таб Транспорт
    - assert: |
        Слой транспорта активен
        Применена транспортная подложка
        На карте отображаются живые метки маршрутов
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Перемещаться по спану, свайпая по экрану
    - assert: |
        Подложка не изменилась
        Слой транспорта активен
        На карте отображаются живые метки маршрутов
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Подложка не изменилась
        Отображается главный экран в горизонтальной ориентации
        Слой транспорта активен
        На карте отображаются живые метки маршрутов
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - do: Сменить тему оформления приложения
    - assert: |
        Отображается главный экран приложения в темной теме
        Подложка подстроилась по темную тему
        Слой транспорта активен
        На карте отображаются живые метки маршрутов
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить таб Транспорт
    - assert: |
        Отображается главный экран приложения
        Слой транспорта не активен
        Транспортная подложка не применена
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение карты, если активен слой транспорта:
    - *info_vmap3_vulkan_off
    - info: |
        Слой транспорта выключен
        Отображается главный экран приложения на спане Москвы
        Устройство в вертикальной ориентации
        Светлая тема оформления (Меню -> Настройки -> Основные)
    - do: Тап на таб Транспорт
    - assert: |
        Слой транспорта активен
        Применена транспортная подложка
        На карте отображаются живые метки маршрутов
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Перемещаться по спану, свайпая по экрану
    - assert: |
        Подложка не изменилась
        Слой транспорта активен
        На карте отображаются живые метки маршрутов
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Подложка не изменилась
        Отображается главный экран в горизонтальной ориентации
        Слой транспорта активен
        На карте отображаются живые метки маршрутов
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - do: Сменить тему оформления приложения
    - assert: |
        Отображается главный экран приложения в темной теме
        Подложка подстроилась по темную тему
        Слой транспорта активен
        На карте отображаются живые метки маршрутов
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить таб Транспорт
    - assert: |
        Отображается главный экран приложения
        Слой транспорта не активен
        Транспортная подложка не применена
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение карты в режиме ведения по маршруту:
    - *info_vmap3_vulkan_off
    - info: |
        Построен произвольный автомаршрут
        Устройство в вертикальной ориентации
        Светлая тема оформления (Меню -> Настройки -> Основные)
    - do: Перейти в ведение по автомаршруту
    - assert: |
        Применена автомобильная кастомизация подложки
        Отображается экран ведения по автомаршруту
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Свернуть приложение
    - do: Развернуть приложение
    - assert: |
        Подложка не изменилась
        Отображается экран ведения по автомаршруту
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - do: Сменить тему оформления приложения
    - assert: |
        Подложка подстоилась под темную тему
        Отображается экран ведения по автомаршруту
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Завершить ведение
    - assert: |
        Отображается главный экран приложения
        Отображается обычная подложка
        Автомобильная кастомизация подложки не применена
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение карты в режиме офлайн ведения по маршруту:
    - *info_vmap3_vulkan_off
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Построен произвольный автомаршрут
        Устройство в вертикальной ориентации
        Светлая тема оформления (Меню -> Настройки -> Основные)
    - do: Перейти в ведение по автомаршруту
    - assert: |
        Применена автомобильная кастомизация подложки
        Отображается экран ведения по автомаршруту
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Свернуть приложение
    - do: Развернуть приложение
    - assert: |
        Подложка не изменилась
        Отображается экран ведения по автомаршруту
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - do: Сменить тему оформления приложения
    - assert: |
        Подложка подстоилась под темную тему
        Отображается экран ведения по автомаршруту
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Завершить ведение
    - assert: |
        Отображается главный экран приложения
        Отображается обычная подложка
        Автомобильная кастомизация подложки не применена
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение карты в режиме ведения по маршруту (vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Построен произвольный автомаршрут
        Устройство в вертикальной ориентации
        Светлая тема оформления (Меню -> Настройки -> Основные)
    - do: Перейти в ведение по автомаршруту
    - assert: |
        Применена автомобильная кастомизация подложки
        Отображается экран ведения по автомаршруту
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Свернуть приложение
    - do: Развернуть приложение
    - assert: |
        Подложка не изменилась
        Отображается экран ведения по автомаршруту
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Подложка не изменилась
        Отображается экран ведения по автомаршруту в горизонтальной ориентации
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - do: Сменить тему оформления приложения
    - assert: |
        Подложка подстоилась под темную тему
        Отображается экран ведения по автомаршруту
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Завершить ведение
    - assert: |
        Отображается главный экран приложения
        Отображается обычная подложка
        Автомобильная кастомизация подложки не применена
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение карты в режиме офлайн ведения по маршруту (vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Построен произвольный автомаршрут
        Устройство в вертикальной ориентации
        Светлая тема оформления (Меню -> Настройки -> Основные)
    - do: Перейти в ведение по автомаршруту
    - assert: |
        Применена автомобильная кастомизация подложки
        Отображается экран ведения по автомаршруту
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Свернуть приложение
    - do: Развернуть приложение
    - assert: |
        Подложка не изменилась
        Отображается экран ведения по автомаршруту
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Подложка не изменилась
        Отображается экран ведения по автомаршруту в горизонтальной ориентации
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - do: Сменить тему оформления приложения
    - assert: |
        Подложка подстоилась под темную тему
        Отображается экран ведения по автомаршруту
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Завершить ведение
    - assert: |
        Отображается главный экран приложения
        Отображается обычная подложка
        Автомобильная кастомизация подложки не применена
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение карты в режиме Навигатора (vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Таб Навигатор выключен
        Устройство в вертикальной ориентации
        Светлая тема оформления (Меню -> Настройки -> Основные)
    - do: Включить таб Навигатор
    - assert: |
        Включен таб Навигатор
        Применена автомобильная кастомизация подложки
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить тему оформления приложения
    - assert: |
        Включен таб Навигатор
        Подложка подстроилась под темную тему
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Устройство в горизонтальной ориентации
        Включен таб Навигатор
        Подложка не изменилась
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить таб Навигатор тапом по стрелочке назад в левой нижней части экрана
    - assert: |
        Отображается главный экран приложения
        Отображается обычная подложка
        Автомобильная кастомизация подложки не применена
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение карты в режиме Навигатора:
    - *info_vmap3_vulkan_off
    - info: |
        Таб Навигатор выключен
        Устройство в вертикальной ориентации
        Светлая тема оформления (Меню -> Настройки -> Основные)
    - do: Включить таб Навигатор
    - assert: |
        Включен таб Навигатор
        Применена автомобильная кастомизация подложки
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить тему оформления приложения
    - assert: |
        Включен таб Навигатор
        Подложка подстроилась под темную тему
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Устройство в горизонтальной ориентации
        Включен таб Навигатор
        Подложка не изменилась
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить таб Навигатор
    - assert: |
        Отображается главный экран приложения
        Отображается обычная подложка
        Автомобильная кастомизация подложки не применена
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение карты в режиме Навигатора офлайн (vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Таб Навигатор выключен
        Устройство в вертикальной ориентации
        Светлая тема оформления (Меню -> Настройки -> Основные)
    - do: Включить таб Навигатор
    - assert: |
        Включен таб Навигатор
        Применена автомобильная кастомизация подложки
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить тему оформления приложения
    - assert: |
        Включен таб Навигатор
        Подложка подстроилась под темную тему
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Устройство в горизонтальной ориентации
        Включен таб Навигатор
        Подложка не изменилась
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить таб Навигатор
    - assert: |
        Отображается главный экран приложения
        Отображается обычная подложка
        Автомобильная кастомизация подложки не применена
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение карты в режиме Навигатора офлайн:
    - *info_vmap3_vulkan_off
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Выключен интернет
        Таб Навигатор выключен
        Устройство в вертикальной ориентации
        Светлая тема оформления (Меню -> Настройки -> Основные)
    - do: Включить таб Навигатор
    - assert: |
        Включен таб Навигатор
        Применена автомобильная кастомизация подложки
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить тему оформления приложения
    - assert: |
        Включен таб Навигатор
        Подложка подстроилась под темную тему
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Сменить ориентацию устройства
    - assert: |
        Устройство в горизонтальной ориентации
        Включен таб Навигатор
        Подложка не изменилась
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Выключить таб Навигатор
    - assert: |
        Отображается главный экран приложения
        Отображается обычная подложка
        Автомобильная кастомизация подложки не применена
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  3D-режим в табе Навигатор:
    - info: |
        Устройство в вертикальной ориентации
        Включен 2D-режим
    - do: Тап на таб Навигатор
    - assert: |
        Активен таб Навигатор
        Карта отображается в 3D-режиме
        В режиме Навигатор отсутствует контрол слоев
        Отображаются кнопки Светофора и Парковок
        Если не помещаются обе кнопки, то отображается только кнопка Светофора
    - do: Тап на таб Навигатор
    - assert: |
        Таб навигатор неактивен
        Отображается контрол слоев
        Карта отображается в 2D-режиме

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Отсутствие конфликтов между подписями и POI на карте, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Приложение было перезапущено, более 3 раз с выгрузкой из памяти
        Отображается главный экран приложения
        На карте присутствуют различные POI c подписями
    - do: Призумиться к месту большого скопления POI (напр., ГУМ в Москве)
    - do: Зумить и крутить карту так, чтобы подписи объектов пересекались, но при этом не исчезали с карты
    - assert: |
        Подписи плавно перескакивают на другое место при столкновении
        Подпись крутится вокруг своего пина, к которому она привязана
        Подпись с икнокой может быть вытеснена более приоритетным POI
    - do: Переместить карту так, чтоб POI скрылась за пределами экрана, а подпись осталась
    - assert: При исчезновении иконки за пределы экрана подпись также плавно перескакивает
    - do: Зумить и крутить карту так, чтобы подписи и POI различных объектов пересекались
    - assert: При пересечении более приоритетная POI c подписью вытесняет менее приоритетную POI вместе с подписью

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отсутствие конфликтов между подписями и POI на карте в офлайне, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Отображается главный экран приложения
        На карте присутствуют различные POI c подписями
        Выключить интернет на устройстве
    - do: Призумиться к месту большого скопления POI (напр., ГУМ в Москве)
    - do: Зумить и крутить карту так, чтобы подписи объектов пересекались, но при этом не исчезали с карты
    - assert: |
        Подписи плавно перескакивают на другое место при столкновении
        Подпись крутится вокруг своего пина, к которому она привязана
    - do: Переместить карту так, чтоб POI скрылась за пределами экрана, а подпись осталась
    - assert: При исчезновении иконки за пределы экрана подпись также плавно перескакивает
    - do: Зумить и крутить карту так, чтобы подписи и POI различных объектов пересекались
    - assert: При пересечении более приоритетная POI c подписью вытесняет менее приоритетную POI вместе с подписью

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отсутствие конфликтов между подписями и POI на карте (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Отображается главный экран приложения
        На карте присутствуют различные POI c подписями
    - do: Призумиться к месту большого скопления POI (напр., ГУМ в Москве)
    - do: Зумить и крутить карту так, чтобы подписи объектов пересекались, но при этом не исчезали с карты
    - assert: |
        Подписи плавно перескакивают на другое место при столкновении
        Подпись крутится вокруг своего пина, к которому она привязана
    - do: Переместить карту так, чтоб POI скрылась за пределами экрана, а подпись осталась
    - assert: При исчезновении иконки за пределы экрана подпись также плавно перескакивает
    - do: Зумить и крутить карту так, чтобы подписи и POI различных объектов пересекались
    - assert: При пересечении более приоритетная POI c подписью вытесняет менее приоритетную POI вместе с подписью

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отсутствие конфликтов между подписями и POI на карте в офлайн (vmap3 + vulkan):
    - *info_vmap3_vulkan_on
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Отображается главный экран приложения
        На карте присутствуют различные POI c подписями
    - do: Призумиться к месту большого скопления POI (напр., ГУМ в Москве)
    - do: Зумить и крутить карту так, чтобы подписи объектов пересекались, но при этом не исчезали с карты
    - assert: |
        Подписи плавно перескакивают на другое место при столкновении
        Подпись крутится вокруг своего пина, к которому она привязана
    - do: Переместить карту так, чтоб POI скрылась за пределами экрана, а подпись осталась
    - assert: При исчезновении иконки за пределы экрана подпись также плавно перескакивает
    - do: Зумить и крутить карту так, чтобы подписи и POI различных объектов пересекались
    - assert: При пересечении более приоритетная POI c подписью вытесняет менее приоритетную POI вместе с подписью

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Вращение подписей вокруг пина на карте:
    - *info_vmap2_vulkan_off
    - info: |
        Отображается главный экран приложения
        На карте присутствуют различные POI c подписями
    - do: Вращать карту
    - assert: Подписи плавно вращаются вокруг своего POI, к которому привязаны
    - do: Включить эксперимент vulkan_rendering
    - do: Перезапустить приложение
    - assert: Отображается главный экран приложения
    - do: Вращать карту
    - assert: Подписи плавно вращаются вокруг своего POI, к которому привязаны

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Вращение подписей вокруг пина на карте в офлайн:
    - *info_vmap2_vulkan_off
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Отображается главный экран приложения
        На карте присутствуют различные POI c подписями
    - do: Вращать карту
    - assert: Подписи плавно вращаются вокруг своего POI, к которому привязаны
    - do: Включить эксперимент vulkan_rendering
    - do: Перезапустить приложение
    - assert: Отображается главный экран приложения
    - do: Вращать карту
    - assert: Подписи плавно вращаются вокруг своего POI, к которому привязаны

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Быстрое переключение между тапабельными POI на карте:
    - *info_vmap2_vulkan_off
    - info: |
        Список основных тапабельных POI
          - с геопродуктом
          - кафе
          - бары
          - магазины продуктов
          - ТЦ
          - аптеки
          - гостиницы
          - кинотеатровы
          - АЗС
          - АЗС с оплатой
          - банкоматы
          - автосервисы
          - автомойки
          - больницы
          - ЖД- и автовокзалы, аэропорты
          - культурные достопримечательности, реализованные картинками (можно найти в центре Москвы)
          - парки
          - кладбища
        Отображается главный экран приложения
    - do: Быстро переключаться между различными POI
    - assert: |
        При нажатии POI выделяются
        Открывается мини-карточка объекта
        При нажатии на следующий POI, выделение со старой активной POI снимается
        Карточка неактивного POI закрывается
    - do: Включить эксперимент vulkan_rendering
    - do: Перезапустить приложение
    - assert: Отображается главный экран приложения
    - do: Быстро переключаться между различными POI
    - assert: |
        При нажатии POI выделяются
        Открывается мини-карточка объекта
        При нажатии на следующий POI, выделение со старой активной POI снимается
        Карточка неактивного POI закрывается

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Быстрое переключение между тапабельными POI на карте, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Список основных тапабельных POI
        - с геопродуктом
        - кафе
        - бары
        - магазины продуктов
        - ТЦ
        - аптеки
        - гостиницы
        - кинотеатровы
        - АЗС
        - АЗС с оплатой
        - банкоматы
        - автосервисы
        - автомойки
        - больницы
        - ЖД- и автовокзалы, аэропорты
        - культурные достопримечательности, реализованные картинками (можно найти в центре Москвы)
        - парки
        - кладбища
        Отображается главный экран приложения
    - do: Быстро переключаться между различными POI
    - assert: |
        При нажатии POI выделяются
        Открывается мини-карточка объекта
        При нажатии на следующий POI, выделение со старой активной POI снимается
        Карточка неактивного POI закрывается
    - do: Включить эксперимент vulkan_rendering
    - do: Перезапустить приложение
    - assert: Отображается главный экран приложения
    - do: Быстро переключаться между различными POI
    - assert: |
        При нажатии POI выделяются
        Открывается мини-карточка объекта
        При нажатии на следующий POI, выделение со старой активной POI снимается
        Карточка неактивного POI закрывается

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение различных подписей на карте, vmap3:
    - *info_vmap3_vulkan_off
    - info: |
        Проверяем отображение различных подписей для объектов:
        - продуктовые магазины, рынки, супермаркеты
        - музеи, театры
        - церкви
        - гостиницы
        - больницы
        - парки, заповедники, горы
        - стадионы
        - заправки
        - автосалоны
        - тц
        - достопримечательности
        - министерства, ведомства, гос. службы, администрации, прокуратура
        - кафе, рестораны, бары
        - салоны красоты, барбершопы
        - банки
        - школы, гимназии, лицеи, дет.сады
        - кладбища
        - аэропорты, вокзалы, ж/д станции, пристани, станции метро
        Отображается главный экран приложения
        На карте отображаются различные POI с подписями
    - do: Перемещаться по спану карты, зумить, просматривая различные подписи POI
    - assert: |
        Все объекты подписаны
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение различных подписей на карте, vmap3 + vulkan:
    - *info_vmap3_vulkan_on
    - info: |
        Проверяем отображение различных подписей для объектов:
        - продуктовые магазины, рынки, супермаркеты
        - музеи, театры
        - церкви
        - гостиницы
        - больницы
        - парки, заповедники, горы
        - стадионы
        - заправки
        - автосалоны
        - тц
        - достопримечательности
        - министерства, ведомства, гос. службы, администрации, прокуратура
        - кафе, рестораны, бары
        - салоны красоты, барбершопы
        - банки
        - школы, гимназии, лицеи, дет.сады
        - кладбища
        - аэропорты, вокзалы, ж/д станции, пристани, станции метро
        Отображается главный экран приложения
        На карте отображаются различные POI с подписями
    - do: Перемещаться по спану карты, зумить, просматривая различные подписи POI
    - assert: |
        Все объекты подписаны
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение различных подписей на карте:
    - *info_vmap2_vulkan_off
    - info: |
        Проверяем отображение различных подписей для объектов:
        - продуктовые магазины, рынки, супермаркеты
        - музеи, театры
        - церкви
        - гостиницы
        - больницы
        - парки, заповедники, горы
        - стадионы
        - заправки
        - автосалоны
        - тц
        - достопримечательности
        - министерства, ведомства, гос. службы, администрации, прокуратура
        - кафе, рестораны, бары
        - салоны красоты, барбершопы
        - банки
        - школы, гимназии, лицеи, дет.сады
        - кладбища
        - аэропорты, вокзалы, ж/д станции, пристани, станции метро
        Отображается главный экран приложения
        На карте отображаются различные POI с подписями
    - do: Перемещаться по спану карты, зумить, просматривая различные подписи POI
    - assert: |
        Все объекты подписаны
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение различных подписей на карте, vulkan:
    - *info_vmap2_vulkan_on
    - info: |
        Проверяем отображение различных подписей для объектов:
        - продуктовые магазины, рынки, супермаркеты
        - музеи, театры
        - церкви
        - гостиницы
        - больницы
        - парки, заповедники, горы
        - стадионы
        - заправки
        - автосалоны
        - тц
        - достопримечательности
        - министерства, ведомства, гос. службы, администрации, прокуратура
        - кафе, рестораны, бары
        - салоны красоты, барбершопы
        - банки
        - школы, гимназии, лицеи, дет.сады
        - кладбища
        - аэропорты, вокзалы, ж/д станции, пристани, станции метро
        Отображается главный экран приложения
        На карте отображаются различные POI с подписями
    - do: Перемещаться по спану карты, зумить, просматривая различные подписи POI
    - assert: |
        Все объекты подписаны
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отсутствие конфликтов между подписями и POI на карте:
    - *info_vmap2_vulkan_off
    - info: |
        Отображается главный экран приложения
        На карте присутствуют различные POI c подписями
    - do: Призумиться к месту большого скопления POI (напр., ГУМ в Москве)
    - do: Зумить и крутить карту так, чтобы подписи объектов пересекались, но при этом не исчезали с карты
    - assert: |
        При пересечении одна из подписей вытесняет другую (зависит от приоритета)
    - do: Переместить карту так, чтоб POI скрылась за пределами экрана, а подпись осталась
    - assert: При исчезновении иконки за пределы экрана подпись остается на том же месте
    - do: Зумить и крутить карту так, чтобы подписи и POI различных объектов пересекались
    - assert: При пересечении более приоритетная POI c подписью вытесняет менее приоритетную POI вместе с подписью

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отсутствие конфликтов между подписями и POI на карте в офлайне:
    - *info_vmap2_vulkan_off
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Отображается главный экран приложения
        На карте присутствуют различные POI c подписями
        Выключить интернет на устройстве
    - do: Призумиться к месту большого скопления POI (напр., ГУМ в Москве)
    - do: Зумить и крутить карту так, чтобы подписи объектов пересекались, но при этом не исчезали с карты
    - assert: |
        При пересечении одна из подписей вытесняет другую (зависит от приоритета)
    - do: Переместить карту так, чтоб POI скрылась за пределами экрана, а подпись осталась
    - assert: При исчезновении иконки за пределы экрана подпись остается на том же месте
    - do: Зумить и крутить карту так, чтобы подписи и POI различных объектов пересекались
    - assert: При пересечении более приоритетная POI c подписью вытесняет менее приоритетную POI вместе с подписью

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отсутствие конфликтов между подписями и POI на карте (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Отображается главный экран приложения
        На карте присутствуют различные POI c подписями
    - do: Призумиться к месту большого скопления POI (напр., ГУМ в Москве)
    - do: Зумить и крутить карту так, чтобы подписи объектов пересекались, но при этом не исчезали с карты
    - assert: |
        При пересечении одна из подписей вытесняет другую (зависит от приоритета)
    - do: Переместить карту так, чтоб POI скрылась за пределами экрана, а подпись осталась
    - assert: При исчезновении иконки за пределы экрана подпись остается на том же месте
    - do: Зумить и крутить карту так, чтобы подписи и POI различных объектов пересекались
    - assert: При пересечении более приоритетная POI c подписью вытесняет менее приоритетную POI вместе с подписью

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отсутствие конфликтов между подписями и POI на карте в офлайн (vulkan):
    - *info_vmap2_vulkan_on
    - info: |
        Скачан кэш текущего региона (Меню -> Загрузка карт)
        Отображается главный экран приложения
        На карте присутствуют различные POI c подписями
    - do: Призумиться к месту большого скопления POI (напр., ГУМ в Москве)
    - do: Зумить и крутить карту так, чтобы подписи объектов пересекались, но при этом не исчезали с карты
    - assert: |
        При пересечении одна из подписей вытесняет другую (зависит от приоритета)
    - do: Переместить карту так, чтоб POI скрылась за пределами экрана, а подпись осталась
    - assert: При исчезновении иконки за пределы экрана подпись остается на том же месте
    - do: Зумить и крутить карту так, чтобы подписи и POI различных объектов пересекались
    - assert: При пересечении более приоритетная POI c подписью вытесняет менее приоритетную POI вместе с подписью

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Проверка состояния пинов при поиске:
    - info: |
          Пины различаются по состоянию на:
          1. Dot (маленький пин)
          2. Pin (дефолтный пин)
          3. Pin + Name (дефолтный пин с названием)
          4. Pin + Name + Details (дефолтный пин с названием и подстрочником).
          Пины различаются по внешнему виду на:
          1. До взаимодействия
          2. Активный пин
          3. Пин после взаимодействия
          4. Пин закрытой организации (Зависит от графика работы)
          5. Пин организации с геопродуктом до взаимодействия
          6. Просмотренный пин организации с геопродуктом
          Включить/выключить отображение зумов на карте можно через:
            - тычку `Debug Panel -> Environment -> Mapkit debug info`
            - тапом тремя пальцами на спан карты (может сработать не сразу)
    - do: Открыть главный экран на 19-ом зуме
    - do: Тап по строке поиска
    - assert: Открыт экран поиска
    - do: Выбрать раздел “Бары и пабы”
    - assert: |
            Отображается поисковая выдача на карте
            На карте отображаются пины организаций выбранного раздела
            В нижней части экрана отображается список миникарточек организаций
            Пины организаций, которые работают в данный момент имеют состояние до взаимодействия (синий пин)
            У организаций с геопродуктом пины зеленые или с картинкой (брендированные)
            Пины организаций который по графику работ закрыты имеют состояния закрытой организации (серый пин)
    - do: Свернуть список миникарточек
    - assert: Отображается строка поиска с “Бары и пабы”
    - do: Тап по синему пину на карте
    - assert: |
            Открывается миникарточка организации
            Пин организации имеет активное состояние (красный пин)
    - do: Тап по другому синему пину
    - assert: |
            Открывается миникарточка новой организации
            Пин новой организации имеет активное состояние
            Пин ранее открытой организации отображается как “После взаимодействия”
    - do: Тап по первому посещенному пину
    - assert: |
            Открывается миникарточка организации
            Пин новой организации имеет активное состояние
            Остальные посещенные пины сохраняют свой внешний вид “После взаимодействия”
    - do: Тап по пину организации с геопродуктом
    - assert: |
            Открывается миникарточка организации с геопродуктом
            Пин новой организации имеет активное состояние, пин зеленый или брендированный (с картинкой)
            Остальные посещенные пины сохраняют свой внешний вид “После взаимодействия”
    - do: Свайп вниз по миникарточке
    - assert: |
            Миникарточка свернулась до микрокарточки
            Отображается свёрнутая строка организации
            Состояние пина активно
    - do: Отзумить карту до 13-го зума
    - assert: |
            Область поиска изменилась
            Поисковая выдача на карте обновилась
            На карте не отображаются пины с подстрочником
    - do: Отзумить карту до 11-го зума
    - assert: |
            Область поиска изменилась
            Поисковая выдача на карте обновилась
            На карте не отображаются пины с названием
    - do: Отзумить карту до 7-го зума
    - assert: |
            Область поиска изменилась
            Поисковая выдача на карте обновилась
            На карте отображаются только пины Dot

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps


  Сохранение 3D-режима на главном экране при изменении состояния:
    - info: |
        3D-режим включен
        Открыт главный экран
    - do: Произвести поиск по запросу топонима или организации
    - do: Закрыть результаты поиска
    - assert: 3D-режим включен
    - do: Свернуть МЯК
    - do: Развернуть МЯК
    - assert: 3D-режим включен
    - do: Перезапустить приложение с выгрузкой из памяти
    - assert: 3D-режим включен

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Сохранение 3D-режима при переходе в ведение по автомаршруту:
    - info: |
        3D-режим включен (свайп двумя пальцами вверх по подложке, либо тап на Контрол слоёв -> 3D-режим)
        Открыт главный экран МЯК
    - do: Построить автомаршрут
    - do: Перейти в режим ведения
    - assert: Открыт экран ведения по маршруту
    - do: Выйти из режима автоведения
    - assert: 3D-режим включен

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Сохранение 3D-режима при переходе в неавтомобильное ведение:
    - info: |
        3D-режим включен
        Открыт главный экран МЯК
    - do: Построить любой маршрут, кроме автомобильного
    - do: Перейти в режим ведения
    - assert: Открыт экран ведения по маршруту
    - do: Выйти из режима автоведения
    - assert: 3D-режим включен

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Проверка прав доступа к геолокации в приложении:
    - info: |
        Первый запуск приложения
        Отображается запрос доступа к геолокации
    - do: Отклонить доступ к геолокации
    - assert: |
        Отображается главный экран приложения
        ММП не определено
    - do: Тап на контрол ММП
    - assert: |
        Отображается запрос доступа к геолокации
    - do: Отклонить запрос доступа
    - assert: |
        Отображается главный экран приложения
        ММП не определено
    - do: Тап на контрол ММП
    - assert: |
        Отображается запрос доступа к геолокации
    - do: Разрешить доступ
    - assert: |
        Отображается главный экарн приложения
        Местоположение определено

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Закрытие карточек мест тапом в карту с нетапабельными топонимами в режиме ведения:
    - info: |
        (iOS)Включен эксперимент not_tapable_toponyms
        (iOS)Включен эксперимент tap-to-close_cards
        Происходит симуляция движения: Debug-panel > Routes > Demo movement
    - do: Построить произвольный автомаршрут
    - assert: Открыт экран выбора вариантов маршрута
    - do: Тап Поехали
    - assert: Открыт экран ведения по маршруту
    - do: Тап по произвольному топониму
    - assert: Ничего не происходит, топонимы не тапабельны
    - do: Тап на POI
    - assert: |
        Продолжается ведение по маршруту
        Открыта карточка организации
    - do: Тап на нетапабельную область карты
    - assert: |
        Продолжается ведение по маршруту
        Карточка организации закрыта

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Закрытие карточек мест тапом в карту с нетапабельными топонимами в режиме Навигатора:
    - info: |
        (iOS)Включен эксперимент not_tapable_toponyms
        (iOS)Включен эксперимент tap-to-close_cards
    - do: Тап на таб Навигатор
    - assert: Открыт экран в режиме Навигатора
    - do: Тап по произвольному топониму
    - assert: Ничего не происходит, топонимы не тапабельны
    - do: Тап на POI
    - assert: Открыта карточка организации
    - do: Тап на нетапабельную область карты
    - assert: Карточка организации закрыта

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Сохранение 3D режима при автоматическом подзуме в режиме ведения:
    - info: |
        Включено отображение в 3D (Слои -> 3D)
        Включена симуляция ведения (Debag Panel -> Routes -> Demo Movement)
    - do: Построить произвольный автомобильный маршрут
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения по автомобильному маршруту
    - do: Уменьшить зум карты, чтобы он был <14
    - assert: |
        Происходит автоматический переход в 2D
    - do: Подождать несколько секунд
    - assert: |
        Происходит автоматический подзум
        Метка курсора отображается в центре экрана
        Ведение происходит в 3D
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Сохранение 3D режима при ручнном подзуме в режиме ведения:
    - info: |
        Включить режим 3D свайпом двумя пальцами вверх по карте
        Включена симуляция ведения (Debag Panel -> Routes -> Demo Movement)
    - do: Построить произвольный автомобильный маршрут
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения по автомобильному маршруту
    - do: Уменьшить зум карты, чтобы он был <14
    - assert: |
        Происходит автоматический переход в 2D
    - do: Тап на контрол МПП
    - assert: |
        Происходит подзум к метке курсора
        Ведение продолжается в режиме 3D
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Сохранение 3D режима при автоматическом подзуме в режиме фридрайва:
    - info: |
        Включена симуляция движения (На iOS: Debag panel -> Routes -> Enter your route, на Anroid через Mock Location)
        Включить режим 3D свайпом двумя пальцами вверх по карте
    - do: Тап на таб Навигатор
    - assert: |
        Отображается экран ведения в режиме фридрайв
    - do: Уменьшить зум карты, чтобы он был <14
    - assert: |
        Происходит автоматический переход в 2D
    - do: Подождать несколько секунд
    - assert: |
        Происходит автоматический подзум
        Метка курсора отображается в центре экрана
        Ведение происходит в 3D
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Сохранение 3D режима при ручнном подзуме в режиме фридрайва:
    - info: |
        Включена симуляция движения (На iOS: Debag panel -> Routes -> Enter your route, на Anroid через Mock Location)
        Включено отображение в 3D (Слои -> 3D)
    - do: Тап на таб Навигатор
    - assert: |
        Отображается экран ведения в режиме фридрайв
    - do: Уменьшить зум карты, чтобы он был <14
    - assert: |
        Происходит автоматический переход в 2D
    - do: Тап на контрол МПП
    - assert: |
        Происходит подзум к метке курсора
        Ведение продолжается в режиме 3D
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Включение и выключение сервиса Транспорт:
    - info: |
        Отображается главный экран приложения
        Добавлены Дом и Работа более чем за 1 км от местоположения пользователя
    - do: |
        Для Android Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/aamikhailin/YQR%20%281%29.png){title=QR-код}

        `yandexmaps://add_exp?service_architecture`
    - do: Перезапустить приложение
    - assert: Отображается главный экран приложения
    - do: Тап на таб Транспорт в таббаре
    - assert: |
        Таббар анимированно уезжает вниз
        Вместо поисковой строки поиска отображается название сервиса Транспорт
        Профиль уезжает в отдельный контрол
        Контролы слоев и пробок поднимаются к верхнему краю
        В панели саджестов отображаются:
          Саджест "Куда"
          Чекбокс "Мой транспорт"
          Саджест поиска
          Саджест закладок
          Саджест Дом
          Саджест Работа
        Применена транспортная подложка
        На карте отображается живые метки ОТ
        Присутствует кнопка возвращения назад
    - do: Тап на кнопку возвращения назад
    - assert: |
        Таббар анимированно появляется
        Отображается главный экран приложения
        Транспортная подложка не применена
        На карте не отображаются живые метки ОТ

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Выключение сервиса Транспорт при перезапуске приложения:
    - info: |
        Отображается главный экран приложения
    - *exp_service_architecture_on
    - do: Свернуть приложение
    - do: Развернуть приложение
    - assert: Отображается экран сервиса Транспорт
    - do: Перезапустить приложение
    - assert: |
        Приложение перезапущено
        Отображается главный экран МЯК

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Контрол профиля в сервисе Транспорт:
    - info: |
        Устройство в вертикальной ориентации
        Открыт главный экран приложения
        Пользователь авторизован
    - *exp_service_architecture_on
    - do: Тап по аватарке пользователя в сервисе
    - assert: Отображается шторка с настройками
    - do: Закрыть шторку с настройками
    - assert: Отображается экран с сервисом Транспорт

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Переход кнопки меню в кнопку с аватаркой в сервисе Транспорт:
    - info: |
        Устройство в вертикальной ориентации
        Открыт главный экран приложения
        Пользователь не авторизован
    - *exp_service_architecture_on
    - do: Авторизоваться
    - assert: Кнопка меню заменилась на кнопку с аватаркой пользователя
    - do: Тап по аватарке пользователя в сервисе
    - assert: Отображается шторка с настройками
    - do: Закрыть шторку с настройками
    - assert: |
        Отображается экран с сервисом Транспорт
        Отображается кнопка с аватаркой пользователя

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Работа кнопки поиска в сервисе Транспорт:
    - info: |
        Устройство в вертикальной ориентации
        Открыт главный экран приложения
    - *exp_service_architecture_on
    - do: Тап по кнопке поиска в маршрутном саджесте
    - assert: Открывается шторка поиска
    - do: Закрыть шторку поиска
    - assert: |
        Шторка поиска закрылась
        Отображается экран сервиса Транспорт

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Работа поиска в сервисе Транспорт:
    - info: |
        Устройство в вертикальной ориентации
        Открыт главный экран приложения
    - *exp_service_architecture_on
    - do: Тап по кнопке поиска в маршрутном саджесте
    - assert: Открывается шторка поиска
    - do: Выполнить произвольный запрос в поисковой строке
    - assert: |
        Поиск выполнен
        Отображаются результаты

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Сохранение ранее выбранного спана карты после перезапуска приложения (пин "Я" не виден, размещен за границами спана):
    - info: Открыт главный экран приложения
    - do: Подвинуть карту так, чтобы пин "Я" не был виден на карте
    - assert: Пин "Я" не отображается на спане
    - do: Перезапустить приложение с выгрузкой из памяти
    - assert: |
        Открыт главный экран приложения
        Отображается ранее выбранный спан карты

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - use_map


  Отображение карты в режиме 2D по умолчанию в режиме фридрайв при включении "Север всегда сверху":
    - info: |
        В настройках включена настройка "Север всегда сверху" (Настройки -> Маршруты -> Север всегда сверху)
        Включена симуляция движения (С помощью Mock Location)
    - do: Тап на таб Навигатор
    - assert: |
        Происходит отображение ведения в режиме фридрайв
        Карта отображается в режиме 2D

    - platforms:
        - android
    - tags:
        - assessors


  Отображение карты по умолчанию в режиме 2D в режиме ведения при включении "Север всегда сверху":
    - info: |
        В настройках включена настройка "Север всегда сверху" (Настройки -> Маршруты -> Север всегда сверху)
        Включена симуляция ведения (Debag Panel -> Routes -> Demo Movement)
        Открыт экран построение маршрута
        Построен произвольный автомобильный маршрут
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения по маршруту
        Карта отображается в 2D

    - platforms:
        - android
    - tags:
        - assessors


  Отображение карты в режиме 3D по умолчанию в режиме ведения при выключении "Север всегда сверху":
    - info: |
        В настройках отключена настройка "Север всегда сверху" (Настройки -> Маршруты -> Север всегда сверху)
        Включена симуляция ведения (Debag Panel -> Routes -> Demo Movement)
        Открыт экран построение маршрута
        Построен произвольный автомобильный маршрут
    - do: Тап Поехали
    - assert: |
        Отображается экран ведения по маршруту
        Карта отображается в 3D

    - platforms:
        - android
    - tags:
        - assessors


  Отображение карты в режиме 3D по умолчанию в режиме фридрайва при выключении "Север всегда сверху":
    - info: |
        В настройках отключена настройка "Север всегда сверху" (Настройки -> Маршруты -> Север всегда сверху)
        Включена симуляция движения (С помощью Mock Location)
    - do: Тап на таб Навигатор
    - assert: |
        Происходит отображение ведения в режиме фридрайв
        Карта отображается в режиме 3D

    - platforms:
        - android
    - tags:
        - assessors


  Сохранение последнего выбранного режима отображение в режиме ведения при включении "Север всегда сверху":
    - info: |
        Первый запуск приложения
        В настройках включена настройка "Север всегда сверху" (Настройки -> Маршруты -> Север всегда сверху)
        Включена симуляция движения (С помощью Mock Location)
        Открыт экран построение маршрута
        Построен произвольный автомобильный маршрут
    - do: Тап поехали
    - assert: |
        Отображается экран ведения по маршруту
        Карта отображается в 2D
    - do: Завершить ведение тапом на крестик
    - do: Построить произвольный автомобильный маршрут, тап Поехали
    - assert: |
        Отображается экран ведения по маршруту
        Карта отображается в 2D
    - do: Свайпом двумя пальцами вверх по экрану изменить режим отображения на 3D
    - assert: |
        Отображается экран ведения по маршруту
        Карта отображается в 3D
    - do: Завершить ведение тапом на крестик
    - do: Построить произвольный автомобильный маршрут, тап Поехали
    - assert: |
        Отображается экран ведения по маршруту
        Карта отображается в 3D

    - platforms:
        - android
    - tags:
        - assessors


  Сохранение последнего выбранного режима отображение в режиме фридрайва при включении "Север всегда сверху":
    - info: |
        Первый запуск приложения
        В настройках включена настройка "Север всегда сверху" (Настройки -> Маршруты -> Север всегда сверху)
        Включена симуляция ведения (Debag Panel -> Routes -> Demo Movement)
    - do: Тап на таб Навигатор
    - assert: |
        Отображается экран ведения в режиме фридрайв
        Карта отображается в 2D
    - do: Свайпом двумя пальцами вверх по экрану изменить режим отображения на 3D
    - assert: |
        Отображается экран ведения в режиме фридрайв
        Карта отображается в 3D
    - do: Тап на таб Навигатор
    - do: Закрыть приложение с выгрузкой из памяти
    - do: Запустить приложение
    - do: Тап на таб Навигатор
    - assert: |
        Отображается экран ведения в режиме фридрайв
        Карта отображается в 3D

    - platforms:
        - android
    - tags:
        - assessors


  Разрешение на доступ к геолокации на старте приложения если был выбран пункт «Только в этот раз»:
    - info: |
        Кейс для устройств на Android 11 и выше
        Первый запуск приложения
    - do: |
        Использовать интент:
        [collapsed-image](https://jing.yandex-team.ru/files/lsherst/assertive_location_request-1){title=QR-код}

        `yandexmaps://add_exp?assertive_location_request

    - do: Тап на «Начать пользоваться»
    - assert: |
        Открыт главный экран приложения
        Появился запрос «Разрешите доступ к местоположению»
    - do: Тап на «Продолжить»
        Появился системный запрос на доступ приложения Яндекс.Карты к данным о местоположении устройства
    - do: Тап на "Только в этот раз"
    - assert: Спан карты центрируется на местоположение пользователя
    - do: Перезапустить МЯК (нужен холодный запуск Мяк)
    - assert: |
        Открыт главный экран приложения
        Появился системный запрос на доступ приложения Яндекс.Карты к данным о местоположении устройства
    - do: Тап на кнопку "При использовании приложения"
    - assert: Спан карты центрируется на местоположение пользователя
    - do: Перезапустить МЯК
    - assert: Спан карты центрируется на местоположение пользователя

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


##Следующие 3 ТК по задачам MAPSANDROID-16318 и MAPSANDROID-16351
  Выключение апдейтера на девайсе с вендором, на котором проводится проверка:
    - info: |
        Девайс подключен к Charles
    - do: Установить в `Дебаг-панель -> Experiments -> yandex_updater_base_url` любой валидный url, например `https://yandex.ru/maps/org/yarche_/142236413334`
    - do: Установить в `Дебаг-панель -> Experiments -> yandex_updater_vendors_exclusion` вендор девайса (например, samsung, huawei), на котором проходится данный кейс
    - do: Перезапустить МЯК
    - assert: В Charles отсутствуют запросы на заданный url

    - platforms:
        - android
    - testing:
        - acceptance_maps


  Включение апдейтера на девайсе с вендором, на котором проводится проверка:
    - info: |
        Девайс подключен к Charles
        Эксперимент `yandex_updater_base_url` - урл к бэкенду, отвечающему за проверку наличия обновлений. При работающем GooglePlay этот эксперимент не должен быть задан
    - do: Установить в `Дебаг-панель -> Experiments -> yandex_updater_base_url` любой валидный url, например `https://yandex.ru/maps/org/yarche_/142236413334`
    - do: Установить в `Дебаг-панель -> Experiments -> yandex_updater_vendors_exclusion` вендор девайса (например, samsung, huawei) отличного от того, на котором проходится данный кейс
    - do: Перезапустить МЯК
    - assert: |
        При старте приложения идёт запрос в Charles на заданный url
        В "body" Запроса присутствуют данные о текущем приложении и устройстве:
        - "package_name"
        - "version_code"
        - "version_name"
        - "architecture"
        - "sdk_version"
        - "manufacturer"
        - "model"

    - platforms:
        - android
    - testing:
        - acceptance_maps


  Состояние экспериментов по интеграции апдейтера, при работающем GooglePlay:
    - info: Маркет GooglePlay работает - не отключен, например, из-за санкций и подобных вещей
    - do: Перейти в `Дебаг-панель -> Experiments -> yandex_updater_base_url`
    - assert: Данный эксперимент не задан и по умолчанию выключен
    - do: Вернуться назад - к общему списку экспериментов
    - do: Найти эксперимент `yandex_updater_vendors_exclusion`
    - assert: Данный эксперимент не задан и по умолчанию выключен

    - platforms:
        - android
    - testing:
        - acceptance_maps


  Сервис Транспорт. UI отображение элементов при открытой карточке организации. Вертикальная ориентация:
    - preconditions: Устройство в вертикальной ориентации
    - do: Включить эксперименты на Android используя интент
        [collapsed-image](https://jing.yandex-team.ru/files/aamikhailin/YQR%20%281%29.png){title=QR-код}

        `yandexmaps://add_exp?service_architecture`
    - do: Перезапустить приложение с выгрузкой из памяти
    - assert: Открыт главный экран приложения
    - do: Тап на таб Транспорт в тулбаре
    - do: Тап на пин любой организации на карте
    - assert: |
        - Открылась мини карточка организации
        - Вверху экран заголовок Транспорт
        - Слева от заголовка отображается контролл "меню"
        - Справа от заголовка отображается контролл слоев
        - Под контроллом слоев отображается контролл пробок
        - Справа отображаются контролы зума
        - Справа над карточкой организации отображается контролл ММП

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Сервис Транспорт. UI отображение элементов при открытой карточке организации. Горизонтальная ориентация:
    - preconditions: |
        Устройство в горизонтальная ориентации
        Саджесты Работа или Дом отображается если пользователь авторизован и у него добавлены Дом или Работа в закладки
    - do: Включить эксперименты для Android используя интент
        [collapsed-image](https://jing.yandex-team.ru/files/aamikhailin/YQR%20%281%29.png){title=QR-код}

        `yandexmaps://add_exp?service_architecture`
    - do: Перезапустить приложение с выгрузкой из памяти
    - assert: Открыт главный экран приложения
    - do: Тап на таб Транспорт в тулбаре
    - do: Тап на пин любой организации на карте
    - assert: |
        - Открылась карточка организации
        - Вверху экран заголовок Транспорт (для Android)
        - Слева от заголовка отображается контрол меню (для Android)
        - Справа от заголовка отображается контрол слоев
        - Справа отображаются контролы зума
        - Под контролами зума отображается контрол ММП

    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Изменение зума карты через контрол при отсутствии метки ММП на спане:
    - info: |
        Открыт главный экран приложения
        На спане отсутствует метка ММП
    - do: Тап на контрол уменьшения зума
    - assert: Происходит уменьшение зума относительно центра спана
    - do: Тап на контрол увеличения зума
    - assert: Происходит увеличение зума относительно центра спана

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Перезагрузка с включенным слоем транспорта:
    - info: |
        Открыт главный экран приложения
    - do: Тап по контроллу слоев
    - do: Включить слой транспорта
    - do: Вернуться на главный экран
    - assert: |
        На карте от ображается слой транспорта
        Таб транспорта не активен
    - do: Перезагрузить приложение с выгрузкой из памяти
    - assert: |
        Отображается главный экран приложения
        На карте отображается слой транспорта
        Таб транспорта не активен

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Перезагрузка с включенным табом транспорта:
    - info: |
        Открыт главный экран приложения
    - do: Тап на таб транспорта
    - assert: |
        На карте от ображается слой транспорта
        Таб транспорта активен
    - do: Перезагрузить приложение с выгрузкой из памяти
    - assert: |
        Отображается главный экран приложения
        На карте не ображается слой транспорта
        Таб транспорта не активен

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Построение маршрута на ОТ в сервисе Транспорт после перезапуска если ранее был выбран другой тип транспорта:
    - info: Открыт главный экран приложения
    - do: Тап на таб Транспорт в таббаре
    - assert: Открылся экран сервиса Транспорт
    - do: Построить маршрут любым способом
    - assert: |
        - Открыт экран выбора маршрута
        - Поумолчанию выбран тип транспорта ОТ
    - do: Выбрать любой тип транспорта, кроме ОТ
    - assert: Маршрут изменился с учетом выбранного транспорта
    - do: Сбросить маршрут
    - do: Перезапустить приложение
    - assert: Открыт главный экран приложения
    - do: Тап на таб Транспорт в таббаре
    - assert: Открыт экран сервиса Транспорт
    - do: Построить маршрут любым способом
    - assert: |
        - Открыт экран выбора маршрута
        - Поумолчанию выбран тип транспорта ОТ

    - platforms:
        - android
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_maps
