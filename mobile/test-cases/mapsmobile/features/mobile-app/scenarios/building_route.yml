testing:
  - regress
components: building_route

specs:
  Построение маршрута для Общественного транспорта разными способами:
    - do: Построить ОТ-маршрут с одним вариантом проезда [пример маршрута](https://yandex.ru/maps/?rtext=54.168373%2C37.570455~54.173597%2C37.565646&rtt=mt)
    - assert: |
        Построен маршрут
        В списке отображается только один ОТ маршрут
        Также может отображаться пешеходный маршрут
    - do: Построить маршрут с двумя и более вариантами проезда (Например, 3 варианта (от Ленинского проспекта, 123 (Москва) до 2-й Институтской улицы, 6с8 (Москва)), 5 вариантов( от МКАД, съезд 74 (Москва) до микрорайона Никольско-Архангельский (Москва))
    - assert: Маршрут должен строиться, данные отображаются корректно
    - do: Построить маршрут для тех мест, где ОТ не ходит
    - assert: |
        Отображается панель с текстом: "Попробуйте выбрать другой транспорт или немножко сдвинуть стартовую или конечную точки"
        Присутствует кнопка Изменить маршрут

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
    - tags:
        - newbie

  Выбор точек маршрута через Избранное:
    - info: |
        Пользователь авторизован
        У пользователя добавлены организации в избранное
    - do: Тап Маршруты
    - do: Тап на организацию из Избранного
    - assert: |
        Открыт экран выбора варианта маршрута
        Машрут построен от текущего местоположения
        Конечная точка находится в том же месте, что и закладка места из избранного
    - do: Тап Назад в навбаре
    - assert: |
        Открыт экран Маршрут
        В поле "Куда" организация из избранного
    - do: Тап на поле начальной точки
    - assert: |
        Открыт экран Маршрут
        Фокус находится в поле начальной точки с плейсхолдером "Откуда"
        Отображается клавиатура
    - do: Тап по другой организации из Избранного
    - assert: |
        Открыт экран выбора варианта маршрута с маршрутом построенным между местами из избранного
        Начальная точка находится там же, где закладка выбранного места из избранного
    - do: Тап Назад в навбаре
    - assert: |
        Открыт экран Маршрут
        В поле "Куда" по-прежнему находится название места из избранного, выбранное первым
        В поле "Откуда" находится название места из избранного, выбранное вторым

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
        - lite_acceptance_maps
    - tags:
        - assessors
    - tags:
        - newbie


  Построение автомобильного маршрута после завершения предыдущего маршрута через форму Маршрут:
    - info: |
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Тап на Маршрут
    - do: Построить любой автомобильный маршрут
    - assert: Открылся экран вариантов маршрута
    - do: Тап на Поехали
    - assert: Началось введение по маршруту
    - do: Дождаться завершения симуляции маршрута
    - assert: |
        По прибытии в место назначения маршрут автоматически завершается
        Отображается главный экран приложения
    - do: Тап на Маршруты
    - do: Выбрать другое место назначения в поле Куда
    - assert: Открылся экран построения маршрута

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready

  Выбор точки маршрута через поиск по координатам:
    - info: Скопированы координаты из карточки топонима
    - do: Тап на таб Маршрут
    - do: Тап по полю Куда
    - do: Вставить в поле скопированные координаты
    - do: Провести поиск
    - do: Подтвердить выбор результата
    - assert: |
        Открыта форма выбора варианта маршрута
        В поле Куда отображается результат поиска с названием топонима
        Точка В находится в том же месте откуда скопированы координаты
        (Android) Если масштаб карты <10, то пин точки отправления и промежуточные точки не показаны на спане

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready

  Открытие экрана маршрут (местоположение определено):
    - info: |
        Открыт главный экран приложения с картой
        Пользователь не авторизован
        ММП определено
        Устройство в вертикальной ориентации
    - do: Тап на Маршрут
    - assert: |
        Открыт экран Маршрут
        В навбаре (стрелка Назад, название экрана Маршрут, Далее (пока не выбрана начальная и конечная точка - неактивная)
        Под навбаром блок выбора начальной и конечной точки
        В начальной точке указано Мое местоположение и с красной иконкой в виде стрелки
        В конечной плейсхолдер Куда
        В заполненных полях присутствует крестик
        Справа от полей кнопка в виде двух противонаправленных вертикальных стрелок (меняет местами Куда и Откуда)
        Ниже расположен блок Дом/Работа
        Справа от Дом и Работа кнопка Добавить (если их нет)
    - do: Тап в поле 'Куда'
    - assert: |
        Поле ввода сместилось вверх экрана
        Фокус в поле 'Куда'
        Под полем ввода расположены саджесты 'Указать на карте' и 'Голосовой ввод'
        Отображается клавиатура
    - do: Сменить ориентацию девайса
    - assert: Отображается экран Маршрут в горизонтальной ориентации

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Открытие экрана маршрут (местоположение не определено):
    - info: |
        Открыт главный экран приложения с картой
        Пользователь не авторизован
        Доступ к ММП запрещен
        Устройство в вертикальной ориентации
    - do: Тап на Маршрут
    - assert: |
        Открыт экран Маршрут
        В навбаре (стрелка Назад, название экрана Маршрут, Далее (пока не выбрана начальная и конечная точка - неактивная))
        Под навбаром блок выбора начальной и конечной точки
        В начальной плейсхолдер Откуда
        В конечной плейсхолдер Куда
        Ниже расположен блок Дом/Работа
        Справа от Дом и Работа кнопка Добавить (если их нет)
    - do: Сменить ориентацию девайса
    - assert: Отображается экран Маршрут в горизонтальной ориентации

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Изменение порядка точек маршрута:
    - info: Местоположение пользователя определенно
    - do: Тап маршруты
    - assert: Отображается экран построения маршрута
    - do: Указать конечную точку маршрута
    - assert: Отображается экран выбора вариантов маршрута
    - do: Тап на стрелку Назад
    - assert: |
        Открыт экран построения маршрута.
        В поле начальной точки Мое местоположение с иконкой в виде красной стрелки.
        В поле конечной точки адрес из предыдущего шага с иконкой в виде черного круга.
        Ниже отображается поле Добавить точку с иконкой +.
        Справа от каждого поля отображаются две горизонтальные линии.
        В каждом заполненном поле справа отображается крестик.
        iOS: В правом верхнем углу активна кнопка Далее.
        Android: В правом верхнем углу активна кнопка Дальше.
    - do: Перенести конечную точку над начальной с помощью drag and drop (на кнопке в виде 2 горизонтальных линий)
    - assert: |
        Адрес из info отображается в поле начальной точки с иконкой в виде красного круга.
        В поле конечной точки Мое местоположение с иконкой в виде черной стрелки.
        Ниже отображается Добавить точку.
    - do: С помощью drag and drop перенести Добавить точку над начальной точкой.
    - assert: |
        Добавить точку отображается над начальной точкой.
        Цвет иконок в полях не изменился.
    - do: Тап на Добавить точку
    - assert: |
        Поле Добавить точку переместилось в верхнюю часть экрана.
        Иконка + пропала. Фокус в поле ввода. Отображается клавиатура.
        Под полем ввода саджесты Указать на карте и Голосовой ввод.
        Может отображаться саджест Моё местоположение.

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - tags:
        - newbie

  Отображение истории маршрутов для авторизованного пользователя:
    - info: |
        Устройство в вертикальной ориентации
        Пользователь авторизован
        В закладках должно быть минимум 1 место в избранном
        В приложении были построены маршруты
        Отображается главный экран приложения
    - do: Тап на кнопку Маршруты
    - assert: |
        Отображается экран Маршрут
        Под блоком Дом/Работа отображается блок с историей маршрутов
        В блоке отображаются 2 последние точки маршрутов
        В блоке отображается кнопка Еще из истории (при количестве маршрутов в истории больше 4)
        Слева от каждого маршрута иконка в виде часов
        Справа от каждого маршрута отображается расстояние
    - do: Тап на произвольный адрес из блока истории
    - assert: |
        Отображается экран выбора вариантов маршрута
        Маршрут построен от текущего местоположения до выбранного в истории адреса
        Тип маршрута совпадает с последним построенным
        В левом верхнем углу кнопка Назад в виде стрелки
    - do: Тап на стрелку Назад в навбаре
    - assert: |
        Отображается экран построения маршрута
        В поле начальной точки Мое местоположение
        В поле конечной точки адрес выбранный из истории маршрутов
    - do: Тап 'Еще из истории' (Если кнопка есть)
    - assert: |
        Отображается экран История
        На экране перечислены точки последних маршрутов
        Среди последних точек - конечные точки построенных до авторизации маршрутов
        Слева от каждого маршрута иконка в виде часов
        Справа от каждого маршрута отображается расстояние
    - do: Изменить ориентацию устройства
    - assert: |
        Отображается полный список истории маршрутов в горизонтальной ориентации
        Верстка не поехала
    - do: Тап на любой адрес из списка
    - assert: |
        Отображается экран выбора вариантов маршрута
        В поле Откуда указано Мое местоположение
        В поле Куда выбранный адрес

    - platforms:
       - ios
       - android
    - testing:
       - acceptance_maps
    - tags:
       - assessors
    - tags:
        - newbie


  Отображение истории маршрутов для неавторизованного пользователя:
    - info:
        Пользователь не авторизован
        В приложении были построены маршруты
    - do: Тап на кнопку Маршрут
    - assert: |
        Отображается экран Маршрут
        Под блоком Дом/Работа отображается блок с историей маршрутов
        Слева от каждого маршрута иконка в виде часов
        Справа от каждого маршрута отображается расстояние
    - do: Тап на произвольный адрес из блока истории
    - assert: |
        Отображается экран выбора вариантов маршрута
        Маршрут построен от текущего местоположения до выбранного в истории адреса
        Тип маршрута совпадает с последним построенным
        В левом верхнем углу кнопка Назад в виде стрелки
    - do: Тап по стрелке Назад в навбаре
    - assert: |
        Отображается экран построения маршрута
        В поле начальной точки Мое местоположение с красной иконкой в виде стрелки
        В поле конечной точки адрес из шага из предыдущего шага
        Ниже отображается поле Добавить точку с иконкой +
        Справа от каждого поля отображаются две горизонтальные линии
        В правом верхнем углу активна кнопка Далее
        Под блоком Дом/Работа отображается блок с историей маршрутов
    - do: Изменить ориентацию устройства
    - assert: |
        Экран Маршрут отображается в горизонтальной ориентации
        При скролле экрана отображается полный список истории маршрутов
        Верстка не поехала
    - do: Тап на любой адрес из списка
    - assert: |
        Открыт экран выбора вариантов маршрута
        В поле Откуда указано Мое местоположение
        В поле Куда выбранный адрес
        Маршрут построен, на карточке маршрута отображается кнопка Поехали.

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Отображение блока Дом/Работа на экране Маршрут:
    - info: |
        Войти в аккаунт с добавленным домом и работой
        Открыт главный экран приложения с картой
        ММП определено
    - do: Выключить эксперимент no_routes_tab (Настройки - Debug Panel - Experiments)
    - do: Перезапустить приложение
    - do: Тап на таб Маршруты
    - assert: |
        Открыт экран Маршрут
        Под блоком с начальной и конечной точкой отображается блок Дом/Работа
        В блоке - иконка в виде дома/портфеля, справа тип транспорта, время маршрут и состояние загруженности дороги (в виде светофора)
        Если дом и/или работа совпадает с текущим местоположением, то соответствующее поле не отображается в блоке (или весь блок)
    - do: Тап на Дом
    - assert: |
        Открыт экран выбора вариантов маршрута
        Маршрут построен от текущего местоположения до дома
        Тип транспорта соответствует последнему выбранному
        В левом верхнем углу стрелка назад
    - do: В навбаре выбрать пешеходный тип маршрута
    - assert: Маршрут перестроился
    - do: Тап Назад
    - assert: |
        Открыт экран построения маршрута
        В поле начальной точки Мое местоположение
        В поле конечной точки Дом
        Ниже отображается поле Добавить точку с иконкой +
        В блоке Дом/Работа тип маршрута заменился на пешеходный

    - platforms:
       - ios
       - android
    - integration_run:
       - mapkit
    - testing:
        - lite_acceptance_maps
    - tags:
        - assessors
        - mapkit_ready
    - tags:
        - newbie


  Выбор точек маршрута через созданный пользователем список мест:
    - info: |
        Пользователь авторизован
        Добавлено минимум 2 места в Избранное/пользовательский список
        Включено отображение мест списка на карте
        Отображается главный экран приложения
    - do: Выключить эксперимент no_routes_tab (Настройки - Debug Panel - Experiments)
    - do: Перезапустить приложение
    - do: Тап на таб Маршруты
    - assert: |
        Открыт экран Маршрут
        Под блоком Дома/Работы отображается блок истории и закладок
        Блок с историей не отображается, если история пустая
    - do: Тап на поле начальной точки
    - assert: |
        Фокус находится в поле начальной точки с плейсхолдером Откуда
        Отображается клавиатура
    - do: Тап на название списка
    - assert: |
        Открыта страница списка с двумя сохраненными местами
        Сверху в навбаре — заголовок с названием списка, а слева от него кнопка возврата назад
        Ниже - список мест в списке в том же порядке, что и в самом списке на форме Закладки
    - do: Тап по первому месту в списке
    - assert: |
        Форма списка закрылась
        Открылась форма Маршрут
        В поле начальной точки — название первого места из списка
    - do: Тап на название списка
    - assert: |
        Открыта страница списка с двумя сохраненными местами
        Сверху в навбаре — заголовок с названием списка, а слева от него кнопка возврата назад
        Ниже - список мест в списке в том же порядке, что и в самом списке на форме Закладки
    - do: Тап по второму месту в списке
    - assert: |
        Форма списка закрылась
        Открылся экран выбора варианта маршрута с линией маршрута
        Точки маршрута находятся на том же месте, где и соответствующие закладки
        (Android) Если масштаб карты <10, то пин точки отправления и промежуточные точки не показаны на спане

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - lite_acceptance_maps


  Выбор точек маршрута через Указать на карте:
    - info: |
        Открыт главный экран приложения с картой
        Местоположение определено
    - do: Выключить эксперимент no_routes_tab (Настройки - Debug Panel - Experiments)
    - do: Перезапустить приложение
    - do: Тап на таб Маршруты
    - assert: Открылся экран Маршрут
    - do: Тап в поле Куда
    - assert: |
        Поле сместилось в верх экрана
        Отображается клавиатура, поле в фокусе
        Под полем Куда,Указать на карте, Голосовой ввод
    - do: Тап на Указать на карте
    - assert: |
        Открыт экран выбора точки на карте
        В центре спана отображается черный пин (для начальной точки - красный) с меняющейся иконкой в зависимости от того, куда пин указывает (здание, дорога, пустой участок карты и т.д)
        На карте присутствуют контролы зума и определения местоположения
        Внизу экрана блок Двигайте карту, чтобы указать место с адресом, на который указывает пин, и кнопкой Готово
        Слева над блоком стрелка назад
    - do: Изменить ориентацию устройства
    - assert:  Пин не съезжает с выбранной точки
    - do: Посвайпать карту, изменить зум
    - assert: |
        Иконка на пине меняется
        Адрес в блоке изменяется на новый
    - do: Тап на Готово
    - assert: |
        Открыт экран выбора вариантов маршрута
        Маршрут построен от текущего местоположения до выбранной точки
        Отображается линия маршрута. Тип маршрута соответствует последнему выбранному
        (Android) Если масштаб карты <10, то пин точки отправления и промежуточные точки не показаны на спане

    - platforms:
       - ios
       - android
    - testing:
       - acceptance_maps
    - tags:
       - assessors
    - tags:
        - newbie

  Поиск организации при построении маршрута:
    - info: Открыт главный экран приложения с картой. Местоположение определено
    - do: Выключить эксперимент no_routes_tab (Настройки - Debug Panel - Experiments)
    - do: Перезапустить приложение
    - do: Тап на таб Маршруты
    - assert:  Открылся экран Маршрут
    - do: Тап в поле Куда
    - assert: |
        Поле сместилось в верх экрана.
        Отображается клавиатура, поле в фокусе.
        Под полем Куда,Указать на карте, Голосовой ввод
    - do: Ввести запрос Ресторан
    - assert: |
        Введенный запрос отображается в поле ввода.
        Под полем отображается саджест соответствующий введенному запросу
    - do: Тап на саджест Ресторан
    - assert: |
        В саджесте отображаются карточки организаций.
        Карточка имеет вид - Название организации (+ заботливая галка, если есть), Категория, Рейтинг, Время работы, Время маршрута или расстояние, Фото (при наличии)
    - do: Перевести девайс в горизонтальную ориентацию
    - assert: |
        Экран отображается в горизонтальной ориентации.
        С экрана ничего не пропало, в саджесте список организаций
    - do: Тап на карточку организации в поиске
    - assert: |
        Открыт экран выбора вариантов маршрута.
        Маршрут построен от текущего местоположения до выбранной организации

    - platforms:
       - ios
       - android
    - testing:
       - acceptance_maps
    - tags:
       - assessors
    - tags:
        - newbie


  Голосовой поиск при построении маршрута (несколько организаций):
    - info: Отображается главный экран приложения. Раннее приложение не запрашивало доступ к микрофону
    - do: Тап по кнопке маршрута
    - assert: |
            Открыт экран Маршрут.
            В поле начальной точки Моё местоположение.
            В поле конечной точки плейсхолдер Куда
    - do: Тап на поле конечной точки
    - assert: |
            Под полем ввода отображаются саджесты Указать на карте и Голосовой ввод.
            Ниже отображаются блоки Дом/Работа и Недавние адреса
    - do: Тап на кнопку голосового ввода
    - assert: |
            Отображается разрешение на доступ к микрофону.
            Отображается две кнопки Запретить и Разрешить
    - do: Тап на Разрешить
    - assert: |
            Открылась форма голосового ввода.
            На мгновение отобразился текст 'Слушаю...'
    - do: Произнести любой запрос, по которому будет найдено несколько организаций
    - assert: |
            Произвелся поиск по запросу.
            Введенный запрос отображается в поле ввода.
            Под полем отображается саджест соответствующий введенному запросу.
            В саджесте представлены карточки организаций.
            Карточка имеет вид- Название организации (+ заботливая галка, если есть), Категория, Рейтинг, Время работы, Время маршрута или расстояние, Фото (при наличии)
    - do: Тап на карточку организации/топонима в саджесте
    - assert: |
            Открыт экран выбора вариантов маршрута.
            Маршрут построен от текущего местоположения до выбранной организации

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
       - assessors

  Выбор точек маршрута через поиск по координатам:
    - info: Открыт главный экран приложения с картой Москвы. Местоположение определено
    - do: Лонг-тап на красной площади
    - assert: |
        Открылось лонг-тап меню.
        В меню присутствует кнопка 'Что здесь?'
    - do: Тап на 'Что здесь?'
    - assert: |
        Выделилась геометрия Красной площади
        Открылась мини-карточка
        В мини-карточке - название топонима, адрес, расстояние, координаты и кнопка построения маршрута
        Справа от координат кнопка копирования
    - do: Скопировать координаты тапом на кнопку
    - assert:  Появился toast Координаты скопированы
    - do: Закрыть карточку и Тап на кнопку Маршрут
    - assert: |
        Открыт экран Маршрут
        В поле начальной точки - Мое местоположение
        В поле конечной точки плейсхолдер Куда
    - do: Вставить скопированные координаты в поле Куда
    - assert: |
        Вставленные координаты отображаются в поле и появился крестик
        Появился саджест с такими же координатами
        Координаты в саджесте выделены жирным
    - do: Тап на саджест
    - assert: |
        Открыт экран выбора вариантов маршрута
        Маршрут построен от текущего местоположения до красной площади
        В навбаре отображается - Откуда Моё местоположение и Куда Красная площадь
    - do: Тап на Назад
    - assert: |
        Открыт экран построения маршрута
        В поле начальной точки Моё местоположени
        В поле конечной точки Красная площадь, координаты не отображаются

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors

  Возврат на экран Маршрут после проезда промежуточной точки:
    - info: |
        Построен маршрут (Мое местоположение → адрес1 → Мое местоположение → адрес2)
        Открыт экран ведения по маршруту
        В ведении должна происходить симуляция движения:
        Debug-panel > Routes > Demo movement
    - do: Перейти в ведение по маршруту
    - do: Дождаться момента, когда мы находимся между точками адрес1 и второе Мое местоположение
    - assert: |
        Промежуточная точка с адресом адрес1 пропала с карты
        Открыт экран ведения по маршруту
    - do: Тап на Назад
    - assert: |
        Открыт экран выбора вариантов маршрута
        Маршрут построен от текущего местоположения до адрес2 с промежуточной точкой, в месте, откуда изначально строился маршрут
        В навбаре - Откуда Мое местоположение, Через 'адрес изначального местоположения', Куда адрес2
    - do: Тап стрелку назад
    - assert: |
        Открыт экран Маршрут
        В поле начальной точки - Моё местоположение
        В поле промежуточной точки - 'адрес изначального местоположения'
        В поле конечной точки - адрес2
        Ниже отображается поле Добавить точку

    - platforms:
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready

  Удаление поискового запроса из истории в табе "Маршруты":
    - info: |
        У пользователя созданы пользовательские списки
        У пользователя есть история маршрутов
    - do: Выключить эксперимент `no_routes_tab` (Меню -> Настройки -> Дебаг-панель -> Experiments)
    - do: Закрыть Дебаг-панель
    - do: Перезапустить МЯК
    - do: Тап на таб "Маршруты"
    - assert: Открылся экран "Маршрут"
    - do: Лонгтап по одному из сохраненных адресов
    - assert: |
        Показан поп-ап 'Удалить "название адреса"?'
        В поп-апе присуствуют кнопки "Удалить" и "Отменить"
    - do: Тап на "Удалить"
    - assert: Выбранный адрес удалился из списка
    - do: Тап на кнопку 'Ещё из истории'
    - assert: Переход на экран 'История' со списком ранее искомых адресов
    - do: Лонгтап по одному из адресов
    - assert: Показан поп-ап 'Удалить название адреса?' с кнопками 'Удалить'/ 'Отменить'
    - do: Тап на 'Отменить'
    - assert: Выбранный адрес остался в списке
    - do: Вновь лонгтап по одному из адресов
    - assert: Показан поп-ап 'Удалить название адреса?' с кнопками 'Удалить'/ 'Отменить'
    - do: Тап на 'Удалить'
    - assert: Выбранный адрес удалён из истории

    - platforms:
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Отсутствие саджеста Мое местоположение одновременно для двух соседних точек:
    - info: |
        Открыт главный экран приложения с картой
        Пользователь не авторизован
        ММП определено
    - do: Тап Маршрут
    - assert: |
        Открыт экран Маршрут
        В навбаре - Назад, название экрана Маршрут, Далее (пока не выбрана начальная и конечная точка - задизейблена)
        Под навбаром блок выбора типа маршрута
        Ниже блок выбора начальной и конечной точки
        В начальной точке указано Мое местоположение
        В конечной плейсхолдер Куда
    - do: Тап в поле Куда
    - assert: |
        Поле Куда переместилось в верхнюю часть экрана
        (iOS) Справа кнопка Отменить
        Саджест 'Мое местоположение' не отображается
        Отображаются саджесты 'Указать на карте', 'Голосовой ввод'
    - do: (iOS) Тап Отменить / (Android) Тап два раза назад на системной клавиатуре
    - assert: |
        Открыт экран маршрут
        Поле Куда не изменилось
    - do: Тап на кнопку меняющую местами Куда и Откуда
    - assert: |
        В поле Куда указанно Мое местоположение и появился крестик
        В поле начальной точки плейсхолдер Откуда
    - do: Тап Откуда
    - assert: |
        Поле Откуда переместилось в верхнюю часть экрана
        (iOS) Справа кнопка Отмена
        Саджест Мое местоположение не отображается
        Отображаются саджесты 'Указать на карте', 'Голосовой ввод'

    - platforms:
         - ios
         - android
    - tags:
        - assessors

  Отсутствие возможности построить маршрут, если все точки совпадают:
    - info: |
        Пользователь не авторизован
        ММП определено
        Открыт экран Маршрут
    - do: Тап в поле начальной точки маршрута
    - assert: |
        Поле Откуда переместилось в верхнюю часть экрана
        (iOS) Справа кнопка Отмена
        Фокус в поле ввода
        Отображаются саджесты 'Мое местоположение', 'Указать на карте', 'Голосовой ввод'
        Отображается клавиатура
    - do: Ввести произвольный адрес, например, Льва Толстого 16
    - do: Тап на саджест
    - assert: |
        Открыт экран маршрут
        В поле начальной точки указан введенный адрес и отображается крестик
    - do: Тап Куда
    - assert: |
        Поле Куда переместилось в верхнюю часть экрана
        (iOS) Справа кнопка 'Отмена'
        Фокус в поле ввода
        Отображаются саджесты 'Мое местоположение', 'Указать на карте', 'Голосовой ввод'
        Отображается клавиатура
    - do: Ввести адрес из предыдущего шага
    - do: Тап на саджест
    - assert: |
        Открыт экран Маршрут
        В поле конечной точки указа введенный адрес и отображается крестик
        Маршрут автоматически не построился
        Кнопка 'Далее' задизейблена

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отображение пословного саджеста при построении маршрута:
    - info: |
        Варианты продолжения приходят с бэкэнда, и могут отличаться от описанных в кейсе
        Открыт экран построения маршрута
    - do: Выключить эксперимент no_routes_tab (Настройки - Debug Panel - Experiments)
    - do: Перезапустить приложение
    - do: Тап на таб Маршруты
    - assert: Открылся экран Маршрут
    - do: Тап по полю Откуда
    - assert: |
        Отображается системная клавиатура
        В поле Откуда отображается курсор ввода
    - do: Ввести первую букву запроса
    - assert: Под полем ввода появились варианты продолжения
    - do: Выбрать топоним (название улицы) без номера дома
    - assert: В поле ввода отображается выбранный ранее вариант
    - do: Выбрать саджест с номером дома
    - assert: |
        Отображается экран построения маршрута
        В поле Откуда введен выбранный ранее адрес
    - do: Тап по полю Куда
    - assert: |
        Отображается системная клавиатура
        В поле Куда отображается курсор ввода
    - do: Ввести первую букву запроса
    - assert: Под полем ввода появились варианты продолжения
    - do: Выбрать топоним (название улицы) без номера дома
    - assert: В поле ввода отображается выбранный ранее вариант
    - do: Выбрать саджест с номером дома
    - assert: |
        Отображается экран выбора вариантов маршрута
        В полях Откуда и Куда отображаются выбранные ранее адреса

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready

  Построение маршрута ОТ после завершения предыдущего маршрута через форму Маршрут:
    - info: |
        В ведении должна происходить симуляция движения:
        На Android: через Mock Location
        На iOS: через Enter your route в дебаг-панели
        Отображается экран ведения по ОТ-маршруту (Открыть экран Маршрут -> выбрать точку В (точка А — Мое местоположение) -> Тап по вкладке маршрута ОТ -> Выбрать один вариантов маршрута -> Поехали)
    - do: Добраться до конца маршрута
    - assert: Пин ММП отображается возле точки В
    - do: Завершить ведение по маршруту
    - assert: Отображается главный экран приложения
    - do: Открыть форму Маршрут и назначить точке В новое значение, не совпадающее с тем, что было выбрано ранее
    - assert: |
        Открыта форма выбора варианта маршрута с новым маршрутом
        Точка А находится в актуальном местоположении
        Линия маршрута проходит между точкой А и В

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Построение пешего маршрута после завершения предыдущего маршрута через форму Маршрут:
    - info: |
        В ведении должна происходить симуляция движения:
        На Android: через Mock Location
        На iOS: через Enter your route в дебаг-панели
        Отображается экран ведения по пешеходному маршруту (Открыть форму Маршрут -> выбрать точку В (точка А — Мое местоположение) -> Тап по вкладке пешего маршрута  -> Начать)
    - do: Добраться до конца маршрута
    - assert: Пин ММП отображается возле точки В
    - do: Завершить ведение по маршруту
    - assert: Отображается главный экран приложения
    - do: Открыть форму Маршрут и назначить точке В новое значение, не совпадающее с тем, что было выбрано ранее
    - assert: |
        Открыта форма выбора варианта маршрута с новым маршрутом
        Точка А находится в актуальном местоположении. Линия маршрута проходит между точкой А и В

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready

  Отображение ММП в маршруте:
    - info: Последний построенный маршрут был автомобильным. Открыт главный экран приложения
    - do: Тап по кнопке маршрутов
    - assert: |
        Открывается экран построения маршрутов
        В поле Откуда отображается 'Моё местоположение'
    - do: В поле Куда ввести любой адрес подальше от ММП и построить маршрут
    - assert: |
        Построен автомобильный маршрут
        Начальная точка в ММП
        Пин ММП никак не изменился (буква Я в красном кружке)
        Конечная точка обозначена чёрным пином
    - do: Поменять местами Куда и Откуда и проложить новый маршрут
    - assert: |
        Построен автомобильный маршрут
        Конечная точка в ММП
        Пин ММП никак не изменился (буква Я в красном кружке)
        Начальная точка маршрута обозначена красным пином
    - do: Тап по кнопке с тремя точками в навбаре
    - assert: Открывается экран редактирования маршрута
    - do: Тап Изменить маршрут
    - assert: |
        Отображаются поля Куда и Откуда с введёнными данными
        Имеется поле 'Добавить точку'
    - do: Тап Добавить точку и ввести адрес, отличный от предыдущего
    - assert: |
        В поле Откуда отображается ранее введеный адрес
        В промежуточной точке 1 отображается ММП
        В поле Куда отображается введённый адрес
    - do: Тап Далее
    - assert: |
        Построен автомобильный маршрут
        Начальная точка обозначена красным пином
        Конечная точка обозначена чёрным пином
        Промежуточная точка находится в ММП
        Пин ММП никак не изменился (буква Я в красном кружке)
    - do: Повторить предыдущие шаги для маршрутов ОТ/пеших/вело
    - assert: Результаты соответствуют предыдущим шагам

    - platforms:
        - ios
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready

  Отображение алерта на экране выбора вариантов маршрута при включении свитчера Избегать платных дорог:
    - info: Отображается главный экран приложения. В настройках выключен свитчер 'Избегать платных дорог'
    - do: Выключить эксперимент no_routes_tab (Настройки - Debug Panel - Experiments)
    - do: Перезапустить приложение
    - do: Тап на таб Маршруты
    - assert: Открылся экран Маршрут
    - do: Построить автомаршрут по платному участку дороги, чтобы все варианты маршрутов проходили через пункт оплаты
    - assert: |
            Отображается экран выбора вариантов маршрута
            Выбран таб автомобильный маршрут
            В сниппетах варанта маршрута отображается значок платной дороги "₽"
    - do: Тап на кнопку "Параметры маршрута"
    - assert: |
            Отображается поп-ап 'Параметры маршрута'
    - do: Тап на свитчер 'Избегать платных платных дорог'
    - assert: Свитчер 'Избегать платных дорог' включён
    - do: Тап на кнопку 'Готово'
    - assert: |
            Отображается экран выбора вариантов маршрута
            Выбран таб автомобильный маршрут
            Над сниппетами маршрутов отображается алерт 'Полностью подходящих маршрутов не нашлось. Есть варианты проезда, соответствующие не всем параметрам'.
            Алерт перекрывает полностью контрол ММП (на девайсах с маленьким экраном алерт может частично перекрывать контролы зума).
    - do: Свернуть / развернуть приложение
    - assert: Алерт продолжает отображаться на экране построения маршрута.
    - do: Тап на "Ок" в алерте и сменить ориентацию устройства
    - assert: Алерт пропал и снова не появляется
    - do: Свернуть / развернуть приложение
    - assert: Алерт на экране построения маршрута не отображается

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - tags:
        - newbie

  При отображении алерта на экране выбора маршрутов контролы не слетают:
    - info: Отображается главный экран приложения. В настройках включен свитчер 'Избегать платных дорог'
    - do: Выключить эксперимент no_routes_tab (Настройки - Debug Panel - Experiments)
    - do: Перезапустить приложение
    - do: Тап на таб Маршруты
    - assert:  Открылся экран Маршрут
    - do: Построить маршрут по платному участку дороги
    - assert: |
            Отображается экран выбора вариантом маршрута на табе авто.
            На карте отображается маршрут.
            Внизу отображаются сниппеты с вариантами маршрута.
            Над сниппетами отображается алерт 'Полностью подходящих маршрутов не нашлось. Есть варианты проезда, соответствующие не всем параметрам'.
            Алерт перекрывает полностью контрол ММП (на девайсах с маленьким экраном алерт может частично перекрывать контролы зума).
    - do: Переключаться между табами Пешего/вело/автомаршрута
    - assert: |
            Контролы не съезжают Контрол ММП привязан к нижней границе видимой части карты.
            На экране с вариантами автомаршрута алерт перекрывает полностью контрол ММП (на девайсах с маленьким экраном алерт может частично перекрывать контролы зума)

    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Отображение экрана сравнения маршрутов офлайн (карточка организации):
    - info: |
        Открыт главный экран приложения
        Скачана офлайн-карта города где определено ММП
        Включен авиа-режим
        В авиа режиме отображается информация только для автомаршрутов
    - do: Тап на пин организации
    - assert: Открыта мини-карточка организации
    - do: Тап на кнопку 'Маршрут'
    - do: Тап на таб 'Все'
    - assert: |
        Отображается экран сравнения маршрутов с единственным вариантом - автомобильным маршрутом
        Вверху отображается навбар, где заполнены поля 'Откуда' и 'Куда'
        По левому краю отображается иконка автомобиля
        По правому краю информация о времени в пути
    - do: Сменить ориентацию устройства на горизонтальную
    - assert: |
        При повороте ничего не съехало
        Экран сравнения маршрутов отображается слева
        Справа отображается карта

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps
    - tags:
        - newbie

  Отображение экрана сравнения маршрутов в офлайн (лонгтап):
    - info: |
        Открыт главный экран приложения
        Скачана офлайн-карта города, где определено ММП
        Включен авиа-режим
    - do: Лонг-тап по карте
    - assert: |
        Отображается лонг-тап меню
    - do: Тап на 'Сюда'
    - assert: |
        Построился маршрут
        Открыт экран выбора вариантов маршрута
        На карте отображена линия маршрута
        Кнопка 'Поехали!'
    - do: Тап на таб 'Все'
    - assert: |
        Отображается экран сравнения маршрутов
        Вверху отображается навбар, где заполнены поля 'Откуда' и 'Куда'
        Далее отображается автомобильный маршрут
        По левому краю отображаются иконка транспорта, далее время в пути (в случае с такси- примерная стоимость поездки)
        В сниппете также отображаются подсказки по маршруту и алерты
        По правому краю дублируется информация по времени
    - do: Свернуть и развернуть приложение
    - assert: Отображается экран сравнения маршрутов, ничего не пропало/не съехало

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - tags:
        - newbie

  Построение маршрута на такси через экран сравнения маршрута:
    - info: |
        Я.Go установлено
        В дебаг-панели включен эксперимент taxi_open_webview - if_no_go
    - do: Открыть экран сравнения маршрутов любым способом
    - assert: Отображается экран сравнения маршрутов
    - do: Выбрать вкладку с типом маршрута на такси
    - assert: |
        Выбран тип маршрута 'Такси'
        На карте отображается начальная и конечная точка, линия маршрута
        Внизу экрана карточка маршрута с кнопкой выбора тарифа
    - do: Тап на Выбрать тариф
    - assert: |
        Открывается приложение 'Яндекс.Go' (может отобразится поп-ап с предложением открыть)
        Если Яндекс.Go установлено, но не обновлено, то открывается стор
    - do: Вернуться в Яндекс.Карты
    - assert: |
        Открыт экран выбора вариантов маршрута
        Выбран тип 'Такси'
        Маршрут построен и отображается на карте

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - tags:
        - newbie

  Построение маршрута на каршеринге через экран сравнения маршрута (Пользователь авторизован):
    - info: |
        (Android) Устройство на Android 7 и выше
        У пользователя установлен Драйв
        Пользователь авторизован одним аккаунтом в МЯКе и Драйве
        Подменить местоположение на г.Москва:
        (Android) с помощью приложения Mock Locations / (iOS) через дебаг панель Routes > Enter your route
        Открыт спан г. Москвы
    - do: Открыть экран сравнения маршрутов, построив маршрут в Москве
    - assert: Отображается экран сравнения маршрутов
    - do: Выбрать маршрут на каршеринге
    - assert: Открывается приложение 'Драйв'
    - do: Вернуться в Яндекс.Карты
    - assert: Отображается экран сравнения маршрутов

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - newbie


  Построение маршрута на каршеринге через экран сравнения маршрута для неавторизованного пользователя:
    - info: |
        Установлено приложение Драйв
        Пользователь не авторизован
        Отображается экран выбора вариантов маршрута построенного в Москве
    - do: Тап по табу 'Все'
    - assert: |
        Отображается экран сравнения маршрутов
        Вверху отображается навбар, где заполнены поля 'Откуда' и 'Куда'
        Далее отображаются сниппеты маршрутов
        По левому краю отображаются иконки транспорта (в случае с такси и каршерингом - примерная стоимость поездки, модель автомобиля и время доезда)
        В сниппете также отображаются подсказки по маршруту и алерты
        По правому краю информация о времени
    - do: Выбрать маршрут 'На каршеринге'
    - assert: Открывается приложение 'Драйв'
    - do: Вернуться в Яндекс.карты
    - assert: Отображается экран сравнения маршрутов

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps


  Построение маршрута через маршрутные саджесты:
    - info: |
        Пользователь авторизован, местоположение определено,
        у пользователя добавлены закладки 'Дом'/'Работа',
        у пользователя есть история построенных маршрутов,
        открыт главный экран приложения
        Точки Дом/Работа находятся в пределах 300 км от пользователя
    - do: Тап на саджест 'Домой'/'На работу'
    - assert: |
        Открывается экран выбора вариантов маршрута,
        на карте отображается построенный маршрут,
        откуда - Моё местоположение, Куда - ios 'Дом'/'Работа',
        Android - адрес дома / работы
    - do: Тап 'Назад'
    - assert: Открывается главный экран приложения
    - do: Тап на кнопку построения маршрута (в виде изогнутой линии маршрута)
    - assert: Открылся экран 'Маршрут'
    - do: Тап на саджест из истории построенных маршрутов
    - assert: |
        Открывается экран выбора вариантов маршрута,
        на карте отображается построенный маршрут,
        Откуда - Моё местоположение, Куда - Адрес из выбранного саджеста
    - do: Тап 'Назад'
    - assert: Отображается экран выбора маршрута

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
    - tags:
        - newbie


  Построение маршрута в блоке адреса полной карточки организации:
    - do: Открыть полную карточку организации
    - assert: |
        Открыта полная карточка
        Присутствует кнопка Маршрут внизу экрана
        В блоке адреса под панорамой присутсвуют кнопки "показать входы"/"маршрут" (кнопка "показать входы" отображается при наличии входов у здания)
    - do: Тап на "маршрут" в блоке адреса
    - assert: |
        Отображается экран выбора маршрута

    - tags:
        - assessors
    - platforms:
        - ios
        - android
    - tags:
        - newbie


  Построение маршрута в блоке адреса полной карточки топонима:
    - do: Открыть полную карточку топонима
    - assert: |
        Отображается полная карточка
        Присутствует кнопка Маршрут внизу экрана
        В блоке адреса под панорамой присутсвуют кнопки "показать входы"/ "маршрут" (кнопка "показать входы" отображается при наличии входов у здания)
    - do: Тап на "маршрут" в блоке адреса
    - assert: |
        Отображается экран выбора маршрута

    - tags:
        - assessors
    - platforms:
        - ios
        - android

  Ручной ввод на экране построения маршрута:
    - info: |
        Отображается главный экран приложения
        Местоположение определено
    - do: Тап по табу маршруты
    - do: Тап по поле куда
    - do: Ввести название топонима или организации
    - assert: |
        Отображаются саджесты
    - do: Тап по саджесту
    - assert: |
        Отображается экран выбора вариантов маршрута

    - tags:
       - assessors
    - platforms:
       - ios
       - android


  Построение маршрута через таб маршруты, при ручном вводе:
    - info: |
        Отображается главный экран приложения
        ММП определено
    - do: Выключить эксперимент no_routes_tab (Настройки - Debug Panel - Experiments)
    - do: Перезапустить приложение
    - do: Тап на таб Маршруты
    - assert: Отображается экран построения маршрута
    - do: Тап в поле Куда
    - assert: Плейсхолдер в поле Куда
    - do: Произвести поиск конечного адреса
    - assert: |
        Отображается экран выбора вариантов маршрута
        Начальная точка - МП
        Конечная точка - из поля Куда
    - do: Тап поехали
    - assert: Отображается экран ведения

    - platforms:
       - ios
       - android
    - testing:
       - lite_acceptance_maps
    - tags:
       - assessors
    - tags:
        - newbie

  Эксперимент с отрывом таба "Маршруты":
    - info: |
        Получен эксперимент no_routes_tab
    - do: Запустить карты
    - assert: |
        Отображается главный экран приложения
        В нижнем навбаре присутствуют табы "Транспорт" и "Навигатор"
        Таб "Маршруты" отсутствует
        Над табами отображается маршрутный саджест с иконкой в виде изогнутой линии
    - do: Тап на саджест маршрута
    - assert: Открывается экран построения маршрута
    - do: Вернуться назад
    - assert: Отображается главный экран приложения
    - do: Перейти в таб "Транспорт"
    - assert: Отображается маршрутный саджест с иконкой в виде изогнутой линии
    - do: Закрыть сервис "Транспорт"
    - do: Перейти в таб "Навигатор"
    - assert: Отображается маршрутный саджест с иконкой в виде изогнутой линии

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Построение веломаршрута через карточку организации:
    - info: |
        Открыта карточка организации
    - do: Тап на Маршрут в action-баре
    - assert: |
        Открыт экран выбора вариантов маршрута
        Отображаются альтернативные варианты маршрута (при наличии)
    - do: Выбрать тип маршрута - На велосипеде
    - do: Перейти в ведение
    - assert: |
        Открыт экран ведения по веломаршруту

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - automated
    - testing:
        - acceptance_maps


  Построение автомаршрута через Указать на карте в таб Маршрут:
    - info: |
        Открыт таб Маршрут
        ММП определено
    - do: Тап на Куда
    - do: Тап Указать на карте
    - do: Указать точку на карте
    - do: Тап на Готово
    - assert: |
        Открыт экран выбора вариантов маршрута
        Отображаются альтернативные варианты маршрута (при наличии)
    - do: Выбрать тип маршрута - Авто
    - do: Перейти в ведение
    - assert: |
        Открыт экран ведения по автомаршруту

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Построение ОТ-маршрута через Дома/Работа в таб Маршрут:
    - info: |
        Открыт таб Маршрут
        ММП определено
        Пользователь авторизован
        Заполнены закладки Дом/Работа
    - do: Тап Дом/Работа
    - assert: |
        Открыт экран выбора вариантов маршрута
        Отображаются альтернативные варианты маршрута (при наличии)
    - do: Выбрать тип маршрута - ОТ
    - do: Посмотреть все альтернативные  маршруты (если есть)
    - assert: Маршруты отображаются корректно.
    - do: Перейти в ведение
    - assert: |
        Открыт экран ведения по ОТ-маршруту

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Построение пешего маршрута через историю в таб Маршрут:
    - info: |
        Открыт таб Маршрут
        ММП определено
        Пользователь авторизован
        Присутствует история поостроенных маршрутов
    - do: Тап на маршрут в истории
    - assert: |
        Открыт экран выбора вариантов маршрута
        Отображаются альтернативные варианты маршрута (при наличии)
    - do: Выбрать тип маршрута - Пешком
    - do: Перейти в ведение
    - assert: |
        Открыт экран ведения по пешему маршруту

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Построение веломаршрута через закладки в таб Маршрут:
    - info: |
        Открыт таб Маршрут
        ММП определено
        Пользователь авторизован
        Добавлены закладки
    - do: Тап на любой список закладок
    - do: Тап на любую закладку
    - assert: |
        Открыт экран выбора вариантов маршрута
        Отображаются альтернативные варианты маршрута (при наличии)
    - do: Выбрать тип маршрута - На велосипеде
    - do: Перейти в ведение
    - assert: |
        Открыт экран ведения по веломаршруту

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Построение маршрута на такси через таб Маршрут:
    - info: |
        Открыт таб Маршрут
        ММП определено
        Установлено приложение Я.GO
    - do: Тап на Куда
    - do: Ввести произвольный существующий конечный адрес
    - do: Тап на саджест адреса
    - assert: |
        Открыт экран выбора вариантов маршрута
        Отображаются альтернативные варианты маршрута (при наличии)
    - do: Выбрать тип маршрута - На такси
    - do: Перейти в ведение
    - assert: |
        Открыто приложение Я.GO с построенным маршрутом

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Смещение точек маршрута вверх при удалении точки Откуда:
    - info: |
        Открыт главный экран приложения
    - do: Построить автомаршрут любым способом
    - assert: |
        Отображается экран построения маршрута
    - do: Тап по кнопке с тремя точками в навбаре
    - do: Тап по кнопке Изменить маршрут
    - assert: Открывается экран редактирования маршрута
    - do: Добавить 3 произвольных промежуточных точек
    - assert: |
        Отображаются точка Откуда красного цвета
        Отображается точка Куда черного цвета
        Отображаются 3 точки с номерами
    - do: Тап на крестик в поле ввода точки Откуда
    - assert: |
        Точки маршрута смещаются вверх на одну позицию
        Отображается новая точка Откуда красного цвета
    - do: тап на Далее маршрут
    - assert: |
         Отображается экран построения маршрута с указанными точками

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Переход из режима 3D в пешеходный маршрут:
    - info:
        Открыт главный экран приложения
    - do: Тап Слои -> 3D-режим
    - assert: Кнопка 3D активна
    - do: Закрыть шторку меню
    - assert: |
        Отображается главный экран приложения
        Кнопка 3D-режима активна
        Спан карты отображается под наклоном
    - do: Построить пешеходный маршрут любым способом
    - assert: Отображается экран выбора маршрутов
    - do: Тап Начать
    - assert: Стартует пешеходное ведение в 2D-режиме
    - do: Тап Слои
    - assert: |
        Отображается шторка меню
        Кнопка 3D-режим не активна

    - platforms:
        - ios
    - tags:
        - assessors


  Старт самокатного маршрута в 2D-режиме:
    - info:
        Открыт главный экран приложения
    - do: Построить самокатный маршрут любым способом
    - assert: Отображается экран выбора маршрутов
    - do: Тап Поехали
    - assert: Стартует самокатное ведение в 2D-режиме
    - do: Тап Слои
    - assert: |
        Отображается шторка меню
        Кнопка 3D-режим не активна

    - platforms:
        - ios
    - tags:
        - assessors


  Переход из автоведения в 3D-режиме в велосипедное:
    - info:
        Открыт главный экран приложения
    - do: Построить авто маршрут любым способом
    - assert: Отображается экран выбора маршрутов
    - do: Тап на Поехали
    - assert: Начинается ведение по маршруту
    - do: Тап на насройки в таббаре -> 3D, вид карты, дорожные события -> 3D-режим
    - assert: Кнопка 3D-режим активна
    - do: Закрыть шторку меню
    - assert: |
        Отображается главный экран
        Продолжается ведение
        Кнопка 3D-режим активна
        Карта под наклоном
    - do: Тап на поиск
    - assert: Открылась шторка поиска
    - do: Произвести поиск любого места и тап Сюда
    - assert: Отображается экран выбора маршрутов
    - do: Выбрать велосипедный маршрут
    - assert: Отображается велосипедный маршрут
    - do: Тап Поехали
    - assert: |
        Стартует велосипедное ведение
        Спан карты отображается не под наклоном
    - do: Тап Слои
    - assert: |
        Отображается шторка меню
        Кнопка 3D-режим не активна

    - platforms:
        - ios
    - tags:
        - assessors


  Отображение алерта на экране выбора вариантов маршрута при включении свитчера Избегать плохих и грунтовых дорог:
    - info: Открыт главный экран приложения 
    - do: Тап Меню
    - do: Тап Настройки
    - do: Тап Маршруты
    - do: Включить свитчер "Избегать плохих и грунтовых дорог"
    - do: Вернуться на главный экран приложения
    - do: |
        Построить маршрут с помощью интента
        [collapsed-image](https://jing.yandex-team.ru/files/vmnpopkova/route.png){title=QR-код}

        `yandexmaps://build_route_on_map/?lat_from=55.781516&lon_from=37.358344&lat_to=55.804982&lon_to=37.195903&rtt=auto`
    - assert: |
        Отображается экран выбора вариантов маршрута
        Выбран таб автомобильный маршрут
        В сниппетах варанта маршрута отображается значок неровной дороги
        Над сниппетами маршрутов отображается алерт 'Полностью подходящих маршрутов не нашлось. Есть варианты проезда, соответствующие не всем параметрам'.
    - do: Повернуть устройство в горизонтальную ориентацию
    - assert: |
        Отображается экран выбора вариантов маршрута
        Выбран таб автомобильный маршрут
        В сниппетах вариантов маршрута отображается значок неровной дороги
        Над сниппетами маршрутов отображается алерт 'Полностью подходящих маршрутов не нашлось. Есть варианты проезда, соответствующие не всем параметрам'.

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - mapkit_ready


  Взаимодействие с алертом на экране выбора вариантов маршрута при включении свитчера Избегать плохих и грунтовых дорог:
    - info: Открыт главный экран приложения 
    - do: Тап Меню
    - do: Тап Настройки
    - do: Тап Маршруты
    - do: Включить свитчер "Избегать плохих и грунтовых дорог"
    - do: Вернуться на главный экран приложения
    - do: |
        Построить маршрут с помощью интента
        [collapsed-image](https://jing.yandex-team.ru/files/vmnpopkova/route.png){title=QR-код}

        `yandexmaps://build_route_on_map/?lat_from=55.781516&lon_from=37.358344&lat_to=55.804982&lon_to=37.195903&rtt=auto`
    - assert: |
        Отображается экран выбора вариантов маршрута
        Выбран таб автомобильный маршрут
        В сниппетах вариантов маршрута отображается значок неровной дороги
        Над сниппетами маршрутов отображается алерт 'Полностью подходящих маршрутов не нашлось. Есть варианты проезда, соответствующие не всем параметрам'.  
    - do: Подвигать карту
    - assert: Алерт над сниппетами маршрутов не исчезает 
    - do: Тап на "Ок" 
    - assert: Алерт пропал и снова не появляется

    - platforms:
        - ios 
        - android
    - integration_run:
        - mapkit
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - mapkit_ready


  Отображение плохих дорог и пинов плохих дорог по маршруту:     
    - info: Открыт главный экран приложения 
    - do: Тап Меню
    - do: Тап Настройки
    - do: Тап Маршруты
    - do: Включить свитчер "Избегать плохих и грунтовых дорог"
    - do: Вернуться на главный экран приложения
    - do: |      
        Построить маршрут, проходящий через плохую дорогу с помощью интента:    
        [collapsed-image](https://jing.yandex-team.ru/files/vmnpopkova/route2.png){title=QR-код}

        `yandexmaps://build_route_on_map/?lat_from=44.518522&lon_from=39.309704&lat_to=44.515110&lon_to=39.329276&rtt=auto`
    - assert: |
        В окне обзора маршрута показывается иконка плохой дороги
        При выборе маршрута отображается текст предупреждения о наличии плохой дороги
    - do: Выбрать маршрут, имеющий иконку плохой дороги
    - do: Тап Поехали
    - assert: На линии выбранного маршрута отображаются иконки начала и конца плохой дороги

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - mapkit_ready        