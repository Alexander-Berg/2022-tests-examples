components: search_result
testing:
  - regress

specs:
  Переключение отображения результатов поиска между списком и пинами на карте:
    - info: Отображается главный экран приложения.
    - do: Тап на поисковую строку
    - assert: Открылся экран поиска
    - do: Произвести поиск по запросу, например, Парикмахерские.
    - assert: |
        На карте отмечены пины поисковой выдачи
        В окне поиска отображается список организаций поисковой выдачи
        Отображается блок фильтров
        Если в поисковой выдаче будет только одна организация, то отобразится миникарточка этой организации
    - do: Свайп вниз по карточке с результатами поиска.
    - assert: |
        Список поисковой выдачи свернулся
        На карте отмечены пины поисковой выдачи
        Отображаются контролы слоев, зума, ммп
        Вверху экрана отображается поисковая строка
    - do: Свайп вверх по карточке с результатами поиска
    - assert: |
        Список поисковой выдачи раскрылся
        Отображается список организаций поисковой выдачи
        Отображается блок фильтров

    - platforms:
        - android
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map

  Поиск в другой области на карте:
    - info: Отображается главный экран приложения.
    - do: Тап на поисковую строку
    - assert: Открылся экран поиска
    - do: Ввести запрос 'Банки' и тап 'Найти'
    - assert: На карте отмечены пины поисковой выдачи. В окне поиска отображается список организаций поисковой выдачи. Отображается блок фильтров. Если в поисковой выдаче будет только одна организация, то отобразится миникарточка этой организации
    - do: Свернуть панель поисковой выдачи свайпом вниз
    - assert: На карте отмечены пины поисковой выдачи
    - do: Подвинуть карту в сторону
    - assert: Показан новый кусок карты с пинами банков на ней
    - do: Уменьшить масштаб карты тапом по кнопке '-' или тапом двумя пальцами по карте
    - assert: Масштаб уменьшился. Подгружаются организации, присутствующие на спане карты
    - do: Увеличить масштаб карты тапом по кнопке '+' или даблтапом
    - assert: Масштаб увеличился. Подгружаются организации, присутствующие на спане карты

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map

  Фильтрование результатов поиска на экране Фильтры:
    - info: |
        Устройство в вертикальной ориентации
        Выполнен поиск по запросу Где поесть
    - do: Тап на кнопку фильтров
    - assert: Отображается экран Фильтры
    - do: Тап по чекбоксу Европейская кухня в блоке Кухня
    - do: Тап на Круглосуточно
    - assert: |
        Напротив варианта Европейская кухня отображается активный чекбокс
        Опция Круглосуточно подсвечена
    - do: (Android) Тап по кнопке назад / (iOS) Тап на Показать результаты
    - assert: |
        Отображаются результаты поиска, подходящие под выбранные фильтры
        Если в поисковой выдаче 2 и более результатов:
        - отображается список результатов
        - на карте отображаются поисковые пины
        Если в поисковой выдаче нет результатов отображается уведомление, что ничего не найдено
        В кнопке фильтров присутствует синяя точка
    - do: Сменить ориентацию устройства
    - assert: |
        Устройство в вертикальной ориентации
        Все фильтры сохранены
        Список найденных результатов мог обновиться
        Все результаты соответствуют установленным фильтрам
    - do: Тап по кнопке фильтров
    - assert: Отображается экран Фильтры
    - do: Тап на Сбросить все
    - assert: Фильтры, установленные ранее, сброшены
    - do: (Android) Тап по кнопке назад / (iOS) Тап на Показать результаты
    - assert: |
        Поисковая выдача изменилась
        В списке результатов - все организации, соответствующие поисковому запросу отсортированные по релевантности
        В кнопке фильтров отсутствует синяя точка

    - platforms:
        - ios
        - android
      integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready



  Фильтрация результатов поиска:
    - do: Произвести поиск по поисковой категории
    - assert: |
        Открыт экран результатов поиска
        Присутствует блок Фильтры
    - do: Применить любой фильтр
    - assert: |
        Поисковая выдача соответствует фильтру
        В блоке Фильтры выделен соответствующий фильтр

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Онлайн фильтрование результатов поиска в плашке:
    - info: Отображается главный экран приложения
    - do: Тап по строке поиска
    - assert: Открылся экран поиска
    - do: Ввести запрос "Кафе" и тап на кнопку Найти
    - assert: |
        Отображаются результаты поиска с карточками организаций
        На карте отображаются поисковые пины
        В шторке "Результаты поиска" отображается строка с фильтрами
        Набор кнопок в плашке может меняться
    - do: Тап по кнопке Кухня в строке фильтров
    - assert: |
        Открылась шторка фильтров категории "Кухня" с чекбоксами (Европейская, Русская, Итальянская, еще)
        Набор и порядок чекбоксов может быть иным, в зависимости от ответа сервера
    - do: Тап на кнопку Еще
    - assert: Открылся полный список чекбоксов категории "Кухня"
    - do: Выбрать чекбокс "Японская"
    - assert: Чекбокс "Японская" активен
    - do: Тап на кнопку Готово
    - assert: |
          Отображается сниппет, поисковая выдача изменилась на категорию "Японская"
          Подсвечивается "Японская" в категории "Кухня"
          На карте отображаются поисковые пины японской кухни
    - do: Тап по "Японская" в категории "Кухня"
    - assert: |
          Открылась шторка фильтров категории "Кухня" с чекбоксами
          Чекбокс "Японская" активен
    - do: Тап по чекбокс "Европейская"
    - assert: |
          Чекбокс "Японская" активен
          Чекбокс "Европейская" активен
    - do: Тап на кнопку Готово
    - assert: |
          Отображается сниппет, поисковая выдача изменилась на категорию "Японская" и "Европейская"
          Подсвечивается "Японская"/"Европейская Еще 1" в категории "Кухня"
          На карте отображаются поисковые пины европейской и японской кухни
    - do: Тап по "Японская"/"Европейская Еще 1" в категории "Кухня"
    - assert: Открылась шторка фильтров категории "Кухня" с активными чекбоксами "Японская" и "Европейская"
    - do: Тап чекбокс "Японская"
    - assert: |
          Чекбокс "Японская" неактивен
          Чекбокс "Европейская" активен
    - do: Тап на кнопку Готово
    - assert: |
          Отображается сниппет, поисковая выдача изменилась на категорию "Европейская"
          Подсвечивается "Европейская" категории "Кухня"
          На карте отображаются поисковые пины европейской кухни

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
        - lite_acceptance_maps
    - tags:
        - assessors
        - use_map
        - newbie

  Отображение модулей поискового сниппета по поисковому запросу категории из группы общепита:
    - info: Отображается главный экран приложения
    - do: Тап по строке поиска
    - assert: Открылся экран поиска
    - do: Ввести в строку поисковой запрос Кафе
    - assert: Список категорий не отображается. Отображается поисковые саджесты
    - do: Тап по лупе или кнопке 'Найти' в системной клавиатуре
    - assert: |
        Поисковой сниппет состоит из модулей заголовка, категории, рейтинга, фотогалереи или фотографии, подстрочника, статуса работы/время работы, времени доезда и блока рекламы (если в карточке организации есть геопродукт или рекламная плашка).
        Модуль заголовка - может отображаться в 3 строки и комбинироваться с фотографией, может отобразиться бейдж заботливой галки выровненая по середине строки заголовка.
        Модуль категории организации - может отображаться в 2 строки и комбинироваться с фотографией.
        Отображается модуль рейтинга, только в 1 строку
        Модуль фотогалереи - отображается на всю ширину карточки; не комбинируется с модулем доезда в одну строку; не отображается одновременно с модулем фото.
        В случае, если у организации нет фотографий, данные модули отображаться не будут.
        Модуль рекламы - отображается если есть рекламная плашка или геопродукт
        Модуль подстрочника - отображается информация для категорий.
        Модуль статуса работы - отображается время, до которого организация открыта или закрыта, комбинируется с модулем доезда в 1 строку.
        Модуль доезда - отображается время доезда или расстояние до организации в одну строку. Если пеший маршрут не более 5 мин, то отобразится время для пешего маршрута. Если до организации не более 50 км, то отобразиться время для автомобильного маршрута.
        В других случаях в модуле отобразится расстояние до организации.
        Скомбинирован с модулем статуса работы и отображается в одну строку.

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors

  Отображение экшен-кнопки Сайт:
    - info: |
        Отображается главный экран приложения
        есть лого - кнопку не показываем, нет лого - показываем кнопку
    - do: Тап по строке поиска
    - assert: Открылся экран поиска
    - do: Ввести в строку поисковой запрос Интернет магазин
    - assert: Список категорий не отображается. Отображается поисковые саджесты
    - do: Тап по лупе или кнопке Найти в системной клавиатуре
    - assert: Отображается список поисковой выдачи с поисковыми сниппетами. Отображаются пины поисковой выдачи на карте. В сниппетах отображается экшен-кнопка сайта
    - do: Тап по экшен кнопке
    - assert: iOS - Страница сайта отображается в кастом табе. Android - открывается поп-ап со списком сайтов организации. Вверху по середине отображается заголовок 'Выберите ссылку'. Ниже отображается список сайтов, разграниченных разделителем. Напротив каждой ссылки слева стоит выровненное по середине лого сайта (пример, ссылка на яндекс - Красная заглавная буква Я, YouTube - синяя кнопка Play). В подзаголовке указано название соц сети(пример, TWITTER) или 'САЙТ'
    - do: Android - Тап по ссылке сайта
    - assert: Страница сайта отображается в кастом табе

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - newbie

  Отображение модуля списков в сниппете:
    - info: |
        Созданы пользовательские списки закладок
        Отображается главный экран приложения на спане Москвы
    - do: Тап по строке поиска
    - assert: Открылся экран поиска
    - do: Произвести поиск по запросу 'Где поесть'
    - assert: |
        Происходит поиск по запросу
        Отображаются поисковые сниппеты
    - do: Тап по поисковому сниппету
    - assert: Отображается карточка организации
    - do: Тап на кнопку добавления в закладки
    - assert: |
        Отображается поп-ап с заголовком 'Добавить место в список'
        Присутствует список Избранное и пользовательские списки
    - do: Добавить закладку в любой список
    - do: Закрыть карточку организации
    - do: Закрыть поисковую выдачу
    - assert: Отображается главный экран приложения
    - do: Тап по строке поиска
    - assert: Открылся экран поиска
    - do: Тап по категории 'Где поесть'
    - assert: |
        Выполнен поиск по запросу 'Где поесть'
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
    - do: Пролистать список организаций до тех пор, пока не отобразиться организация, сохраненная в закладки
    - assert: |
        В поисковом сниппете отображается модуль списка
        В модуле отображается иконка закладок и название списка закладок

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map

  Отображение экшен-кнопки Позвонить:
    - do: Тап по строке поиска
    - assert: Открылся экран поиска
    - do: Ввести в строку поисковой запрос Нотариус
    - assert: Список категорий не отображается. Отображается поисковые саджесты
    - do: Тап по лупе или кнопке Найти в системной клавиатуре
    - assert: Отображается список поисковой выдачи с поисковыми сниппетами. Отображаются пины поисковой выдачи на карте
    - do: Тап по одному из вариантов поисковой выдачи
    - assert: |
        Открылась полная карточка организации
        Внизу экрана присутсвует экшн кнопка Позвонить в виде телефонной трубки
    - do: Тап по экшен кнопке Позвонить
    - assert: |
        Отображается поп-ап с номером(ами) телефона(ов)
        Под номером(ами) отображается кнопка Отменить
    - do: Тап по Отменить
    - assert: |
        Поп-ап закрылся
        Отображается полная карточка организации
    - do: Тап по экшен кнопке Позвонить
    - assert:
        Отображается номер(а) организации
        Под номером(ами) отображается кнопка Отменить
    - do: Тап по номеру телефона
    - assert: Отображается поп-ап с кнопками Вызов и Отменить
    - do: Тап на Вызов
    - assert: Осуществляется звонок по указанному номеру

    - platforms:
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - newbie


  Работа опечаточника:
    - info: Спан направлен на Санкт-Петербург
    - do: Тап на строку поиска
    - do: Ввести "Рубынштейн"
    - do: Тап на "Найти"
    - assert: |
        Отображаются результаты поиска
        Отображается поисковая строка с исправленным текстом
        В результатах поиска присутствуют текст "Исправлена опечатка" и кнопка "Отменить"
    - do: Тап на кнопку "Отменить"
    - assert: |
        Отображается поисковая строка с ранее введенным текстом
        Ниже отображается текст "Ничего не найдено. Попробуйте изменить запрос"
        Под надписью отображаются кнопки "Добавить организацию" и "Добавить объект"

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - newbie


  Поиск пинов АЗС, на которых можно заправиться в МЯК:
    - info: Для показа пинов АЗС-партнёров необходимо пройти по ссылке для эксперимента (для сборки из TF yandexmaps://add_exp?refuel_in_app_show)(для master сборки yandexmapsdev://add_exp?refuel_in_app_show)
    - do: Тап по строке поиска
    - assert: Открылся экран поиска
    - do: Тап по категории 'АЗС'
    - assert: На карте показаны пины АЗС. Некоторые пины в форме капли и имеют зелёный бейдж (кружочек) внутри пина
    - do: Закрыть поиск
    - assert: Поиск закрыт. Показана главная карта

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - newbie

  Отображение новых фильтров:
    - info: |
        Отображается главный экран приложения
        Устройство в вертикальной ориентации
    - do: Тап по строке поиска
    - assert: Открылся экран поиска
    - do: Ввести запрос 'Кафе' и тап 'Найти'
    - assert: |
        Отображаются результаты поиска с карточками организаций. 
        На карте отображаются поисковые пины. 
    - do: Свайпами влево проскроллить строку фильтров в списке результатов поиска до конца
    - assert: Набор кнопок может меняться в зависимости от того что отдает сервер
    - do: Тап по кнопке фильтра с выпадающим списком
    - assert: |
        Кнопка раскрылась. 
        В выбранной категории появились кнопки, их набор может меняться в зависимости от того что отдает сервер
    - do: Выбрать один из вариантов и тап 'Готово'
    - assert: |
        Пункт становится выбранным. 
        (Светлая тема)Фон у выбранного пункта поменялся на темный. 
        (Тёмная тема)Фон у выбранного пункта поменялся на светлый. 
        В строке фильтров название пункта из шага 4 заменилось на выбранный из списка пункт. Если было выбрано несколько пунктов из списка, в названии отобразится первый выбранный пункт и 'Ещё n '. 
        Поисковая выдача корректируется с учётом выбранного фильтра
    - do: Свайпом вниз свернуть результаты поиска
    - assert: |
        Результаты поиска свернулись. 
        Строка фильтров отображается над списком результатов поиска. 
        Выбранные фильтры всё ещё выбраны. 
        (Светлая тема) Фон у выбранного пункта темный. 
        (Тёмная тема)Фон у выбранного пункта светлый
    - do: Сменить ориентацию на горизонтальную
    - assert: |
        Результаты поиска отображаются слева. 
        Строка с фильтрами отображается справа. 
        Выбранные фильтры выбраны
    - do: Свайпами влево проскроллить строку фильтров до конца'
    - assert: |
        Строка фильтров скроллится корректно. 
        Не вмещающиеся кнопки скрываются под результатами поисковой выдачи и не перекрывают её

    - platforms:
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors
        - use_map
        - newbie

  Отображение рекламных объявлений в поисковой выдаче:
    - info: |
        Рекламные объявления - это обычные результаты поиска с дополнительной информацией о рекламе
        Они должны попадать в текущую область поиска
        Если в текущей области поиска совсем нет таких результатов - то и выводить нечего
        Если есть, то они поднимаются на первые позиции
        Отображается главный экран приложения на спане Москвы
    - do: Тап по табу Поиск
    - assert: Открылся экран поиска
    - do: Тап по категории Где поесть
    - assert: |
        Отображаются результаты поиска
        На карте отображаются пины поисковой выдачи
        Среди пинов отображаются брендированные пины и пины геопродукта
    - do: Полистать список результатов поиска
    - assert: |
        Среди результатов поиска на карте отображаются организации с рекламой
        Реклама может отображаться в виде текстового блока с дисклеймером
        В некоторых случаях текст рекламы может не отображаться, но у организации будет отображаться ярлык геопродукта или приоритетного размещения
        Реклама может быть нескольких типов:
        - мапкитовая реклама
        - геопродукт с текстом и без текста рекламы
        - провязанный и непровязанный директ

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - advertisement
        - use_map
        - mapkit_ready
        - newbie


  Сохранение состояния поиска при возврате из фона:
    - info: |
        (Android) Включен режим Don’t keep activities (Настройки устройства -> Параметры разработчика -> блок Приложения)
        Отображается главный экран приложения
    - do: Выключить эксперимент `Debug-Panel -> Experiments -> common_menu_manager`
    - do: Закрыть Debug-Panel
    - do: Перезапустить приложение
    - do: Выполнить поиск по любой категории
    - assert: Отображаются результаты поиска
    - do: Свернуть приложение
    - assert: |
        Отображается главный экран устройства
        Приложение в фоне
    - do: Развернуть приложения
    - assert: Отображается экран результатов поиска

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Сохранение состояния поиска при возврате из фона при получении эксперимента common_menu_manager:
    - info: |
        (Android) Включен режим Don’t keep activities (Настройки устройства -> Параметры разработчика -> блок Приложения)
        Отображается главный экран приложения
    - do: |
        Включить эксперимент через интент [collapsed-image](https://jing.yandex-team.ru/files/vik-borisenko/Снимок%20экрана%202022-06-17%20в%2012.56.15.png){title=QR-код}

        `yandexmaps://add_exp?common_menu_manager`
    - do: Перезапустить приложение для активации эксперимента
    - do: Выполнить поиск по любой категории
    - assert: Отображаются результаты поиска
    - do: Свернуть приложение
    - assert: |
        Отображается главный экран устройства
        Приложение в фоне
    - do: Развернуть приложения
    - assert: Отображается экран результатов поиска

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отсутствующие фильтры результатов поиска:
    - info: |
        Включен интернет
        Отображается главный экран на карте Москвы
        Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info`
        Установлен 12 зум карты
    - do: Тап на поисковую строку
    - assert: Открыт экран поиска
    - do: Ввести название улицы Например. "Подольская"
    - do: Тап на кнопку "Найти"
    - assert: |
        Открыта мини-карточка топонима
        На карте отображается активный пин искомой улицы
    - do: Закрыть карточку топонима
    - assert: |
        Открывается экран результатов поиска
        Плашка фильтров отсутствует

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля заголовка поискового сниппета по поисковому запросу Гостиницы:
    - info: |
        Отображается главный экран приложения
    - do: Выполнить поиск по запросу Гостиницы
    - assert: |
        Выполнен поиск по запросу Гостиницы
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        Модуль заголовка расположен во всю ширину карточки
        Заголовок может отображаться в три строки
        Заголовок может комбинироваться с фотографией или action-кнопкой
        Рядом с заголовком может отобразиться бейдж заботливой галки или приоритетного размещения

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля категорий заголовка поискового сниппета по поисковому запросу Гостиницы:
    - info: |
        Отображается главный экран приложения
    - do: Выполнить поиск по запросу Гостиницы
    - assert: |
        Выполнен поиск по запросу Гостиницы
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        Категории могут отображаться в две строки
        Категории могут комбинироваться с фотографией или action-кнопкой

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля фотографий поискового сниппета по поисковому запросу Гостиницы:
    - info: |
        Отображается главный экран приложения
    - do: Выполнить поиск по запросу Гостиницы
    - assert: |
        Выполнен поиск по запросу Гостиницы
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        Фотогалерея отображается на всю ширину карточки
        Фотогалерея не может комбинироваться с action-кнопками
        Модуль фотогалереи не может отображаться одновременно с модулем фото
        Фото в модуле листаются без отступов справа и слева от края сниппета
        В случае, если у организации нет фотографий, данные модули отображаться не будут

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля рейтинга поискового сниппета по поисковому запросу Гостиницы:
    - info: |
        Существует два типа модуля рейтинга L и M
        Модуль рейтинга L имеет вид звезд, числового значения рейтинга, числового количества оценок и текста 'оценок'
        Модуль рейтинга M имеет вид звезд, числового значения рейтинга и числового количества оценок в виде (n)
        Если в сниппете не достаточно места для отображения модуля рейтинга L, то отобразиться модуль рейтинга M
        Отображается главный экран приложения
    - do: Выполнить поиск по запросу Гостиницы
    - assert: |
        Выполнен поиск по запросу Гостиницы
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        Отображается модуль рейтинга
        Рейтинг отображается только в одну строку
        Рейтинг может комбинироваться с фотографией или action-кнопкой

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля расстояния поискового сниппета по поисковому запросу Гостиницы:
    - info: |
        Если пеший маршрут до организации не более 5 мин, то в модуле отобразится время для пешего маршрута
        Если до организации не более 50 км, то в модуле отобразиться время для автомобильного маршрута
        В других случаях в модуле отобразится расстояние до организации
        Отображается главный экран приложения
    - do: Выполнить поиск по запросу Гостиницы
    - assert: |
        Выполнен поиск по запросу Гостиницы
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        В модуле доезда отображается время доезда или расстояние до организации
        Может быть скомбинирован с другими модулями в одну строку
        Не может комбинироваться с action-кнопками или фотографией
        Не может отображаться более чем в одну строку

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля подстрочника поискового сниппета по поисковому запросу Гостиницы:
    - info: |
        Отображается главный экран приложения
    - do: Выполнить поиск по запросу Гостиницы
    - assert: |
        Выполнен поиск по запросу Гостиницы
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        В модуле подстрочника отображается актуальная информация для данных категорий
        В подстрочнике отображается информация о примерной стоимости ночи в гостинице

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля заголовка поискового сниппета по поисковому запросу категории Кинотеатры:
    - info: Отображается главный экран приложения
    - do: Выполнить поиск по запросу Кинотеатры
    - assert: |
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        Модуль заголовка расположен во всю ширину карточки
        Заголовок может отображается в три строки
        Заголовок может комбинироваться с фотографией или action-кнопкой
        Рядом с заголовком может отобразиться бейдж заботливой галки или приоритетного размещения
        Нижняя граница бейджа выровнена по середине строки заголовка

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля категорий поискового сниппета по поисковому запросу категории Кинотеатры:
    - info: Отображается главный экран приложения
    - do: Выполнить поиск по запросу Кинотеатры
    - assert: |
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        Отображаются все категории, к которым относится организация
        Может быть указано несколько категорий

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля фотографий поискового сниппета по поисковому запросу категории Кинотеатры:
    - info: Отображается главный экран приложения
    - do: Выполнить поиск по запросу Кинотеатры
    - assert: |
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        Отображается модуль с фотографией
        В случае, если у организации нет фотографий, данные модули отображаться не будут

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля рейтинга сниппета по поисковому запросу категории Кинотеатры:
    - info: |
        Существует два типа модуля рейтинга L и M
        Модуль рейтинга L имеет вид звезд, числового значения рейтинга, числового количества оценок и текста 'оценок'
        Модуль рейтинга M имеет вид звезд, числового значения рейтинга и числового количества оценок в виде (n)
        Если в сниппете не достаточно места для отображения модуля рейтинга L, то отобразиться модуль рейтинга M
        Отображается главный экран приложения
    - do: Выполнить поиск по запросу Кинотеатры
    - assert: |
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        Отображается модуль рейтинга
        Рейтинг отображается только в одну строку
        Рейтинг может комбинироваться с фотографией или action-кнопкой

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля расстояния поискового сниппета по поисковому запросу категории Кинотеатры:
    - info: |
        Если пеший маршрут до организации не более 5 мин, то в модуле отобразится время для пешего маршрута
        Если до организации не более 50 км, то в модуле отобразиться время для автомобильного маршрута
        В других случаях в модуле отобразится расстояние до организации
        Отображается главный экран приложения
    - do: Выполнить поиск по запросу Кинотеатры
    - assert: |
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        В модуле доезда отображается время доезда или расстояние до организации
        Может быть скомбинирован с другими модулями в одну строку
        Не может комбинироваться с action-кнопками или фотографией
        Не может отображаться более чем в одну строку

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля подстрочника поискового сниппета по поисковому запросу категории Кинотеатры:
    - info: |
        Отображается главный экран приложения
    - do: Выполнить поиск по запросу Кинотеатры
    - assert: |
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        Отображается подстрочник со временем и названием ближайшего фильма (не у всех может отображаться)
        Скомбинирован с модулем доезда

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля заголовка поискового сниппета по поисковому запросу категории Достопримечательность:
    - info: Отображается главный экран приложения
    - do: Выполнить поиск по запросу Достопримечательность
    - assert: |
        Выполнен поиск по запросу Достопримечательность
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        Модуль заголовка расположен во всю ширину карточки
        Заголовок может отображается в три строки
        Заголовок может комбинироваться с фотографией или action-кнопкой
        Рядом с заголовком может отобразиться бейдж заботливой галки или приоритетного размещения
        Нижняя граница бейджа выровнена по середине строки заголовка

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля категорий поискового сниппета по поисковому запросу категории Достопримечательность:
    - info: Отображается главный экран приложения
    - do: Выполнить поиск по запросу Достопримечательность
    - assert: |
        Выполнен поиск по запросу Достопримечательность
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        Категории могут отображаться в две строки
        Категории могут комбинироваться с фотографией или action-кнопкой
        Отображается модуль рейтинга

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля фотографий поискового сниппета по поисковому запросу категории Достопримечательность:
    - info: Отображается главный экран приложения
    - do: Выполнить поиск по запросу Достопримечательность
    - assert: |
        Выполнен поиск по запросу Достопримечательность
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        Отображаются фото организации
        Если у организации больше одной фотографии, отображается карусель фото
        В случае если фото у организации нет, модуль не отобразится

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля расстояния поискового сниппета по поисковому запросу категории Достопримечательность:
    - info: |
        Если маршрут до организации не более 5 мин, то в модуле отобразится время для пешего маршрута
        Если до организации не более 50 км, то в модуле отобразится время для автомобильного маршрута
        В других случаях в модуле отобразится расстояние до организации
        Отображается главный экран приложения
    - do: Выполнить поиск по запросу Достопримечательность
    - assert: |
        Выполнен поиск по запросу Достопримечательность
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        В модуле доезда отображается время доезда или расстояние до организации
        Может быть скомбинирован с другими модулями в одну строку
        Не может быть зарезан action-кнопками или фотографией
        Не может отображаться более чем в одну строку

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля времени работы поискового сниппета по поисковому запросу категории Достопримечательность:
    - info: Отображается главный экран приложения
    - do: Выполнить поиск по запросу Достопримечательность
    - assert: |
        Выполнен поиск по запросу Достопримечательность
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        В модуле времени работы отображается время, до которого организация открыта или закрыта (может отображаться не у всех сниппетов)

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля рейтинга поискового сниппета по поисковому запросу категории Достопримечательность:
    - info: |
        Существует два типа модуля рейтинга L и M
        Модуль рейтинга L имеет вид звезд, числового значения рейтинга, числового количества оценок и текста 'оценок'
        Модуль рейтинга M имеет вид звезд, числового значения рейтинга и числового количества оценок в виде (n)
        Если в сниппете не достаточно места для отображения модуля рейтинга L, то отобразиться модуль рейтинга M
        Отображается главный экран приложения
    - do: Выполнить поиск по запросу Достопримечательность
    - assert: |
        Выполнен поиск по запросу Достопримечательность
        Отображается список поисковой выдачи с поисковыми сниппетами
        Отображаются пины поисковой выдачи на карте
        Отображается модуль рейтинга
        Рейтинг отображается только в одну строку
        Рейтинг может комбинироваться с фотографией или action-кнопкой

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля адреса поискового сниппета при поиске сетевой организации:
    - info: Отображается главный экран приложения а спане Москвы
    - do: Произвести поиск сетевой организации (напр., Макдоналдс)
    - assert: |
        Отображается поисковая выдача на карте
        На карте отображаются пины поисковой выдачи
        Внизу экрана отображается список поисковой выдачи
        В списке отображаются поисковые сниппеты
        Для сетевых организаций, не смотря на поисковые категории, отображается модуль адреса
        В модуле адреса отображается адрес организации
        Отображается на всю ширину сниппета
        Может отображаться в две строки
        Может зарезаться фотографией или экшен-кнопкой

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - testing:
        - lite_acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля заголовка поискового сниппета при поиске сетевой организации:
    - info: Отображается главный экран приложения на спане Москвы
    - do: Произвести поиск сетевой организации (напр., Макдоналдс)
    - assert: |
        Отображается поисковая выдача на карте
        На карте отображаются пины поисковой выдачи
        Внизу экрана отображается список поисковой выдачи
        В списке отображаются поисковые сниппеты
        Модуль заголовка расположен во всю ширину карточки
        Заголовок может отображаться в три строки
        Заголовок может комбинироваться с фотографией и action-кнопкой
        Рядом с заголовком может отобразиться бейдж с заботливой галкой
        Нижняя граница бейджа выровнена по середине строки заголовка

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - testing:
        - lite_acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready
        - newbie


  Отображение модуля рейтинга поискового сниппета при поиске сетевой организации:
    - info: |
        Существует два типа модуля рейтинга L и M
        Модуль рейтинга L имеет вид звезд, числового значения рейтинга, числового количества оценок и текста 'оценок'
        Модуль рейтинга M имеет вид звезд, числового значения рейтинга и числового количества оценок в виде (n)
        Если в сниппете не достаточно места для отображения модуля рейтинга L, то отобразиться модуль рейтинга M
        Отображается главный экран приложения а спане Москвы
    - do: Произвести поиск сетевой организации (напр., Макдоналдс)
    - assert: |
        Отображается поисковая выдача на карте
        На карте отображаются пины поисковой выдачи
        Внизу экрана отображается список поисковой выдачи
        В списке отображаются поисковые сниппеты
        Отображается модуль рейтинга
        Рейтинг отображается только в одну строку
        Рейтинг может комбинироваться с фотографией и action-кнопкой

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - testing:
        - lite_acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля фотографий поискового сниппета при поиске сетевой организации:
    - info: Отображается главный экран приложения а спане Москвы
    - do: Произвести поиск сетевой организации (напр., Макдоналдс)
    - assert: |
        Отображается поисковая выдача на карте
        На карте отображаются пины поисковой выдачи
        Внизу экрана отображается список поисковой выдачи
        В списке отображаются поисковые сниппеты
        Фотогалерея отображается на всю ширину карточки
        Фотогалерея не может комбинироваться с модулем доезда в одну строку
        Модуль фотогалереи не может отображаться одновременно с модулем фото
        Фото в модуле листаются без отступов справа и слева от края экрана
        В случае, если у организации нет фотографий, данные модули отображаться не будут

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - testing:
        - lite_acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля рекламы поискового сниппета при поиске сетевой организации:
    - info: Отображается главный экран приложения на спане Москвы
    - do: Произвести поиск сетевой организации (напр., Макдоналдс)
    - assert: |
        Отображается поисковая выдача на карте
        На карте отображаются пины поисковой выдачи
        Внизу экрана отображается список поисковой выдачи
        В списке отображаются поисковые сниппеты
        Модуль рекламы отобразится, если в карточке организации есть рекламная плашка или геопродукт
        В модуле отображается рекламный текст организации
        В сниппете может отобразиться тапабельная рекламная строка геопродукта

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - testing:
        - lite_acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля подстрочника поискового сниппета при поиске сетевой организации:
    - info: Отображается главный экран приложения на спане Москвы
    - do: Произвести поиск по запросу Кафе
    - assert: |
        Отображается поисковая выдача на карте
        На карте отображаются пины поисковой выдачи
        Внизу экрана отображается список поисковой выдачи
        В списке отображаются поисковые сниппеты
        В модуле подстрочника отображается актуальная информация для данных категорий
        У части организаций в подстрочнике отображается информация о среднем чеке или о примерной стоимости единицы товара (не у всех организаций отображается)

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - testing:
        - lite_acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение модуля статуса работы поискового сниппета при поиске сетевой организации:
    - info: Отображается главный экран приложения на спане Москвы
    - do: Произвести поиск сетевой организации (напр., Макдоналдс)
    - assert: |
        Отображается поисковая выдача на карте
        На карте отображаются пины поисковой выдачи
        Внизу экрана отображается список поисковой выдачи
        В списке отображаются поисковые сниппеты
        В модуле статуса работы отображается время, до которого организация открыта или закрыта, текст 'Выходной', если организация сегодня не работает, или 'Круглосуточно'
        Может комбинироваться с модулем доезда в одну строку

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - testing:
        - lite_acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready
        - newbie


  Отображение модуля расстояния поискового сниппета сниппета при поиске сетевой организации:
    - info: |
        Если пеший маршрут до организации не более 5 мин, то в модуле отобразится время для пешего маршрута
        Если до организации не более 50 км, то в модуле отобразится время для автомобильного маршрута
        В других случаях в модуле отобразится расстояние до организации
        Отображается главный экран приложения на спане Москвы
    - do: Произвести поиск сетевой организации (напр., Макдоналдс)
    - assert: |
        Отображается поисковая выдача на карте
        На карте отображаются пины поисковой выдачи
        Внизу экрана отображается список поисковой выдачи
        В модуле доезда отображается время доезда или расстояние до организации
        Скомбинирован с модулем статуса работы
        Не может отображаться более чем в одну строку

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - testing:
        - lite_acceptance_maps
    - tags:
        - assessors
        - use_map
        - mapkit_ready
        - newbie


  Фильтрование результатов поиска через блок фильтров:
    - info: |
        Включен интернет
        Отображается главный экран приложения на спане Москвы
    - do: Выполнить поиск по категории Где поесть
    - assert: |
        На карте отмечены пины поисковой выдачи
        Отображается список результатов поиска
        Отображается блок фильтров
    - do: Тап на фильтр Кухня
    - assert: Отображается  фильтр Кухня
    - do: Тап на любое значение фильтра Кухня
    - assert: Напротив выбранного значения отображается активный чекбокс
    - do: Тап на Еще
    - assert: |
        Отображается расширенный фильтр Кухня
        Значения фильтра соответствуют ранее установленным
    - do: Выбрать еще несколько значений
    - assert: Напротив выбранного значения отображается активный чекбокс
    - do: Тап на Готово
    - assert: Отображается экран результатов поиска в соответствии с выбранными фильтрами
    - do: Тап на любой фильтр не с выпадающим списком
    - assert: Отображается экран результатов поиска в соответствии с выбранными фильтрами

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready
        - newbie


  Отображение результатов поиска на карте после изменения цветовой схемы:
    - info: |
        Включена автоматическую смену цветовой схемы:
        Меню -> Настройки -> Основные -> (iOS) Тёмный режим / (Android) Ночной режим
        Установлено время на девайсе, близкое к закату
        Время заката можно увидеть в саджесте при запросе Закат время в поисковике Яндекс
    - do: Произвести поиск по произвольному запросу
    - assert: |
        Отображается поисковая выдача на карте
        Отображаются результаты поиска в виде списка
    - do: Дождаться автоматического изменения цветовой схемы
    - assert: |
        Цветовая схема изменилась на ночную
        Отображаются результаты поиска

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Поиск по запросу, подраземувающему 1 результат в конкретной зоне карты, с последующим масштабированием для подгрузки остальных результатов:
    - info: |
        (iOS) Получен эксперимент search_alike_suggest_1org
        Отображается главный экран приложения на спане Тулы
    - do: В поисковую строку вести запрос Old boy
    - do: Тап на Найти
    - assert: |
        Открылась мини-карточка барбершопа
        Фильтры над карточкой не отображаются,
        Над карточкой отображаются саджесты и 'Искать рядом'
        На карте отображается поднятый пин организации
    - do: Свернуть мини-карточку
    - do: Отзумить карту до состояния, когда на экране будут отображаться другие страны
    - assert: |
        На карте появились поисковые пины по запросу в других странах
        Все еще открыта микрокарточка барбершопа
        На карте отображается активный пин организации
    - do: Закрыть карточку
    - assert: |
        Отображается главный экран приложения
    - do: В поисковую строку вести запрос Old boy
    - do: Тап на Найти
    - assert: |
        На карте отображаются поисковые пины
        Отображается список организаций
        Отображаются фильтры для поиска
    - do: Свернуть результаты поиска до состояния микро
    - do: Вернуться к тому зуму, на котором будет отображаться только 1 пин результата поиска
    - assert: |
        Список с результатами поиска свёрнут
        Отображается только 1 поисковой пин
    - do: Свайпом вверх развернуть результаты поиска
    - assert: |
        В списке результатов поиска 1 результат по запросу Old boy
        Результат отображается в блоке с результатами поиска

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready
        - newbie



  Отображение рубричных саджестов при смене ориентации устройства:
    - info: |
        Отображается главный экран приложения в вертикальной ориентации устройства
    - do: Тап по рубричному саджесту
    - assert: Отображается СЕРП по запросу выбранного саджеста
    - do: Закрыть СЕРП
    - assert: Отображается главный экран приложения
    - do: Изменить ориентацию устройства на горизонтальную
    - assert: Рубричные саджесты продолжают отображаться
    - do: Тап по рубричному саджесту
    - assert: Отображается СЕРП по запросу выбранного саджеста
    - do: Закрыть СЕРП

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие экрана саджеста при закрытии карточки транспорта, открытой из саджеста:
    - info: |
        Открыт экран поиска
        N - номер автобуса или маршрута
    - do: Ввести в поисковую строку Автобус N или Маршрут N
    - assert: Отображается список поисковых саджестов
    - do: Тап на саджест общественного транспорта
    - assert: Открывается карточка выбранного транспорта
    - do: Закрыть карточку маршрута
    - assert: Отображается главный экран

    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Война пинов. Состояние пинов при разных зумах:
    - info: |
        Виды пинов (от меньшего к большему)
        Невидимый -> Пыль (небольшая точка) -> Иконка (пин побольше) -> Иконка с лейблом -> Иконка с большим лейблом
        iOS: Включен эксперимент mpp_search_layer
        Отображается главный экран приложения
    - do: Выполнить поиск по любой категории
    - assert: |
        Карта отзумилась
        Отобразились результаты поиска
    - do: Переместить спан карты
    - assert: Пины, которые имеют лейбл не перекрывают друг друга
    - do: Отдалять карту
    - assert: По мере отдаления пины изменяются от большего к меньшему
    - do: Приближать карту
    - assert: По мере приближения пины изменяются от меньшего к большему
    - do: Закрыть поисковую выдачу
    - assert: Отображается главный экран приложения
    - do: Выполнить поиск по любой категории
    - assert: Открыта поисковая выдача
    - do: Изменить спан карты и немного подождать
    - assert: Возможна подгрузка новых результатов или перерисовка старых

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - kotlin
        - mapkit

  Пин в центре топонима при поиске по координатам:
    - info: |
        Отображается главный экран приложения
        Открыта карточка топонима
    - do: Скопировать координаты топонима в поисковую строку
    - do: Тап на Найти
    - assert: |
        Открыта карточка топонима
        Поднятый пин расположен в центре топонима
    - do: |
        iOS: Включить эксперимент mpp_search_layer и перезапустить приложение
    - assert: Отображается главный экран приложения
    - do: Скопировать координаты топонима в поисковую строку
    - do: Тап на Найти
    - assert: |
        Открыта карточка топонима
        Поднятый пин расположен в центре топонима

    - platforms:
        - ios
        - android
    - tags:
        - assessors

  Отображение списка результатов поиска организаций, для которых поиск не присылает рейтинг:
    - info: |
        Открыт главный экран приложения
    - do: Произвести поиск по госучреждениям (например, по запросу "Администрация")
    - assert: |
        Открывается список результатов поиска
        У организаций в списке отсутствует блок "Нет оценок"

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отображение единой плашки об изменении режима работы организаций в результатах поисковой выдачи:
    - info: |
        Открыт спан карты с организацией, для которой приходит один из признаков closed_for_quarantine, closed_for_visitors или closed_for_without_qr. Например, Кофейня Кирилла (ул. Талгата Азнабаева, 27, село Яшкимбетово)
        Зум выбран так, чтобы в поисковой выдаче по категории Где поесть присутствовали и другие организации (помимо указанной выше)
    - do: Произвести поиск по категории Где поесть
    - assert: |
        Открыт список результатов поиска
        В начале поисковой выдачи отображается плашка с текстом "Режим работы некоторых организаций мог измениться. Свяжитесь с ними чтобы уточнить"

    - platforms:
        - android
    - tags:
        - assessors


  Отображение подстрочника модульного сниппета организаций, работающих в режиме "Вход по QR":
    - info: |
        Открыт спан карты с организацией, для которой приходит признак closed_for_without_qr. Например, Кофейня Кирилла (ул. Талгата Азнабаева, 27, село Яшкимбетово)
        Зум выбран так, чтобы в поисковой выдаче по категории Где поесть присутствовали и другие организации (помимо указанной выше)
    - do: Произвести поиск по категории Где поесть
    - assert: |
        Открыт список результатов поиска
    - do: Проскроллить до модульного сниппета организации, для которой приходит closed_for_without_qr
    - assert: |
        Отображается модульный сниппет организации
        В подстрочнике модульного сниппета отображается текст "Вход по QR" и режим дистанционной работы, если есть

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - regress


  Проверки информации в деталях поискового пина:
    - info: |
        Отображается главный экран приложения
        Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info`
    - do: Тап на поисковую строку
    - assert: Отображается экран поиска
    - do: Тап по категории Где поесть
    - assert: |
        На карте отмечены пины поисковой выдачи
        В окне поиска отображается список организаций поисковой выдачи
        Отображается блок фильтров
    - do: Свайп вниз по списку организаций
    - assert: |
        Список свернулся
        Отображается блок фильтров
        Отображаются пины организаций по поисковому запросу
    - do: Установить самый ближний зум - 21ый
    - assert: |
        Карта отображается в детальном масштабе
        Контрол приближения неактивен
    - do: Тап по пину с информацией в подстрочнике
    - assert: |
        Состояние пина изменилось на активный
        Баббл с информацией не отображается
        Отображается миникарточка организации
    - do: Проскроллить карточку до блока с информацией
    - assert: Информация в карточке соответствует информации в подстрочнике на карте

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение пинов результатов поиска на разных зумах:
    - info: |
        Отображается главный экран приложения
        Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info`
        Установлен 15 - 18 зум (самый ближний 21)
    - do: Тап на таб Поиск
    - assert: Отображается экран поиска
    - do: Тап на Где поесть
    - assert: Отображаются результаты поиска
    - do: Свернуть список результатов свайпом вниз
    - assert: |
        Список свернут
        На карте отображаются пины организаций
        Отображается блок фильтров
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Приблизить карту на 18-ый зум
    - assert: |
        На карте отображаются пины искомых организаций:
        - крупные пины и мелкие пины
        - есть пины, рядом с которыми указаны название и баблы с информацией (средний чек, время работы и т.д.)
        - не больше 8-ми крупных пинов (исключение - геопродукты, с ними может быть больше)
        - не больше 5 пинов с названиями и информацией (исключение - геопродукты)
        - нет крупных пинов, находящихся ближе чем 100pt друг к другу (исключение - геопродукты)
        Баблы с информацией не пересекаются
        Приоритет в отрисовке деталей, названий и крупных пинов отдаётся результатам, имеющим более высокую позицию в геопоиске
        Все пины тапабельны
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Установить 16-ый зум
    - assert: |
        На карте отображаются пины искомых организаций:
        - крупные пины и мелкие пины
        - есть пины, рядом с которыми указаны названия и баблы с информацией (средний чек, время работы и т.д.)
        - не больше 8-ми крупных пинов (исключение - геопродукты, с ними может быть больше)
        - не больше 5 пинов с названиями (исключение - геопродукты)
        - нет крупных пинов, находящихся ближе чем 100pt друг к другу (исключение - геопродукты)
        Баблы с информацией не пересекаются
        Приоритет в отрисовке названий и крупных пинов отдаётся результатам, имеющим более высокую позицию в геопоиске
        Все пины тапабельны
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Установить 10-ый зум
    - assert: |
        На карте отображаются пины искомых организаций:
        - есть крупные пины и мелкие пины
        - нет пинов, рядом с которыми указаны названия
        - не больше 8-ми крупных пинов (исключение - геопродукты, с ними может быть больше)
        - нет крупных пинов, находящихся ближе чем 100pt друг к другу (исключение - геопродукты)
        Приоритет в отрисовке крупных пинов отдаётся результатам, имеющим более высокую позицию в геопоиске
        Все пины кликабельны
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Установить 7-ой зум
    - assert: |
        Отображаются только мелкие пины
        Все пины тапабельны
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Перерисовка названия и подстрочников пинов при повороте карты:
    - info: |
        Установлен 15 - 18 зум (самый ближний зум - 21ый)
        Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info`
        Отображается главный экран приложения
        Карта в положении Север сверху
    - do: Тап по табу поиск
    - assert: Открыт экран поиска
    - do: Тап по любой категории
    - assert: |
        На карте отмечены пины поисковой выдачи
        Отображается список организаций поисковой выдачи
        Отображается блок фильтров
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Свайп вниз по списку организаций
    - assert: Список свернулся
    - do: Установить 14-ый зум
    - assert: |
        Пины с названием не конфликтуют между собой
        Не происходит наложение названий друг на друга
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Повернуть карту на 90 градусов жестами
    - assert: |
        Отображается значок компаса указывающий на север
        При конфликте названий у пинов организации произойдет перерисовка бабблов
        При наложении названий организаций, название менее приоритетной перестает отображаться
        У пинов, у которых не отображалось название из-за конфликта, может отобразится название
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Изменить зум на 15-19
    - assert: |
        У части пинов отображается название
        Присутсвует подстрочник с информацией (например, средний чек)
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Повернуть карту на 180 градусов жестами
    - assert: |
        При наложении названий организаций, название менее приоритетной перестает отображаться
        У пинов, у которых ранее возникал конфликт с другими подстрочниками, может отобразиться название/название и подстрочник
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - use_map
        - mapkit_ready


  Отображение статуса открытости в подстрочниках на карте:
    - info: |
        Так как график работы и текущее время берется с сервера, проверить функционал изменением времени на устройстве не получится
        Если до закрытия организаций в ММП должен пройти значительный отрезок времени, то можно произвести поиск в других часовых поясах на территории России
        Подменять при этом ММП НЕ нужно
        Включить/выключить отображение зума можно через `Настройки -> Debug Panel -> Environment -> Mapkit debug info`
        Отображается главный экран приложения
    - do: Произвести поиск по не рубричному запросу (напр., Стоматологии)
    - do: Свернуть результаты поиска
    - do: Установить 15 зум или больше
    - assert: |
        Отображается поисковые пины на карте
        У некоторых пинов отображается название и подстрочник
        В подстрочнике не рубричных запросов может отображаться время работы
        Список результатов поиска свернут
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Просвайпать карту, пока не будет найден пин закрытой организации
    - assert: |
        В облаке возле пина отображается название организации
        В подстрочнике может отображаться рейтинг организации и время работы
        Цвет текста графика (например: "Закрыта до 10:00") красного цвета
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Просвайпать карту, пока не будет найден пин открытой организации
    - assert: |
        В облаке возле пина отображается название организации
        В подстрочнике отображается рейтинг организации и время работы
        Цвет текста графика (например: "до 20:00") серого цвета
        Подложка отображается корректно
        Артефакты отсутствуют
    - do: Просвайпать карту, найти пин закрывающейся/открывающейся организации
    - assert: |
        Пины отображаются только если время, близкое к ровному часу например: 18:58 или 20:57
        В облаке возле пина отображается название организации
        В подстрочнике отображается рейтинг организации и время работы
        Цвет текста графика (например: "до 18:00") оранжевого цвета
        Подложка отображается корректно
        Артефакты отсутствуют

    - platforms:
        - ios
        - android
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Отображение иконок пинов:
    - info: |
        [Макет_иконок](https://jing.yandex-team.ru/files/ermichev/pin_colors.png)
        Проверять иконки всех рубрик необязательно
        Открыт главный экран приложения
    - do: Тап на поисковую строку
    - assert: |
        Отображается экран поиска
        Под поисковой строкой расположена карусель категорий
    - do: Тап на любую категорию
    - assert: |
        Произвелся поиск по соответствующей категории
        На карте присутствуют пины организаций
    - do: Сравнить режимы иконок пинов организаций с макетом
    - assert: Иконки соответствуют макету

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Поиск геопродукта с единственным результатом поиска:
    - do: Произвести поиск геопродукта на спане с единственным искомым геопродуктом
    - assert: |
        Открыта миникарточка организации геопродукта

    - platforms:
        - ios
        - android
    - tags:
        - advertisement
        - assessors
    - testing:
        - acceptance_maps


  Поиск по категории без результатов поиска:
    - info: |
        Открыт главный экран приложения
        Спан установлен на области без возможных поисковых результатов
    - do: Выключить эксперимент `Debug-Panel -> Experiments -> common_menu_manager`
    - do: Закрыть Debug-Panel
    - do: Перезапустить приложение
    - do: Тап на таб Поиск
    - assert: |
        Открыт экран поиска
        Отображается список поисковых категорий
        Клавиатура не отображается
    - do: Тап на любую поисковую категорию
    - assert: |
        Открыт экран результатов поиска
        Отображается сообщение об отсутствии найденных организаций

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Поиск по категории без результатов поиска через компонент CommonMenuManager:
    - info: Спан установлен на области без возможных поисковых результатов
    - do: |
        Включить эксперимент через интент [collapsed-image](https://jing.yandex-team.ru/files/vik-borisenko/Снимок%20экрана%202022-06-17%20в%2012.56.15.png){title=QR-код}

        `yandexmaps://add_exp?common_menu_manager`
    - do: Перезапустить приложение для активации эксперимента
    - do: Тап на таб Поиск
    - assert: |
        Открыт экран поиска
        Отображается список поисковых категорий
        Клавиатура не отображается
    - do: Тап на любую поисковую категорию
    - assert: |
        Открыт экран результатов поиска
        Отображается сообщение об отсутствии найденных организаций

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Рекламные объявления в поисковой выдаче:
    - do: Тап по табу поиск
    - assert: Открылся экран поиска
    - do: Тап по категории 'Где поесть'
    - assert: |
        Отображаются результаты поиска на карте
        Отображается пины результатов поиска
        Среди пинов могут отображаться брендированные пины и пины геопродукта
        Внизу экрана отображается список результатов поиска
    - do: Полистать список результатов поиска
    - assert: |
        Среди результатов поиска на карте может отобразиться карточка организации с рекламой
        Реклама может отображаться в виде текстового блока с дисклеймером
        В некоторых случаях текст рекламы может не отображаться, но у организации будет отображаться ярлык геопродукта или приоритетного размещения,
        Реклама может быть нескольких типов (мапкитовая реклама, геопродукт с текстом и без текста рекламы, провязанный и непровязанный директ)

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Закрытие экрана результатов поиска через swipe-to-pop:
    - info: |
        Swipe-to-pop - это свайп по экрану слева направо
        Отображается главный экран приложения
    - do: Выполнить поиск по любой категории
    - assert: |
        Отображается экран результатов поиска
        На карте отображаются поисковые пины, соответствующие запросу
    - do: Закрыть экран поиска через swipe-to-pop
    - assert: |
        Экран результатов поиска закрылся
        На карте не отображаются поисковые пины
        Отображается главный экран приложения

    - platforms:
        - ios
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Отображение модульных сниппетов с экспериментом serp_new_gallery:
    - info: |
        Включен экспериент: Debug-Panel -> Experiments -> serp_new_gallery
        Отображается главный экран приложения
    - do: Тап на Поиск в таббаре
    - do: Произвести поиск по категории "Где поесть"
    - assert: |
        Открыт список результатов поиска
        Отображаются поисковые сниппеты
        Поисковые сниппеты состоят из модулей

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Отображение модульных сниппетов в табе "Филлиалы" с экспериментом serp_new_gallery:
    - info: |
        Включен экспериент: Debug-Panel -> Experiments -> serp_new_gallery
        Отображается главный экран приложения
    - do: Тап на Поиск в таббаре
    - do: Произвести поиск по организации, имеющей филиалы
    - assert: |
        Открыт список результатов поиска
        Отображаются модульные сниппеты
    - do: Тап на любой поисковый сниппет в списке результатов поиска
    - assert: Отрылась карточка организации
    - do: Тап на таб "Филиалы"
    - assert: |
        Отображается список сниппетов по филиалам организации
        Поисковые сниппеты состоят из модулей

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Экран поиска, ошибка соединения:
    - info: |
        Открыт главный экран приложения
        Отсутствует интернет-соединение
    - do: Тап на таб Поиск
    - assert: Открыт экран поиска
    - do: Произвести поиск по любой организации
    - assert: |
        Открыт экран Результаты поиска
        Отображается сообщение "Нет соединения с интернетом"
        Отображается сообщение "Искать без интернета можно только с загруженной картой"
        Отображаются кнопки Повторить и Запланировать загрузку

    - platforms:
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Очистка фильтра поиска:
    - info: |
        Открыт экран результатов поиска по любой категории
        Установлен произвольный фильтр поиска
        Открыт экран Фильтры
    - do: Тап на Сбросить всё на экране Фильтры
    - assert: |
        Поисковые фильтры не применены
        В блоке Фильтры ничего не выделено

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Поиск "Где поесть..." по запросу пользователя:
    - info: |
        Открыт спан города Москва
    - do: Произвести поиск по запросу "Где поесть борщ"
    - assert: |
        Открыт экран результатов поиска
    - do: Тап на один из результатов поиска
    - assert: |
        Открыта карточка организации
    - do: Проскроллить карточку до блока "Нашлось в меню"
    - assert: |
        В блоке "Нашлось в меню" отображается только Борщ с указанием цен

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_maps
    - tags:
        - assessors


  Отображение картиночных фильтров для кинотеатров (фильмы) в результатах поиска:
    - preconditions: Открыт главный экран приложения
    - do: |
        Включить эксперимент 'pictures_filters' перейдя по интенту:
        [collapsed-image](https://jing.yandex-team.ru/files/vmnpopkova/YQR-1.jpeg){title=QR-код}

        `yandexmaps://add_exp?pictures_filters`
    - do: Перезагрузить приложение
    - do: Тап на таб Поиск
    - do: Выбрать категорию "Кинотеатры"
    - assert: В результатах поиска отображается 6 фильтров-постеров с фильмами
    - do: Свайп влево по картиночным фильтрам
    - do: Тап на "Еще N"
    - assert: Открыт экран с остальными фильтрами-постерами
    - do: Изменить ориентацию устройства на горизонтальную
    - assert: |
        Устройство в горизонтальной ориентации
        Открыт экран с фильтрами-постерами

    - platforms:
        - android
    - tags:
        - assessors


  Отображение результатов поиска после тапа на картиночные фильтры для кинотеатров (фильмы):
    - preconditions: Открыт главный экран приложения
    - do: |
        Включить эксперимент 'pictures_filters' перейдя по интенту:
        [collapsed-image](https://jing.yandex-team.ru/files/vmnpopkova/YQR-1.jpeg){title=QR-код}

        `yandexmaps://add_exp?pictures_filters`
    - do: Перезагрузить приложение
    - do: Тап на строку поиска
    - do: Тап "Категории"
    - do: Выбрать категорию "Кинотеатры"
    - assert: В результатах поиска отображается 6 фильтров-постеров с фильмами
    - do: Тап на любой фильтр-постер
    - assert: |
        В результатах поиска отображаются кинотеатры
        На спане отмечены пины кинотеатров и подписи к ним
        Фильтр-постер выделен и находится на первом месте
    - do: Свайп влево по картиночным фильтрам
    - do: Тап на "Еще N"
    - assert: Открыт экран с остальными фильмами-постерами
    - do: Тап на любой фильтр-постер
    - assert: |
        В результатах поиска отображаются кинотеатры
        На спане отмечены пины кинотеатров
        Фильтр-постер выделен и находится на первом месте

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps


  Отображение картиночных фильтров для еды в результатах поиска:
    - preconditions: Открыт главный экран приложения
    - do: |
        Включить эксперимент 'pictures_filters' перейдя по интенту:
        [collapsed-image](https://jing.yandex-team.ru/files/vmnpopkova/YQR-1.jpeg){title=QR-код}

        `yandexmaps://add_exp?pictures_filters`
    - do: Перезагрузить приложение
    - do: Тап на таб Поиск
    - do: Выбрать категорию "Где поесть"
    - assert: В результатах поиска отображается 6 картиночных фильтров с категориями еды
    - do: Свайп влево по картиночным фильтрам
    - do: Тап на "Еще N"
    - assert: Открыт экран с остальными картиночными фильтрами еды
    - do: Изменить ориентацию устройства на горизонтальную
    - assert: |
        Устройство в горизонтальной ориентации
        Открыт экран с картиночными фильтрами для еды

    - platforms:
        - android
    - tags:
        - assessors


  Отображение результатов поиска после тапа на картиночные фильтры для еды:
    - preconditions: Открыт главный экран приложения
    - do: |
        Включить эксперимент 'pictures_filters' перейдя по интенту:
        [collapsed-image](https://jing.yandex-team.ru/files/vmnpopkova/YQR-1.jpeg){title=QR-код}

        `yandexmaps://add_exp?pictures_filters`
    - do: Перезагрузить приложение
    - do: Тап на строку поиска
    - do: Тап "Категории"
    - do: Тап "Еще"
    - do: Выбрать категорию "Доставка еды"
    - assert: В результатах поиска отображается 6 картиночных фильтров с категориями еды
    - do: Тап на любой картиночный фильтр
    - assert: |
        В результатах поиска отображаются заведения
        Результаты поиска соответствуют категории картиночного фильтра
        Фильтр-постер выделен
        На спане отмечены пины заведений и подписи к ним
    - do: Свайп влево по картиночным фильтрам
    - do: Тап на "Еще N"
    - assert: Открыт экран с остальными картиночными фильтрами еды
    - do: Тап на любой фильтр
    - assert: |
        В результатах поиска отображаются заведения
        Результаты поиска соответствуют категории картиночного фильтра
        На спане отмечены пины заведений и подписи к ним

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_maps
