components: burger_king
testing:
  - regress

specs:
  Кнопка "Заказать в машину" в карточке организации:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Button inside geo cards -> On
        - Dev.Settings -> TakeAway -> Custom geo card button url вписать любой url, например: https://yandex.ru
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Бургер Кинг с кнопкой расположен по адресу г.Москва ул.Большая Серпуховская 6/5
    - do: |
        - Открыть карточку БК
        - Тап на "Заказать в машину"
    - assert: Открывается вебвью сайта
    - do: |
        - Закрыть вебвью
        - ios - свайп вниз, назад, крестик
        - android - системная кнопка back
    - assert: Вебвью закрылся. Открыта карточка БК
    - do: Развернуть карточку в максимальное состояние
    - assert: |
        - Кнопка "Заказать в машину" отображается посередине карточки
        - Кнопка "Заказать в машину" имеет черный цвет как в дневной, так и в ночной теме
    - do: Тап на кнопку "Заказать в машину"
    - assert: Открывается вебвью сайта

    - platforms:
        - ios
        - android


  Кнопка "Заказать в машину" UI:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Button inside geo cards -> On
        - Dev.Settings -> TakeAway -> Custom geo card button url вписать любой url, например: https://yandex.ru
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Бургер Кинг с кнопкой расположен по адресу г.Москва ул.Большая Серпуховская 6/5
    - do: Открыть карточку БК
    - assert: Отображается кнопка "Заказать в машину"
    - do: Поменять ориентацию экрана на лендскейп
    - assert: |
        - Кнопка "заказать в машину" обрезана - для Android
        - Кнопка "заказать в машину" не обрезана - для iOS
    - do: Развернуть карточку в максимальное состояние
    - assert: Кнопка "заказать в машину" переместилась в центр карточки. Верстка не едет

    - platforms:
        - ios
        - android


  Кнопка "Заказать в машину" лендскейп:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Button inside geo cards -> On
        - Dev.Settings -> TakeAway -> Custom geo card button url вписать любой url, например: https://yandex.ru
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Бургер Кинг с кнопкой расположен по адресу г.Москва ул.Большая Серпуховская 6/5
    - do: |
        - Изменить ориентацию экрана на лендскейп. Открыть карточку БК
        - Тап на "Заказать в машину"
    - assert: Открывается вебвью сайта
    - do: Закрыть вебвью любым способом
    - assert: Вебвью закрылся. Открыта карточка БК
    - do: Развернуть карточку в максимальное состояние
    - assert: Кнопка "Заказать в машину" отображается посередине карточки
    - do: Тап на кнопку "Заказать в машину"
    - assert: Открывается вебвью сайта

    - platforms:
        - ios
        - android


  Баннер БургенКинг логика показа баннера:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
    - do: Въехать в полигон со скоростью ниже 25 км/ч (например по маршруту `yandexnavi://build_route_on_map?lat_from=54.708977&lon_from=20.502897&lat_to=54.708236&lon_to=20.502738`)
    - assert: При въезде в полигон отобразился баннер БК
    - do: Поменять ориентацию экрана на лендскейп
    - assert: Баннер не закрылся самостоятельно
    - do: Выехать из полигона, не закрывая баннер БК
    - assert: При выезде из полигона - баннер закрылся автоматически

    - platforms:
        - ios
        - android


  Оформление заказа одного вида товара через тап по стоимости:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
    - do: Въехать в полигон со скоростью ниже 25 км/ч (например по маршруту `yandexnavi://build_route_on_map?lat_from=54.708977&lon_from=20.502897&lat_to=54.708236&lon_to=20.502738`)
    - do: Тап по кнопке "Заказать в машину"
    - assert: Открылось вебвью с меню ресторана
    - do: Тап по цене
    - assert: |
        - Вместо цены отобразились кнопки "+" и "-", а так же кол-во выбранного для заказа товара
        - Отобразилась кнопка "Корзина"
    - do: Добавить больше кол-во товара тапом по кнопке "+"
    - assert: |
        - Кол-во выбранного товара меняется
        - Сумма на кнопке "Корзина" меняется корректно
    - do: Убрать все кол-во товара тапом по кнопке "-"
    - assert: |
        - Вместо кол-во выбранного для заказа товара и кнопок "+" и "-" отобразилась стоимость товара
        - Кнопка "Корзина" стала не активна


    - platforms:
        - ios
        - android


  Оформление заказа. Подробная информация о заказе. UI:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
    - do: Въехать в полигон со скоростью ниже 25 км/ч (например по маршруту `yandexnavi://build_route_on_map?lat_from=54.708977&lon_from=20.502897&lat_to=54.708236&lon_to=20.502738`)
    - do: Тап по кнопке "Заказать в машину"
    - assert: Открылось вебвью с меню ресторана
    - do: Тап по картинке товара
    - assert: Показался экран с подробным описанием, что в себе содержит товар, кнопками добавления/убавления кол-ва товара и кнопки "Добавить"
    - do: Добавить больше кол-во товара тапом по кнопке "+"
    - assert: Кол-во выбранного товара меняется
    - do: Сменить ориентацию устройства на горизонтальную
    - assert: WebView с подробным описанием товара подстраивается под ориентацию устройства
    - do: Убрать все кол-во товара тапом по кнопке "-"
    - assert: При достежении кол-ва в 1, кнопка "-" становится неактивной
    - do: Закрыть WebView свайпом вниз или тап по "Крестику"
    - assert: |
        - Карточка закрылась
        - Кол-во товара в меню не изменилось

    - platforms:
        - ios
        - android


  Оформление заказа одного вида товара через информацию о товаре:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
    - do: Въехать в полигон со скоростью ниже 25 км/ч (например по маршруту `yandexnavi://build_route_on_map?lat_from=54.708977&lon_from=20.502897&lat_to=54.708236&lon_to=20.502738`)
    - do: Тап по кнопке "Заказать в машину"
    - assert: Открылось вебвью с меню ресторана
    - do: Тап по картинке товара
    - assert: Показался экран с подробным описанием, что в себе содержит товар, кнопками добавления/убавления кол-ва товара и кнопки "Добавить"
    - do: Добавить больше кол-во товара тапом по кнопке "+"
    - assert: Кол-во выбранного товара меняется
    - do: Тап "Добавить"
    - assert: |
        - Карточка закрылась
        - кол-во товара в меню, соответствует кол-ву товара выбранного в подробном описании товара
        - Кнопка "Корзина" появилась

    - platforms:
        - ios
        - android


  Оформление заказа разных типов позиций:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
    - do: Въехать в полигон со скоростью ниже 25 км/ч (например по маршруту `yandexnavi://build_route_on_map?lat_from=54.708977&lon_from=20.502897&lat_to=54.708236&lon_to=20.502738`)
    - do: Тап по кнопке "Заказать в машину"
    - assert: Открылось вебвью с меню ресторана
    - do: Тап по цене на нескольких товаров
    - assert: Вместо цены, на выбранных товарах, появилось выбранное кол-во товара
    - do: Тап "Заказ<Сумма>"
    - assert: Открылся новый WebView с описанием текущего заказа, и блоком "Как вас найти" с полями ввода ГРЗ, номера телефона и комментария к заказу

    - platforms:
        - ios
        - android


  WebView оформления заказа. Возврат в меню ресторана:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Открыто меню ресторана с кол-вом товара != 0
    - do: Тап "Корзина"
    - assert: Открылся новый WebView с описанием текущего заказа
    - do: Тап по стрелочке "Назад" в окне
    - assert: |
        - Открылось меню ресторана
        - Выбранное кол-во товара сохранилось
    - do: Тап "Заказ<Сумма>"
    - do: Убрать все кол-во товара тапом по "-" в каждом из них
    - assert: |
        - Открылось меню ресторана
        - Кол-во выранных товаров = 0

    - platforms:
        - ios
        - android


  WebView оформления заказа. UI блока "Как вас найти":
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Открыто меню ресторана с кол-вом товара != 0
    - do: Тап "Корзина"
    - assert: Открылся новый WebView с описанием текущего заказа
    - do: Ввести любые символы в поле "Номер машины"
    - assert: |
        - Валидации на правильность номера отсуствует
        - Символы можно ввести только те, которые используются в ГРЗ
    - do: Ввести любой номер в поле "Телефон"
    - assert: |
        - Валидации на правильность номера отсуствует
        - После ввода нескольких символов кнопка "К оплате <Сумма>" становится активной

    - platforms:
        - ios
        - android


  WebView оформления заказа. Успешное оформление заказа:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Открыто меню ресторана с кол-вом товара != 0 (оплата работает не для всех позиций)
        - Данные тестовой карты:
        pan: 4276 0100 1329 6064
        exp date: 12/24
        cvv2: 555
    - do: Тап "Корзина"
    - assert: Открылся новый WebView с описанием текущего заказа
    - do: Ввести любые символы в поле "Номер машины"
    - do: Ввести любой номер в поле "Телефон"
    - do: Тап по кнопке "К оплате <Сумма>"
    - assert: Открылось Вебвью на странице оплаты заказа
    - do: Ввести данные тестовой карты
    - do: Тап по кнопке "Оплатить"
    - assert: |
        - Вебвью оплаты закрылось
        - Открылось вебвью ресторана со списком заказанного товара и статусом заказа
    - do: Закрыть вебвью ресторана
    - assert: В саджестах появился новый саджест ресторана БК с актуальным статусом заказа

    - platforms:
        - ios
        - android


  WebView оформления заказа. Не успешное оформление заказа. Отмена зказа:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Открыто меню ресторана с кол-вом товара != 0 (оплата работает не для всех позиций)
    - do: Тап "Корзина"
    - assert: Открылся новый WebView с описанием текущего заказа
    - do: Ввести любые символы в поле "Номер машины"
    - do: Ввести любой номер в поле "Телефон"
    - do: Тап по кнопке "К оплате <Сумма>"
    - assert: Открылось Вебвью на странице оплаты заказа
    - do: Закрыть вебвью тапом по "крестику"
    - assert: |
        - Вебвью оплаты закрылось
        - Открылось вебвью ресторана со списком заказанного товара и статусом заказа
    - do: Тап по кнопке "Отменить заказ"
    - assert: Появился поп-ап с выбором "Да" "Нет" и заголовком "Отменить заказ?"
    - do: Тап "Да"
    - assert: |
        - Статус сменился на "Заказ отменен"
        - Появились новые кнопки "Новый заказ" и "Связаться с рестораном"

    - platforms:
        - ios
        - android


  WebView оформления заказа. Отмена зказа. Связаться с рестораном:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Открыт WebView отмененного заказа
    - do: Тап "Связаться с рестораном"
    - assert: Открылся поп-ап с кнопками "Позвонить" и "Написать"
    - do: Тап по кнопке "Позвонить"
    - assert: |
        - iOS открылось диалоговый поп-ап вызова
        - Android Открылось приложение Телефон, в котором вставлен номер ресторана
    - do: Вернуться в приложение
    - do: Тап по кнопке "Написать"
    - assert: |
        - Открылось продовое вебвью ресторана БК на форме обратной связи
    - do: Тап по системной кнопке "Back"
    - assert: |
        - Продовое вебвью ресторана закрылось
        - Открылось меню ресторана в приложении

    - platforms:
        - ios
        - android


  WebView оформления заказа. Отмена заказа. Новый заказ:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Данные тестовой карты:
               pan: 4276 0100 1329 6064
               exp date: 12/24
               cvv2: 555
        - Открыт WebView отмененного заказа
    - do: Тап "Новый заказ"
    - assert: Открылось меню ресторана
    - do: Оформить заказ повторно (оплата работает не для всех позиций)
    - assert: Заказ успешно оформился

    - platforms:
        - ios
        - android


  WebView оформления заказа. Перелогин пользователя:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Данные тестовой карты:
               pan: 4276 0100 1329 6064
               exp date: 12/24
               cvv2: 555
    - do: Въехать в полигон БК
    - do: Успешно оформить заказ (оплата работает не для всех позиций)
    - assert: Заказ успешно оформился
    - do: Закрыть WebView со статусом заказа
    - do: Перелогиниться на другого пользователя
    - do: Въехать в полигон БК
    - do: Тап по кнопке "Заказать в машину"
    - assert: Окрылось вебвью на окне со статусом текущего заказа

    - platforms:
        - ios
        - android


  Саджест текущего заказа:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Данные тестовой карты:
               pan: 4276 0100 1329 6064
               exp date: 12/24
               cvv2: 555
    - do: Въехать в полигон БК
    - do: Успешно оформить заказ (оплата работает не для всех позиций). Запомнить номер машины и наполнение заказа
    - assert: Заказ успешно оформился
    - do: Закрыть WebView со статусом заказа
    - assert: В саджестах появился новый саджест БК с актуальным статусом заказа
    - do: Тап по саджесту
    - assert: |
        - Окрылось WebView со статусом текущего заказа
        - Номер машины и наполнение заказа соответствуют

    - platforms:
        - ios
        - android


  Саджест текущего заказа. Лендскейп:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Есть успешно оформленный заказ в статусе "Готовится"
    - do: Тап по саджесту статуса заказа
    - assert: Окрылось WebView со статусом текущего заказа
    - do: Сменить ориентацию на лендскейп
    - assert: WebView со статусом текущего заказа осталось открытым
    - do: Закрыть WebView со статусом заказа
    - assert: Саджест статуса заказа сохранился

    - platforms:
        - ios
        - android


  Саджест текущего заказа. Холодный старт:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Есть успешно оформленный заказ в статусе "Готовится"
    - do: Тап по саджесту статуса заказа
    - assert: Окрылось WebView со статусом текущего заказа
    - do: Закрыть WebView со статусом заказа. Перезапустить приложение
    - assert: Саджест статуса заказа сохранился
    - do: Тап по саджесту статуса заказа
    - assert: Окрылось WebView со статусом текущего заказа

    - platforms:
        - ios
        - android


  Саджест текущего заказа. Оффлайн:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Есть успешно оформленный заказ в статусе "Готовится"
    - do: Отключить на устройстве интернет или включить авиарежим
    - do: Тап по саджесту статуса заказа
    - assert: Окрылось WebView с активным прелоадером
    - do: Включить на устройстве интернет
    - assert: Страница подгрузилась. Статус заказа не изменился

    - platforms:
        - ios
        - android


  Саджест текущего заказа. Построение маршрута:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Есть успешно оформленный заказ в статусе "Готовится"
    - do: Построить маршрут и запустить ведение
    - assert: Саджест статуса заказа сохраняется
    - do: Тап по саджесту статуса заказа
    - assert: Окрылось WebView со статусом текущего заказа

    - platforms:
        - ios
        - android


  Саджест текущего заказа.  Изменение статуса:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Есть успешно оформленный заказ в статусе "Готовится"
    - do: Тап по саджесту статуса заказа
    - assert: Окрылось WebView со статусом текущего заказа
    - do: Подождать изменение статуса заказа на "Приготовлено" (10 мин после создания заказа)
    - assert: В WebView присутствует кнопка "Мне принесли заказ"
    - do: Тап на кнопку Мне принесли заказ
    - assert: Открылось вебвью оценки доставки заказа со статусом "Заказ доставлен"
    - do:  Тап на крестик в WebView со статусом текущего заказа
    - assert: |
        - WebView закрылось
        - Саджест статуса заказа отсутствует

    - platforms:
        - ios
        - android


  Логирование кнопки "Заказать доставку" в карточках БК:
    - info: |
       - Dev.Settings -> TakeAway -> Button inside geo cards -> On
       - Dev.Settings -> TakeAway -> Custom geo card button url вписать любой url, например: https://yandex.ru
       - Бургер Кинг с кнопкой расположен по адресу г.Москва ул.Большая Серпуховская 6/5
    - do: |
       - Открыть карточку БК
       - Тап на "Заказать в машину"
    - assert: В консоль приходят событие `place.cta-button` с параметром `action_type=curbside_pickup`

    - platforms:
      - ios
      - android
    - tags:
        - metric


  Логирование автооткрытие карточек Бургер Кинга:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
    - do: Въехать в полигон БК (например по маршруту `yandexnavi://build_route_on_map?lat_from=54.708977&lon_from=20.502897&lat_to=54.708236&lon_to=20.502738`)
    - assert: Открывается карточка БК. В логи приходит событие `curbside-pickup.card.show` с параметрами
        - `id`=айди организации
        - `provider`=burger_king
        - `url`=url вебвью
    - do: Тап на карточку БК
    - assert: Открывается WebView. В логи приходит событие `curbside-pickup.card.click` с параметрами
        - `id`=айди организации
        - `provider`=burger_king
        - `url`=url вебвью
    - do: Повторить шаги 1 и 2 в лендскейп
        - Логи аналогичны

    - platforms:
        - ios
        - android
    - tags:
        - metric


  Логирование оплаты заказа Бургер Кинга:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        Для оплаты используем тестовую карту:
        pan: 4276 0100 1329 6064
        exp date: 12/24
        cvv2: 555
    - do: Оформить заказ. Тап по кнопке "К оплате <Сумма>"
    - assert: |
        - Открывается страница оплаты
        - В логи приходит событие `application.open-by-urlscheme` с параметром `full_path`=`takeaway/payment_start`
    - do: При оплате ввести неправильный cvv2 банковской карты (например 554)
    - assert: Заказ не оформлен. В консоль приходит событие `application.open-by-urlscheme` с параметром `takeaway/payment_failure`
    - do: Оформить новый заказ введя правильные данные тестовой карты
    - assert: Заказ оформлен. В консоль приходит событие `application.open-by-urlscheme` с параметром `takeaway/payment_success`

    - platforms:
        - ios
        - android
    - tags:
        - metric


  Логирование саджестов статуса заказа Бургер Кинга:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 0
        - Перезапустить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Телефон поключен ко внутренней сети через Charles или PDAS
        Для оплаты используем тестовую карту:
        pan: 4276 0100 1329 6064
        exp date: 12/24
        cvv2: 555
    - do: Въехать в полигон БК (например по маршруту `yandexnavi://build_route_on_map?lat_from=54.708977&lon_from=20.502897&lat_to=54.708236&lon_to=20.502738`)
    - do: Оформить заказ
    - assert:  В логи приходят события
        - `suggestions.invisible` (один раз после оформления заказа),
        - `suggestions.visible` и `suggestions.unavailable` (могут повторяться несколько раз, но именно в такой последовательности)
        с параметрами
        - `id`=айди организации
        - `provider`=burger_king
        - `url`=url вебвью
    - do: Тап на саджест статуса заказа
    - assert: В логи приходит событие `suggestions.takeaway_order_status_tap` с параметрами
        - `id`=айди организации
        - `provider`=burger_king
        - `url`=url вебвью

    - platforms:
        - ios
        - android
    - tags:
        - metric


  Отрисовка полигона БК при появлении карточки БК (пользователь не авторизован):
    - info: |
        - Dev.settings -> Take away -> Testing environment -> On
        - Dev.settings -> Take away -> Feature -> On
        - Dev.settings -> Take away -> Custom card cooldown -> 5
        - Dev.settings -> Misc -> Fast day & night switching -> on
        - Перезапустить навигатор
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Пользователь не авторизован
    - do: |
        - Построить маршрут через полигон в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16) (пример маршрута `yandexnavi://build_route_on_map?lat_from=54.708977&lon_from=20.502897&lat_to=54.708236&lon_to=20.502738`)
        - Запустить симуляцию ведения
    - assert: |
        - При въезде в полигон появляется карточка БК
        - Начинает отображаться сам полигон
        - В центре полигона отобразилась иконка БК
        - При смене день/ночь полигон отрисовывается без задержек
        - Цвет полигона не меняется
    - do: Закрыть карточку БК
    - assert: Карточка БК и полигон скрываются

    - platforms:
        - ios
        - android


  Отрисовка полигона БК при появлении карточки БК (пользователь авторизован):
    - info: |
        - Dev.settings -> Take away -> Testing environment -> On
        - Dev.settings -> Take away -> Feature -> On
        - Dev.settings -> Take away -> Custom card cooldown -> 5
        - Dev.settings -> Misc -> Fast day & night switching -> on
        - Перезапустить навигатор
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Пользователь авторизован
    - do: |
        - Построить маршрут через полигон в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16) (пример маршрута `yandexnavi://build_route_on_map?lat_from=54.708977&lon_from=20.502897&lat_to=54.708236&lon_to=20.502738`)
        - Запустить симуляцию ведения
    - assert: |
        - При въезде в полигон появляется карточка БК
        - Начинает отображаться сам полигон
        - В центре полигона отобразилась иконка БК
        - При смене день/ночь полигон отрисовывается без задержек
        - Цвет полигона не меняется
    - do: Закрыть карточку БК
    - assert: Карточка БК и полигон скрываются

    - platforms:
        - ios
        - android


  Отрисовка полигона БК при активном статусе заказа:
    - info: |
        - Dev.settings -> Take away -> Testing environment -> On
        - Dev.settings -> Take away -> Feature -> On
        - Dev.settings -> Take away -> Custom card cooldown -> 5
        - Dev.settings -> Misc -> Fast day & night switching -> on
        - Перезапустить навигатор
        - Пользователь не авторизован
        - Пользователь подключен во внутренней сети с помощью Charles
    - do: |
        - Построить маршрут через полигон в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16) (пример маршрута `yandexnavi://build_route_on_map?lat_from=54.708977&lon_from=20.502897&lat_to=54.708236&lon_to=20.502738`)
        - Запустить симуляцию ведения
    - assert: |
        - При въезде в полигон появляется карточка БК
        - Начинает отображаться сам полигон
        - В центре полигона отобразилась иконка БК
    - do: |
        - Тап "Заказать в машину"
        - Оформить заказ
    - assert: |
        - Карточка БК скрывается
        - Полигон не скрывается
        - Появляется саджест БК
    - do: Свернуть и развернуть приложение
    - assert: |
        - Полигон отображается
        - Тап на саджест
        - Открывается информация о готовности заказа
    - do: Дождаться окончания готовки заказа
    - assert: Саджест и полигон скрываются

    - platforms:
        - ios
        - android


  Отрисовка полигона БК при появлении карточки БК и карточки АЗС (пользователь не авторизован):
    - info: |
        - Dev.settings -> Take away -> Testing environment -> Off
        - Dev.settings -> Take away -> Feature -> On
        - Dev.settings -> Take away -> Custom card cooldown -> 15
        - Dev.settings -> Misc -> Fast day & night switching -> on
        - Dev.Settings -> Misc -> Unlimit intents enabled -> On
        - Перезапустить навигатор
        - Пользователь не авторизован
    - do: |
        - Построить маршрут через полигон по адресу: Спб, Александровский парк, 8 (можно построить маршрут по интенту `yandexnavi://build_route_on_map?lat_from=59.952986&lon_from=30.322882&lat_to=59.953410&lon_to=30.322119&lat_via_0=59.953168&lon_via_0=30.322111`)
        - Запустить симуляцию ведения со скоростью меньше 25км/ч
    - assert: |
        - При въезде в полигон БК появляется карточка БК ,
        - Начинает отображаться сам полигон
        - В центре полигона отобразилась иконка БК
        - Появляется карточка АЗС
        - Полигоны АЗС и БК между собой не конфликтуют ,
        - Карточки появляются по очереди и тоже не конфликтуют

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отрисовка полигона БК при появлении карточки БК и карточки АЗС (пользователь авторизован):
    - info: |
        - Dev.settings -> Take away -> Testing environment -> Off
        - Dev.settings -> Take away -> Feature -> On
        - Dev.settings -> Take away -> Custom card cooldown -> 15
        - Dev.settings -> Misc -> Fast day & night switching -> on
        - Dev.Settings -> Misc -> Unlimit intents enabled -> On
        - Перезапустить навигатор
        - Пользователь авторизован
    - do: |
        - Построить маршрут через полигон по адресу: Спб , Александровский парк ,8 (можно построить маршрут по интенту `yandexnavi://build_route_on_map?lat_from=59.952986&lon_from=30.322882&lat_to=59.953410&lon_to=30.322119&lat_via_0=59.953168&lon_via_0=30.322111`)
        - Запустить симуляцию ведения со скоростью меньше 25км/ч
    - assert: |
        - При въезде в полигон БК появляется карточка БК ,
        - Начинает отображаться сам полигон
        - В центре полигона отобразилась иконка БК
        - Появляется карточка АЗС
        - Полигоны АЗС и БК между собой не конфликтуют ,
        - Карточки появляются по очереди и тоже не конфликтуют

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отрисовка полигона БК при появлении карточки БК с вкл полигоном парковки (пользователь не авторизован):
    - info: |
        - Dev.settings -> Take away -> Testing environment -> Off
        - Dev.settings -> Take away -> Feature -> On
        - Dev.settings -> Take away -> Custom card cooldown -> 15
        - Dev.settings -> Misc -> Fast day & night switching -> on
        - Dev.ssettings -> Parking - Autoparking route enabled -> On
        - Dev.settings ->Parking - Debug parking polygons on map -> On
        - Dev.Settings -> Misc -> Unlimit intents enabled -> On
        - Перезапустить навигатор
        - Пользователь не авторизован
    - do: |
        - Построить маршрут через полигон по адресу: Москва, ул. Серпуховская Б. , 6/5 (можно построить маршрут по интенту `yandexnavi://build_route_on_map?lat_from=55.727784&lon_from=37.624626&lat_to=55.72818&lon_to=37.623358`)
        - Запустить симуляцию ведения со скоростью меньше 25км/ч
    - assert: |
        - При въезде в полигон БК появляется карточка БК
        - Начинает отображаться сам полигон
        - В центре полигона отобразилась иконка БК
        - Полигоны парковочный и БК между собой не конфликтуют
        - Карточка БК появляется без задержек

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отрисовка полигона БК при появлении карточки БК с вкл полигоном парковки (пользователь авторизован):
    - info: |
        - Dev.settings -> Take away -> Testing environment -> Off
        - Dev.settings -> Take away -> Feature -> On
        - Dev.settings -> Take away -> Custom card cooldown -> 15
        - Dev.settings -> Misc -> Fast day & night switching -> on
        - Dev.ssettings -> Parking - Autoparking route enabled -> On
        - Dev.settings ->Parking - Debug parking polygons on map -> On
        - Dev.Settings -> Misc -> Unlimit intents enabled -> On
        - Перезапустить навигатор
        - Пользователь авторизован
    - do: |
        - Построить маршрут через полигон по адресу: Москва ,ул. Серпуховская Б., 6/5 (можно построить маршрут по интенту `yandexnavi://build_route_on_map?lat_from=55.727784&lon_from=37.624626&lat_to=55.72818&lon_to=37.623358`)
        - Запустить симуляцию ведения со скоростью меньше 25км/ч
    - assert: |
        - При въезде в полигон БК появляется карточка БК
        - Начинает отображаться сам полигон
        - В центре полигона отобразилась иконка БК
        - Полигоны парковочный и БК между собой не конфликтуют
        - Карточка БК появляется без задержек

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Баннер БургенКинг логика показа полигона:
    - info: |
        - Dev.Settings -> TakeAway -> Testing environment -> Off
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom card cooldown -> 15
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Dev.Settings -> Misc -> Unlimit intents enabled -> On
        - Перезапустить приложение
    - do: |
        - Построить маршрут через полигон по адресу: Москва ,ул. Серпуховская Б., 6/5 (можно построить маршрут по интенту `yandexnavi://build_route_on_map?lat_from=55.727784&lon_from=37.624626&lat_to=55.72818&lon_to=37.623358`)
        - Запустить симуляцию ведения со скоростью меньше 25км/ч
    - assert: |
        - При въезде в полигон отобразился баннер БК
        - Отобразился сам полигон
        - В центре полигона отобразилась иконка БК
    - do: Выехать из полигона, не закрывая баннер БК
    - assert: |
        - При выезде из полигона - баннер закрылся автоматически
        - При выезде из полигона - полигон закрылся автоматически
        - При выезде из полигона - иконка скрылась автоматически

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Запрос конфига только при включенной фиче:
    - info: |
        - Начисто установленное приложение
        - Dev.settings -> Take away -> Testing environment -> On
        - Dev.settings -> Take away -> Feature -> Off
        - Dev.settings -> Take away -> Custom card cooldown -> 0
        - Dev.settings -> Misc -> Fast day & night switching -> on
        - Выгрузить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Устройство подключено ко внутренней сети с помощью Charles
    - do: Запустить приложение
    - assert: в Charles нет запроса https://mobmaps-proxy-api-ext.c.maps.yandex.net/v1/curbside_pickup/get_restaurants
    - do: |
        - Построить маршрут через полигон
        - Запустить симуляцию ведения на скорости <30 км/ч
    - assert: При въезде в полигон не появляется карточка БК
    - do: Перезапустить приложение
    - assert: в Charles нет запроса https://mobmaps-proxy-api-ext.c.maps.yandex.net/v1/curbside_pickup/get_restaurants
    - do: |
        - Построить маршрут через полигон
        - Запустить симуляцию ведения на скорости <30 км/ч
    - assert: При въезде в полигон не появляется карточка БК
    - do: |
        - Dev.settings -> Take away -> Feature -> On
        - Перезапустить приложение
    - assert: в Charles есть запрос https://mobmaps-proxy-api-ext.c.maps.yandex.net/v1/curbside_pickup/get_restaurants
    - do: |
        - Построить маршрут через полигон
        - Запустить симуляцию ведения на скорости <30 км/ч
    - assert: При въезде в полигон появляется карточка БК

    - platforms:
        - ios
        - android


  Кеширование конфига:
    - info: |
        - Начисто установленное приложение
        - Dev.settings -> Take away -> Testing environment -> On
        - Dev.settings -> Take away -> Feature -> On
        - Dev.settings -> Take away -> Custom card cooldown -> 0
        - Dev.settings -> Take away -> Custom cache ttl -> 60 (сек, можно установить больше, если не успеваете)
        - Dev.settings -> Misc -> Fast day & night switching -> on
        - Выгрузить приложение
        - Полигон Бургер Кинга расположен в [Калининграде](https://yandex.ru/maps/22/kaliningrad/?ll=20.504061%2C54.708478&mode=search&rl=20.502049%2C54.710050~-0.000458%2C-0.003460~0.003981%2C-0.000036~-0.003380%2C0.003381&sll=20.502058%2C54.710068&text=54.710068%2C20.502058&z=16)
        - Устройство подключено ко внутренней сети с помощью Charles
    - do: Запустить приложение и отметить время запуска
    - assert: в Charles есть запрос https://mobmaps-proxy-api-ext.c.maps.yandex.net/v1/curbside_pickup/get_restaurants
    - do: |
        - Построить маршрут через полигон
        - Запустить симуляцию ведения на скорости <30 км/ч
    - assert: При въезде в полигон появляется карточка БК
    - do: Перезапустить приложение до истечения TTL 
    - assert: в Charles нет запроса https://mobmaps-proxy-api-ext.c.maps.yandex.net/v1/curbside_pickup/get_restaurants
    - do: |
        - Построить маршрут через полигон
        - Запустить симуляцию ведения на скорости <30 км/ч
    - assert: При въезде в полигон появляется карточка БК
    - do: |
        - Dev.settings -> Take away -> Feature -> On
        - Перезапустить приложение после истечения TTL
    - assert: в Charles есть запрос https://mobmaps-proxy-api-ext.c.maps.yandex.net/v1/curbside_pickup/get_restaurants
    - do: |
        - Построить маршрут через полигон
        - Запустить симуляцию ведения на скорости <30 км/ч
    - assert: При въезде в полигон появляется карточка БК

    - platforms:
        - ios
        - android


  Поп-ап "Вы слишком далеко от ресторана" в карточке организации:
    - info: |
        - Dev.Settings -> TakeAway -> Button inside geo cards -> On
        - Dev.Settings -> TakeAway -> Testing environment -> On
        - Dev.Settings -> TakeAway -> Feature -> On
        - Dev.Settings -> TakeAway -> Custom geo card button url вписать `https://l7test.yandex.ru/maps/webview?mode=curbside-pickup&provider=burgerking&restaurant_id=3`
        - Dev.Settings -> Misc -> Fast day & night switching -> On
        - Телефон поключен ко внутренней сети через Charles или PDAS
        - Бургер Кинг с кнопкой расположен по адресу г.Москва ул.Большая Серпуховская 6/5
        - ММП далеко от Бургер Кинга
    - do: |
        - Открыть карточку БК
        - Тап на "Заказать в машину"
    - assert: |
        - Открывается вебвью заказа
        - Над кнопкой "Корзина" отображается надпись "Заказывайте когда будете рядом, еда может остыть"

    - platforms:
        - ios
        - android