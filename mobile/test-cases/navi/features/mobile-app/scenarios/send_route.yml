components: send_route
testing:
  - regress

specs:
  Селектор выбора построения маршрута от машины и текущей позиции:
    - description: |
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
        **Селектор выбора** - это кнопка переключения в левом верхнем углу при активной брони автомобиля / наличии личного автомобиля с яндекс.авто
    - info: |
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронирован автомобиль с "Бортовым компьютером"
        - На карте навигатора отображается пин Авто или Драйва
    - do: |
        - Открыть навигатор
        - Построить маршрут
    - assert: |
        - Отображается пин драйва на карте
        - Маршрут построен от драйва
        - Отображается кнопка с иконкой драйва (окрашенная) 
        - Вместо кнопки "поехали" отображается кнопка "отправить"
    - do: Тап по кнопке драйва (в левом верхнем углу)
    - assert: |
        - У кнопки отображается текст "Маршрут от меня"
        - Кнопка теряет окраску и становится черно-белой
        - Маршрут построен от текущей позиции пользователя 
        - Отображается кнопка "поехали"
    - do: Тап по кнопке драйва (в левом верхнем углу)
    - assert: |
        - У кнопки отображается текст "Маршрут от автомобиля"
        - Кнопка окрашивается в цвета драйва
        - Маршрут построен от пина драйва
        - Вместо кнопки "поехали" отображается кнопка "отправить"
    - do: |
        - Отдалить карту, так что бы курсор и пин драйва наслаивались друг на друга
    - assert: Пин драйва отображается поверху курсора
    - do: |
        - Тап по кнопке драйва (в левом верхнем углу)
        - Отдалить карту, так что бы курсор и пин драйва наслаивались друг на друга
    - assert: Курсор отображается поверх пина драйва

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Уведомление об отправленном маршруте (Драйв):
    - description: |
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
        Построение маршрута(от какой точки) зависит от значка в верхнем левом углу(я.авто или драйва).
    - info: |
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронирован автомобиль с "Бортовым компьютером"
        - На карте навигатора отображается пин Авто или Драйва
    - do: |
        - Забронировать автомобиль в драйве
        - Построить маршрут в навигаторе
        - Тап по кнопке "Отправить"
    - assert: |
        - Отображается поп-ап "Маршрут откроется на бортовом компьютере в автомобиле", кнопки "Отмена" и "Отлично", и иконка "Драйва"
        - С устройства пропадает пин "финиша"
    - do: Тап по кнопке "Отлично"
    - assert: Поп-ап скрывается
    - do: |
        Повторить отправку маршрута в альбомной ориентации:
          - Построить маршрут в навигаторе
          - Тап по кнопке "отправить"
    - assert: Поп-ап не растягивается и сохраняет поведение портретного режима

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Передача маршрута в ГУ автомобиля:
    - info: |
        Можно использовать либо Головное Устройство (колхоз), либо второе устройство с ложным поведением, что телефон стал ГУ (в инструкции есть шаги, как сделать такое)
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
    - do: |
        - Авторизоваться в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронировать автомобиль с "Бортовым компьютером"
        - На карте навигатора отображается пин Авто или Драйва
    - do: Построить маршрут в Навигаторе в любую точку
    - assert: |
        - Маршрут построен
        - В верхней части экрана отображается кнопка с иконкой Я.Авто или Драйва
    - do: Тап на кнопку Авто, чтобы был выбран вариант "Маршрут от автомобиля"
    - assert: |
        - Кнопка становится цветной
        - Маршрут перестраивается от пина Драйва/Я.Авто на Карте
    - do: Тап на кнопку "Отправить" в карточке обзора маршрута
    - assert: |
        - Маршрут исчезает с Карты
        - В Навигаторе отображается поп-ап с кнопками "Отмена" и "Отлично"
        - Через несколько секунд на ГУ происходит построение маршрута
        - Маршрут на ГУ совпадает с построенным маршрутом на Навигаторе
    - do: Тап в Навигаторе на кнопку "Отлично"
    - assert: Поп-ап исчезает.

    - platforms:
      - carsharing_t3
      - ios
      - android
      - t3am
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit
    - tags:
      - assessors
      - mapkit_ready


  Отображение и поведение пина Я.Драйв:
    - description: |
        **Цель:** Проверить отображения пина Авто на карте и его реакцию на действия пользователя
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута" 
    - info: |
        Если используется метод "на столе":
        - Открыть меню навигатора
        - Открыть Настройки
        - Открыть Developer settings
        - Открыть Ya.Auto
        - Включить Drive testing environment 
        - Перезагрузить приложение
        Теперь навигатор смотрит на тестовую среду, что и тестовая версия Драйва
        ---
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронирован автомобиль с “Бортовым компьютером”
        - Выполнена авторизация одним аккаунтом в Драйве и Навигаторе
        - На карте отображается пин Драйва
    - do: |
        Найти на карте пин Я.Драйва, который был забронирован
        Тап по пину драйва
    - assert: |
        Появляется карточка авто с:
        - названием автомобиля
        - номерными знаками
        - объемом топлива
        - кнопками "до машины" и "от машины"
    - do: Тап по кнопке "до машины"
    - assert: Строится маршрут от текущей позиции до машины
    - do: |
        - Тапнуьт по пину Драйва вновь
        - Тап по кнопке "от машины"
    - assert: Вверху отображается текст "Укажите пункт назначения" и кнопка "отмена"
    - do: Выбрать конечную точку маршрута любым способом
    - assert: Маршрут построился от местоположения пина Я.Драйва
    - do: |
        Сбросить маршрут
        Тап по пину драйва
        Закрыть поп-ап о драйве тапнув по крестику в карточке
    - assert: |
        - Карточка закрывается
        - Отображается стандартный интерфейс навигатора 

    - platforms:
      - ios
      - android
    - testing:
      - acceptance_navi
    - tags:
      - not_suitable_for_farm
      - assessors


  Отправка маршрута при отсутствии интернета:
    - description: |
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
        Построение маршрута(от какой точки) зависит от значка в верхнем левом углу(я.авто или драйва).
    - info: |
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронирован автомобиль с "Бортовым компьютером"
        - На карте навигатора отображается пин Авто или Драйва
    - do: |
        - Забронировать драйв / Или иметь Я.Авто на карте
        - Построить маршрут в навигаторе
        - Отключить интернет-сеодинение на устройстве с навигатором
        - Тап по кнопке "отправить"
    - assert: Отображается уведомление об отправки маршрута
    - do: Включить интернет-сеодинение на устройства с навигатором
    - assert: Маршрут отправляется и будет передан на ГУ

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Отображение саджеста маршрута в навигаторе ГУ:
    - description: |
        Можно использовать либо ГУ (колхоз), либо второе устройство с ложным поведением, что телефон стал ГУ (в инструкции есть шаги, как сделать такое)
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
    - info: |
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронирован автомобиль с "Бортовым компьютером"
        - На карте навигатора отображается пин Авто или Драйва
    - do: |
        Построить на девайсе маршрут в любую точку
        Тап на "Поехали"
    - assert: На экране ГУ отображается саджест построенного маршрута
    - do: Тап по саджесту на экране ГУ
    - assert: На ГУ строится маршрут

    - platforms:
      - carsharing_t3
      - t3am


  Приоритет маршрута пользователя:
    - description: |
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
        Смысл кейса в том, что больший приоритет имеет тот маршрут, что был построен "позднее"
        Построение маршрута(от какой точки) зависит от значка в верхнем левом углу(я.авто или драйва).
    - info: |
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронирован автомобиль с "Бортовым компьютером"
        - На карте навигатора отображается пин Авто или Драйва
        - Скачать оффлайн кеш города в котором определяется геолокация (для удобства)
    - do: |
        - Забронировать драйв / Или иметь Я.Авто на карте
        - В навигаторе проложить маршрут 
        - Отключить интернет-соединение на телефоне
        - Отправить маршрут
        - На ГУ построить маршрут вручную
        - Включить интернет-соединение на телефоне
    - assert: |
        - На ГУ отображается маршрут построенный пользователем вручную
        - Маршрут отправленный из навигатора (с телефона) не перебивает маршрут построенный вручную в ГУ
    - do: Отменить текущий маршрут на ГУ
    - assert: |
        - На гу маршрут отменен
        - Никакой другой маршрут не построен
    - do: |
        - Отключить интернет-соединение в ГУ
        - В оффлайне ГУ построить маршрут + поехали
        - Построить и отправить маршрут из навигатора (с телефона)
        - Включить интернет-соединение в ГУ
    - assert: |
        - Отображен маршрут отправленный на ГУ с телефона
        - Маршрут построенный в ГУ в оффлайне был заменен 

    - platforms:
      - carsharing_t3
      - ios
      - android
      - t3am
    - tags:
        - assessors


  Поведение навигатора с тарифом "фикс":
    - description: |
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
    - info: |
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронирован автомобиль с "Бортовым компьютером"
        - На карте навигатора отображается пин Авто или Драйва
        - Необходимо включить в developer settings - 'ya.auto data synchronization' и 'build route from car (if exist)'
    - do: |
        - Забронировать драйв тарифом "фикс"
        - Запомнить адрес выбранный для тарифа "фикс"
        - Подтвердить бронирование драйва
    - assert: |
        - В навигаторе отображается саджест маршрута, указанного в тарифе "фикс"
        - Саджест сине-черно-белой расцветки 
    - do: Тап по саджесту
    - assert: |
        - Строится маршрут до выбранного адреса
        - Вокруг конечной точки отображается парковочная  зона, в которой можно оставить автомобиль
        - Зона зеленого цвета

    - platforms:
      - carsharing_t3
      - ios
      - android
    - tags:
        - assessors


  Настройки. Показывать маршрут от автомобиля:
    - description: |
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
    - info: |
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронирован автомобиль с "Бортовым компьютером"
        - На карте навигатора отображается пин Авто или Драйва
    - do: Открыть "Настройки"
    - assert: |
        Присутствует раздел "Яндекс.Авто" с переключателями:
        - Синхронизировать данные - **ВКЛ**
        - Показывать маршрут от автомобиля - **ВКЛ**
    - do: Отключить настройку "Показывать маршрут от автомобиля"
    - assert: |
        "Показывать маршрут от автомобиля" стало **ВЫКЛ**
    - do: |
        - Забронировать драйв / Или иметь Я.Авто на карте
        - Построить маршрут
    - assert: |
        - Отображается пин драйва / Я.авто
        - Маршрут строится сперва от местоположения пользователя
    - do: |
        - Включить настройку "Показывать маршрут от автомобиля"
        - Забронировать драйв (если предыдущая бронь завершена) / Или иметь Я.Авто на карте
        - Построить маршрут
    - assert: |
        - Показывать маршрут от автомобиля - **ВКЛ**
        - Отображается пин драйва / Я.авто
        - Маршрут сперва строится от драйва

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Статусы для отправки маршрута:
    - description: |
        **Цель:** Проверка кнопки переключения отправки маршрута на ГУ на экране обзора
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
    - info: |
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронирован автомобиль с "Бортовым компьютером"
        - На карте навигатора отображается пин Авто или Драйва
    - do: |
        - Забронировать драйв
        - Построить маршрут в навигаторе
    - assert: |
        - Присутствует кнопка "отправить маршрут" и пин драйва
    - do: |
        - Завершить аренду драйва
        - Построить новый маршрут в навигаторе (для достоверности подождать 15 секунд после смены статуса в драйве)
    - assert: |
        - Пин драйва исчез с карты навигатора
        - Нет возможности отправить построенный маршрут 

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Отправка данных в навигатор:
    - description: |
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
        Кейс необходимл проходить в любом случае:
        - Когда прошивка для каршеринга
        - Когда прошивка не каршеринговая
    - info: |
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронирован автомобиль с "Бортовым компьютером"
        - На карте навигатора отображается пин Авто или Драйва
        На телефон установить любую навигатор из apple / goole store
    - do: |
        - Авторизоваться в навигаторе на ГУ
        - Спустя от 1 до 10 минут открыть приложение "навигатор" на телефоне с тем же аккаунтом
    - assert: |
        - **Если прошивка для каршеринга, то:** на карте устройства не появляется пина Я.Авто
        - **Если прошивка не для каршеринга, то:** на карте отображается пин Я.Авто, в том месте, где находится в данный момент ГУ

    - platforms:
      - carsharing_t3
      - t3am
    - testing:
      - acceptance_navi


  Работа нескольких пинов для проброса маршрута:
    - description: |
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
        Приоритет по постройке маршрута:
        - Выбранный пин кнопкой "От машины"; 
        - Драйв; 
        - Ближайшее Я.авто; 
        - Более дальнее Я.авто
        ---
        Для выполнения этого теста используем инструкцию про эмулятор через android studio, и на нем делаем настройку pretend ya.auto. Теперь этот девайс будет считать "я.авто" пином на карте
        Создать пин драйва на карте можно используя тестовую версию драйва
        Построение маршрута(от какой точки) зависит от значка в верхнем левом углу(я.авто или драйва).
    - info: |
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронирован автомобиль с "Бортовым компьютером"
        - На карте навигатора отображается пин Авто или Драйва
    - do: |
        - Сделать два пина я.авто на карте
        - На том же аккаунте забронировать драйв
        - Посмотреть на карту
    - assert: |
        - На карте отображается два пина Я.авто и один Драйва
        - Пины различаются по иконке и раскрасу
    - do: |
        - Убедится, что в "Настройки -> Яндекс.Авто" включен "показывать маршрут от автомобиля"
        - Построить маршрут
    - assert: Маршрут строится от пина Драйва
    - do: |
        - Тап по одному из пинов Я.авто
        - Выбрать "от машины"
        - Указать финальную точку маршрута
    - assert: Маршрут построен от выбранного пина Я.авто
    - do: |
        - Тап по одному из пинов Я.авто 
        - Выбрать “от машины”
        - Тап "отмена"
        - Построить маршрут до любой точки
    - assert: Маршрут строится от выбранного пина Я.авто
    - do: |
        - Построить маршрут в любую точку
    - assert: Маршрут построен от пина Драйва
    - do: |
        - Отменить бронь Драйва
        - Построить маршрут
    - assert: Маршрут построен от ближайшего пина Я.авто

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Сброс авто в настройках:
    - description: |
        **Цель:** Проверить работу настройки "Сбросить данные" в разделе "Яндекс.Авто"
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута" 
    - info: |
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронирован автомобиль с "Бортовым компьютером"
        - На карте навигатора отображается пин Авто или Драйва
    - do: |
        Открыть "Настройки -> Яндекс.Авто"
        Тап по кнопке "Сбросить данные"
    - assert: Отображается поп-ап "Вы действительно хотите сбросить данные?" и кнопки "Нет" / "Да"
    - do: |
        - Тап "Нет"
        - Перейти на экран Карта и проверить наличие пина
    - assert: Пин Я.авто остались на карте
    - do: |
        - Повторить шаг 1
        - Тап на кнопку "Да"
        - Перейти на экран Карта и проверить наличие пина
    - assert: Пин Я.авто удален

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Отмена отправки маршрута:
    - description: |
        **Цель:** Проверить отмену передачи построенного маршрута на ГУ автомобиля. В случае, если пользователь отменяет проброс маршрута, маршрут строится на мобильном девайсе от местоположения пользователя.
        Пользователи часто жаловались на то, что нельзя отменить отправку в гу, в тот момент, когда гу сломано / нет интернета / прочего
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута" 
    - info: |
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        - Забронирован автомобиль с "Бортовым компьютером"
        - На карте навигатора отображается пин Авто или Драйва
    - do: Построить маршрут в Навигаторе в любую точку
    - assert: |
        - Маршрут построен
        - В верхней части экрана отображается кнопка с иконкой Я.Авто или Драйва
    - do: Тап на кнопку Авто, чтобы был выбран вариант "Маршрут от автомобиля"
    - assert: |
        - Кнопка становится цветной
        - Маршрут перестраивается от пина Драйва/Я.Авто на Карте
    - do: |
        Тап на кнопку "Отправить"
        В появившемся окне тап по кнопке "Отмена"
    - assert: |
        - Поп-ап скрывается
        - Происходит переход в режим ведения по маршруту от текущей позиции пользователя
        - При этом на ГУ маршрут также пробрасывается
    - do: |
        - Сбросить маршрут на девайсе и в ГУ
        - Построить маршрут в Навигаторе в любую точку
    - assert: |
        - Маршрут построен от местоположения пользователя
        - Селектор маршрута выбран как "Маршрут от меня"

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Отображение и поведение пина Я.Авто:
    - description: |
        **Цель:** Проверить отображения пина Авто на карте и его реакцию на действия пользователя
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
    - info: |
        - Выполнена авторизация одним аккаунтом на ГУ Авто и в Навигаторе
        - На карте отображается пин Я.Авто
    - do: |
        Найти на карте пин Я.Авто
        Тап по нему
    - assert: |
        Появляется карточка авто с:
        - названием автомобиля
        - номерным знаком
        - кнопками "до машины" и "от машины"
    - do: Тап по кнопке "до машины"
    - assert: Строится маршрут от текущей позиции до машины
    - do: |
        - Тап по пину Я.Аво
        - Тап по кнопке "от машины"
    - assert: Вверху отображается текст "Укажите пункт назначения" и кнопка "отмена"
    - do: Выбрать конечную точку маршрута любым способом
    - assert: Маршрут построился от местоположения пина Я.Авто
    - do: |
        Тап по пину Я.Авто на карте
        Закрыть карточку тапом по крестику
    - assert: |
        - Карточка закрывается
        - Отображается стандартный интерфейс навигатора 

    - platforms:
      - ios
      - android
    - tags:
      - not_suitable_for_farm
      - assessors


  Уведомление об отправленном маршруте (Я.Авто):
    - description: |
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
    - info: |
        Для удобства используем 2 устройства:
        С **1** отправляем маршрут
        **2** делаем так, что бы считался "я.авто", открыть "Настройки" -> "Developer settings" -> "Ya.Auto" -> "Pretend Ya.Auto (data sync test)" - сделать включенным -> перезапустить навигатор на втором устройстве. Теперь он считается как "ГУ"
    - do: |
        - Построить маршрут от Я.Авто
        - Отправить маршрут
    - assert: |
        - Отображается поп-ап “Маршрут откроется на бортовом компьютере в автомобиле”, кнопки "Отмена" и "Отлично", и иконка “Я.Авто”
        - С устройства пропадает пин “финиша”
    - do: Тап по кнопке "Отлично"
    - assert: Поп-ап скрывается

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Селектор выбора построения маршрута от машины и текущей позиции (Я.Авто):
    - description: |
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"

        **Селектор выбора** - это кнопка переключения в левом верхнем углу при активной брони автомобиля / наличии личного автомобиля с яндекс.авто
    - info: |
        Для удобства используем 2 устройства:
        С **1** отправляем маршрут
        **2** делаем так, что бы считался "я.авто", открыть "Настройки" -> "Developer settings" -> "Ya.Auto" -> "Pretend Ya.Auto (data sync test)" - сделать включенным -> перезапустить навигатор на втором устройстве. Теперь он считается как "ГУ"
    - do: |
        - Открыть навигатор
        - Построить маршрут
    - assert: |
        - Отображается пин Я.Авто на карте
        - Маршрут построен от Я.Авто
        - Отображается кнопка с иконкой драйва (окрашенная) 
        - Вместо кнопки "поехали" отображается кнопка "отправить"
    - do: Тап по кнопке Я.Авто (селектор в левом верхнем углу)
    - assert: |
        - У кнопки отображается текст "Маршрут от меня"
        - Кнопка теряет окраску и становится черно-белой
        - Маршрут построен от текущей позиции пользователя 
        - Отображается кнопка "поехали"
    - do: Тап по кнопке Я.Авто (селектор в левом верхнем углу)
    - assert: |
        - У кнопки отображается текст "Маршрут от автомобиля"
        - Кнопка окрашивается в цвета драйва
        - Маршрут построен от Я.Авто драйва
        - Вместо кнопки "поехали" отображается кнопка "отправить"

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Приоритет пина Драйва/Я.Авто и Курсора:
    - description: |
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
        **Селектор выбора** - это кнопка переключения в левом верхнем углу при активной брони автомобиля / наличии личного автомобиля с яндекс.авто
    - info: |
        Использовать один аккаунт в драйве и навигаторе
        Забронировать автомобиль в драйве 
    - do: |
        - Переключить селектор на "драйв" (построение о автомобиля)
        - Отдалить карту, так что бы курсор и пин драйва наслаивались друг на друга
    - assert: Курсор отображается поверх пина драйва
    - do: |
        - Тап по кнопке драйва (селектор в левом верхнем углу), что бы маршрут строился от текущего положения
        - Отдалить карту, так что бы курсор и пин драйва наслаивались друг на друга
    - assert: Курсор отображается поверх пина драйва

    - platforms:
      - ios
      - android


  Отправка маршрута при брони драйва без ГУ:
    - description: |
        **Цель:** Проверка кнопки переключения отправки маршрута на ГУ на экране обзора
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
    - info: |
        - Выполнена авторизация одним аккаунтом в ГУ + навигатор + драйв
        - Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
    - do: |
        - Забронировать драйв, который без Я.ГУ внутри (без бортового компьютера)
        - Построить новый маршрут в навигаторе (для достоверности подождать 15 секунд после смены статуса в драйве)
    - assert: |
        - Нет возможности отправить построенный маршрут
        - Предлагается построить маршрут на телефоне 

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Получение маршрута на ГУ:
    - description: |
        **Цель:** Проверить получение построенного маршрута на ГУ автомобиля
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
    - info: |
        Авторизоваться на гу тем же аккаунтом, что и в телефоне
    - do: |
        - Выполнить поворот карты на ГУ и изменить зум (отличный от изначального)
    - assert: |
        - На ГУ карта изменила поврот и уровень зума
    - do: |
        - Отправить с телефона маршрут на ГУ
    - assert: |
        - С версии 5.60 происходит отзум и отскролл карты к началу маршрута. НА ГУ звучит аннотация "Маршрут построен"
        - На версиях до 5.60: Отзум отсутствует, на ГУ звучит аннотация "Маршрут построен"
        - Маршрут на ГУ совпадает с построенным маршрутом на Навигаторе

    - platforms:
      - mitsubishi_oem
      - geely
      - vaz
      - carsharing_t3
      - nissan
      - t3am
    - testing:
      - acceptance_navi


  Срок жизни отправленного маршрута:
    - description: |
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
        Смысл кейса в том, что больший приоритет имеет тот маршрут, что был построен "позднее"
    - info: |
        - Использовать один аккаунт в драйве и навигаторе
        - Скачать оффлайн кеш города в котором определяется геолокация (для удобства)
    - do: |
        - Забронировать драйв (если не было брони) / Или иметь Я.Авто на карте
        - Построить маршрут в навигаторе
        - Отключить интернет на ГУ 
        - Отправить маршрут
        - Подождать 1 час
        - Проверить поведение ГУ
    - assert: На гу не строится маршрут, так как время жизни проброса - 60 минут

    - platforms:
      - carsharing_t3
      - ios
      - t3am
      - android


  Настройки. Синхронизировать данные:
    - description: |
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
    - info: Использовать один аккаунт в драйве и навигаторе
    - do: Открыть "Настройки"
    - assert: |
        Присутствует раздел "Яндекс.Авто" с переключателями:
        - Синхронизировать данные - **ВКЛ**
        - Показывать маршрут от автомобиля - **ВКЛ**
    - do: |
        - Отключить настройку "Синхронизировать данные"
        - Забронировать драйв / Или иметь Я.Авто на карте
    - assert: |
        - Настройка "Синхронизировать данные" - **ВЫКЛ**
        - Отсутствует пин драйва / Я.авто
        - Отсутствует переключение на маршрут "от пользователя и от драйва" (левый верхний угол)
    - do: |
        - Включить настройку "Синхронизировать данные"
        - Забронировать драйв
    - assert: |
        - Настройка "Синхронизировать данные" - **ВКЛ**
        - На карте отображается пин драйва

    - platforms:
      - ios
      - android
    - tags:
        - assessors