components: settings
testing:
  - regress

specs:
  Настройка "Язык приложения" (Отмена переключения языка):
    - description: |
        **Цель проверки:** Проверить установку языка выбранного в настройке "Язык приложения", все тексты должны соответствовать выбранному языку.
        Настройку "Язык приложения" в которой мы можем выбрать язык приложения  (en, ru, tr).
    - info: |
        - В системных настройках устройства установлена локаль ru_RU
        - В настройках "Язык приложения" установлено значение "По умолчанию".
    - do: Перейти на экран "Настройки" найти пункт "Язык приложения" и выбрать турецкий язык
    - assert: Покажется поп-ап "Сейчас навигатор перезапустится с выбранным языком" с двумя кнопками "Отмена" и "ОК".
    - do: Тап по кнопке "Отмена".
    - assert: Плашка исчезает, пользователь остается в меню "Язык приложения", язык приложения остался "По умолчанию".

    - platforms:
        - t3am
        - vaz
        - nissan
        - android
    - tags:
        - assessors


  Настройка "Язык приложения" (Переключения языка):
    - description: |
        **Цель проверки:** Проверить установку языка выбранного в настройке "Язык приложения", все тексты должны соответствовать выбранному языку.
        Настройку "Язык приложения" в которой мы можем выбрать язык приложения  (en, ru, tr).
    - info: |
        - В системных настройках устройства установлена локаль ru_RU
        - В настройках "Язык приложения" установлено значение "По умолчанию".
    - do: Перейти на экран "Настройки" найти пункт "Язык приложения" и выбрать турецкий язык
    - assert: Покажется поп-ап "Сейчас навигатор перезапустится с выбранным языком" с двумя кнопками "Отмена" и "ОК".
    - do: Тап по кнопке "Ок".
    - assert: |
        Навигатор перезагружается, устанавливается выбранный язык.
        На Android ниже 7.0 приложение не перезапускается, нужно запускать его вручную

    - platforms:
        - t3am
        - vaz
        - nissan
        - android
    - tags:
        - assessors


  Проверка переключения локализации Английский язык:
    - description: |
        **Цель проверки:** Проверить установку языка выбранного в настройке "Язык приложения", все тексты должны соответствовать выбранному языку.
        Настройку "Язык приложения" в которой мы можем выбрать язык приложения  (en, ru, tr).
    - info: |
        - В системных настройках устройства установлена локаль ru_RU
        - В настройках "Язык приложения" установлено значение "EN".
    - do: Проверить на локализацию все окна навигатора (Поиск / Карта / Мои места / Меню) и навигационное меню.
    - assert: Все пункты переведены на выбранный язык.
    - do: |
        Перейти на главный экран
        Построить маршрут
    - assert: Аннотации должны произносится на языке выбранном в меню "Язык приложения".

    - platforms:
      - t3am
      - vaz
      - nissan
      - android
    - tags:
        - assessors


  Проверка переключения локализации Турецкий язык:
    - description: |
        **Цель проверки:** Проверить установку языка выбранного в настройке "Язык приложения", все тексты должны соответствовать выбранному языку.
        Настройку "Язык приложения" в которой мы можем выбрать язык приложения  (en, ru, tr).
    - info: |
        - В системных настройках устройства установлена локаль ru_RU
        - В настройках "Язык приложения" установлено значение "TR".
    - do: Проверить на локализацию все окна навигатора (Поиск / Карта / Мои места / Меню) и навигационное меню.
    - assert: Все пункты переведены на выбранный язык.
    - do: |
        Перейти на главный экран
        Построить маршрут
    - assert: Аннотации должны произносится на языке выбранном в меню "Язык приложения".

    - platforms:
        - t3am
        - vaz
        - nissan
        - android
    - tags:
        - assessors


  Проверка переключения локализации Русский язык:
    - description: |
        **Цель проверки:** Проверить установку языка выбранного в настройке "Язык приложения", все тексты должны соответствовать выбранному языку.
        Настройку "Язык приложения" в которой мы можем выбрать язык приложения  (en, ru, tr).
    - info: |
        - В системных настройках устройства установлена локаль ru_RU
        - В настройках "Язык приложения" установлено значение "RU".
    - do: Проверить на локализацию все окна навигатора (Поиск / Карта / Мои места / Меню) и навигационное меню.
    - assert: Все пункты переведены на выбранный язык.
    - do: |
        Перейти на главный экран
        Построить маршрут
    - assert: Аннотации должны произносится на языке выбранном в меню "Язык приложения".

    - platforms:
        - t3am
        - vaz
        - nissan
        - android
    - tags:
        - assessors


  Проверка скрытия настройки фонового ведения на гу:
    - description: На ГУ должно быть включено фоновое ведение, но скрыта настройка в меню.
    - do: Перейти в настройки Навигатора - Навигация
    - assert: |
        - На экране "Настройки" нет пунктов "С маршрутом" и "Без маршрута"
    - do: |
        - Построить маршрут
        - Двигаться по маршруту
        - Свернуть Навигтор
    - assert: Происходит предупреждение о маневрах и камерах
    - do: |
        - Открыть Навигатор
        - Сбросить маршрут
        - Продолжать движение
        - Свернуть Навигтор
    - assert: |
        - Происходит предупреждение камерах
        - О маневрах предупреждений не происходит

    - platforms:
      - geely
      - vaz
      - carsharing_t3
      - nissan
      - t3am
    - testing:
      - acceptance_navi


  Проверка отсутствия пункта в меню "Уведомления"("Темы пуш-оповещений") на гу:
    - description: |
        - Не должно быть пункта в меню "Темы пуш-оповещений".
        - Должно быть выключено на всех девайсах без Google services
    - do: Перейти в настройки Навигатора
    - assert: Нет пункта меню "Уведомления" в разделе "Расширенные настройки"

    - platforms:
      - motrex
      - autochip
      - geely
      - vaz
      - carsharing_t3
      - nissan
      - t3am
    - testing:
      - acceptance_navi


  Проверка наличия настройки "Язык в приложении" на ГУ:
    - description: |
        - В каршеринге, и ГУ T3 не актуальна настройка "Язык в приложении" ее решено было убрать.
        - На остальных ГУ и девайсах настройка должна быть
    - do: |
        **ГУ каршеринга** и ГУ т3 (**Nissan, Ваз, Geely**)
        - Перейти в Приложении  Настройки > Карта и интерфейс
    - assert: На экране настроек нет пункта “Язык в приложении”
    - do: |
        **Motrex**
        - Перейти в Приложении  Настройки > Карта и интерфейс
    - assert: |
        - На экране настроек есть пункт “Язык в приложении”
        - Настройка применяется аналогично тому, как это происходит на мобильных девайсах

    - platforms:
      - motrex
      - autochip
      - carsharing_t3
      - t3am
    - testing:
      - acceptance_navi


  Проверка отсутствия пункта настроек "Другие настройки":
    - description: |
        - Убирали для ГУ эту настройку
        - На ГУ больше нет фич, работой которых можно было управлять из других настроек, поэтому и сам пункт убрали совсем из ГУ
    - do: |
        - Открыть меню -> Карта и интерфейс
        - Искать кнопку "другие настройки"
    - assert: Такая кнопка отсутствует

    - platforms:
      - motrex
      - autochip
      - geely
      - vaz
      - carsharing_t3
      - nissan
      - t3am
    - testing:
      - acceptance_navi


  Отключение возможности выключать рекламу в настройках приложения:
    - info: |
        - Установлена сборка 6.00
            android: https://teamcity.yandex-team.ru/viewLog.html?buildId=45899441&buildTypeId=MobileNew_Monorepo_Navi_Android_Mobnavi_ReleaseDebug
            ios: https://teamcity.yandex-team.ru/viewLog.html?buildId=45965150&buildTypeId=MobileNew_Monorepo_Navi_iOS_Mobnavi_ReleaseDebug
        - Пользователь авторизован
        - Меню - Настройки - Карта и интерфейс - Другие настройки - все свитчеры Off
        - Обновиться до тестируемой сборки
    - do: Перейти в Меню -> Карта и интерфейс -> Другие настройки
    - assert: |
        - Пункт меню  "Другие настройки" присутствует
        - Присутствуют свитчеры отключения рекламы (могут сохраниться не все, проверяем сам факт)
        - Все свитчеры в положение Off
    - do: Интентом включить эксперимент `yandexnavi://add_exp?navi_feature_no_ad_settings=enabled`
    - assert: |
        - ios: Пункт меню  "Другие настройки" отсутствует
        - android: Пункт меню  "Другие настройки" присутствует с одной настройкой "Поиск в панели уведомлений"

    - platforms:
      - ios
      - android


  Настройка "Громкость навигатора":
    - description: |
        **Цель проверки:** Увеличение\уменьшение громкости звукового сопровождения навигатора с помощью настройки изменения уровня громкости при прослушивании музыки\аудиокниг.
        **Особенности:**
        Бесшумный режим не влияет на воспроизведение аннотаций навигатора.
    - info: |
        - Настройки "Звуковые предупреждение" (дтп, камеры, работы...) активированы.
        - Выбрана опция "Все звуки Навигатора включены"
    - do: |
        - Запустить проигрывание музыки на девайсе любым способом.
        - Построить маршрут через ДС (камеры, ДТП, дорожные работы и т.п.).
        - Запустить ведение по нему
        - Включить симуляцию движения
    - assert: |
        Проигрывается музыка.
        Происходит ведение по маршруту, озвучиваются аннотации.
    - do: Вызвать Алису и спросить "Что ты умеешь?".
    - assert: Запомнить громкость Алисы.
    - do: Зайти в настройки, уменьшить громкость.
    - assert: Ползунок изменил свое положение.
    - do: Дождаться аннотации.
    - assert: Громкость аннотаций уменьшилась.
    - do: Вызвать Алису.
    - assert: Громкость Алисы уменьшилась.
    - do: Зайти в настройки и уменьшить громкость.
    - assert: Положение ползунка изменилось.
    - do: |
        - Остановить проигрывание музыки.
        - Уменьшить звук до нуля в телефоне. (У Motrex отдельные каналы для медиа, алисы и аннотаций. Соответственно этот шаг предполагает изменение не абстрактной громкости, а конкретно громкости проверяемого канала - аннотации.)
    - assert: Аннотации не проигрываются.
    - do:  Увеличить громкость телефона.
    - assert: Звуковые команды проигрываются.
    - do: Изменить положение ползунка на шкале во время проигрывания голосовой команды навигатора.
    - assert: Громкость голосовой команды изменяется во время ее проигрывания.

    - platforms:
      - motrex
      - geely
      - vaz
      - carsharing_t3
      - ios
      - android
      - t3am
      - autochip
      - first_run_hu
    - tags:
        - assessors
    - testing:
      - acceptance_navi
    - integration_run:
      - annotation


  Переключение светлой и темной темы приложения:
    - description: |
        По умолчанию темы Навигатора регулируются автоматически. В настройках Навигатора можно отключить автоматическую смену тем, выставив светлую или тёмную тему.
        В данном кейсе проверяется применение выставленной темы Навигатора ко всем необходимым элементам интерфейса.
    - info: Включён автоматический режим смены темы Навигатора. Данный режим выставлен по умолчанию. Изменить режим можно перейдя в Меню -> Настройки -> Карта и интерфейс -> Ночной режим -> Авто
    - do: Запустить Навигатор.
    - assert: |
        - Интерфейс Навигатора отображается в светлой теме в светлое время суток, и в тёмной - в тёмное.
        - Кнопки черного цвета в ночной теме и белого - в дневной.
        - Цвет пробок на дорогах в ночной теме бледнее, чем в дневной
    - do: |
        Изменить тему Навигатора на противоположную текущей. (см. info).
    - assert: Элементы интерфейса отображаются соответственно выставленной теме.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Работа с настройками. сохранение после перезапуска:
    - description: Цель проверки - проверить применение некоторых ключевых настроек, проверить сохранение значений настроек после выгрузки приложения
    - do: |
        Сменить курсор на нестандартный:
        - Тап на иконку "меню" в тапбаре
        - Выбрать пункт "Настройки"
        - Выбрать раздел "Курсор"
        - Выбрать любой курсор кроме "По умолчанию"
    - assert: Курсор изменен на выбранный
    - do: |
        Изменить значения ключевых настроек (охватить максимум из доступных настроек: голос, громкость, вид карты, ограничения скорости, отображение севера, избегать платных дорог, настройки рекламы в разделе "другие настройки", звуковое сопровождение, night mode, настройки навигации, пуши и пр.)
        - Тап на иконку “меню” в таппбаре
        - Выбрать пункт “Настройки”
        - Поменять 5-7 настроек
        - Вернуться на экран карты
        - Перейти в Меню - Настройки
    - assert: Все значения установлены согласно выбранным настройкам
    - do: |
        - Выгрузить приложение
        - Запустить повторно
    - assert: Значения настроек не изменились

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Экран "Настройки":
    - description: |
        Цель: Проверить наличие и применение всех основных настроек.
        Особенности:  В зависимости от рекламных компаний на данный момент, в настройках могут присутствовать временные пункты.
    - info: |
        - Локаль на устройстве ru_ru (на локалях отличный от указанной некоторые фичи, например, Заправки, Музыка могут отсутствовать)
    - info: |
        - Локаль на устройстве ru_ru (на локалях отличный от указанной некоторые фичи, например, Заправки, Музыка могут отсутствовать)
    - do: |
        Тап по иконке «Меню» в таббаре
        Тап по Настройки
    - assert: |
        Отображаются:
        **Быстрые настройки:**
        - Звуковое сопровождение
        - Зафиксировать подсказки о маневрах в углу экрана
        - Night mode (пункт будет быть только на сборке с приставкой _debug)
        - Маршруты (для легкового/грузового каркаса) - будет отображаться ТОЛЬКО, если ранее был включен ГК в настройках навигации
        - Об ограничениях скорости
        - Дорожные события
        - Голос
        - Курсор ( пункта не будет, если включен грузовой каркас)
        - Вид карты
        - Защита от выгорания экрана
        - Север всегда наверху
        - Избегать платных дорог
        **Расширенные настройки:**
        - Карта и интерфейс
        - Звуки и оповещения
        - Навигация
        - Уведомления
        - Сохраненные данные
        - Яндекс.Заправки
        - Яндекс.Авто
        - Яндекс.Музыка
        - Парковки (если местоположение девайса: Москва, или включена настройка Dev.Set. - Misc - Open parking and gas stations layers from menu - On)
        Свитчер "Синхронизировать настройки"
    - do: |
        Изменить настройки:
        - Голос - выставить последний новый голос
        - Курсор - Вкл/выкл последний новый курсор
        - Еще несколько стандартных настроек (любые из указанных в шаге 1)
    - assert: Все измененные настройки применяются

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Экран "О программе":
    - description: Проверить корректность отображения и открытие ссылок в Лицензионном соглашении / Политике конфиденциальности
    - do: |
        Тап по иконке «Меню» в таббаре
        Тап на пункт “О программе”
    - assert: |
        На экране отображается:
        - логотип
        - Надпись Яндекс Навигатор
        - Версия и номер сборки
        - Ссылки на Лицензионное соглашение и Политику конфиденциальности
        - Копирайт компании
    - do: Тап на ссылку  Лицензионное соглашение
    - assert: |
        Происходит переход по ссылкам:
        - ссылки кликабельны, переходят на работающие страницы
        - Лицензионное соглашение всегда в светлой теме, независимо от темы, выбранной в приложении
    - do: |
        Вернуться на экран "О программе" по стрелочке назад
        Тап на ссылку Политика конфиденциальности
    - assert: |
        Происходит переход по ссылке:
        - ссылки кликабельны, переходят на работающие страницы
        - Политика конфиденциальности всегда в светлой теме, независимо от темы, выбранной в приложении

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Настройка "При оповещениях навигатора" - Приглушать все другие звуки":
    - info: |
        - Включить проигрывание музыки в браузере
        - Зайти в настройки Навигатора и выбрать при оповещениях “Приглушать все другие.”:
        - Тап на иконку "Настройки" в таббаре
        - Тап на пункт "Настройки"
        - Тап на пункт меню "Звуки и оповещения"
        - Тап на пункт "При оповещениях"
        - Выбрать пункт “Приглушать все другие.”
    - do: |
        Построить маршрут через ДС (камеры, ДТП, дорожные работы)
        Запустить симуляцию ведения по нему со скоростью больше 120 км\ч.
    - assert: Происходит ведение по маршруту, во время проигрывания аннотаций музыка приглушается.
    - do: Свернуть приложение.
    - assert: В свернутом положении во время проигрывания аннотаций музыка приглушается.
    - do: Развернуть приложение.
    - assert: Во время проигрывания аннотаций музыка приглушается.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi
    - integration_run:
      - annotation


  Настройка "При оповещениях навигатора" - Ничего не менять:
    - info: |
        - Включить проигрывание музыки в браузере
        - Зайти в настройки Навигатора и выбрать при оповещениях “Ничего не менять”:
        - Тап на иконку "Настройки" в таббаре
        - Тап на пункт "Настройки"
        - Тап на пункт меню "Звуки и оповещения"
        - Тап на пункт "При оповещениях"
        - Выбрать пункт “Ничего не менять”
    - do: |
        Построить маршрут через ДС (камеры, ДТП, дорожные работы)
        Запустить симуляцию ведения по нему со скоростью больше 120 км\ч.
    - assert: Происходит ведение по маршруту, во время проигрывания аннотации смешиваются с музыкой.
    - do: Свернуть приложение.
    - assert: В свернутом положении во время проигрывания аннотации смешиваются с музыкой.
    - do: Развернуть приложение.
    - assert: Во время проигрывания аннотации смешиваются с музыкой.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi
    - integration_run:
      - annotation


  Настройка "При оповещениях навигатора" - Ставить на паузу:
    - info: |
        - Включить проигрывание музыки в браузере
        - Зайти в настройки Навигатора и выбрать при оповещениях “Ставить на паузу”:
        - Тап на иконку "Настройки" в таббаре
        - Тап на пункт "Настройки"
        - Тап на пункт меню "Звуки и оповещения"
        - Тап на пункт "При оповещениях"
        - Выбрать пункт “Ставить на паузу”
    - do: |
        Построить маршрут через ДС (камеры, ДТП, дорожные работы)
        Запустить симуляцию ведения по нему со скоростью больше 120 км\ч.
    - assert: Происходит ведение по маршруту, во время проигрывания аннотаций музыка ставится на паузу и возобновляется, когда аннотация завершается.
    - do: Свернуть приложение.
    - assert: В свернутом положении во время проигрывания аннотаций музыка ставится на паузу и возобновляется, когда аннотация завершается.
    - do: Развернуть приложение.
    - assert: Во время проигрывания аннотаций музыка ставится на паузу и возобновляется, когда аннотация завершается.

    - platforms:
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi
    - integration_run:
      - annotation


  Уменьшение громкости навигатора в настройке "Громкость навигатора":
    - description: |
        **Цель проверки:** Увеличение\уменьшение громкости звукового сопровождения навигатора с помощью настройки изменения уровня громкости при прослушивании музыки\аудиокниг.
        **Особенности:**
        Бесшумный режим не влияет на воспроизведение аннотаций навигатора.
        Все настройки выполнять на телефоне, а все проверки - на ГУ.
    - info: Перейти в Настройки навигатора - Звуки и оповещения - в настройке "Звуковое сопровождение" выбран третий режим "Все звуки Навигатора включены".
    - do: |
        Запустить проигрывание музыки на девайсе любым способом.
        Построить маршрут через ДС (камеры, ДТП, дорожные работы и т.п.).
        Тап "Поехали" и включить симуляцию движения.
    - assert: |
        - Проигрывается музыка.
        - Происходит ведение по маршруту, озвучиваются аннотации.
    - do: Вызвать Алису и спросить "Что ты умеешь?".
    - assert: Запомнить громкость Алисы.
    - do: Зайти в настройки Навигатора - Звуки и оповещения - уменьшить Громкость.
    - assert: Ползунок изменил свое положение.
    - do: Дождаться аннотации.
    - assert: Громкость аннотаций уменьшилась.
    - do: Вызвать Алису.
    - assert: Громкость Алисы уменьшилась.

    - testing:
      - acceptance_navi
    - integration_run:
      - annotation
    - platforms:
      - renault
      - nissan
    - tags:
        - assessors


  Проверка формы "Обратная связь":
    - description: Включить настройку - Dev.Set - Misc - Fast day night switching - On
    - info: Локаль устройства - ru_RU, местоположение - Россия
    - do: Тап "Обратная связь" в меню (карусель настроек)
    - assert: Открываются вебвью которое состоит из нескольких разделов
           - Сообщить об ошибке
           - Добавить место или объект на карту
           - Навигация и маршруты
           - Сделаем карты точнее (который подробно описывает сервис "Народные карты")
    - do: Изменить ориетацию приложения на лендскейп
    - assert: Интерфейс не едет
         На экране отображаются те же элементы, что и в портретной ориентации
    - do: Тап "Сообщить об ошибке в Навигаторе"
    - assert: Открывается список функций навигатора по которым можно отправить обратную связь
          Сверить, что все пункты присутствуют
          - Заправки
          - Оплата штрафов
          - Оплата парковок
          - Внезапная остановка приложения
          - Голосовой помощник Алиса
          - Голосовое ведение по маршруту
          - Загрузка карт
          - Определение местоположения
          - Сохраненные места
          - История поездок
          - Реклама
          - Поиск
          - Пробки
          - Дизайн и интерфейс
          - Построение маршрута
          - Расход аккумулятора
          - Предложение по улучшению
          - Другое
    - do: Тап по любому пункту
    - assert: Открывется форма отправки обратной связи, в которой есть поля
          - Поделитесь подробностями, пожалуйста (отмечено звездочкой как обязательное для заполнения)
          - Приложить фото или скриншот и кнопка "Загрузить"
          - E-mail (обязательный для заполнения, если пользователь авторизован, то прежлагается почта для автоматического заполнения, если не авторизован почта не должна предлагаться)
          - Кнопка "Отправить"
          - Кнопка "Назад"
    - do: Заполнить все поля и изменить ориентацию приложения на портрет
    - assert: Интерфейс не едет. Все поля остаются заполенными

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Проверка формы "Обратная связь". Добавление места или объекта:
    - description: Включить настройку - Dev.Set - Misc - Fast day night switching - On. Ориентация девайса портрет
    - info: Локаль устройства - ru_RU, местоположение - Россия
    - do: Тап "Обратная связь" в меню (карусель настроек)
    - assert: Открываются вебвью которое состоит из нескольких разделов
    - do: Открыть любой пункт из раздела "Добавить место или объект на карту"
    - assert: Открывается форма обратной связи
           Свериться, что все пукнты присутствуют
           - Карта можно отметить место где необходимо внести изменение (кроме пункта Организация)
           - Комментарий
           - Фотографии
           - Кнопка "Отправить" (будет неактивна пока не заполнены обязательные поля)
           - Кнопка "Показать карту"
    - do: Заполнить все поля и изменить ориентацию приложения на лендскейп
    - assert: Интерфейс не едет. Все поля остаются заполенными

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Проверка формы "Обратная связь" . Навигация и маршруты:
    - description: Включить настройку - Dev.Set - Misc - Fast day night switching - On. Девайс в портретной ориентации
    - info: Локаль устройства - ru_RU, местоположение - Россия
    - do: Тап "Обратная связь" в меню (карусель настроек)
    - assert:  Открываются вебвью которое состоит из нескольких разделов
    - do: Тап любой пункт из раздела "Навигация и маршруты"
    - assert: |
        Открывается карта
        В центре карты находится пин
        В верхней части отображается "Укажите точное место на карте"
        Отображаются кнопка "+" "-" и кнопка местоположения
        После взаимодействия с картой отображается кнопка "Далее"
    - do: Изменить ориентацию приложения на лендскейп
    - assert: Интерфейс не едет
    - do: Выбрать любое место на карте, тап "далее"
    - assert: |
        Открывается экран обратной связи с пунктами
          - Расскажите о проблеме (отмечен как обязательное поле)
          - Приложите фото или скриншот
          - E-mail - если пользователь авторизован, то предлагается автозаполнение поля (отмечен как обязательное поле)
          - Кнопка "Отправить"
          - Кнопка "назад"
    - do: Заполнить все поля и изменить ориентацию приложения на портрет
    - assert: Интерфейс не едет. Все поля остаются заполенными

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  История заправок. Дизайн начального экрана:
    - description: |
        Цель - проверить новый дизайн историй Яндекс.Заправок
    - info: |
        - Запустить навигатор
        - Перейти в настройки  Dev.settings->Gas stations->Switch to Test Mode
        - Вернуться в настройки , в расширенных настройках  тап на Яндекс .Заправки
    - do: Тап на «История моих заправок» [Скриншот](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-06-23%2017%3A34%3A11.jpg)
    - assert: |
        Появляется экран с заголовком "История заправок"
        В нем присутствуют разделы :
        Траты за <текущий месяц>  (на скриншоте текущий месяц -это Июнь)
        Ниже слева указано сколько потрачено средств  , справа -сэкономлено
        Под разделом Траты за <текущий месяц> указана лента , она меняет свой цвет на зеленый (справа) ,если есть сэкономленные средства
        Истории заправок по месяцам :
        Слева  название АЗС,с датой ,временем
        Справа количество потраченных средств и выбранное для заправки топливо
    - do: Тап на «Траты за <текущий месяц>» [Скриншот](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-06-23%2017%3A59%3A14.jpg)
    - assert: |
        Появляется еще один раздел «За весь период"
        Ниже слева указано сколько потрачено средств  , справа -сэкономлено
        Под разделом «За весь период" указана лента , она меняет свой цвет на зеленый, если есть сэкономленные средства

    - platforms:
        - android
    - integration_run:
        - tanker_sdk


  История заправок. Дизайн экрана истории заправки:
    - description: |
        Цель - проверить новый дизайн историй Яндекс.Заправок
    - info: |
        - Запустить навигатор
        - Перейти в настройки  Dev.settings->Gas stations->Switch to Test Mode
        - Вернуться в настройки , в расширенных настройках  тап на Яндекс .Заправки
    - do: Тап на одну из историй заправок  [Скриншот](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202022-06-14%2012%3A26%3A07.jpg)
    - assert: |
        Открывается экран ,на нем (сверху вниз) :
        - Название АЗС
        - Дата, время
        - Количество потраченных средств
        - Поддержка
        - Детали заказа
        - Возврат (если он был) и сумма средств
        - Оплачено и сумма потраченных средств
        - Карта с указанием места ,где была произведена заправка

    - platforms:
        - android
    - integration_run:
        - tanker_sdk


  История заправок.Дизайн экрана поддержки заправки:
    - description: |
        Цель - проверить новый дизайн историй Яндекс.Заправок
    - info: |
        - Запустить навигатор
        - Перейти в настройки  Dev.settings->Gas stations->Switch to Test Mode
        - Вернуться в настройки , в расширенных настройках  тап на Яндекс .Заправки
    - do: Тап на Поддержка [Скриншот](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-06-23%2018%3A12%3A19.jpg)
    - assert: |
        Открывается экран с заголовком "Служба поддержки" ,на нем (сверху вниз) :
        - Оплата заказа
        - Возврат средств
        - Лимиты на заправку
        - Ошибка в приложении
        - Страхование
        - Бонусная карта
        - Купоны и акции
        - Жалоба на АЗС
        - Пожелания
        - Другое
        После тапа на один из пунктов открывается форма для заполнения данных

    - platforms:
        - android
    - integration_run:
        - tanker_sdk


  История заправок.Дизайн экрана Детали заказа заправки:
    - description: |
        Цель - проверить новый дизайн историй Яндекс.Заправок
    - info: |
        - Запустить навигатор
        - Перейти в настройки  Dev.settings->Gas stations->Switch to Test Mode
        - Вернуться в настройки , в расширенных настройках  тап на Яндекс .Заправки
    - do: Тап на «Детали заказа»  [Скриншот](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-06-23%2017%3A34%3A22.jpg)
    - assert: |
        Открывается экран с заголовком  "Детали заказа»  , на нем (сверху вниз) :
        - "Оплачено" с суммой потраченных средств
        - "Возврат" с суммой средств ,которые должны вернуться
        - "Заправка" с суммой средств , которые должны были быть потрачены
        - "Топливо" с названием
        - "Колонка" с номером
        - "Цена за 1 л" с суммой за 1 л
        - "Количество" количество заправленного топлива в литрах
        - "Дата" и время по МСК
        - "Время заправки" и количество времени, которое было потрачено на заправку

    - platforms:
        - android
    - integration_run:
        - tanker_sdk


  Пункт меню Настройки -> "Заправки":
    - info: Пользователь авторизован
    - do: Перейти в Меню -> Настройки -> Заправки
    - assert: |
        Открывается экран со списком из пунктов:
        - Скидки и бонусы
        - Как это работает
        - Популярные вопросы
        - Доступные сети заправок
        - Фильтр по типу топлива
        - Способы оплаты
        - История заправок
        - Служба поддержки
        - Пользовательское соглашение

        На ГУ пунктов будет меньше!
        - Фильтр по типу топлива
        - Способы оплаты
        - История заправок
    - do: Перейти в раздел "История моих заправок"
    - assert: Отображается история заправок авторизованного пользователя
    - do: |
        - Вернуться на предыдущий экран
        - Перейти в раздел "Способы оплаты"
    - assert: |
        - Отображается список привязанных карт (если они были привязаны ранее)
        - Отображается надпись "Добавить банковскую карту" , при тапе на которую открывается экран с возможностью добавления данных банковской карты
    - do: |
        Вернуться на предыдущий экран
        Перейти в раздел “Фильтр по типу топлива”
    - assert: Отображается экран с фильтром по типу топлива

    - platforms:
        - ios
        - android
        - t3am
        - motrex
        - autochip
        - second_run_hu
    - tags:
        - assessors
    - integration_run:
        - tanker_sdk


  Подмена хоста мобильной прокси через эксперимент:
    - info: |
        В Charles через метод Rewrite подменяем хост `https://mobmaps-proxy-api-ext.c.maps.yandex.net/` на [https://geointernal.mob.maps.yandex.net/] (Настройки для экспорта: https://jing.yandex-team.ru/files/vmnpopkova/mobmapsproxy.xml)
        Девайс подключен к Charles
        Первый запуск приложения
    - do: Тап Меню
    - do: Тап Настройки
    - do: В Developer settings -> Misc -> MobmapsProxy host указать https://mobmaps-proxy-api-ext.c.maps.yandex.net/
    - do: Тап Сохранить
    - do: Очистить все запросы в сниффере
    - do: Перезагрузить приложение
    - do: Открыть карточки мест через поиск
    - assert: |
        При открытии карточек дергаются ручки, которые используют мобильную проксю
        Хост в сниффере отображается как `https://geointernal.mob.maps.yandex.net`
        В столбце Notes написано Rewrite Tool: URL "https://mobmaps-proxy-api-ext.c.maps.yandex.net/..." => "https://geointernal.mob.maps.yandex.net/..."

    - platforms:
        - android
        - ios


  Подмена хоста мобильной прокси через эксперимент. Невалидное значение:
    - info: |
        В Charles через метод Rewrite подменяем хост `https://mobmaps-proxy-api-ext.c.maps.yandex.net/` на [https://geointernal.mob.maps.yandex.net/] (Настройки для экспорта: https://jing.yandex-team.ru/files/vmnpopkova/mobmapsproxy.xml)
        Девайс подключен к Charles
        Первый запуск приложения
    - do: Тап Меню
    - do: Тап Настройки
    - do: В Developer settings -> Misc -> MobmapsProxy host указать невалидный хост, например "jbjblhwkgwv"
    - do: Тап Сохранить
    - do: Очистить все запросы в сниффере
    - do: Перезагрузить приложение
    - do: Открыть карточки мест через поиск
    - assert: |
        При открытии карточек дергаются ручки, которые используют мобильную проксю
        Хост в сниффере отображается продовый `https://geointernal.mob.maps.yandex.net`

    - platforms:
        - android
        - ios


  Подмена хоста MobmapsProxy через эксперимент:
    - info: |
        Девайс подключен к Charles
        Открыт главный экран приложения
    - do: Тап Меню
    - do: Тап Настройки
    - do: В Developer settings -> Ad -> Show taxi and route at second position -> On
    - do: В Developer settings -> Misc -> MobmapsProxy host указать фейковый хост, например "https://yandex.net/"
    - do: Тап Сохранить
    - do: Очистить все запросы в сниффере
    - do: Перезагрузить приложение
    - do: Построить и подтвердить маршрут
    - assert: |
        Урлы, которые прежде ходили на 'geointernal.mob.maps.yandex.net' теперь должны идти на 'yandex.net'
        Хождение на хост 'geointernal.mob.maps.yandex.net' отсутствует

    - platforms:
        - android
        - ios


  Подмена хоста MobmapsProxy через эксперимент. Невалидное значение:
    - info: |
        Девайс подключен к Charles
        Открыт главный экран приложения
    - do: Тап Меню
    - do: Тап Настройки
    - do: В Developer settings -> Ad -> Show taxi and route at second position -> On
    - do: В Developer settings -> Misc -> MobmapsProxy host указать невалидный хост, например "1234-123-1234"
    - do: Тап Сохранить
    - do: Очистить все запросы в сниффере
    - do: Перезагрузить приложение
    - do: Построить и подтвердить маршрут
    - assert: |
        В урлах есть походы на 'geointernal.mob.maps.yandex.net'
        Хождение на невалидный хост '1234-123-1234' отсутствует

    - platforms:
        - android
        - ios


  Подмена хоста мобильной прокси S3 Host через эксперимент:
    - info: Проверка факта хождения на хост из эксперимента. Ожидаемо, что все запросы нави на https://yandex.net/ будут ошибочными.
    - info: |
        Девайс подключен к Charles
        Открыт главный экран приложения
    - do: Тап Меню
    - do: Тап Настройки
    - do: В Developer settings -> Misc -> S3 host указать фейковый хост, например "https://yandex.net/"
    - do: Тап Сохранить
    - do: Очистить все запросы в сниффере
    - do: Перезагрузить приложение
    - do: Выполнить любое из действий, например, открыть карточку места/построить маршрут и запустить ведение
    - assert: |
        Урлы, которые прежде ходили на 'yandexnavi.s3.yandex.net' теперь должны идти на 'yandex.net'
        Хождение на хост 'https://yandexnavi.s3.yandex.net/' отсутствует

    - platforms:
        - android
        - ios


  Подмена хоста мобильной прокси S3 Host через эксперимент. Невалидное значение:
    - info: |
        Девайс подключен к Charles
        Открыт главный экран приложения
    - do: Тап Меню
    - do: Тап Настройки
    - do: В Developer settings -> Misc -> S3 host указать невалидный хост, например "1234-123-1234"
    - do: Тап Сохранить
    - do: Очистить все запросы в сниффере
    - do: Перезагрузить приложение
    - do: Выполнить любое из действий, например, открыть карточку места/построить маршрут и запустить ведение
    - assert: |
        В урлах есть походы на 'yandexnavi.s3.yandex.net'
        Хождение на невалидный хост '1234-123-1234' отсутствует

    - platforms:
        - android
        - ios
