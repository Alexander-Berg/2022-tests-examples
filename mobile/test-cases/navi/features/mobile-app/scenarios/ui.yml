components: ui
testing:
  - regress

specs:
  Отображение статус бара:
    - description: |
        Цель: проверка отображения статус бара в зависимости от ориентации девайса и темы приложения
        Задача: https://st.yandex-team.ru/MOBNAVI-9621
        iOS :
        В портрете:  статус бар прозрачный, два режима ночной и дневной
        В ландскэйпе: не отображается на iPhone
        В ландскэйпе: отображается на iPad
        Android:
        - >= 19 api  статус бар полупрозрачный (начиная с Android 4.4, ниже Android 4.4 - непрозрачный в портрете и лендскейпе)
        - >= 23 api имеет два режима ночной и дневной (Android 6.0)
        В ландскэйпе: - >= 19 api скрывается - можно вытянуть, через пару секунд скрывается заново (Android 4.4, ширина менее 320 пикселей)
    - info: |
        - включить Дневной режим
        - ориентация лендскейп
    - do: Открыть экран карт
    - assert: Статус бар полупрозрачный
    - do: Перейти в полноэкранный раздел меню (например, авторизацию или карточку организации)
    - assert: Статус бар отображается
    - do: Построить маршрут, начать ведение
    - assert: Статус бар отображается, режим не меняется
    - do: Сменить ориентацию девайса на лендскейп
    - assert: |
        Для iOS iPhone- статус бар не отображается
        Для iOS iPad- статус бар не отображается
        Для Android - можно вытянуть, через пару секунд скрывается заново. Полупрозрачный, серый (может отличаться от портрета)
    - do: |
        Для Android - вытянуть в лэндскейп статус бар (как шторку)
        Подождать 5 сек
        (Для iOS - пропустить шаг)
    - assert: |
        Статус бар отображается - серый вне зависимости от темы день/ночь  (может отличаться от портрета)
        Через пару секунд скрывается заново
    - do: |
        Сменить режим на Ночной
        Повторить шаги 1-4
    - assert: Режим статус бара меняется в соответствии с версией ОС (см. описание)

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Базовый интерфейс:
    - do: |
        Открыть приложение.
        Тап на кнопку "Поиск" в нижней панели"
    - assert: Открывается экран "Поиск"
    - do: |
        - Закрыть экран поиска
        - Тап на кнопку "Избранное"
    - assert: Открывается экран "Избранное"
    - do: Тап на кнопку "Меню"
    - assert: Открывается экран "Меню"
    - do: Тап на кнопку "Музыка"
    - assert: Открывается экран "Музыка"
    - do: Тап на кнопку "Заправок"
    - assert: |
        - На карте отображается слой заправок
        - Происходит сдвиг карты на ближайшую заправку

    - platforms:
        - ios
        - android
    - integration_run:
        - search
    - tags:
        - assessors


  Проверка отсутствия статус-бара:
    - description: Статус-баром будет является любая строчка над приложением. Например в андроиде это строка с типом подключения, временем и зарядом аккумулятора.
    - do: Открыть главный экран приложения
    - assert: |
        Статус-бар отсутствует
        Его нельзя вытащить свайпом из-под верхней границы экрана

    - platforms:
        - t3am
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - nissan
    - testing:
        - acceptance_navi


  Проверка отображения статус-бара:
    - description: |
        Цель: проверка отсутствия статус бара на разных экранах, а в случаях появления его последующее скрытие
        Задача: https://st.yandex-team.ru/MOBNAVI-11932
    - do: Открыть экран Карта
    - assert: Статус бар отсутствует
    - do: Перейти в полноэкранный раздел меню (например, авторизацию)
    - assert: Статус бар присутствует, и при возвращении на экран Карты скрывается
    - do: Перейти в раздел меню и проверить разные webview
    - assert: Статус бар присутствует на окнах webview, и при возвращении на экран Карты скрывается
    - do: Построить маршрут, начать ведение
    - assert: Статус бар отсутствует
    - do: Проверить экраны Поиск, Мои Места
    - assert: Статус бар отсутствует

    - platforms:
        - motrex
        - autochip
        - first_run_hu
    - testing:
        - acceptance_navi


  Вертикальный режим ГУ:
    - description: |
        Таск - https://st.yandex-team.ru/MOBNAVI-12747
        Если открыта боковая панель и навигатор не на весь экран, то навигатор должен быть в вертикальном режиме
        Если отключить боковую панель нельзя, проходим только ""шаг 2"", шаги 1 и 3 пропускаем
    - info: Отключена боковая панель
    - do: Перейти на карту
    - assert: Навигатор в альбомной ориентации
    - do: Включить боковую панель свайпом от правого края экрана
    - assert: |
        - Вертикальный режим = портрету, лендскейп поведение отсутствует
        - Тапбар зафиксирован снизу, не уходит вбок
    - do: Отключить боковую панель
    - assert: Навигатор в альбомной ориентации, интерфейс корректно отображается

    - platforms:
        - geely
        - carsharing_t3
        - t3am
    - testing:
        - acceptance_navi


  Режимы отображения - светлая/темная темы ГУ:
    - description: |
        https://st.yandex-team.ru/MOBNAVI-13768
        На ГУ с ЯАвто светлая тема должна приходить без эксперимента и на первый запуск
    - do: Включить ГУ или перезапустить
    - assert: Включена светлая тема. Тапбар белый, иконки и саджесты соответствуют теме, интерфейс не съехал, корректно отображается
    - do: Перейти в настройки, проверить все разделы настроек
    - assert: Интерфейс корректно отображается, не съезжает, соответствует теме,  артефактов другой темы не наблюдается.
    - do: |
        - Перейти в таб "Мои места". Проверить табы "Сохраненные" и "Недавние"
        - Добавить точку Дом/Работу или избранное
    - assert: Интерфейс корректно отображается, не съезжает, соответствует теме,  артефактов другой темы не наблюдается.
    - do: Перейти в таб "Поиск". Проверить табы "Категории" и "История"
    - assert: Интерфейс корректно отображается, не съезжает, соответствует теме,  артефактов другой темы не наблюдается.
    - do: Инициировать поиск
    - assert: Все пины, пои и сниппеты отображаются согласно текущей темы, интерфейс корректно отображается и не поломон
    - do: Открыть карточку организации
    - assert: Интерфейс корректно отображается, не съезжает, соответствует теме,  артефактов другой темы не наблюдается.
    - do: Построить маршрут и запустить ведение
    - assert: Интерфейс корректно отображается, не съезжает, соответствует теме,  артефактов другой темы не наблюдается.
    - do: Вызывать алерт любым способом (например, установить ДС)
    - assert: Алерт соответствует выбранной теме
    - do: |
        - Сменить тему на темную (поставив в настройках темную тему, либо сменить время в настройках на ночное)
        - Повторить шаги 2-8
    - assert: Интерфейс корректно отображается, не съезжает, соответствует теме,  артефактов другой темы не наблюдается.

    - platforms:
        - geely
        - carsharing_t3
        - nissan
        - t3am
    - testing:
        - acceptance_navi


  Переключение ночного и дневного режима во время ведения:
    - description: |
        Включена быстрая смена темы День/Ночь: Dev Settings -> Misc -> Fast day & night switching - теперь каждые 30 секунд меняется тема с дневной на ночную и обратно
        На **Nissan** можно не включать эту настройку, т.к. на ГУ есть специальная кнопка переключающая режим День/Ночь
    - do: |
        - Построить маршрут
        - Начать ведение (при помощи debug панели)
        - Сменить режим с дневного на ночной
    - assert: |
        - Режим изменяется, компоненты навигатора изменяют свой цвет, чтобы соответствовать ночной теме
        - Не происходит сбоев, зависаний, крешей
        - Отсутствуют следы предыдущей темы в приложении
    - do: |
        - Немного подождать и сохранять ведение в ночном режиме
        - Переключиться в дневной режим
    - assert: |
        - Режим изменяется, компоненты навигатора изменяют свой цвет, чтобы соответствовать дневной теме
        - Не происходит сбоев, зависаний, крешей
        - Отсутствуют следы предыдущей темы в приложении

    - platforms:
        - nissan
        - renault
        - android
        - ios
        - motrex
        - autochip
    - tags:
        - assessors
        - both_myspin
    - testing:
        - acceptance_navi
    - integration_run:
        - myspin


  Контейнерный UI:
    - description: |
        Контейнерами в Навигаторе называются окна, которые открываются, когда пользователь входит в любой раздел приложения, отличный от  экрана карты.
        - Контейнер можно закрыть, потянув за верхнюю часть контейнера вниз.
        - Нижние экранные кнопки, отвечающие за переходы по разделам приложения (таббар) скрываются на ГУ ЯАвто в квадратном режиме. В полноэкранном режиме они почти всегда присутствуют.
        - При переходе в некоторые внутренние разделы приложения, например, “Обучение и подсказки”, или "Авторизация" контейнерный интерфейс скрывается.
        - Контейнер занимает весь экран, но при этом может быть видна часть карты.
    - do: |
        Поочередно тап на кнопки "Лупа" и "Желтая стрелка" на нижней панели
    - assert: Контейнер с содержимым "выезжает" снизу плавно, без рывков
    - do: Поочередно тап на кнопки "Желтая стрелка" и "Мои места" на нижней панели
    - assert: Контейнер с содержимым “выезжает” снизу плавно, без рывков
    - do: Поочередно тап на кнопки “Желтая стрелка” и "Меню" на нижней панели
    - assert: Контейнер с содержимым “выезжает” снизу плавно, без рывков
    - do: |
        Перейти на экран поиска.
        Движением от правого края экрана влево перейти в раздел "История".
        Аналогичным движением отлевого края - вправо вернуться на экран "Категории".
    - assert: |
        - Происходит сдвиг право/влево
        - Анимация плавная (без рывков)
    - do: Повторить предыдущий шаг для экрана "Мои места", осуществляя переход между "Сохраненные" и "Недавние"
    - assert: |
        - Происходит сдвиг право/влево
        - Анимация плавная (без рывков)
    - do: |
        Перейти на экран настроек.
        Пролистать содержимое экрана вниз-вверх.
    - assert: |
        - Анимация плавная (без рывков)
        - В квадратном режиме таббар всегда скрыт.
        - Сам контейнер не закрывается при пролистывании своего содержимого.
    - do: Переключаться кнопками на тапбаре между разделами Поиск, Мои места и Меню
    - assert: Анимация перехода между разделами отсутствует.
    - do: Закрыть контейнер движением вниз, коснувшись верхней части контейнера с заголовком раздела.
    - assert: Из любого раздела после закрытия контейнера происходит возврат на экран карты.
    - do: |
        Перейти в любой раздел вебвью (экран авторизации/обучение и подсказки)
        Пролистать содержимое вебвью вниз-вверх.
    - assert: Таббар не появляется
    - do: |
        - Добавить несколько точек в блок «ИЗБРАННОЕ». Для этого удерживать палец на карте до появления меню сверху, Тап на “В Мои Места”, Тап на строку строку "Избранное", ввести любое название, Тап "Сохранить".
        - Перейти на экран "Мои места"
        - Тап на кнопку карандаша.
        - Коснуться трёх полос в строке закладки и свайп вниз
        - Подвигать таким образом несколько точек
    - assert: |
        Строки в "Моих местах" меняются местами.
        Контейнер при этом не закрывается.
    - do: |
        Выйти из режима редактирования точек.
        Отключить интернет
        Дождаться надписи "Ошибка соединения ..."
    - assert: Надпись ошибка соединения отображается в контейнере, не накладывается на содержимое

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - nissan
        - t3am
    - testing:
        - acceptance_navi


  Смена ориентации. Меню:
    - description: |
        **Цель:** Проверить поведение экрана Меню приложения в двух состояниях:
        - Портретная ориентация
        - Альбомная ориентация
    - info: Пользователь не авторизован
    - do: |
        Запустить приложение в портретном режиме
        Тап на кнопку "Меню" в таббаре
    - assert: |
        - Открывается контейнер Меню
        - Кнопка "Войти" отцентрирована
        - Если присутствует рекламный баннер - он не обрезан и текст в нем отображается полностью
    - do: Изменить ориентацию девайса на альбомную
    - assert: Правила отображения элементов из шага 1 не изменились

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Отображение интерфейса при контекстном ведении на ГУ:
    - description: |
        Цель: Проверить корректность отображения интерфейса при контекстном ведении
        Контекстные балуны удобно проверять во время симуляции движения через дебаг-панель
        На небольших девайсах следующая улица в альбомной ориентации показывается ТОЛЬКО в угловом балуне.
    - info: |
        Режим "север всегда сверху" отключен. ( По умолчанию отключено, можно проверить тут: Тап на кнопку Меню > Настройки > Карта и интерфейс )
    - do: Построить маршрут любым способом, тап на поехали и подождать ~5 секунд, не взаимодействуя с навигатором, следить за цветом контекстных балунов в углу и на маршруте.
    - assert: |
        - Маршрут построен. В левом верхнем углу отобразился контекстный балун.
        _Спустя ~5 секунд при исчезновении кнопок и тапбара на экране отображаются:_
        - **Балун** - переместился к точке ближайшего маневра. Цвета углового балуна и балуна на маршруте одинаковы.
        - **Спидометр** - отображает только цифры и имеет белый цвет (в дневном режиме) или черный (в ночном).
        - **Ограничение скорости** - находится рядом со спидометром;
        - **Градусник ETA** -  имеет белый цвет в дневном или черный в ночном режиме. Маршрут на градуснике ETA имеет те же цвета, какими окрашен маршрут на карте
        - (Если данная информация доступна) **Балун текущей улицы** - находится над плашкой ETA, имеет светлый цвет в дневном режиме и темный - в ночном. Не должен перекрывать курсор.
    - do: Включить ночной режим (или дневной, если ночной был до этого включен) и повторить 1 шаг
    - assert: |
        - Цвета контекстных балунов стали ярче (ночной режим) или темнее (дневной).
        - Цвета балуна текущей улицы и градусника ETA поменялись.
        - Цвет спидометра __изменился__ на черный
    - do: Включить/отключить квадратный режим (боковой виджет справа) и запустить симуляцию движения по маршруту
    - assert: |
        - Градусник ETA сменил положение;
        - Текущая улица располагается над градусником ETA и не перекрывает курсор
        - Угловой контекстный балун не перекрывает кнопки (обязательно проверять в квадратном)
    - do: Включить режим "север всегда сверху"
    - assert: Балуны на маршруте не отображаются

    - platforms:
        - geely
        - carsharing_t3
        - nissan
        - t3am
    - testing:
        - acceptance_navi


  Смена ориентации при построенном маршруте.:
    - description: |
        **Цель:** Проверить поведение элементов интерфейса приложения в двух состояниях:
        - Портретная ориентация
        - Альбомная ориентация
    - info: Вертикальная ориентация девайса
    - do: Выполнить лонгтап в любой точке на карте
    - assert: |
        Появится лонгтап-меню с разделами Маршрут и Точка
        Все кнопки в меню видны хорошо, текст под кнопками отцентрован, кнопки расположены на равных расстояниях друг от друга
    - do: Повернуть телефон в горизонтальную ориентацию
    - assert: |
        - Меню с кнопками не пропадает
        - "Ножка" лонгтап-меню указывает на ту же точку
        - Все кнопки в меню видны хорошо, текст под кнопками отцентрован, кнопки расположены на равных расстояниях друг от друга
    - do: Тап на кнопку "Сюда"
    - assert: |
        - Строится маршрут из текущей точки в точку, указанную на предыдущем шаге.
        - Появляется карточка обзора маршрута с кнопками "Поехали" и "Отмена"
    - do: Повернуть телефон в вертикальную ориентацию
    - assert: Маршрут и предложенные варианты остаются прежними.

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Смена ориентации при ведении по маршруту:
    - description: |
        **Цель:** Проверить поведение элементов интерфейса приложения в двух состояниях:
        - Портретная ориентация
        - Альбомная ориентация
    - info: |
        Устройство в портретном режиме.
        Построен и подтвержден маршрут (нажата кнопка "поехали")
    - do: Повернуть телефон в ландшафтный режим
    - assert: Все элементы, которые были в портретной ориентации продолжают отображаться.
    - do: Повернуть устройство в портретный режим
    - assert: |
        Все элементы перемещаются в те же места, на которых были в ландшафтной ориентации
        Приложение не крешится
    - do: Тап на кнопку сброса маршрута (Х), находящуюся на плашке ETA
    - assert: Появился поп-ап "Вы действительно хотите сбросить маршрут?"
    - do: |
        Повернуть телефон в ландшафтный режим
        Тап "Да"
    - assert: |
        - Поп-ап сохраняется при повороте
        - После нажатия "Да" маршрут сбрасывается.

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Смена ориентации. Запуск приложения.:
    - description: |
        **Цель:** Проверить запуск приложения в альбомной ориентации
    - info: Девайс в альбомной ориентации
    - do: Запустить приложение
    - assert: |
        На экране "Карта" отображаются UI-элементы:
        - Виджет погоды (по умолчанию выключен)
        (зависит от местоположения пользователя, в Туле показвается)
        - Кнопка установки ДС
        - Алиса
        - Парковки
        - Светофор
        - Кнопки масштаба
        - Компас
        - Кнопка определения местоположения
        - Таббар с вкладками "Поиск", "Карта", "Музыка", "Избранное", "Меню"
    - do: Изменить ориентацию девайса
    - assert: Отображаются те же UI-элементы, что и в шаге 1

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Смена ориентации. Карточки.:
    - description: |
        **Цель:** Проверить поведение элементов интерфейса приложения в двух состояниях:
        - Портретная ориентация
        - Альбомная ориентация
    - do: |
        Выполнить лонгтап в любой точке на карте.
        Тап на "Что здесь?"
        Повернуть телефон в альбомный режим.
    - assert: |
        Открывшаяся карточка отображается внизу экрана. (Левый нижний угол)
        В ней присутствует кнопка "Маршрут"
    - do: |
        Закрыть карточку тапом на крестик.
        Открыть экран “Поиск” по значку Лупы в нижней панели.
        Тап на поисковую строку.
        Сменить ориентацию девайса на портрентную.
    - assert: |
        - Отображение клавиатуры и раздела поиска не ломаются.
        - На экране присутствует кнопка "Отмена", которой мы можем закрыть "Поиск".

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Контейнерный UI. Переход по табам. (Эксп включен):
    - description: |
        **Проверку необходимо делать как при включенной, так и при выключенной настройки Use pure platform layout
        Use pure platform layout - это настройка для изменения внутренней реализации работы виджетов. Для нас ничего не должно поменяться, как при включенной, так и при выключенной настройки.**
    - info: |
        - Пользователь не авторизован
        - Включить эксп:  Developer Settings-Misc-Use pure platform layout - On
        - Перезапустить приложение
    - do: |
        - При запуске приложения - открывается экран карты
        - Тап на иконку меню в тапбаре -> Настройки -> Developer Settings -> Misc
    - assert: Настройка Developer Settings-Misc-Use pure platform layout - On - включена
    - do: Поочередно тап на кнопки "Поиск" ,"Карта", "Мои места" и "Меню" на таббаре
    - assert: |
        - Контейнер с содержимым “выезжает” снизу плавно, без рывков
        - При тапе на Поиск, таббар скрывается
    - do: Поочередно тап на кнопки "Карта" и "Мои места" на таббаре
    - assert: Контейнер с содержимым “выезжает” снизу плавно, без рывков
    - do: Поочередно тап на кнопки “Карта” и "Меню" на нижней панели
    - assert: Контейнер с содержимым “выезжает” снизу плавно, без рывков
    - do: Переключаться кнопками на тапбаре между разделами Поиск, Мои места , Музыка и Меню
    - assert: Анимация перехода между разделами отсутствует, креша нет. Кнопки на таббаре отображаются корректно, имеют одинаковый размер, не наезжают друг на друга,сам таббар находится внизу

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Контейнерный UI. Скрытие таббара.:
    - do: |
        Перейти на экран настроек.
        Пролистать содержимое экрана вниз-вверх.
    - assert: |
        - Анимация плавная (без рывков)
        - При движении содержимого контейнера вниз таббар скрывается. При движении вверх - показывается.
        - Сам контейнер не закрывается при пролистывании своего содержимого.
    - do: |
        Перейти в любой раздел вебвью, Навигатора, например, в Меню->Обратная связь.
        Пролистать содержимое вебвью вниз-вверх.
    - assert: Таббар не появляется

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Светлая и темная темы Навигатора:
    - description: |
        По умолчанию темы Навигатора регулируются автоматически. В настройках Навигатора можно отключить автоматическую смену тем, выставив светлую или тёмную тему.
        В данном кейсе проверяется применение выставленной темы Навигатора ко всем необходимым элементам интерфейса.
        Включён автоматический режим смены темы Навигатора. Данный режим выставлен по умолчанию. Изменить режим можно перейдя в Меню -> Настройки -> Карта и интерфейс -> Ночной режим -> Авто
        ![image](https://jing.yandex-team.ru/files/yavgmoth9/IMG_FA05AA34D46A-1.jpeg)
    - do: Запустить Навигатор.
    - assert: |
        Интерфейс Навигатора отображается в светлой теме в светлое время суток...
        ![image](https://jing.yandex-team.ru/files/yavgmoth9/IMG_1081.PNG)
        ...и в тёмной - в тёмное.
        ![image](https://jing.yandex-team.ru/files/yavgmoth9/IMG_1080.PNG)
        - Кнопки на главном экране черного цвета в ночной теме и белого - в дневной.
        - Цвет пробок на дорогах в ночной теме бледнее, чем в дневной
    - do: |
        Изменить тему Навигатора на противоположную текущей. (см. Description).
    - assert: Элементы интерфейса отображаются соответственно выставленной теме.
    - do: |
        - Выполнить лонг-тап в любой точке карты на расстоянии от курсора
        - В открывшемся меню Тап кнопку “Сюда”
    - assert: |
        Отображаемые линии альтернатив маршрута соответствуют выставленным темам Навигатора.
        ![image](https://jing.yandex-team.ru/files/yavgmoth9/IMG_1082.PNG)
        =======
        ![image](https://jing.yandex-team.ru/files/yavgmoth9/IMG_1083.PNG)
    - do: |
        Не сбрасывая построенного маршрута, сменить тему Навигатора на противоположную текущей.
        (см. Description)
    - assert: Линии альтернатив изменили цвет.
    - do: Тап на "Поехали"
    - assert: |
        - Начинается ведение по маршруту.
        - На экране появляются балуны со следующей улицей, следующим манёвром и расстоянием до ближайшего маневра. Эти балуны могут появляться как в углу экрана, так и на маршруте, указывая конкретную точку для манёвра.
        - Отображается спидометр, показывающий текущую скорость пользователя.
        - Появляется плашка ETA, отображающий пробки по маршруту
        - **Все перечисленные элементы отображаются в соответствии с выставленной темой Навигатора**
        ![image](https://jing.yandex-team.ru/files/yavgmoth9/IMG_1084.PNG)
        =====
        ![image](https://jing.yandex-team.ru/files/yavgmoth9/IMG_1085.PNG)
    - do: Изменить тему Навигатора на противоположную текущей (см. Description)
    - assert: Все элементы интерфейса отображаются в соответствии с выставленной темой

    - platforms:
        - motrex
        - autochip
    - testing:
        - acceptance_navi


  Смена ориентации. Меню. Кнопка "Войти":
    - description: |
        **Цель:** Проверить поведение экрана Меню приложения в двух состояниях:
        - Портретная ориентация
        - Альбомная ориентация
    - info: |
        Пользователь не авторизован
        Запустить приложение в портретном режиме
        Тап на кнопку "Меню" в таббаре
    - do: |
        Тап на кнопку "Войти"
        Если открывается карточка "Выберите аккаунт", тап на "Добавить аккаунт"
    - assert: |
        Отображается форма авторизации
        Элементы формы не обрезаны
        [collapsed-image](https://jing.yandex-team.ru/files/avilovittest/IMAGE%202019-12-02%2010%3A34%3A06.jpg){title=Скриншот}
    - do: Изменить ориентацию девайса на альбомную
    - assert: |
        Отображается форма авторизации
        Элементы формы не обрезаны

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Смена ориентации. Меню. Пункт "Загрузка карт":
    - description: |
        **Цель:** Проверить поведение экрана Меню приложения в двух состояниях:
        - Портретная ориентация
        - Альбомная ориентация
    - info: |
        Пользователь не авторизован
        Запустить приложение в портретном режиме
        Тап на кнопку “Меню” в таббаре
    - do: |
        Тап на пункт "Загрузка карт"
        Изменить ориентацию девайса
    - assert: |
        - Элементы не обрезаны
        - Отображается строка поиска, блок с предложением скачать карту региона, в котором находится пользователь, блок с загруженными картами
    - do: Изменить ориентацию девайса на альбомную
    - assert: |
        - На экране отображаются те же элементы, что и в портретной ориентации
        - Элементы не обрезаны

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Смена ориентации. Меню. Пункт "О программе":
    - description: |
        **Цель:** Проверить поведение экрана Меню приложения в двух состояниях:
        - Портретная ориентация
        - Альбомная ориентация
    - info: |
        **Самый первый запуск**
        Пользователь не авторизован
        Запустить приложение в портретном режиме
        Тап на кнопку “Меню” в таббаре
    - do: |
        Выполнить скролл крутилки сервисов
        Тап на пункт "О программе"
    - assert: Отображается иконка приложения Яндекс.Навигатор, номер версии приложения и ссылки на правовую документацию
    - do: Изменить ориентацию девайса на альбомную
    - assert: |
        Отображается иконка приложения Яндекс.Навигатор, номер версии приложения и ссылки на правовую документацию
        Часть информации на небольшом экране может быть скрыта, для ее просмотра экран нужно проскроллить

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Отображение интерфейса при контекстном ведении (Север всегда вверху):
    - description: |
        Цель: Проверить корректность отображения интерфейса при контекстном ведении
        Контекстные балуны удобно проверять во время симуляции движения через дебаг-панель
        На небольших девайсах следующая улица в альбомной ориентации показывается ТОЛЬКО в угловом балуне.
    - info: |
        Режим "север всегда сверху" отключен. ( По умолчанию отключено, можно проверить тут: Тап на кнопку Меню > Настройки > Карта и интерфейс )
    - do: Построить маршрут любым способом, тап на поехали и подождать ~5 секунд, не взаимодействуя с навигатором
    - assert: |
        - Маршрут построен. В левом верхнем углу отобразился контекстный балун.
        Спустя ~5 секунд при исчезновении кнопок и тапбара **Балун** - переместился к точке ближайшего маневра.
        _Примечание:_ Если ближайший маневр располагается за границей экрана, то по истечении пятисекундного таймаута, он не переместится на линию маршрута. Также он не перемещается на линию маршрута на обзорных масштабах (<14 зума).
    - do: |
        Включить режим "север всегда сверху"
        Вернуться на экран карты и подождать ~5 секунд, не взаимодействуя с навигатором
    - assert: Балуны точек ближайшего маневра отображаются в верхнем левом углу, Балун - **не переместился к точке ближайшего маневра.**

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Отображение интерфейса при контекстном ведении при смене ориентации:
    - description: |
        Цель: Проверить корректность отображения интерфейса при контекстном ведении
        Контекстные балуны удобно проверять во время симуляции движения через дебаг-панель
        На небольших девайсах следующая улица в альбомной ориентации показывается ТОЛЬКО в угловом балуне.
    - info: |
        Режим "север всегда сверху" отключен. ( По умолчанию отключено, можно проверить тут: Тап на кнопку Меню > Настройки > Карта и интерфейс )
    - do: Построить маршрут любым способом, тап на поехали и подождать ~5 секунд, не взаимодействуя с навигатором, следить за цветом контекстных балунов в углу и на маршруте.
    - assert: |
        - Маршрут построен. В левом верхнем углу отобразился контекстный балун.
        _Спустя ~5 секунд при исчезновении кнопок и тапбара на экране отображаются:_
        - **Балун** - переместился к точке ближайшего маневра. Цвета углового балуна и балуна на маршруте одинаковы.
        _Примечание:_ Если ближайший маневр располагается за границей экрана, то по истечении пятисекундного таймаута, он не переместится на линию маршрута. Также он не перемещается на линию маршрута на обзорных масштабах (<14 зума).
        - **Спидометр** - отображает только цифры и имеет белый цвет (в дневном режиме) или черный (в ночном).
        - **Ограничение скорости** - находится рядом со спидометром;
        - **Градусник ETA** -  имеет белый цвет в дневном или черный в ночном режиме. Маршрут на градуснике ETA имеет те же цвета, какими окрашен маршрут на карте
        - (Если данная информация доступна) **Балун текущей улицы** - находится над плашкой ETA, имеет светлый цвет в дневном режиме и темный - в ночном. Не должен перекрывать курсор.
    - do: Сменить ориентацию девайса и запустить симуляцию движения по маршруту
    - assert: |
        - Градусник ETA переместился в нижний левый угол для альбомной ориентации; в центр - для портретной
        - Текущая улица располагается над градусником ETA и не перекрывает курсор
        - Угловой контекстный балун не перекрывает кнопки (обязательно проверять в альбомной ориентации)

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Ведение по маршруту. Скрытие элементов интерфейса.:
    - description: Данный кейс проверяет поведение интерфейса при ведении по маршруту.
    - do: |
        Построить маршрут имеющий несколько маневров.
        Тап на "Поехали"
        Запустить симуляцию движения через дебаг-панель.
        Не взаимодействовать с картой.
    - assert: |
        Следующие кнопки скрываются:
        - кнопки масштаба
        - кнопка установки ДС
        - кнопка вызова голосового помощника
        - кнопка компаса
        - кнопка определения местоположения
        - кнопка пробок и кнопка парковочного слоя
        - таббар
    - do: Подвигать карту.
    - assert: Взаимодействие с картой вызывает появление исчезнувших ранее кнопок.

    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit
    - platforms:
        - renault
        - geely
        - carsharing_t3
        - ios
        - android
        - vaz
        - nissan
        - t3am
    - tags:
        - assessors


  Переключение светлой и темной темы приложения в режиме ведения.:
    - description: |
        По умолчанию темы Навигатора регулируются автоматически. В настройках Навигатора можно отключить автоматическую смену тем, выставив светлую или тёмную тему.
        В данном кейсе проверяется применение выставленной темы Навигатора ко всем необходимым элементам интерфейса.
    - info: Включён автоматический режим смены темы Навигатора. Данный режим выставлен по умолчанию. Изменить режим можно перейдя в Меню -> Настройки -> Карта и интерфейс -> Ночной режим -> Авто
    - do: |
        - Выполнить лонг-тап в любой точке карты на расстоянии от курсора
        - В открывшемся меню Тап кнопку “Сюда”
    - assert: Отображаемые линии вариантов маршрута соответствуют выставленным темам Навигатора.
    - do: |
        Сбросить маршрут, сменить тему Навигатора на противоположную текущей
        Заново построить маршрут
    - assert: Линии альтернатив изменили цвет.
    - do: Тап на "Поехали"
    - assert: |
        - Начинается ведение по маршруту.
        - На экране появляются балуны со следующей улицей, следующим манёвром и расстоянием до ближайшего маневра. Эти балуны могут появляться как в углу экрана, так и на маршруте, указывая конкретную точку для манёвра.
        - Отображается спидометр, показывающий текущую скорость пользователя.
        - Появляется плашка ETA, отображающий пробки по маршруту
        - **Все перечисленные элементы отображаются в соответствии с выставленной темой Навигатора**

    - testing:
        - acceptance_navi
    - platforms:
        - carsharing_t3
        - ios
        - android
        - t3am
    - tags:
        - assessors


  Приоритет слоев навигатора:
    - description: |
        Проверить порядок отображения объектов на карте согласно расположению слоёв.
        Главным приоритетом при ведении является маршрут и подсказки по ведению
        Больше про слои здесь: https://wiki.yandex-team.ru/JandeksKarty/Тестинг/Navi/Чек-лист-мобильного-тестирования/#null
    - do: Построить маршрут проходящий через несколько ДС, запустить ведение по нему
    - assert: |
        - курсор перекрывает слой линий (улиц)
        - контекстный балун перекрывает все слои - рекламные пины, билборды и тд (если встречаются на маршруте)
        - сниппет с информацией о точке парковки перекрывает линию маршрута, пои

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Логика показа и скрытия таббара:
    - info: |
        **Проверку необходимо делать как при включенной, так и при выключенной настройки  Use pure platform layout
         **Use pure platform layout  - это настройка для изменения внутренней реализации работы виджетов. Для нас ничего не должно поменяться, как при включенной, так и при выключенной настройки.****
        Включение:  Developer Settings-Misc-Use pure platform layout
    - do: Разлогиниться в приложении
    - do: |
        Запустить навигатор, включить настройку Use pure platform layout(Developer Settings-Misc-Use pure platform layout- On)
        Перезапустить приложение
    - assert: Настройка включается, открывается навигатор на экране `"карта"`. Над таббаром отображаются сайджесты ( если не было поездок, их не будет)
    - do: Тап на поиск( Лупу)
    - assert: Таббар не исчезает( При поиске мяк исчезает, пока такое поведение-ок)
    - do: Построить любой маршрут, запустить симуляцию, подождать около 10 секунд, тап на экран карты
    - assert: Маршрут строится, таббар пропадает, при клике появляется
    - do: Во время введение по маршруту с отображаемым таббаром тап на `"мое местоположение"`
    - assert: таббар скрывается
    - do: Перейти в меню и начать скролить сначала вниз, потом вверх
    - assert: При скроле вниз таббар исчезает, при скроле вверх появляется
    - do: Перейти на экран карты, отображается таббар с кнопками с лево-направо поиск, карта, музыка(если включена), мои места, меню. Перевернуть девайс в альбомную ориентацию и посмотреть расположение кнопок
    - assert: Кнопки отображаются в строго заданном порядке, в альбомной ориентации снизу-вверх в том же порядке
    - do: |
        Выключить настройку Use pure platform layout (Developer Settings-Misc-Use pure platform layout- Off)
        Перезапустить приложение
    - assert: Настройка выключается, приложение перезапускается и открывается на экран "Карта"
    - do: Повторить шаги с 2 по 6
    - assert: Изменений не происходит, все работает так же как и при включенной настройки Use pure platform layout

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Контейнерный UI. Переход по табам. (Эксп выключен):
    - description: |
        Проверку необходимо делать как при включенной, так и при выключенной настройки Use pure platform layout
        Use pure platform layout - это настройка для изменения внутренней реализации работы виджетов. Для нас ничего не должно поменяться, как при включенной, так и при выключенной настройки.
    - info: |
        - Выключить эксперимент
        Developer Settings-Misc-Use pure platform layout - Off
        Перезагрузить приложение
    - do: |
        При запуске приложения - открывается экран карты
        Тап на иконку меню в тапбаре -> Настройки -> Developer Settings -> Misc
    - assert: Настройка Use pure platform layout выключена
    - do: |
        Поочередно тап на кнопки "Поиск" ,"Карта", "Мои места"  и "Меню" на таббаре
    - assert: Контейнер с содержимым “выезжает” снизу плавно, без рывков
    - do: Поочередно тап на кнопки "Карта" и "Мои места" на таббаре
    - assert: Контейнер с содержимым “выезжает” снизу плавно, без рывков
    - do: Поочередно тап на кнопки “Карта” и "Меню" на нижней панели
    - assert: Контейнер с содержимым “выезжает” снизу плавно, без рывков
    - do: Переключаться кнопками на тапбаре между разделами Поиск, Мои места , Музыка и Меню
    - assert: Анимация перехода между разделами отсутствует, креша нет. Кнопки на таббаре отображаются корректно, имеют одинаковый размер, не наезжают друг на друга,сам таббар находится внизу

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Смена ориентации устройства:
    - info: |
        На устройстве включено смена режима (альбом / портрет)
        Запущен навигатор
    - do: |
        Проверить отображение карты в портретном режиме
    - assert: |
        Карта и элементы интерфейса отображаются корректно, нет налезаемых объектов
        Картинка не перевернута для пользователя
    - do: |
        Поменять ориентацию устройства в альбомную
    - assert: |
        Карта и элементы интерфейса изменили позициии в соответствии с новым расположением экрана (альбом), нет налезаемых объектов
        Картинка не перевернута для пользователя
    - do: |
        Повернуть устройство на 180 градусов, что бы передняя камера устройства оказалась внизу. (Для Андройда работает не на всех устройствах, не работает на iPhon’ax старше 8)
    - assert: |
        Навигатор отображается в портретной ориентации
        Картинка не перевернута для пользователя

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Построение маршрута с JSON кастомизацией:
    - description: |
        **Как проверять**:
        Есть JSON, которые можно видоизменять (указывать другие цвета) и сам JSON закидывать  на pastebin.com.
        Оттуда копируем урл и забиваем его в Dev > Navi Styles > Debug style url
        Пример JSON:
        Полный джсон выглядит так
        `{
                "version": "1",
                "route": {
                    "gradientLength": "8",
                    "main": {
                        "jams": {
                            "blocked": "#1A1A1A",
                            "free": "#82EA0E",
                            "hard": "#FF5413",
                            "light": "#FFFF41",
                            "unknown": "#A0A0A0",
                            "veryHard": "#932100",
                            "offline": "#177EE6"
                        },
                        "outline": {
                            "color": "#000000"
                        },
                        "maneuver": {
                            "minZoom": "13",
                            "fill": "#FFFFFF",
                            "outline": {
                                "color": "#308B0A"
                            }
                        }
                    },
                    "alternative.night": {
                        "color": "#B05CD1"
                    },
                    "alternative": {
                        "color": "#4775CB",
                        "outline": {
                            "color": "#28406D"
                        }
                    }
                }
            }`
        Ради тестов писать что-нибудь такое
        `{
            "route.gradientLength": "20",
            "route.main.jams.free": "#0000FF",
            "route.main.jams.light": "#00FFa0",
            "route.alternative.night.color": "#FFFFFF",
            "route.alternative.color": "#00ff00"
        }`
    - info: |
        Открыт сайт pastebin.com
        В полный JSON внести изменения в цвета и создать урл на pastebin.com . (например, https://pastebin.com/raw/Rex3waHb / https://pastebin.com/raw/KsT4fQCQ)
        Созданный урл вбить в поле в настройках: Dev > Navi Styles > Debug style url
        Включить автоматическую смену дня и ночи:  DevSettings -> Misc -> Fast day&night switching вкл
        Перезагрузить навигатор
    - do: Построить маршрут любым способом
    - assert: |
        Строится маршрут.
        Сам маршрут и альтернативы окрашиваются в цвета указанные в JSON
    - do: |
        Внести ошибку в JSON (не поставить #  у цвета, либо цвет несуществующий указать #abcdefh) и создать урл на pastebin.com . (например, https://pastebin.com/raw/b5BfrN4k)
        Перейти в навигатор Dev > Navi Styles > Debug style url -> Вбить полученный урл
        Перезагрузить навигатор
        Построить маршрут любым способом
    - assert: |
        Строится маршрут.
        Сам маршрут и альтернативы окрашиваются в стандартные цвета (по умолчанию:
        __Дневная тема:__
        Маршрут зелено -желто-красный
        Альтернатива - синяя (могут быть темные участки на пути, где встречаются красные и бордовые пробки)
        __Ночная тема:__
        Маршрут -  зелено -желто-красный
        Альтернатива - фиолетовая (могут быть темные участки на пути, где встречаются красные и бордовые пробки))

    - platforms:
        - ios
        - android


  Изменение стиля оснвной линии маршрута через JSON кастомизацию для ночной темы:
    - description: |
        В данном кейсе проверяется возможность изменеия стиля линии маршрута.
        Линии маршрута бывают основной (окрашенная согласно обстановке по нему), альтернативной (неактивная линия другого варианта, как доехать), парковочный. Так же, делятся UI на дневное отображение и ночное.
        Дефолтный JSON  для темной темы выглядит так:
         {
             "route": {
                 "arcApproximationStep": "25.71428571",
                 "outlineWidth": "0",
                 "turnRadius": "6",
                 "main.night": {
                     "maneuver": {
                         "triangleHeightScale": "1.5",
                         "outlineWidth": {
                             "from": "0.8",
                             "to": "1.9"
                         },
                         "length": {
                             "from": "50",
                             "to": "90"
                         }
                     },
                     "widthScale": "1"
                 }
             }
           где, параметры  outlineWidth - ширина обводки маршрута, turnRadius - радиус поворота маршрута, triangleHeightScale - высота стрелки маневра, outlineWidth - ширина обводки стрелки маневра, length - длина стрелки маневра, widthScale - ширина маршрута
    - info: |
        Для проверки используется настройка Dev > Navi Styles > Debug style url, а так же сервис pastebin.com.
        Открыт сайт pastebin.com.
        Необходимо в дефолтный JSON внести изменения в параметры из description  и создать урл. Для этого на сервисе pastebin в поле New Paste прописываем дефолтный JSON, вносим изменения в указанные ранее параметры, задаем ему имя и тапаем по create New Paste. В открывшимся окне тапаем по raw и открывшейся url в дальнейшем используем в настройках.
        Например, URL с изменениями выглядит так https://pastebin.com/raw/A3LpUyvv
        Включить в Меню-Настройки-Карта и Интерфейс - Ночной режим
        Перезапустить навигатор.
    - do: Построить маршрут.
        Тап на Поехали (проверка дефолтного стиля)
    - assert: Маршурт строится и после его подтверждения происходит переход в режим ведения.
        Запомнить ширину маршрута и ширину обводки маршрута.
    - do: Включить в Меню-Настройки-Карта и Интерфейс - Дневной режим (проверка дефолтного стиля).
    - assert: Запомнить ширину маршрута и ширину обводки маршрута в светлой теме.
    - do: Включить в Меню-Настройки-Карта и Интерфейс - Ночной режим
        В настройках Dev > Navi Styles > Debug style url прописать URL, полученный в pastebin или взять готовый https://pastebin.com/raw/A3LpUyvv
        Перезапустить навигатор.
    - assert: Креши отсутствуют.
    - do: Построить маршрут.
    - assert: Изменилась ширина маршрута и ширина обводки маршрута согласно новому JSON. Например, если использовать URL из примера, то ширина маршрута будет огромной, и ширина обводки жирной.
    - do: Сбросить маршрут.
        Включить в Меню-Настройки-Карта и Интерфейс - Дневной режим
        Построить маршрут.
    - assert: Ширина маршрута снова стала дефолтной. Ширина обводки соответствует новому JSON (т.е. остается жирной, как и при ночном маршруте)

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Изменение стиля основной линии маршрута через JSON кастомизацию для дневной темы:
    - description: |
        В данном кейсе проверяется возможность изменеия стиля линии маршрута.
        Линии маршрута бывают основной (окрашенная согласно обстановке по нему), альтернативной (неактивная линия другого варианта, как доехать), парковочный. Так же, делятся UI на дневное отображение и ночное.
        Дефолтный JSON  для дневной темы выглядит так:
        {
        "route": {
              "arcApproximationStep": "25.71428571",
              "outlineWidth": "0",
              "turnRadius": "6",
              "main": {
                  "maneuver": {
                      "triangleHeightScale": "1.5",
                      "outlineWidth": {
                          "from": "0.8",
                          "to": "1.9"
                      },
                      "length": {
                          "from": "50",
                          "to": "90"
                      }
                  },
                  "widthScale": "1"
              }
          }
        }
           где, параметры  outlineWidth - ширина обводки маршрута, turnRadius - радиус поворота маршрута, triangleHeightScale - высота стрелки маневра, outlineWidth - ширина обводки стрелки маневра, widthScale - ширина маршрута, length - длина стрелки маневра
    - info: |
        Для проверки используется настройка Dev > Navi Styles > Debug style url, а так же сервис pastebin.com.
        Открыт сайт pastebin.com.
        Необходимо в дефолтный JSON внести изменения в параметры из description  и создать урл. Для этого на сервисе pastebin в поле New Paste прописываем дефолтный JSON, вносим изменения в указанные ранее параметры, задаем ему имя и тапаем по create New Paste. В открывшимся окне тапаем по raw и открывшейся url в дальнейшем используем в настройках.
        Например, URL с изменениями выглядит так https://pastebin.com/raw/aQ8dniTM
        Включить в Меню-Настройки-Карта и Интерфейс - Дневной режим
        Перезапустить навигатор.
    - do: Построить маршрут (проверка дефолтного стиля)
    - assert: Маршрут строится и окрашен согласно дорожной обстановке по нему. Запомнить ширину маршрута и ширину обводки маршрута.
    - do: Сбросить маршрут.
        Включить в Меню-Настройки-Карта и Интерфейс - ночной режим.
        Построить маршрут (проверка дефолтного стиля).
    - assert: Маршрут строится и окрашен согласно дорожной обстановке по нему. Запомнить ширину маршрута и ширину обводки маршрута.
    - do: Сбросить маршрут.
        Включить в Меню-Настройки-Карта и Интерфейс - Дневной режим
        В настройках Dev > Navi Styles > Debug style url прописать URL, полученный в pastebin или взять готовый из примера.
        Перезапустить навигатор.
    - assert: креши отсутствуют.
    - do: Построить маршрут.
    - assert: Маршрут строится. Изменилась ширина маршрута и ширина обводки маршрута согласно новому JSON. Нампример, если взят URL из примера, то ширина маршрута будет огромной, а обводка маршрута жирной.
    - do: Сбросить маршрут.
        Включить в Меню-Настройки-Карта и Интерфейс - Ночной режим
        Построить маршрут.
    - assert: Ширина маршрута снова стала дефолтной. Ширина обводки соответствует новому JSON (т.е. осталась жирной)

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Сохранение стиля линии маршрута при смене день/ночь:
    - descrition: |
        В данном кейсе проверяется сохранение нового стиля линии маршрута при смене режима день/ночь.
        Дефолтный JSON  для дневной темы выглядит так:
                {
                "route": {
                      "arcApproximationStep": "25.71428571",
                      "outlineWidth": "0",
                      "turnRadius": "6",
                      "main": {
                          "maneuver": {
                              "triangleHeightScale": "1.5",
                              "outlineWidth": {
                                  "from": "0.8",
                                  "to": "1.9"
                              },
                              "length": {
                                  "from": "50",
                                  "to": "90"
                              }
                          },
                          "widthScale": "1"
                      }
                  }
                }
        где, параметры  outlineWidth - ширина обводки маршрута, turnRadius - радиус поворота маршрута, triangleHeightScale - высота стрелки маневра, outlineWidth - ширина обводки стрелки маневра, widthScale - ширина маршрута, length - длина стрелки маневра
    - info: |
        Для проверки используется настройка Dev > Navi Styles > Debug style url, а так же сервис pastebin.com.
        Открыт сайт pastebin.com.
        Необходимо в дефолтный JSON внести изменения в параметры из description  и создать урл. Для этого на сервисе pastebin в поле New Paste прописываем дефолтный JSON, вносим изменения в указанные ранее параметры, задаем ему имя и тапаем по create New Paste. В открывшимся окне тапаем по raw и открывшейся url в дальнейшем используем в настройках.
        Например, URL с изменениями выглядит так https://pastebin.com/raw/aQ8dniTM
        Включить в Меню-Настройки-Карта и Интерфейс - Дневной режим
        Перезапустить навигатор.
    - do: Построить маршрут (проверка дефолтного стиля)
    - assert: Маршрут строится и окрашен согласно дорожной обстановке по нему. Запомнить ширину маршрута и ширину обводки маршрута.
    - do: Сбросить маршрут.
        Включить в Меню-Настройки-Карта и Интерфейс - ночной режим.
        Построить маршрут (проверка дефолтного стиля).
    - assert: Маршрут строится и окрашен согласно дорожной обстановке по нему. Запомнить ширину маршрута и ширину обводки маршрута.
    - do: Сбросить маршрут.
        Включить автоматическую смену дня и ночи в  DevSettings -> Misc -> Fast day&night switching вкл.
        В настройках Dev > Navi Styles > Debug style url прописать URL, полученный в pastebin или взять готовый из примера.
        Перезапустить навигатор.
    - assert: креши отсутствуют.
    - do: Построить маршрут пока карта навигатора находится в дневной/светлой теме.
    - assert: Маршрут строится. Изменилась ширина маршрута и ширина обводки маршрута согласно новому JSON. Нампример, если взят URL из примера, то ширина маршрута будет огромной, а обводка маршрута жирной.
    - do: Дождаться автоматической смены темы на темную/ночную.
    - assert: Сохраняется стиль согласно новому JSON.

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Общий сценарий построения и сброса маршрута:
    - info: |
        Эмулировать местоположение 55.733842, 37.588144 (Льва Толстого 16)
        Эмулятор в портретном режиме
    - do: Запустить приложение
    - assert: |
        Приложение запускается, не крашится. На экране присутствуют элементы:
        Погода
        ДС
        Алиса
        Парковки (enabled)
        Пробки
        Кнопки масштаба
        Кнопка "Север всегда сверху"
        Кнопка "Стрелка"
        Панель с кнопками "Поиск", "Карта", "Избранное", "Меню"
    - do: Сделать лонгтап по любой точке на карте
    - assert: |
        Появляется меню с заголовками Маршрут и Точка
        В меню есть 8 кнопок, кнопки "через" и "сбросить" задизейблены
    - do: Повернуть телефон в ландшафтный режим
    - assert: Меню с кнопками не пропадает
    - do: Тап на кнопку "сюда"
    - assert: Появляются табы с выбором времени и кнопки "Поехали" и "Отмена".
    - do: Повернуть телефон в портретный режим
    - assert: Кнопки не пропадают, предложенные варианты остаются прежними.
    - do: Тап “Поехали!"
    - assert: Отображается панель с полным маршрутом, а так же ближайший поворот и расстояние до него.
    - do: Повернуть телефон в ландшафтный режим
    - assert: Все элементы (общая длина маршрута, ближайший маневр, ограничение скорости) остаются на экране
    - do: Тап по экрану
    - assert: |
        Откроется больше элементов управления: установка дорожного события, голосовой помощник, значок парковки, кнопки + и -, кнопка “Стрелка”, кнопка “север всегда наверху”
        Через 3 секунды, если ничего не делать с девайсом, кнопки пропадают.
    - do: |
        Повернуть телефон в портретный режим
        Тап по экрану
        Тап на кнопку X в нижней панели
    - assert: Отобразился поп-ап “Вы дейсвительно хотите сбросить маршрут?”
    - do: |
        Повернуть телефон в ландшафтный режим
        Тап “Да”
    - assert: |
        Поп-ап сохраняется при повороте
        После нажатия “Да” маршрут сбрасывается.

    - platforms:
        - ios
        - android
    - integration_run:
        - search
    - tags:
        - assessors


  Новая иконка избранного в неактивном состоянии:
    - info: |
        - Developer Settings -> Misc -> Show new bookmarks icon in tabbar - ON
        - Developer Settings -> Misc -> Fast day & night switching - ON
        - Состояния новой иконки: https://jing.yandex-team.ru/files/vadfed/new_bookmarks.png
    - do: Перейти на главный экран приложения в вертикальной ориентации при дневной теме
    - assert: Новая иконка избранного в таббаре слева от кнопки меню расположена, как в примере, и неактивна (серая)
    - do: Сменить ориентацию на горизонтальную при дневной теме
    - assert: Новая иконка избранного в таббаре ниже кнопки меню расположена, как в примере, и неактивна (серая)
    - do: Дождаться смены темы на ночную
    - assert: Новая иконка избранного в таббаре ниже кнопки меню расположена, как в примере, и неактивна (серая)
    - do: Сменить ориентацию на вертикальную при ночной теме
    - assert: Новая иконка избранного в таббаре слева от кнопки меню расположена, как в примере, и неактивна (серая)

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_navi
    - tags:
        - assessors

  Новая иконка избранного в активном состоянии:
    - info: |
        - Developer Settings -> Misc -> Show new bookmarks icon in tabbar - ON
        - Developer Settings -> Misc -> Fast day & night switching - ON
    - do: Тап на иконку закладок в вертикальной ориентации при дневной теме
    - assert: Новая иконка избранного расположена слева от кнопки меню, UI иконки не искажен, активна (синяя)
    - do: Сменить ориентацию на горизонтальную при дневной теме
    - assert: Новая иконка избранного расположена ниже кнопки меню, UI иконки не искажен, активна (синяя)
    - do: Дождаться смены темы на ночную
    - assert: Новая иконка избранного расположена ниже кнопки меню, UI иконки не искажен, активна (белая)
    - do: Сменить ориентацию на вертикальную при ночной теме
    - assert: Новая иконка избранного расположена слева от кнопки меню, UI иконки не искажен, активна (белая)

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_navi
    - tags:
        - assessors


  Новая иконка избранного при переходе с экрана обзора:
    - info: |
        - Developer Settings -> Misc -> Show new bookmarks icon in tabbar - ON
        - Developer Settings -> Misc -> Fast day & night switching - ON
    - do: |
        - В вертикальной ориентации при дневной теме построить любой маршрут
        - Тап "Поехали"
    - assert: Новая иконка избранного расположена слева от кнопки меню, UI иконки не искажен, неактивна (серая)
    - do: |
        - В вертикальной ориентации при ночной теме построить новый маршрут
        - Тап "Поехали"
    - assert: Новая иконка избранного расположена слева от кнопки меню, UI иконки не искажен, неактивна (серая)
    - do: |
        - В горизонтальной ориентации при дневной теме построить новый маршрут
        - Тап "Поехали"
    - assert: Новая иконка избранного расположена ниже кнопки меню, UI иконки не искажен, неактивна (серая)
    - do: |
        - В горизонтальной ориентации при ночной теме построить новый маршрут
        - Тап "Поехали"
    - assert: Новая иконка избранного расположена ниже кнопки меню, UI иконки не искажен, неактивна (серая)

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_navi
    - tags:
        - assessors