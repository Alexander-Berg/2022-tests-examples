components: parking
testing:
  - regress
integration_run:
  - parking_pay

specs:
  Парковки - автоматическое отключение слоя:
    - info: |
        - Запустить приложение
        - Местоположение определяется в городе\зоне для которой присутствует информация о парковках
        - Зум установлен в диапазоне 15 - 17
        - Включить/выключить отображение зумов на карте можно через тычку `Developer Settings -> Map -> Map debug info enabled`
    - do: Включить отображение парковок
    - do: Закрыть приложение через меню мультизадачности
    - assert: Приложение выгрузилось
    - do: Запустить приложение
    - assert: Парковки отображаются
    - do: Свернуть и развернуть приложение
    - assert: Парковки отображаются
    - do: Заблокировать и разблокировать девайс
    - assert: Парковки отбражаются
    - do: Сменить ориентацию девайса
    - assert: Парковки отображаются
    - do: |
        - Проскролить карту
        - Отключить интернет (включить авио мод)
    - assert: Для проскроленного участка парковки отображаются
    - do: Отключить авио мод (включить интернет)
    - do: оставить приложение запущенным на 15+ минут
    - assert: Парковки отображаются
    - do: Свернуть приложение на 15+ минут
    - do: Запустить приложение
    - assert: Парковки выключены
    - do: Выгрузить приложение на 15+ минут
    - do: Запустить приложение
    - assert: Парковки выключены

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Просмотр истории парковок:
    - info: |
        - Пользователь авторизован
        - У пользователя добавлены данные об автомобиле
        - У пользователя были оплаченные парковки
    - do: Перейти в раздел "Настройки", "История" в карточке оплаты парковки
    - assert: Отображается список совершенных парковок
    - do: Тап на оплаченную парковку
    - assert: |
        Детали платежа корректно отображаются в формате
        - Дата и время начала парковки в формате - день-месяц-год | часы:минуты
        - Наименование парковки
        - Наименование ТС - имя и/или номер ТС
        - Общее время парковки
        - Общая стоимость парковки без учета комиссии

    - platforms:
      - motrex
      - autochip
      - second_run_hu


  Отдельный фидбек для парковочных зон и парковок:
    - do: |
        Для автомобильной парковки и парковочной зоны:
        - Включить парковочный слой
        - Тап по любой иконке парковки
        - Тап по строке "Исправить неточности" в карточке парковки
    - assert: |
        Открылось webview - поля формы заполнены корректными данными соответствующими выбранной парковочной зоне или парковке. https://yadi.sk/i/z6Yzxx4O3N9ABg

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Проверка отсутствия оплаты парковок:
    - description: |
        - Оплата парковок неактуальная для каршеринга. Платные парковки бесплатны для машин каршеринга.
        - Не должно быть настроек оплаты парковок в меню, кнопки "Оплатить" в парковочных балунах.
        - На мобильных девайсах доступность оплаты парковок зависит от местоположения.
        - Для новых OEM'ов (VW Polo, Haval, Motrex-1, Motrex Santa Fe, Autochip) наличие данной кнопки ожидаемо
    - do: |
        - Находиться в Москве
        - Перейти на парковочный слой
        - Тап на пин платной парковки
    - assert: В балуне нет кнопки "Оплатить"
    - do: Перейти в меню
    - assert: |
        - В меню нет пункта "Парковка"
        на ГУ КШ нет возможности изменить местоположение на Москву, поэтому нет возможности проверить отсутствие кнопки в Меню
    - do: Авторизоваться пользователем у которого оплачена парковка
    - assert: На экране карты не появляется таймер оплаты парковки

    - platforms:
      - motrex
      - autochip
      - carsharing_t3
    - testing:
      - acceptance_navi


  Успешное удаление автомобилям по умолчанию:
    - info: |
        - У пользователя есть 2 добавленных номера авто. Один из номеров авто установлен по умолчанию
        - Пользователь авторизован
        -  авторизован к кошельке
        - Местоположение Москва
    - do: |
        - Перейти в меню навигатора
        - Выбрать пункт Парковки > Автомобили
    - assert: |
        - Открывается экран со списком добавленных автомобилей
        - В списке отображаются привязанные авто
        - Под выбранном по умолчанию авто написано, что он выбран по умолчанию.
    - do: Свайп по любому автомобилю
    - assert: |
        - Анимация "отъезжания элемента списка в сторону"
        - Отображается иконка урны (android)/слово "Удалить" (iOS)
        - Выводится предложение об удалении автомобиля
        - У автомобиля по умолчанию также присутствует анимация
    - do: Удалить авто выбранное по умолчанию

    - platforms:
        - ios
        - android
        - motrex
        - autochip
        - second_run_hu


  Удаление всех автомобилей:
    - info: |
        - У пользователя есть 2 добавленных номера авто. Один из номеров авто установлен по умолчанию
        - Пользователь авторизован в навигаторе
        - Пользователь авторизован к кошельке
        - Местоположение Москва
    - do: |
        Перейти в меню навигатора
        Выбрать пункт Парковки > Автомобили
    - assert: |
        - Открывается экран со списком добавленных автомобилей
        - В списке отображаются привязанные авто
        - Под выбранном по умолчанию авто написано, что он выбран по умолчанию.
    - do: Свайп влево по любому автомобилю
    - assert: |
        -  иконка урны (android)/слово "Удалить" (iOS)
        - Выводится предложение об удалении автособиля
        - У автомобиля по умолчанию также присутствует анимация
    - do: Удалить оба автомобиля

    - platforms:
        - ios
        - android
        - motrex
        - autochip
        - second_run_hu


  Отображение парковочного слоя:
    - info: Парковочный слой отключен
    - do: Тап по кнопке P
    - assert: |
        - Парковочный слой включается
        - Кнопка “Р” становится синей
    - do: Тап по кнопке P
    - assert: |
        - Парковочный слой выключается
        - Кнопка "Р" становится серой
    - do: Лонгтап по кнопке Р
    - assert: |
        - Парковочный слой включается
        - Происходит построение парковочного маршрута
        - Кнопка “Р” становится синей
    - do: Сбросить маршрут
    - assert: |
        - Маршрут сброшен
        - Парковки отображаются
        - Кнопка “Р” синего цвета
    - do: |
        - Изменить зум карты на самый дальний
        - Плавно увеличивать зум и следить за объектами на карте
    - assert: |
        Порядок появления объектов на карте по мере увеличения зума:
        - становится активной кнопка P (голубой цвет меняется на синий)
        - отображаются шильдики с ценой
        - отображаются линии парковки, пины парковочных зон и парковочные зоны
        - вместо шильдиков с ценой отображаются ценники
    - do: Тап на шильдик с ценой
    - assert: Происходит призумливание до того масштаба, когда шильдики превращаются в ценники

    - platforms:
      - motrex
      - autochip
    - testing:
      - acceptance_navi


  Карточка парковки. Открытие через парковочный слой:
    - info: |
        - Dev set -> Parking -> parking_landing_ampp_url указан любой url (например, https://www.google.ru)
        - Местоположение - Москва
        - После подмены местоположения и включения эксперимента перезапустить приложение
    - do: Включить парковочный слой
    - assert: На карте отображаются пины парковок
    - do: |
        Тап по изображению платной парковки
        ![image](https://jing.yandex-team.ru/files/natalya-ovs/photo_2019-12-09_17-49-53%202.jpg)
    - assert: Открыта карточка парковки
    - do: Свайп вверх карточку парковки
    - assert: Информация о парковке полностью отображается
    - do: |
        - Сменить ориентацию девайса
        - Тап по изображению бесплатной парковки
    - assert: |
        - Открыта карточка парковки
        - Информация из описания полностью отображается
    - do: Открыть карточку парковки с шильдиком стоимости
    - assert: |
        На карточке парковки присутствует кнопка Как Оплатить
        **(на ГУ КШ - Кнопка “Как оплатить” отсутствует!
        На ГУ Motrex кнопка "Как Оплатить" отсутствует)**

    - platforms:
      - ios
      - carsharing_t3
      - t3am
      - motrex
      - autochip
      - geely
    - tags:
        - assessors
        - mapkit_ready
    - testing:
      - acceptance_navi


  Построение парковочного маршрута лонгтапом по кнопке Парковочного слоя:
    - info: Парковочный слой выключен
    - do: Выполнить лонгтап по кнопке парковочного слоя
    - assert: |
        - Текущий маршрут сброшен
        - Звучит аннотация "Начинаем поиск парковки"
        - Строится парковочный маршрут от текущего местоположения
        - Кнопка “Р” становится синей

    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit
    - platforms:
      - motrex
      - geely
      - vaz
      - carsharing_t3
      - ios
      - android
      - t3am
      - autochip
      - second_run_hu
    - tags:
        - assessors
        - mapkit_ready


  Построение парковочного маршрута по кнопке:
    - info: |
        Включить парковочный слой тапом по кнопке P
    - do: Тап по кнопке построения парковочного маршрута (находится рядом с кнопкой парковочного слоя)
    - assert: |
        - Строится парковочный маршрут от текущего местоположения
        - Звучит аннотация "Начинаем поиск парковки"

    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit
      - myspin
    - platforms:
      - motrex
      - nissan
      - renault
      - geely
      - vaz
      - carsharing_t3
      - ios
      - android
      - t3am
      - autochip
      - second_run_hu
    - tags:
        - assessors
        - both_myspin
        - mapkit_ready


  Обзор парковочного маршрута:
    - info: |
        - Построить парковочный маршрут. Для этого: активировать слой с парковками - тап кнопку построения маршрута до парковки, под кнопкой активации слоя с парковками
    - do: Тап на кнопку "Обзор" в таббаре
    - assert: |
        - Происходит переход на экран обзора маршрута
        - В карточке обзора маршрута отображается иконка парковочного маршрута и сообщение "Маршрут для поиска парковки"

    - testing:
      - acceptance_navi
    - platforms:
      - motrex
      - geely
      - vaz
      - carsharing_t3
      - ios
      - android
      - t3am
      - autochip
      - second_run_hu
    - tags:
        - assessors


  Сброс парковочного маршрута тапом на крестик:
    - do: Активировать слой с парковками на главном экране приложения
    - do: Тап на кнопку построения маршрута до парковки
    - do: Сбросить текущий маршрут тапом на крестик на плашке ETA
    - assert: |
        - Маршрут сброшен
        - На карте отображается парковочный слой

    - testing:
      - acceptance_navi
    - platforms:
      - motrex
      - geely
      - vaz
      - carsharing_t3
      - ios
      - android
      - t3am
      - autochip
      - second_run_hu
    - tags:
        - assessors


  Сброс парковочного маршрута через экран обзора:
    - info: Построить парковочный маршрут любым способом
    - do: |
        Тап на кнопку "Обзор" в таббаре
        Тап на кнопку "Сброс" на карточке обзора
    - assert: |
        - Маршрут сброшен
        - Отображается парковочный слой

    - testing:
      - acceptance_navi
    - platforms:
      - motrex
      - geely
      - vaz
      - carsharing_t3
      - ios
      - android
      - t3am
      - autochip
      - second_run_hu
    - tags:
        - assessors


  Движение по парковочному маршруту:
    - do: |
        - Построить парковочный маршрут любым способом, например, лонгтап по кнопке парковочного слоя
        - Тап на “Поехали”
        - Запустить симуляцию движения по маршруту
    - assert: начинается движение по парковочному маршруту
    - do: Дождаться приезда в конечную точку
    - assert: |
        - Маршрут сбрасывается
        - Звучит аннотация "Вы приехали"
        - Отображается парковочный слой

    - testing:
      - acceptance_navi
    - platforms:
      - motrex
      - geely
      - vaz
      - carsharing_t3
      - ios
      - android
      - t3am
      - autochip
      - second_run_hu
    - tags:
        - assessors


  Включение парковочного слоя:
    - info: Парковочный слой отключен
    - do: Тап по кнопке P
    - assert: |
        - Парковочный слой включается
        - Кнопка “Р” становится синей

    - platforms:
      - renault
      - geely
      - carsharing_t3
      - ios
      - android
      - vaz
      - nissan
      - t3am
    - tags:
        - assessors
        - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Выключение парковочного слоя:
    - info: Парковочный слой включен
    - do: Тап по кнопке P
    - assert: |
        - парковочный слой выключается
        - кнопка "Р" становится прозрачной

    - platforms:
      - renault
      - geely
      - carsharing_t3
      - ios
      - android
      - vaz
      - nissan
      - t3am
    - tags:
        - assessors
        - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Тап по шильдикам с ценами на  парковочном слое:
    - info: |
        - Включить парковочный слой по кнопке P
        - В навигаторе установлен зум от 13,5 до 15,5
        - Включить/выключить отображение зумов на карте можно через тычку `Developer Settings -> Map -> Map debug info enabled`
    - do: Тап на шильдик с ценой
    - assert: Происходит призумливание до того масштаба, когда шильдики превращаются в ценники

    - platforms:
      - renault
      - geely
      - carsharing_t3
      - ios
      - android
      - vaz
      - nissan
      - t3am
    - tags:
        - assessors
        - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Отображение слоя "Парковки поблизости" при тапе на "Что здесь":
    - info: |
        - Выключить слой пробок
        - Выключить слой парковок
    - do: |
        - Лонгтап по любому месту на карте
        - Тап “Что здесь”.
    - assert: На карте установился пин (открывается балун), вокруг этого пина в радиусе 400 м отображаются парковки.
    - do: Перетащить пин "Что здесь" в другое место карты
    - assert: Отображаются те же парковки, что и в шаге 1.
    - do: Тап в произвольном месте карты
    - assert: |
        - Карточка точки закрывается
        - Слой ПП скрывается

    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit
    - platforms:
      - carsharing_t3
      - ios
      - android
      - t3am
      - motrex
      - autochip
      - second_run_hu
    - tags:
      - assessors
      - mapkit_ready


  Отображение слоя "Парковки поблизости" у пина результатов поиска:
    - info: |
        - Выключить слой пробок
        - Выключить слой парковок
    - do: Выполнить поиск любым способом, тап по любому пину из результатов поиска.
    - assert: У этого пина открывается балун и вокруг него отображается слой ПП.

    - platforms:
      - renault
      - carsharing_t3
      - ios
      - t3am
      - nissan
    - tags:
      - assessors
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Отображение слоя "Парковки поблизости" около POI:
    - info: |
        - Выключить слой пробок
        - Выключить слой парковок
    - do: Тап по любому POI
    - assert: На карте вокруг пина отображается слой ПП
    - do: Тап по любому месту на карте
    - assert: |
        - Карточка POI закрывается
        - Слой ПП скрывается

    - platforms:
      - renault
      - carsharing_t3
      - ios
      - t3am
      - nissan
    - tags:
      - assessors
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Отображение парковочного слоя при разном зуме:
    - info: |
        - Меню - Настройки - Dev Setting - Misc - Debug info enable - On
        - Перезагрузить приложение
        - Увеличить масштаб карты до z=10.
        - Включить парковки тапом по кнопке P
        - Включить/выключить отображение зумов на карте можно через тычку `Developer Settings -> Map -> Map debug info enabled`
    - do: Тап на кнопку зума до значения z=14
    - assert: |
        Кнопка парковки становится активной
        В крупных городах, например, в Москве, еще начинают отображаться шильдики с ценой
    - do: Тап на кнопку зума до значения z=15+
    - assert: Начинает отображаться слой парковок
    - do: Отзумить карту пальцами до значения z= от 14.50 до 13.48
    - assert: Слой парковок исчезает с карты
    - do: Отзумить карту пальцами до значения z= 13.49
    - assert: С карты исчезают шильдики, кнопка парковки становится неактивной (Бледно-голубой)

    - platforms:
      - renault
      - geely
      - carsharing_t3
      - ios
      - android
      - nissan
      - t3am
    - tags:
      - assessors
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Отображение слоя "Парковки поблизости" при лонгтапе на карте:
    - info: |
        - Выключить слой пробок;
        - Выключить слой парковок.
    - do: Лонгтап по любому месту на карте, тап “Что здесь”.
    - assert: На карте установился пин, открывается карточка, вокруг этого пина в радиусе 400 м отображаются парковки.
    - do: Перетащить пин "Что здесь" в другое место карты.
    - assert: Отображаются те же парковки, что и в шаге 1.
    - do: Тап по произвольному месту на карте.
    - assert: Карточка и парковки скрываются

    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit
    - platforms:
      - renault
      - nissan
    - tags:
      - assessors
      - mapkit_ready


  Построение парковочного маршрута при лонгтапе по кнопке P:
    - do: |
        Выполнить лонгтап в любой точке карты.
        В открывшемся меню тап кнопку "Сюда"
        Тап на "Поехали".
    - assert: Произошел переход в режим ведения
    - do: Выполнить лонгтап по кнопке парковочного слоя
    - assert: |
        - Текущий маршрут сброшен
        - Звучит аннотация "Начинаем поиск парковки"
        - Строится парковочный маршрут от текущего местоположения
    - do: Тап на кнопку "Обзор" в таббаре
    - assert: |
        - Происходит переход на экран обзора маршрута
        - В карточке обзора маршрута отображается иконка парковочного маршрута и сообщение "Маршрут для поиска парковки"
        На MySpin отображается только значок

    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
    - platforms:
      - renault
      - nissan
    - tags:
      - assessors
      - both_myspin


  Проверка аннотации "Вы приехали" при парковочном маршруте:
    - do: |
        Построить парковочный маршрут с помощью лонгтапа по кнопке Р
        Тап на "Поехали"
        Запустить debug-ведение
    - assert: Произошел переход в режим ведения
    - do: Дождаться приезда в конечную точку
    - assert: |
        - Маршрут сбрасывается
        - Звучит аннотация "Вы приехали"

    - integration_run:
      - myspin
    - platforms:
      - renault
      - nissan
    - tags:
      - assessors
      - both_myspin


  Наличие парковочного слоя в разных городах Турции:
    - do: Скроллить карту на Турцию на один из крупных городов
    - assert: Открыта карта Турции
    - do: Включить парковочный слой тапом по кнопке P
    - assert: На карте отображается парковочный слой

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - mapkit_ready
    - integration_run:
      - mapkit


  Отсутствие кнопки "исправить неточность" на ГУ:
    - info: |
        Проверка на Я.Авто
    - do: |
        - Включить парковочный слой
        - Тап по любой иконке парковки
        - Тап по открывшемуся балуну
    - assert: В открывшемся окне строка “Исправить неточность” отсутствует

    - platforms:
      - vaz
      - carsharing_t3
      - nissan


  Парковки. Парковочный сниппет:
    - info: |
        - Меню - Настройки - Dev settings -> Parking - Display route parking point - On
        - Перезапустить приложение
    - do: Строим маршрут, например, до ВШЭ (Москва, Покровский бульвар 11)
    - assert: Маршрут строится, открывается экран обзора
    - do: Не выходя из обзора приблизить карту к точке финиша
    - assert: |
        - На близком зуме появляется парковочный сниппет "Здесь паркуются" со значком парковки
        - Верстка не сломана
        - Внизу сниппета отображается время до финиша мелким текстом
    - do: Повернуть карту, поскроллить, увеличить масштаб карты
    - assert: Вертска парковочного сниппета не ломается

    - integration_run:
      - mapkit
    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - mapkit_ready


  Парковочный маршрут на финише:
    - info: |
        - Включить эксперимент: Developer settings - Parking - Autoparking route enabled - On и Developer settings - Parking - Debug parking polygons on map - On
        - Перезапустить приложение
        - На карте должены отобразиться полигоны голубого цвета (центр Москвы и центр Тулы) для удобства подменить местоположение в пределах полигона
    - do: Построить маршрут к кафе/ресторану находящемуся в пределах полигона через карточку организации тапом по кнопке "Маршрут"
    - assert: Строится маршрут до указанной точки
    - do: Запустить симуляцию движения и дождаться пока курсор доедет до финиша
    - assert: |
        - Когда курсор оказывается на финише строится парковочный маршрут по соседним улицам
        - Звучит аннотация о парковочном маршруте
        - В плашке ЕТА отображается знак парковочного маршрута
        (Курсор может не продолжить двигаться по парковочному маршруту, багом не является, так как это особенность симуляции)
    - do: |
        - Сбросить парковочный маршрут тапом по крестику в плашке ЕТА
        - Подтвердить сброс маршрута тапом "Да"
    - assert: Парковочный маршрут сбросился

    - testing:
      - acceptance_navi
    - platforms:
      - ios
      - android
    - tags:
      - assessors


  Сброс парковочного маршрута:
    - info: |
        - Включить экспериминет: Developer settings - Parking - Autoparking route enabled - On и Developer settings - Parking - Debug parking polygons on map - On
        - Перезапустить приложение
        - На карте должены отобразиться полигоны голубого цвета (центр Москвы и центр Тулы) для удобства подменить местоположение в пределах полигона
    -  do: |
        - Построить маршрут к кафе/ресторану находящемуся в пределах полигона через карточку организации тапом по кнопке "Маршрут"
        - Запустить симуляцию движения
        - Дождаться пока курсор доедет до финиша
    - assert: На финише строится парковочный маршрут
    - do: Сбросить парковочный маршрут, тапом по крестику в плашке ЕТА и сбросить симуляцию движения на дебаг-панели.
    - assert: Парковочный маршрут сброшен
    - do: |
        - Вновь построить маршрут (к той же самой точке)
        - Запустить симуляцию движения (лучше короткий маршрут)
        - Дождаться завершения поездки до финиша
        - При завершении маршрута автоматически построится парковочный маршрут
        - Сбросить его, тапом по крестику в плашке ЕТА и сбросить симуляцию движения на дебаг-панели.
    - assert: Парковочный маршрут к точке сброшен (второй раз подряд)
    - do: |
        - Вновь построить маршрут (к той же самой точке)
        - Запустить симуляцию движения (лучше короткий маршрут)
        - Дождаться завершения поездки до финиша
        - При завершении маршрута автоматически построится парковочный маршрут
        - Сбросить его, тапом по крестику в плашке ЕТА и сбросить симуляцию движения на дебаг-панели.
    - assert: Парковочный маршрут к точке сброшен (третий раз подряд)
    - do: |
        Вновь построить маршрут (лучше короткий)
        Запустить симуляцию и дождаться пока курсор доедет до финиша
    - assert: Парковочный маршрут не строится

    - testing:
      - acceptance_navi
    - platforms:
      - ios
      - android
    - tags:
      - assessors


  Парковки - Новый парковочный слой - Ценники в Ростове-на-Дону:
    - info: |
        - Открыт спан карты над Ростовом-на-Дону
        - Включить/выключить отображение зумов на карте можно через тычку `Developer Settings -> Map -> Map debug info enabled`
    - do: Установить зум в диапазоне 15 - 17
    - do: Включить отображение парковок
    - assert: У включенного парковочного слоя отображаются шильдики с ценой 35 руб
    - do: Тап по любому шильдику, чтобы открылась парковочная карточка. Проскроллить карточку до поля с ценой
    - assert: Цена на шильдике совпадает с ценой в карточке.

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Парковки - Новый парковочный слой - Запрещенное место для парковки в Ереване:
    - info: |
        - Для отключения слоя/переключения на старый можно воспользоваться интентом:
        `yandexnavi://add_exp/MAPS_RENDERER?experimental_carparks_cartograph_design=0`
    - info: |
        - Открыт спан карты над Ереваном
        - Включить/выключить отображение зумов на карте можно через тычку `Developer Settings -> Map -> Map debug info enabled`
    - do: Установить зум в диапозоне 15 - 17
    - do: Включить отображение парковок
    - assert: У включенного парковочного слоя отображаются как разрешенные парковки (синии линии), так и запрещенные места для парковок (красные линии)

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Карточка парковочного сниппета:
    - info: |
        - Меню - Настройки - Dev settings -> Parking - Display route parking point - On
        - Перезапустить приложение.
    - do: Строим маршрут, например, до ВШЭ (Москва, Покровский бульвар 11)
    - assert: Маршрут строится, открывается экран обзора
    - do: Не выходя из обзора yменьшить масштаб карты к точке финиша
    - assert: На близком зуме появляется парковочный сниппет "Здесь паркуются" со значком парковки.
    - do: Тап на парковочный сниппет
    - assert: |
        - Открывается карточка парковочного сниппета в которой отображается время и расстояние до парковки
        - На карте отображается только пин парковки без сниппета
    - do: Закрыть карточку парковки тапом по крестику
    - assert: Карточка закрывается, на карте отображается сниппет парковки

    - integration_run:
        - mapkit
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready


  Парковочный маршрут вне полигона:
    - info: |
        - Включить эксперимент: Developer settings - Parking - Autoparking route enabled - On и Developer settings - Parking - Debug parking polygons on map - On
        - Перезапустить приложение
        - На карте должены отобразиться полигоны голубого цвета (центр Москвы и центр Тулы) для удобства подменить местоположение в пределах полигона
        - Вид полигона
        ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - do: Построить маршрут к кафе/ресторану находящемуся ВНЕ пределах полигона через карточку организации тапом по кнопке "Маршрут"
    - assert: Строится маршрут до указанной точки
    - do: Запустить симуляцию движения и дождаться пока курсор доедет до финиша
    - assert: |
        - Когда курсор оказывается на финише парковочный маршрут не строится
        - Аннотация о парковочном маршруте не звучит

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Парковочный маршрут при настройке звука "Только важные":
    - info: |
        - Перейти в настройки - звуки и оповещения - звуковое сопровождение - "Включены оповещения о камерах, дорожных событиях и изменениях маршрута"
        - Включить эксперимент: Developer settings - Parking - Autoparking route enabled - On и Developer settings - Parking - Debug parking polygons on map - On
        - Перезапустить приложение
        - На карте должны отобразиться полигоны голубого цвета (центр Москвы и центр Тулы) для удобства подменить местоположение в пределах полигона
        - Вид полигона
        ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - do: Построить маршрут к кафе/ресторану находящемуся внутри пределах полигона через карточку организации тапом по кнопке "Маршрут"
    - assert: Строится маршрут до указанной точки
    - do: Запустить симуляцию движения и дождаться пока курсор доедет до финиша
    - assert: |
        - Когда курсор оказывается на финише парковочный маршрут строится
        - Аннотация о парковочном маршруте звучит

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Парковочный маршрут в оффлайне:
    - info: |
        - Скачать кеш карт текущего местоположения
        - Включить эксперимент: Developer settings - Parking - Autoparking route enabled - On и Developer settings - Parking - Debug parking polygons on map - On
        - Перезапустить приложение и отключить интернет
        - На карте должны отобразиться полигоны голубого цвета (центр Москвы и центр Тулы) для удобства подменить местоположение в пределах полигона
    - do: Построить маршрут к кафе/ресторану находящемуся внутри пределах полигона через карточку организации тапом по кнопке "Маршрут"
    - assert: Строится оффлайн маршрут до указанной точки
    - do: Запустить симуляцию движения и дождаться пока курсор доедет до финиша
    - assert: |
        - Когда курсор оказывается на финише парковочный маршрут НЕ строится
        - Аннотация о парковочном маршруте НЕ звучит

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Кнопка Как Оплатить вместо Оплатить в карточке парковки с открытием лендинга для Москвы:
    - info: |
        - Dev set -> Parking -> parking_landing_ampp_url указан любой url (например, https://www.google.ru)
        - Перезапустить приложение
        - Местоположение Москва
    - do: |
        - Включить парковочный слой
        - Тап по парковке с ценой
    - assert: |
        - Открывается карточка парковки
        - В карточке присутствует кнопка Как оплатить
    - do: Тап по кнопке Как оплатить
    - assert: |
        - Открывается url, указанный в значении эксперимента parking_landing_ampp_url

    - testing:
        - acceptance_navi
    - platforms:
        - ios
    - tags:
        - assessors


  Оплата парковки с помощью парковочного счета и завершение:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Произведена авторизация в аккаунт ParkingDaFine (пароль в [Секретнице](https://yav.yandex-team.ru/secret/sec-01fhzhaa3j09k5nz5qmpdwgazd/explore/versions))
        Добавлено авто
        Открыт спан карты Москвы
    - do: На экране карты выбрать парковку и тап по шильдику с ценой
    - assert: Открывается парковочный балун с номером парковочной зоны и кнопками "Оплатить" и "Поехали"
    - do: Тап на кнопку "Оплатить"
    - assert: |
        Произошел переход на экран выбора времени парковки
        По умолчанию выбрано 30 минут
        Отображается сумма, которая спишется с парковочного счета
    - do: Тап "Припарковаться"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии
        Отображаются:
            номером зоны
            временем парковки
            кнопки "Завершить" и "Продлить"
    - do: Тап "Завершить"
    - assert: |
        Экран активной парковочной сессии закрылся
        Открыт экран завершенной парковочной сессии
        Отображается:
          - Номер парковочной зоны
          - Название и госномер автомобиля
          - Длительность парковочной сессии
          - Стоимость
          - Кнопка "Закрыть"

    - platforms:
        - ios
        - android


  Оплата парковки с помощью парковочного счета и завершение через виджет:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Произведена авторизация в аккаунт ParkingDaFine (пароль в [Секретнице](https://yav.yandex-team.ru/secret/sec-01fhzhaa3j09k5nz5qmpdwgazd/explore/versions))
        Добавлено авто
        Открыт спан карты Москвы
    - do: На экране карты выбрать парковку и тап по шильдику с ценой
    - assert: Открывается парковочный балун с номером парковочной зоны и кнопками "Оплатить" и "Поехали"
    - do: Тап на кнопку "Оплатить"
    - assert: |
        Произошел переход на экран выбора времени парковки
        По умолчанию выбрано 30 минут
        Отображается сумма, которая спишется с парковочного счета
    - do: Тап "Припарковаться"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии
        Отображаются:
            номером зоны
            временем парковки
            кнопки "Завершить" и "Продлить"
    - do: Открыть главный экран приложения
    - assert: На главном экране отображается виджет парковок с обратным таймером отсчета
    - do: |
        Тап на виджет
        Тап "Завершить"
    - assert: |
        Экран активной парковочной сессии закрылся
        Открыт экран завершенной парковочной сессии
        Отображается:
          - Номер парковочной зоны
          - Название и госномер автомобиля
          - Длительность парковочной сессии
          - Стоимость
          - Кнопка "Закрыть"

    - platforms:
        - ios
        - android


  Оплата парковки с помощью парковочного счета + продление:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Произведена авторизация в аккаунт ParkingDaFine (пароль в [Секретнице](https://yav.yandex-team.ru/secret/sec-01fhzhaa3j09k5nz5qmpdwgazd/explore/versions))
        Добавлено авто
        Открыт спан карты Москвы
    - do: На экране карты выбрать парковку и тап по шильдику с ценой
    - assert: Открывается парковочный балун с номером парковочной зоны и кнопками "Оплатить" и "Поехали"
    - do: Тап на кнопку "Оплатить"
    - assert: |
        Произошел переход на экран выбора времени парковки
        По умолчанию выбрано 30 минут
        Отображается сумма, которая спишется с парковочного счета
    - do: Тап "Припарковаться"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии
        Отображаются:
            номером зоны
            временем парковки
            кнопки "Завершить" и "Продлить"
    - do: Тап "Продлить"
    - assert: |
        Произошел переход на экран выбора времени парковки
        По умолчанию выбрано 30 минут
        Отображается сумма, которая спишется с парковочного счета
    - do: Тап "Припарковаться"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии
        Отображаются:
            номером зоны
            временем парковки(время первой сессии + продление)
            кнопки "Завершить" и "Продлить"(не активна)
            плашка о возможности продления через N минут, где N - время первой сессии

    - platforms:
        - ios
        - android


  Оплата парковки с помощью парковочного счета + продление через виджет:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Произведена авторизация в аккаунт ParkingDaFine (пароль в [Секретнице](https://yav.yandex-team.ru/secret/sec-01fhzhaa3j09k5nz5qmpdwgazd/explore/versions))
        Добавлено авто
        Открыт спан карты Москвы
    - do: На экране карты выбрать парковку и тап по шильдику с ценой
    - assert: Открывается парковочный балун с номером парковочной зоны и кнопками "Оплатить" и "Поехали"
    - do: Тап на кнопку "Оплатить"
    - assert: |
        Произошел переход на экран выбора времени парковки
        По умолчанию выбрано 30 минут
        Отображается сумма, которая спишется с парковочного счета
    - do: Тап "Припарковаться"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии
        Отображаются:
            Номер зоны
            Время парковки
            Кнопки "Завершить" и "Продлить"
    - do: Открыть главный экран приложения
    - assert: На главном экране отображается виджет парковок с обратным таймером отсчета
    - do: |
        Тап на виджет
        Тап "Продлить"
    - assert: |
        Произошел переход на экран выбора времени парковки
        По умолчанию выбрано 30 минут
        Отображается сумма, которая спишется с парковочного счета
    - do: Тап "Припарковаться"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии
        Отображаются:
            Номер зоны
            Время парковки
            Кнопки "Завершить" и "Продлить"(не активна)
            Плашка о возможности продления через N минут, где N - время первой сессии

    - platforms:
        - ios
        - android


  Повторное продление парковки до завершения первой парковочной сессии:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Добавлено авто
        Открыт спан карты Москвы
    - do: На экране карты выбрать парковку и тап по шильдику с ценой
    - assert: Открывается парковочный балун с номером парковочной зоны и кнопками "Оплатить" и "Поехали"
    - do: Тап на кнопку "Оплатить"
    - assert: |
        Произошел переход на экран выбора времени парковки
        По умолчанию выбрано 30 минут
        Отображается сумма, которая спишется с парковочного счета
    - do: Тап "Припарковаться"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии
        Отображаются:
            Номер зоны
            Время парковки
            Кнопки "Завершить" и "Продлить"
    - do: Тап "Продлить"
    - assert: |
        Произошел переход на экран выбора времени парковки
        По умолчанию выбрано 30 минут
        Отображается сумма, которая спишется с парковочного счета
    - do: Тап "Припарковаться"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии
        Отображаются:
            Номер зоны
            Время парковки(время первой сессии + продление)
            Кнопки "Завершить" и "Продлить"(не активна)
            Плашка о возможности продления через N минут, где N - время первой сессии
    - do: Тап "Продлить"
    - assert: Кнопка не тапабельная

    - platforms:
        - ios
        - android


  Повторное продление парковки после завершения первой парковочной сессии:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Добавлено авто
        Открыт спан карты Москвы
    - do: На экране карты выбрать парковку и тап по шильдику с ценой
    - assert: Открывается парковочный балун с номером парковочной зоны и кнопками "Оплатить" и "Поехали"
    - do: Тап на кнопку "Оплатить"
    - assert: |
        Произошел переход на экран выбора времени парковки
        По умолчанию выбрано 30 минут
        Отображается сумма, которая спишется с парковочного счета
    - do: Тап "Припарковаться"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии
        Отображаются:
            Номер зоны
            Время парковки
            Кнопки "Завершить" и "Продлить"
    - do: Тап "Продлить"
    - assert: |
        Произошел переход на экран выбора времени парковки
        По умолчанию выбрано 30 минут
        Отображается сумма, которая спишется с парковочного счета
    - do: Тап "Припарковаться"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии
        Отображаются:
            Номер зоны
            Время парковки(время первой сессии + продление)
            Кнопки "Завершить" и "Продлить"(не активна)
            Плашка о возможности продления через N минут, где N - время первой сессии
    - do: |
        Подождать пока закончится первая парковочная сессия(не продление)
        Тап "Продлить"
        Тап "Припарковаться"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии
        Отображаются:
            Номер зоны
            Время парковки(время первого + второго продления)
            Кнопки "Завершить" и "Продлить"(не активна)
            Плашка о возможности продления через N минут, где N - время первой продленной сессии

    - platforms:
        - ios
        - android


##Минимальное время для парковки:
##  - info: |
##      dev.set - Mics - Testing mobmaps proxy enabled - on
##      dev.set - parking - new parking payment - on
##      dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
##      Пользователь авторизован в аккаунт с привязанным номером телефона
##      Добавлено авто
##      Открыт спан карты Москвы
##  - do: На экране карты выбрать парковку и тап по шильдику с ценой
##  - assert: Открывается парковочный балун с номером парковочной зоны и кнопками "Оплатить" и "Поехали"
##  - do: Тап на кнопку "Оплатить"
##  - assert: |
##      Произошел переход на экран выбора времени парковки
##      По умолчанию выбрано 30 минут
##      Отображается сумма, которая спишется с парковочного счета
##  - do: Свайпать барабан на время менее 30 минут
##  - assert: |
##      Время не выбирается менее чем 30 минут
##      Барабан магнитится обратно
##  - do: Тап на кнопку "-"
##  - assert: Время не выбирается менее чем 30 минут
##
##  - platforms:
##      - ios
##      - android
##  - tags:
##      - assessors


##Максимальное время для парковки:
##  - info: |
##      dev.set - Mics - Testing mobmaps proxy enabled - on
##      dev.set - parking - new parking payment - on
##      dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
##      Пользователь авторизован в аккаунт с привязанным номером телефона
##      Добавлено авто
##      Открыт спан карты Москвы
##  - do: На экране карты выбрать парковку и тап по шильдику с ценой
##  - assert: Открывается парковочный балун с номером парковочной зоны и кнопками "Оплатить" и "Поехали"
##  - do: Тап на кнопку "Оплатить"
##  - assert: |
##      Произошел переход на экран выбора времени парковки
##      По умолчанию выбрано 30 минут
##      Отображается сумма, которая спишется с парковочного счета
##  - do: Свайпать барабан до максимального времени
##  - assert: Максимально выбранное время 24 ч
##  - do: Свайпать барабан на время более чем 24 ч
##  - assert: |
##      Время не выбирается более чем 24 ч
##      Барабан магнитится обратно
##  - do: Тап на кнопку "+"
##  - assert: Время не выбирается более чем 24 ч

##  - platforms:
##    - ios
##    - android
##  - tags:
##    - assessors


  Оплата парковки после авторизации аккаунтом с авто:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь не авторизован
        Открыт спан карты Москвы
    - do: На экране карты выбрать парковку и тап по шильдику с ценой
    - assert: Открывается парковочный балун с номером парковочной зоны и кнопками "Оплатить" и "Поехали"
    - do: Тап на кнопку "Оплатить"
    - assert: Открывается Аккаунт менеджер
    - do: Авторизоваться в аккаунт с Произведена авторизация в аккаунт ParkingDaFine (пароль в [Секретнице](https://yav.yandex-team.ru/secret/sec-01fhzhaa3j09k5nz5qmpdwgazd/explore/versions))
    - assert: |
        Аккаунт менеджер закрылся
        Открыта карточка парковки
    - do: Тап на кнопку "Оплатить"
    - assert: |
        Произошел переход на экран выбора времени парковки
        По умолчанию выбрано 30 минут
        Отображается сумма, которая спишется с парковочного счета
    - do: Тап "Припарковаться"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии

    - platforms:
        - ios
        - android


  Оплата парковки после авторизации аккаунтом без авто:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь не авторизован
        Открыт спан карты Москвы
    - do: На экране карты выбрать парковку и тап по шильдику с ценой
    - assert: Открывается парковочный балун с номером парковочной зоны и кнопками "Оплатить" и "Поехали"
    - do: Тап на кнопку "Оплатить"
    - assert: Открывается Аккаунт менеджер
    - do: Авторизоваться аккаунтом на котором привязан номер телефона, но не добавлено авто
    - assert: |
        Аккаунт менеджер закрылся
        Открыта карточка парковки
    - do: Тап на кнопку "Оплатить"
    - assert: |
        Произошел переход на экран добавления авто
        Отображается 2 поля "Госномер" и "Название"
        Присутсвует неактивная кнопка сохранения
    - do: Ввести госномер А999АА90 и любое название
    - assert: |
        Плесхолдеры у полей скрылись
        Кнопка сохранения стала активной
    - do: Тап на кнопку сохранения
    - assert: |
        Произошел переход на экран выбора времени парковки
        Добавленное авто отображается в карточке

    - platforms:
        - ios
        - android


  Валидиция добавления авто:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Добавлено авто
        Открыт экран добавления авто(В карточке парковки тап "Оплатить" - > Тап на блок с номером авто - > Тап "Добавить автомобиль")
    - do: Ввести корректный номер авто
    - assert: |
        Отображается введеный номер автомобиля
        Кнопка сохранения неактивна
    - do: Ввести любое название
    - assert: |
        Отображается введенное название
        Кнопка сохранения активна
    - do: Удалить несколько символов из номера авто
    - assert: |
        Отображается новый указанный номер авто
        Кнопка сохранения неактивна

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Валидация номера авто при добавлении:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Добавлено авто
        Открыт экран добавления авто(В карточке парковки тап "Оплатить" - > Тап на блок с номером авто - > Тап "Добавить автомобиль")
    - do: Ввести любое название для авто
    - assert: |
        Отображается введенное название
        Кнопка "Продолжить" не активна
    - do: Ввести 1 любую букву отличную от А, В, Е, К, М, Н, О, Р, С, Т, У и Х
    - assert: Буква не вводится
    - do: Ввести 1 любую букву из А, В, Е, К, М, Н, О, Р, С, Т, У и Х
    - assert: Буква вводится
    - do: |
        Ввести любую букву
        Ввести 6 любых цифр
    - assert: |
        Буквы не вводятся
        Вводятся только первые 3 цифры
    - do: Ввести 2 любых буквы отличных от А, В, Е, К, М, Н, О, Р, С, Т, У и Х
    - assert: Буквы не вводятся
    - do: Ввести 3 любых буквы из А, В, Е, К, М, Н, О, Р, С, Т, У и Х
    - assert: Вводятся только первые 2 буквы
    - do: Ввести 2 любых цифры
    - assert: |
        Цифры вводятся
        Кнопка "Продолжить" становится активной

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Редактирование названия авто:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Добавлено несколько авто на аккаунте
        Открыт экран добавленых авто(В карточке парковки тап "Оплатить" - > Тап на блок с номером авто)
    - do: Тап на меню у авто
    - assert: |
        Открыто меню с кнопками: закрытия, редактирования, удаления машины
    - do: Тап "Редактировать"
    - assert: |
        Открыт экран "Добавить машину"
        Отображаются: госномер и название
        Кнопка "Продолжить" не активна
    - do: |
        Изменить название авто
        Тап "Продолжить"
    - assert: |
        Открывается экран "Сохраненные машины"
        Название редактируемой машины изменилось на новое

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Редактирование номера авто:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - Parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Добавлено несколько авто на аккаунте
        Открыт экран добавленых авто(В карточке парковки тап "Оплатить" - > Тап на блок с номером авто)
    - do: Тап на меню у авто, выбранного по умолчанию
    - assert: |
        Открыто меню с кнопками: закрытия, редактирования, удаления машины
    - do: Тап "Редактировать"
    - assert: |
        Открыт экран "Добавить машину"
        Отображаются: госномер и название
        Кнопка "Продолжить" не активна
    - do: |
        Изменить госномер авто
        Тап "Продолжить"
    - assert: |
        Открывается экран "Сохраненные машины"
        Госномер редактируемой машины изменилось на новое
    - do: Закрыть экран Сохраненных машин
    - assert: |
        Экран cохраненных машин закрыт
        Открыт экран выбора времени парковки
        В блоке "Автомобиль" отображается измененный номер авто по умолчанию

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Удаление единственного авто через карточку парковки:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - Parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Добавлено 1 авто на аккаунте
        Открыт экран добавленых авто(В карточке парковки тап "Оплатить" - > Тап на блок с номером авто)
    - do: Тап на меню у авто
    - assert: |
        Открыто меню с кнопками: закрытия, редактирования, удаления машины
    - do: Тап "Удалить"
    - assert: |
        Авто удалено
        Отображается кнопка "Добавить машину"
    - do: |
        Открыть главный экран
        На экране карты выбрать парковку и тап по шильдику с ценой
        Тап на кнопку “Оплатить”
    - assert: |
        Произошел переход на экран добавления авто
        Отображается 2 поля "Госномер" и "Название"
        Присутсвует неактивная кнопка сохранения

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Удаление автомобиля через карточку парковки:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - Parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        На аккаунт добавлено 10 авто или больше
        Открыт экран добавленых авто(В карточке парковки тап "Оплатить" - > Тап на блок с номером авто)
    - do: Тап на меню у авто не выбранного по умолчанию
    - assert: |
        Открыто меню с кнопками: закрытия, редактирования, удаления, выбора машины
    - do: Тап "Удалить"
    - assert: |
        Авто удалено
        Авто не отображается в списке
    - do: |
        Тап на меню у авто, выбранного по умолчанию
        Тап "Удалить"
    - assert: |
        Авто по умолчанию удалено
        Авто не отображается в списке
        Выбрано другое авто по умолчанию
    - do: Закрыть экран Сохраненных машин
    - assert: |
        Экран cохраненных машин закрыт
        Открыт экран выбора времени парковки
        В блоке "Автомобиль" отображается номер нового авто по умолчанию

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Выбор авто по умолчанию до начала парковочной сессии через меню:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - Parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        На аккаунт добавлено 10 авто или больше
        Открыт экран добавленых авто(В карточке парковки тап "Оплатить" - > Тап на блок с номером авто)
    - do: Тап на меню у авто не выбранного по умолчанию
    - assert: |
        Открыто меню с кнопками: закрытия, редактирования, удаления, выбора машины
    - do: Тап "Выбрать"
    - assert: Выбрано новое авто по умолчанию
    - do: Закрыть экран сохраненных машин
    - assert: |
        Экран cохраненных машин закрыт
        Открыт экран выбора времени парковки
        В блоке "Автомобиль" отображается номер нового авто по умолчанию

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Выбор тапом авто по умолчанию до начала парковочной сессии:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - Parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        На аккаунт добавлено 10 авто или больше
        Открыт экран добавленых авто(В карточке парковки тап "Оплатить" - > Тап на блок с номером авто)
    - do: Тап на авто, невыбранного по умолчанию
    - assert: Выбран новый автомобиль по умолчанию
    - do: Тап на другое авто
    - assert: Выбран новый автомобиль по умолчанию
    - do: Закрыть экран Сохраненных машин
    - assert: |
        Экран cохраненных машин закрыт
        Открыт экран выбора времени парковки
        В блоке "Автомобиль" отображается номер нового авто по умолчанию

    - platforms:
        - ios
    - tags:
        - assessors


  Выбор авто по умолчанию после начала парковочной сессии:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - Parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        На аккаунт добавлено 10 авто или больше
        Открыт экран выбора времени парковки(В карточке парковки тап "Оплатить")
    - do: Тап "Оплатить"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии
    - do: Тап "Продлить"
    - assert: |
        Открыт экран выбора времени для парковки
        Блок с номером авто неактивен
    - do: Тап на блок с номером авто
    - assert: Экран Сохраненных машин не открывается - не происходит смена авто

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Смена авто по умолчанию после начала парковочной сессии через меню приложения:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - Parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        На аккаунт добавлено 10 авто или больше
        Открыт экран выбора времени парковки(В карточке парковки тап "Оплатить")
    - do: Тап "Припарковаться"
    - assert: |
        Экран выбора времени парковки закрылся
        Открылся экран активной парковочной сессии
    - do: Закрыть экран активной парковочной сессии
    - do: Меню -> Парковка - > Автомобиль
    - assert: Экран с сохраненными авто не открывается

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Открытие карточки активной парковочной сессии через интент:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - Parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Активна парковочная сессия(В карточке парковки тап "Оплатить" - тап "Припарковаться")
        Девайс подключен к снифферу
    - do: Перезапустить приложение
    - assert: |
        В сниффере приходит запрос http://mobmaps-proxy-api-ext.c.maps.yandex.net/v1/parking/get_active_parking_sessions
        В теле ответа присутствует параметр "id"
    - do: Прокинуть интент/диплинк yandexnavi://open_parking_session?parking_session_id={session_id} (Где session_id - id полученный в ответе на запрос /get_active_parking_sessions)
    - assert: Открылся экран активной парковочной сессии

    - platforms:
        - ios
        - android


  Открытие истории при отсутсвиии активной парковочной сессии через интент:
    - info: |
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
    - do: Прокинуть интент/диплинк yandexnavi://open_parking_session?parking_session_id=QAtestQA
    - assert: Открылся экран "История заказов"

    - platforms:
        - ios
        - android


  Открытие карточки активной парковочной сессии через интент после переавторизации:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - Parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Активна парковочная сессия(В карточке парковки тап "Оплатить" - тап "Припарковаться")
        Девайс подключен к снифферу
    - do: Перезапустить приложение
    - assert: |
        В сниффере приходит запрос http://mobmaps-proxy-api-ext.c.maps.yandex.net/v1/parking/get_active_parking_sessions
        В теле ответа присутствует параметр "id"
    - do: |
        Разлогиниться
        Прокинуть интент/диплинк yandexnavi://open_parking_session?parking_session_id={session_id} (Где session_id - id полученный в ответе на запрос /get_active_parking_sessions)
    - assert: Открылось приложение
    - do: Авторизоваться ранее используемым аккаунтом
    - assert: |
        Пользователь авторизован
        Открылся экран активной парковочной сессии

    - platforms:
        - ios
        - android


  Открытие истории при отсутсвиии активной парковочной сессии через интент после переавторизации:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь не авторизован
    - do: Прокинуть интент/диплинк yandexnavi://open_parking_session?parking_session_id=QAtestQA
    - assert: Открылось приложение
    - do: Авторизоваться в аккаунт с привязанным номером телефона
    - assert: |
        Пользователь авторизован
        Открылся экран "История заказов"

    - platforms:
        - ios
        - android


  Открытие карточки активной парковочной сессии через интент в офлайне:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        На девайсе включен авиарежим
    - do: Прокинуть интент/диплинк yandexnavi://open_parking_session?parking_session_id=QAtestQA
    - assert: Открылся главный экран приложения

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Проверка UI пагинации в истории парковок:
    - info: |
        - Пользователь авторизован
        - Местоположение Москва (через подмену Mock location для Android и Xcode для IOS)
        - Девайс в горизонтальном положении
        - У пользователя добавлены данные об автомобиле
        - У пользователя было оплаченно более 10 парковок
        - Настроены эксперименты:
          Dev settings > Parking > New parking enabled - ON
          dev settings > parking > parking_landing_ampp_url - оставить пустым/с пробелами
        - Перезапустить приложение
    - do: Перейти в раздел Меню -> Парковка -> История
    - assert: Отображается список совершенных парковок
    - do: Проскроллить вниз список парковок до конца
    - assert: При проскролле списка загружаются данные о более ранних парковочных сессиях
    - do: Проскроллить вверх список парковок
    - assert: При проскролле списка загружаются данные о более поздних парковочных сессиях

    - platforms:
        - ios
        - android


  Отображение кнопки "Как оплатить" в карточке парковки:
    - info: |
        - Dev set -> Parking -> parking_landing_ampp_url указан любой url (например, https://www.google.ru)
        - ММП в Москве
        - Открыт главный экран приложения
        - Включен слой парковок
    - do: Тап на пин парковки с указанной ценой
    - assert: |
        Открыта миникарточка парковки
        Отображается кнопка "Как оплатить"
    - do: Тап на кнопку "Как оплатить"
    - assert: |
        Открывается url, указанный в значении эксперимента parking_landing_ampp_url
    - do: Тап назад
    - assert: |
        Открыта миникарточка парковки
        Отображается кнопка "Как оплатить"
    - do: Свернуть и развернуть приложение
    - assert: |
        Открыта миникарточка парковки
        Отображается кнопка "Как оплатить"

    - tags:
        - assessors
    - platforms:
        - android
        - ios


  Просмотр истории парковки удаленного авто:
    - info: |
        - Пользователь авторизован
        - У пользователя добавлены данные об автомобиле
        - У пользователя были оплаченные парковки
    - do: Перейти в раздел “Настройки”, “Автомобили” в карточке оплаты парковки
    - assert: Отображается список авто
    - do: Удалить авто по умолчанию
    - assert: Отображается список авто без авто по умолчанию
    - do: Перейти в раздел "Настройки", "История"
    - assert: История удаленного авто присутствует несмотря на удаление

    - platforms:
        - android
        - ios


  Проверка UI пагинации в истории парковок. Смена ориентации:
    - info: |
        - Пользователь авторизован
        - Местоположение Москва (через подмену Mock location для Android и Xcode для IOS)
        - Девайс в горизонтальном положении
        - У пользователя добавлены данные об автомобиле
        - У пользователя было оплаченно более 10 парковок
        - Настроены эксперименты:
          Dev settings > Parking > New parking enabled - ON
          dev settings > parking > parking_landing_ampp_url - оставить пустым/с пробелами
        - Перезапустить приложение
    - do: Перейти в раздел "Настройки", "История" в карточке оплаты парковки
    - assert: Отображается список совершенных парковок
    - do: Проскроллить вниз список парковок до конца
    - assert: При проскролле списка загружаются данные о более ранних парковочных сессиях
    - do: |
         - Сменить ориентацию девайса на вертикальную
         - Проскроллить вверх список свершенных парковок
    - assert: |
         - При смене ориентации порядок в списке не нарушается
         - При проскролле списка загружаются данные о более поздних парковочных сессиях

    - platforms:
        - ios
        - android


  Проверка UI пагинации в истории парковок. Смена темы:
    - info: |
        - Пользователь авторизован
        - Местоположение Москва (через подмену Mock location для Android и Xcode для IOS)
        - Девайс в горизонтальном положении
        - У пользователя добавлены данные об автомобиле
        - У пользователя было оплаченно более 10 парковок
        - Настроены эксперименты:
          Dev settings > Parking > New parking enabled - ON
          dev settings > parking > parking_landing_ampp_url - оставить пустым/с пробелами
          Dev settings > Misk > Fast day & night switching
        - Перезапустить приложение
    - do: Перейти в раздел "Настройки", "История" в карточке оплаты парковки
    - assert: Отображается список совершенных парковок
    - do: |
          Дождаться смены темы на противоположную
          Проскроллить вниз список парковок до конца
    - assert: |
          Артефакты противоположной темы в списке отсутвуют
          При проскролле списка загружаются данные о более ранних парковочных сессиях

    - platforms:
        - ios
        - android


  Открытие карточки точечной парковки:
    - info: |
        Включен слой парковок
        Спан направлен на Москву
        Включить/выключить отображение зумов на карте можно через тычку `Developer Settings -> Map -> Map debug info enabled`
    - do: Установить зум в диапозоне 14-15
    - do: Тап на [шильдик](https://wiki.yandex-team.ru/maps/mobile/testing/glossary/#shildik) парковки
    - assert:
        Открылась мини-карточка точечной парковки
        Над карточкой отсуствует блок с фотографиями
        Под надписью "Парковочная зона №...." отображается адрес
        Также отображается описание, график работы, расстояние до парковки и Action-бар
    - do: Раскрыть карточку парковки свайпом вверх или тапом по ней
    - assert: |
        Открылась полная карточка точечной парковки
        Над карточкой отсуствует блок с фотографиями
        В карточке присутствуют табы:
        - Обзор
        - Фото
        - Отзывы
        - Филиалы (может присуствовать не у всех парковок)
        Под блоком "Особенности" отображается блок "Панорама/Дополненная реальность"
    - do: Проскролить до кнопки "Показать/Скрыть парковки"
    - assert: Присуствует блок "Как добраться" с кнопкой "Ближайшие станции метро"
    - do: Сменить ориентацию устройства на горизонтальную
    - assert: Открылась полная карточка парковки
    - do: Закрыть карточку парковки
    - do: Увеличить зум до 16 и больше
    - do: Тап на квадратный пин парковки
    - assert: |
        Открылась карточка точечной парковки
        В карточке присутствуют те же элементы, что и в предыдущей

    - platforms:
        - android
    - tags:
        - assessors


  Открытие карточки неточечной парковки:
    - info: |
        Включен слой парковок
        Спан направлен на Москву
        Включить/выключить отображение зумов на карте можно через тычку `Developer Settings -> Map -> Map debug info enabled`
    - do: Установить зум 16 и больше
    - do: Тап на [ценник](https://wiki.yandex-team.ru/maps/mobile/testing/glossary/#cennik) парковки
    - assert: |
        Открылась мини-карточка неточечной парковки
        Над карточкой отсуствует блок с фотографиями
        Под надписью "Парковочная зона №...." НЕ отображается адрес
        Также отображается описание, график работы, расстояние до парковки и Action-бар
    - do: Раскрыть карточку парковки свайпом вверх или тапом по ней
    - assert: |
        Открылась полная карточка неточечной парковки
        Над карточкой отсуствует блок с фотографиями
        В карточке присутствуют табы:
        - Обзор
        - Отзывы
        - Филиалы (может присуствовать не у всех парковок)
        Под блоком "Особенности" НЕ отображается блок "Панорама/Дополненная реальность"
    - do: Проскролить до кнопки "Показать/Скрыть парковки"
    - assert: Отсуствует блок "Как добраться" с кнопкой "Ближайшие станции метро"
    - do: Свернуть и развернуть МЯК
    - assert: |
        Открыта карточка неточечной парковки
        Скрол сохранился

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Открытие карточки парковки по ссылке:
    - info: |
        Включен слой парковок
        Открыта карточка парковки
    - do: Тап на кнопку "Поделиться" в Action-баре карточки парковки
    - do: Выбрать любой мессенджер
    - do: Поделиться ссылкой на парковку
    - do: Закрыть МЯК с выгрузкой из памяти
    - do: Открыть мессенджер
    - assert: В мессенджере отображается ссылка на парковку
    - do: Тап по ссылке на парковку
    - assert: |
        Открылось приложение Карты
        Открылась мини-карточка парковки, открытой ранее

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отображение карточек парковки в оффлайне:
    - info: |
        Зум 14-15
        Включить отображения зумов на карте можно через тычку `Настройки -> Developer Settings -> Map -> Map debug info enabled
        Включен слой парковок
    - do: Установить зум 14-15
    - do: Включить авиарежим
    - do: Тап на [шильдик](https://wiki.yandex-team.ru/maps/mobile/testing/glossary/#shildik) парковки
    - assert: Открылась карточка "Нет информации" с кнопкой "Обновить"
    - do: Выключить авиарежим
    - do: Тап на "Обновить"
    - assert: |
        Отображается мини-карточка точечной парковки
        Над карточкой отсуствует блок с фотографиями
        Под надписью "Парковочная зона №...." НЕ отображается адрес
        Также отображается описание, график работы, расстояние до парковки и Action-бар
    - do: Закрыть карточку парковки
    - do: Поменять зум на 16 и больше
    - assert: Отображаются [ценники](https://wiki.yandex-team.ru/maps/mobile/testing/glossary/#cennik) парковок
    - do: Включить авиарежим
    - do: Тап на [ценник](https://wiki.yandex-team.ru/maps/mobile/testing/glossary/#cennik) парковки
    - assert: Открылась карточка "Нет информации" с кнопкой "Обновить"
    - do: Выключить авиарежим
    - do: Тап на "Обновить"
    - assert: |
        Отображается мини-карточка неточечной парковки
        Над карточкой отсуствует блок с фотографиями
        Под надписью "Парковочная зона №...." НЕ отображается адрес
        Также отображается описание, график работы, расстояние до парковки и Action-бар

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отображение стартап конфига для парковок:
    - info: |
        Девайс подключен к снифферу
        Dev > Mics > Testing mobmaps proxy enabled - OFF
        Dev > Parking > New parking payment - ON
        dev. set > parking > parking_landing_ampp_url - оставить пустым/с пробелами
        Dev > Parking > Open parking payment card
    - do: Запустить приложение
    - assert: |
        Отображается главный экран приложения
        Пришел конфиг: https://geointernal.mob.maps.yandex.net/v1/startup/ru.yandex.traffic/
    - do: Проверить параметры конфига /v1/startup/...
    - assert: В ответе есть хедер Location с адресом на JSON конфиг https://mobile-maps-common.s3.yandex.net/staging/*/ru.yandex.yandexnavi/*/
    - do: Проверить конфиг по адресу из Location
    - assert: |
        В конфиге содежится: maps-navi-parking-payment - информация о парковках
        Отображаются параметры:
          "minParkingTimeMinutes": N
          "maxParkingTimeMinutes": N
          "parkingStepMinutes": N
    - do: |
        Тап на шильдик парковки
        Тап "Оплатить"
        Выбрать минимальное время на барабане
    - assert: Минимальное выбранное время на барабане соответветствует значению из "minParkingTimeMinutes" - из стартап конфига
    - do: Выбрать максимальное время на барабане
    - assert: Максимальное выбранное время на барабане соответветствует значению из "maxParkingTimeMinutes" - из стартап конфига
    - do: Тап на - и +
    - assert: При тапе на + и - время изменяется на N минут, указанных в "parkingStepMinutes" из стартап конфига

    - platforms:
        - android
        - ios


  Отображение плашки про бесплатную парковку:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Девайс подключен к снифферу
        Через MapLocal подменить ответ на ручку https://mobmaps-proxy-api-ext.c.maps.yandex.net/v1/parking/* на готовый [JSON](https://jing.yandex-team.ru/files/kuznetsova22/check_price)
        Пользователь авторизован в аккаунт с привязанным номером телефона
        На аккаунт добавлено авто
        Открыта карточка парковки с оплатой(Тап по шильдику с ценой)
    - do: Тап "Оплатить"
    - assert: |
        Произошел переход на экран выбора времени парковки
        На экране отображется:
          - плашка про бесплатный период
          - кнопка "Понятно"
    - do: Тап "Понятно"
    - assert: |
        Экран выбора времени парковки закрылся
        Отображается карточка парковочной зоны

    - platforms:
        - android
        - ios


  Пустая история парковок:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        На аккаунт добавлено авто, отсутствуют оплаченные парковки
    - do: Тап "Меню"
    - do: Тап "Парковка"
    - do: Тап "История парковок"
    - assert: |
        Открывается экран "История заказов"
  ##Ждем тут дизайна

    - platforms:
        - android
        - ios
    - tags:
        - assessors


  Валидиция добавления авто через меню приложения:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Добавлено авто
        Открыт экран добавления авто в меню( Меню - > Парковка - > Автомобиль - > Добавить машину)
    - do: Ввести корректный номер авто
    - assert: |
        Отображается введеный номер автомобиля
        Кнопка сохранения неактивна
    - do: Ввести любое название
    - assert: |
        Отображается введенное название
        Кнопка сохранения активна
    - do: Удалить несколько символов из номера авто
    - assert: |
        Отображается новый указанный номер авто
        Кнопка сохранения неактивна

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Валидация номера авто при добавлении через меню приложения:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Добавлено авто
        Открыт экран добавления авто в меню( Меню - > Парковка - > Автомобиль - > Добавить машину)
    - do: Ввести любое название для авто
    - assert: |
        Отображается введенное название
        Кнопка "Продолжить" не активна
    - do: Ввести 1 любую букву отличную от А, В, Е, К, М, Н, О, Р, С, Т, У и Х
    - assert: Буква не вводится
    - do: Ввести 1 любую букву из А, В, Е, К, М, Н, О, Р, С, Т, У и Х
    - assert: Буква вводится
    - do: |
        Ввести любую букву
        Ввести 6 любых цифр
    - assert: |
        Буквы не вводятся
        Вводятся только первые 3 цифры
    - do: Ввести 2 любых буквы отличных от А, В, Е, К, М, Н, О, Р, С, Т, У и Х
    - assert: Буквы не вводятся
    - do: Ввести 3 любых буквы из А, В, Е, К, М, Н, О, Р, С, Т, У и Х
    - assert: Вводятся только первые 2 буквы
    - do: Ввести 2 любых цифры
    - assert: |
        Цифры вводятся
        Кнопка "Продолжить" становится активной

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Редактирование названия авто через меню приложения:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Добавлено несколько авто на аккаунте
        Открыт экран добавления авто в меню( Меню - > Парковка - > Автомобиль - > Добавить машину)
    - do: Тап на меню у авто
    - assert: |
        Открыто меню с кнопками: закрытия, редактирования, удаления машины
    - do: Тап "Редактировать"
    - assert: |
        Открыт экран "Добавить машину"
        Отображаются: госномер и название
        Кнопка "Продолжить" не активна
    - do: |
        Изменить название авто
        Тап "Продолжить"
    - assert: |
        Открывается экран "Сохраненные машины"
        Название редактируемой машины изменилось на новое

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Редактирование номера авто через меню приложения:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Добавлено несколько авто на аккаунте
        Открыт экран добавления авто в меню( Меню - > Парковка - > Автомобиль - > Добавить машину)
    - do: Тап на меню у авто, выбранного по умолчанию
    - assert: |
        Открыто меню с кнопками: закрытия, редактирования, удаления машины
    - do: Тап "Редактировать"
    - assert: |
        Открыт экран "Добавить машину"
        Отображаются: госномер и название
        Кнопка "Продолжить" не активна
    - do: |
        Изменить госномер авто
        Тап "Продолжить"
    - assert: |
        Открывается экран "Сохраненные машины"
        Госномер редактируемой машины изменилось на новое
    - do: Открыть карточку парковки с оплатой в приложении(тап по шильдику с целой)
    - do: Тап "Оплатить"
    - assert: |
        Открыт экран выбора времени парковки
        В блоке "Автомобиль" отображается измененный номер авто по умолчанию

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Удаление единственного автомобиля через меню приложения:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        Добавлено 1 авто на аккаунте
        Открыт экран добавления авто в меню( Меню - > Парковка - > Автомобиль - > Добавить машину)
    - do: Тап на меню у авто
    - assert: |
        Открыто меню с кнопками: закрытия, редактирования, удаления машины
    - do: Тап "Удалить"
    - assert: |
        Авто удалено
        Отображается кнопка "Добавить машину"
    - do: |
        Открыть главный экран
        На экране карты выбрать парковку и тап по шильдику с ценой
        Тап на кнопку “Оплатить”
    - assert: |
        Произошел переход на экран добавления авто
        Отображается 2 поля "Госномер" и "Название"
        Присутсвует неактивная кнопка сохранения

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Удаление автомобиля через меню приложения:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        На аккаунт добавлено 10 авто или больше
        Открыт экран добавления авто в меню( Меню - > Парковка - > Автомобиль - > Добавить машину)
    - do: Тап на меню у авто не выбранного по умолчанию
    - assert: |
        Открыто меню с кнопками: закрытия, редактирования, удаления, выбора машины
    - do: Тап "Удалить"
    - assert: |
        Авто удалено
        Авто не отображается в списке
    - do: |
        Тап на меню у авто, выбранного по умолчанию
        Тап "Удалить"
    - assert: |
        Авто по умолчанию удалено
        Авто не отображается в списке
        Выбрано другое авто по умолчанию

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Закрытие карточки завершенной парковки:
    - info:
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        На аккаунт добавлено авто
        Активна парковочная сессия
        Открыт главный экран приложения
    - do: Тап на виджет парковки
    - assert: Открыта карточка текущей парковочной сессии
    - do: Тап "Завершить"
    - assert: |
        Экран активной парковочной сессии закрылся
        Открыт экран завершенной парковочной сессии
        Отображается:
          - Номер парковочной зоны
          - Название и госномер автомобиля
          - Длительность парковочной сессии
          - Стоимость
          - Кнопка "Закрыть"
    - do: Тап "Закрыть"
    - assert: |
        Карточка завершенной парковки закрылась
        Открыт главный экран
        Парковочный виджет скрылся

    - platforms:
        - ios
        - android


  Переход по пуш-уведомлению "Парковочная сессия скоро заканчивается". Приложение свернуто:
    - info: |
        - В Dev. Settings выставить:
        - `Dev. Settings - Mics - Testing mobmaps proxy enabled - on`
        - `Dev. Settings - Parking - new parking payment - on`
        - `Dev. Settings - Parking - parking card landing button - off`
        - `Dev. Settings - Parking - Parking landing AMPP url - оставить пустым`
        - Перезапустить приложение
        - Авторизоваться аккаунтом с привязанным телефоном и автомобилем
        - Открыть спан Москвы
        - Включить слой парковок
        - В карточке парковки тап на "Оплатить парковку" -> "Припарковаться"
    - do: Свернуть приложение
    - assert: Когда остается меньше 5 мин до конца сессии, приходит пуш-уведомление "Парковочная сессия скоро заканчивается"
    - do: Тап по пуш-уведомлению
    - assert: |
        - Приложение разворачивается
        - Отображается карточка активной парковочной сессии

    - platforms:
        - ios
        - android


  Переход по пуш-уведомлению "Парковочная сессия закончилась". Приложение свернуто:
    - info: |
        - В Dev. Settings выставить:
        - `Dev. Settings - Mics - Testing mobmaps proxy enabled - on`
        - `Dev. Settings - Parking - new parking payment - on`
        - `Dev. Settings - Parking - parking card landing button - off`
        - `Dev. Settings - Parking - Parking landing AMPP url - оставить пустым`
        - Перезапустить приложение
        - Авторизоваться аккаунтом с привязанным телефоном и автомобилем
        - Открыть спан Москвы
        - Включить слой парковок
        - В карточке парковки тап на "Оплатить парковку" -> "Припарковаться"
    - do: Свернуть приложение
    - assert: По истечению парковочной сессии, приходит пуш-уведомление "Парковочная сессия закончилась"
    - do: Тап по пуш-уведомлению
    - assert: |
        - Приложение разворачивается
        - Отображается карточка истории парковок
    - do: Закрыть историю парковок
    - assert: |
        - Отображается карта
        - Карточка с активной парковочной сессией не отображается

    - platforms:
        - ios
        - android


  Переход по пуш-уведомлению "Парковочная сессия скоро заканчивается". Приложение выгружено из памяти:
    - info: |
        - В Dev. Settings выставить:
        - `Dev. Settings - Mics - Testing mobmaps proxy enabled - on`
        - `Dev. Settings - Parking - new parking payment - on`
        - `Dev. Settings - Parking - parking card landing button - off`
        - `Dev. Settings - Parking - Parking landing AMPP url - оставить пустым`
        - Перезапустить приложение
        - Авторизоваться аккаунтом с привязанным телефоном и автомобилем
        - Открыть спан Москвы
        - Включить слой парковок
        - В карточке парковки тап на "Оплатить парковку" -> "Припарковаться"
    - do: Выгрузить приложение из памяти
    - assert: Когда остается меньше 5 мин до конца сессии, приходит пуш-уведомление "Парковочная сессия скоро заканчивается"
    - do: Тап по пуш-уведомлению
    - assert: |
        - Приложение открывается
        - Отображается карточка активной парковочной сессии

    - platforms:
        - ios
        - android


  Переход по пуш-уведомлению "Парковочная сессия закончилась". Приложение выгружено из памяти:
    - info: |
        - В Dev. Settings выставить:
        - `Dev. Settings - Mics - Testing mobmaps proxy enabled - on`
        - `Dev. Settings - Parking - new parking payment - on`
        - `Dev. Settings - Parking - parking card landing button - off`
        - `Dev. Settings - Parking - Parking landing AMPP url - оставить пустым`
        - Перезапустить приложение
        - Авторизоваться аккаунтом с привязанным телефоном и автомобилем
        - Открыть спан Москвы
        - Включить слой парковок
        - В карточке парковки тап на "Оплатить парковку" -> "Припарковаться"
    - do: Выгрузить приложение из памяти
    - assert: По истечению парковочной сессии, приходит пуш-уведомление "Парковочная сессия закончилась"
    - do: Тап по пуш-уведомлению
    - assert: |
        - Приложение открывается
        - Отображается карточка истории парковок
    - do: Закрыть историю парковок
    - assert: |
        - Отображается карта
        - Карточка с активной парковочной сессией не отображается

    - platforms:
        - ios
        - android


  Переход по пуш-уведомлению "Парковочная сессия скоро заканчивается" с продлением сессии. Приложение свернуто:
    - info: |
        - В Dev. Settings выставить:
        - `Dev. Settings - Mics - Testing mobmaps proxy enabled - on`
        - `Dev. Settings - Parking - new parking payment - on`
        - `Dev. Settings - Parking - parking card landing button - off`
        - `Dev. Settings - Parking - Parking landing AMPP url - оставить пустым`
        - Перезапустить приложение
        - Авторизоваться аккаунтом с привязанным телефоном и автомобилем
        - Открыть спан Москвы
        - Включить слой парковок
        - В карточке парковки тап на "Оплатить парковку" -> "Припарковаться"
    - do: Свернуть приложение
    - assert: Когда остается меньше 5 мин до конца сессии, приходит пуш-уведомление "Парковочная сессия скоро заканчивается"
    - do: Тап по пуш-уведомлению
    - assert: |
        - Приложение разворачивается
        - Отображается карточка активной парковочной сессии
    - do: Тап на "Продлить"
    - do: Тап на "Припарковаться"
    - assert: Отображается карточка активной парковочной сессии
    - do: Свернуть приложение
    - assert: Когда остается меньше 5 мин до конца сессии, приходит пуш-уведомление "Парковочная сессия скоро заканчивается"
    - do: Тап по пуш-уведомлению
    - assert: |
        - Приложение разворачивается
        - Отображается карточка активной парковочной сессии

    - platforms:
        - ios
        - android


  Переход по пуш-уведомлению "Парковочная сессия скоро заканчивается" с продлением сессии. Приложение выгружено из памяти:
    - info: |
        - В Dev. Settings выставить:
        - `Dev. Settings - Mics - Testing mobmaps proxy enabled - on`
        - `Dev. Settings - Parking - new parking payment - on`
        - `Dev. Settings - Parking - parking card landing button - off`
        - `Dev. Settings - Parking - Parking landing AMPP url - оставить пустым`
        - Перезапустить приложение
        - Авторизоваться аккаунтом с привязанным телефоном и автомобилем
        - Открыть спан Москвы
        - Включить слой парковок
        - В карточке парковки тап на "Оплатить парковку" -> "Припарковаться"
    - do: Выгрузить приложение из памяти
    - assert: Когда остается меньше 5 мин до конца сессии, приходит пуш-уведомление "Парковочная сессия скоро заканчивается"
    - do: Тап по пуш-уведомлению
    - assert: |
        - Приложение открывается
        - Отображается карточка активной парковочной сессии
    - do: Тап на "Продлить"
    - do: Тап на "Припарковаться"
    - assert: Отображается карточка активной парковочной сессии
    - do: Выгрузить приложение из памяти
    - assert: Когда остается меньше 5 мин до конца сессии, приходит пуш-уведомление "Парковочная сессия скоро заканчивается"
    - do: Тап по пуш-уведомлению
    - assert: |
        - Приложение открывается
        - Отображается карточка активной парковочной сессии

    - platforms:
        - ios
        - android


  Переход по пуш-уведомлению "Парковочная сессия закончилась" после продления сессии. Приложение свернуто:
    - info: |
        - В Dev. Settings выставить:
        - `Dev. Settings - Mics - Testing mobmaps proxy enabled - on`
        - `Dev. Settings - Parking - new parking payment - on`
        - `Dev. Settings - Parking - parking card landing button - off`
        - `Dev. Settings - Parking - Parking landing AMPP url - оставить пустым`
        - Перезапустить приложение
        - Авторизоваться аккаунтом с привязанным телефоном и автомобилем
        - Открыть спан Москвы
        - Включить слой парковок
        - В карточке парковки тап на "Оплатить парковку" -> "Припарковаться"
    - do: Свернуть приложение
    - assert: Когда остается меньше 5 мин до конца сессии, приходит пуш-уведомление "Парковочная сессия скоро заканчивается"
    - do: Тап по пуш-уведомлению
    - assert: |
        - Приложение разворачивается
        - Отображается карточка активной парковочной сессии
    - do: Тап на "Продлить"
    - do: Тап на "Припарковаться"
    - assert: Отображается карточка активной парковочной сессии
    - do: Свернуть приложение
    - assert: По истечению парковочной сессии, приходит пуш-уведомление "Парковочная сессия закончилась"
    - do: Тап по пуш-уведомлению
    - assert: |
        - Приложение разворачивается
        - Отображается карточка истории парковок

    - platforms:
        - ios
        - android


  Переход по пуш-уведомлению "Парковочная сессия закончилась" после продления сессии. Приложение выгружено из памяти:
    - info: |
        - В Dev. Settings выставить:
        - `Dev. Settings - Mics - Testing mobmaps proxy enabled - on`
        - `Dev. Settings - Parking - new parking payment - on`
        - `Dev. Settings - Parking - parking card landing button - off`
        - `Dev. Settings - Parking - Parking landing AMPP url - оставить пустым`
        - Перезапустить приложение
        - Авторизоваться аккаунтом с привязанным телефоном и автомобилем
        - Открыть спан Москвы
        - Включить слой парковок
        - В карточке парковки тап на "Оплатить парковку" -> "Припарковаться"
    - do: Выгрузить приложение из памяти
    - assert: Когда остается меньше 5 мин до конца сессии, приходит пуш-уведомление "Парковочная сессия скоро заканчивается"
    - do: Тап по пуш-уведомлению
    - assert: |
        - Приложение открывается
        - Отображается карточка активной парковочной сессии
    - do: Тап на "Продлить"
    - do: Тап на "Припарковаться"
    - assert: Отображается карточка активной парковочной сессии
    - do: Выгрузить приложение из памяти
    - assert: По истечению парковочной сессии, приходит пуш-уведомление "Парковочная сессия закончилась"
    - do: Тап по пуш-уведомлению
    - assert: |
        - Приложение открывается
        - Отображается карточка истории парковок

    - platforms:
        - ios
        - android


  Переход по пуш-уведомлению "Парковочная сессия скоро заканчивается", когда парковочная сессия закончилась. Приложение свернуто:
    - info: |
        - В Dev. Settings выставить:
        - `Dev. Settings - Mics - Testing mobmaps proxy enabled - on`
        - `Dev. Settings - Parking - new parking payment - on`
        - `Dev. Settings - Parking - parking card landing button - off`
        - `Dev. Settings - Parking - Parking landing AMPP url - оставить пустым`
        - Перезапустить приложение
        - Авторизоваться аккаунтом с привязанным телефоном и автомобилем
        - Открыть спан Москвы
        - Включить слой парковок
        - В карточке парковки тап на "Оплатить парковку" -> "Припарковаться"
    - do: Свернуть приложение
    - assert: По истечению парковочной сессии имеются два пуш-уведомления "Парковочная сессия скоро заканчивается" и "Парковочная сессия закончилась"
    - do: Тап по пуш-уведомлению "Парковочная сессия скоро заканчивается"
    - assert: |
        - Приложение разворачивается
        - Отображается карточка истории парковок
    - do: Закрыть историю парковок
    - assert: |
        - Отображается карта
        - Карточка с активной парковочной сессией не отображается

    - platforms:
        - ios
        - android


  Переход по пуш-уведомлению "Парковочная сессия скоро заканчивается", когда парковочная сессия закончилась. Приложение выгружено из памяти:
    - info: |
        - В Dev. Settings выставить:
        - `Dev. Settings - Mics - Testing mobmaps proxy enabled - on`
        - `Dev. Settings - Parking - new parking payment - on`
        - `Dev. Settings - Parking - parking card landing button - off`
        - `Dev. Settings - Parking - Parking landing AMPP url - оставить пустым`
        - Перезапустить приложение
        - Авторизоваться аккаунтом с привязанным телефоном и автомобилем
        - Открыть спан Москвы
        - Включить слой парковок
        - В карточке парковки тап на "Оплатить парковку" -> "Припарковаться"
    - do: Выгрузить приложение из памяти
    - assert: По истечению парковочной сессии имеются два пуш-уведомления "Парковочная сессия скоро заканчивается" и "Парковочная сессия закончилась"
    - do: Тап по пуш-уведомлению "Парковочная сессия скоро заканчивается"
    - assert: |
        - Приложение открывается
        - Отображается карточка истории парковок
    - do: Закрыть историю парковок
    - assert: |
        - Отображается карта
        - Карточка с активной парковочной сессией не отображается

    - platforms:
        - ios
        - android


  Открытие карточки парковки без URI с блоком фотографий:
    - info: |
        - Включен слой парковок
        - Открыт спан Москвы
    - do: Тап на [ценник](https://wiki.yandex-team.ru/maps/mobile/testing/glossary/#cennik) парковки с нулевой стоимостью
    - assert: |
        - Открылась мини-карточка парковки
        - Над карточкой отсуствует блок с фотографиями
        - В заголовке отображается "Парковка"
        - Под заголовком отображается адрес
        - Под адресом отображаются координаты
        - Также отображается расстояние до парковки и Action-бар
    - do: Раскрыть карточку парковки свайпом вверх или тапом по ней
    - assert: |
        - Открылась полная карточка парковки
        - Над карточкой присутствует блок с фотографиями
        - В карточке присутствуют табы Обзор
        - В карточке отсутствуют часы работы, телефон, информация о цене и оплате
    - do: Проскролить карточку
    - assert: |
        - Присутствуют кнопки: добавления объекта, исправление информации

    - testing:
        - acceptance_navi
    - tags:
        - assessors
    - platforms:
        - ios
        - android


  Открытие карточки парковки без URI с блоком панорамы:
    - info: |
        - Включен слой парковок
        - Открыт спан Москвы
    - do: Тап на [ценник](https://wiki.yandex-team.ru/maps/mobile/testing/glossary/#cennik) парковки с нулевой стоимостью (например по адресу - Москва, Большая Никитская, 31)
    - assert: |
        - Открылась мини-карточка парковки
        - Над карточкой отсуствует блок с панорамой
        - В заголовке отображается "Парковка"
        - Под заголовком отображается адрес
        - Под адресом отображаются координаты
        - Также отображается расстояние до парковки и Action-бар
    - do: Раскрыть карточку парковки свайпом вверх или тапом по ней
    - assert: |
        - Открылась полная карточка парковки
        - Над карточкой присутствует блок с панорамой
        - В карточке присутствуют табы Обзор
        - В карточке отсутствуют часы работы, телефон, информация о цене и оплате
    - do: Проскролить карточку
    - assert: |
        - Присутствуют кнопки: добавления объекта, исправление информации

    - testing:
        - acceptance_navi
    - tags:
        - assessors
    - platforms:
        - android


  Открытие карточки парковки без URI без блока фотографий и панорамы:
    - info: |
        - Включен слой парковок
        - Открыт спан Тулы
    - do: Тап на [ценник](https://wiki.yandex-team.ru/maps/mobile/testing/glossary/#cennik) парковки с нулевой стоимостью (например по адресу - Тула, улица Ершова)
    - assert: |
        - Открылась мини-карточка парковки
        - Над карточкой отсуствует блок с панорамой или фотографиями
        - В заголовке отображается "Парковка"
        - Под заголовком отображается адрес
        - Под адресом отображаются координаты
        - Также отображается расстояние до парковки и Action-бар
    - do: Раскрыть карточку парковки свайпом вверх или тапом по ней
    - assert: |
        - Открылась полная карточка парковки
        - Над карточкой отсутствует блок с панорамой и фотографиями
        - В карточке присутствуют табы Обзор
        - В карточке отсутствуют часы работы, телефон, информация о цене и оплате
    - do: Проскролить карточку
    - assert: |
        - Присутствуют кнопки: добавления объекта, исправление информации

    - testing:
        - acceptance_navi
    - tags:
        - assessors
    - platforms:
        - ios
        - android


  Смена ориентации при открытой карточки парковки без URI:
    - info: |
        - Включен слой парковок
        - Открыт спан Москвы
        - Устройство в вертикальной ориентациии
    - do: Тап на [ценник](https://wiki.yandex-team.ru/maps/mobile/testing/glossary/#cennik) парковки с нулевой стоимостью
    - assert: |
        - Открылась мини-карточка парковки
        - В заголовке отображается "Парковка"
        - Под заголовком отображается адрес
        - Под адресом отображаются координаты
        - Также отображается расстояние до парковки и Action-бар
    - do: Повернуть устройство горизонтально
    - assert: |
        - Карточка парковки не закрывается
        - Информация в карточке не меняется
        - Элементы в карточке остаются выровнены относительно друг друга
    - do: Повернуть устройство вертикально
    - assert: |
        - Карточка парковки не закрывается
        - Информация в карточке не меняется
        - Элементы в карточке остаются выровнены относительно друг друга

    - tags:
        - assessors
    - platforms:
        - ios
        - android


  Отображение карточки парковки без URI в оффлайне:
    - info: |
        - Включен слой парковок
        - Открыт спан Москвы
    - do: Включить авиарежим
    - do: Тап на [ценник](https://wiki.yandex-team.ru/maps/mobile/testing/glossary/#cennik) парковки с нулевой стоимостью
    - assert: Открылась карточка "Нет информации" с кнопкой "Обновить"
    - do: Выключить авиарежим
    - do: Тап на "Обновить"
    - assert: |
        - Открылась мини-карточка парковки
        - Над карточкой отсуствует блок с фотографиями
        - В заголовке отображается "Парковка"
        - Под заголовком отображается адрес
        - Под адресом отображаются координаты
        - Также отображается расстояние до парковки и Action-бар

    - tags:
        - assessors
    - platforms:
        - ios
        - android


  Показ поясняющего экрана про номер телефона(iOS):
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт без привязанного номера телефона
        Открыта карточка парковки с оплатой(Тап по шильдику с ценой)
    - do: Тап "Оплатить парковку"
    - assert: |
        Открывается поясняющий экран про номер телефона:
          Отображается надпись о необходимости привязать номер телефона
          Присутствуют кнопки "Привязать телефон" и "В другой раз"
    - do: Тап "В другой раз"
    - assert: |
        Поясняющий экран закрылся
        Открыта карточка парковочной зоны

    - platforms:
        - ios
    - tags:
        - assessors


  Показ поясняющего экрана про номер телефона(Android):
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт без привязанного номера телефона
        Открыта карточка парковки с оплатой(Тап по шильдику с ценой)
    - do: Тап "Оплатить парковку"
    - assert: |
        Открывается карточка выбора времени для парковочной сессии
        Присутствует плашка ошибки и кнопка "Обновить"
    - do: Тап "Обновить"
    - assert: |
        Поверх карточки выбора времени для парковочной сессии открывается поясняющий экран про номер телефона:
          Отображается надпись о необходимости привязать номер телефона
          Присутствуют кнопки "Привязать телефон" и "В другой раз"
    - do: Тап "В другой раз"
    - assert: |
        Поясняющий экран закрылся
        Открывается карточка выбора времени для парковочной сессии
        Присутствует плашка ошибки и кнопка "Обновить"

    - platforms:
        - android
    - tags:
        - assessors


  Привязка поясняющего номера телефона через поясняющий экран(iOS):
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт без привязанного номера телефона
        Открыта карточка парковки с оплатой(Тап по шильдику с ценой)
    - do: Тап "Оплатить парковку"
    - assert: |
        Открывается поясняющий экран про номер телефона:
          Отображается надпись о необходимости привязать номер телефона
          Присутствуют кнопки "Привязать телефон" и "В другой раз"
    - do: Тап "Привязать телефон"
    - assert: |
        Открывается WebView паспорта с залогиненным пользователем
        Отображается поле для ввода основного номера телефона и кнопка сохраненния
    - do: Привязать номер телефона в WebView паспорта
    - do: Закрыть WebView
    - assert: |
        Открыта карточка парковочной зоны
    - do: Тап "Оплатить парковку"
    - assert: |
        Открыта карточка выбора времени парковочной сессии
        Поясняющий экран про номер телефона не показан

    - platforms:
        - ios


  Привязка поясняющего номера телефона через поясняющий экран(Android):
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт без привязанного номера телефона
        Открыта карточка парковки с оплатой(Тап по шильдику с ценой)
    - do: Тап "Оплатить парковку"
    - assert: |
        Открывается карточка выбора времени для парковочной сессии
        Присутствует плашка ошибки и кнопка "Обновить"
    - do: Тап "Обновить"
    - assert: |
        Поверх карточки выбора времени для парковочной сессии открывается поясняющий экран про номер телефона:
          Отображается надпись о необходимости привязать номер телефона
          Присутствуют кнопки "Привязать телефон" и "В другой раз"
    - do: Тап "Привязать телефон"
    - assert: |
        Открывается WebView паспорта с залогиненным пользователем
        Отображается поле для ввода основного номера телефона и кнопка сохраненния
    - do: Привязать номер телефона в WebView паспорта
    - do: Закрыть WebView
    - do: Тап "Обновить"
    - assert: |
        В карточке выбора времени парковочной сессии не отображается плашка с ошибкой
        Происходит перерасчет цены
        Поясняющий экран про номер телефона не показан

    - platforms:
        - android


  Форма обратной связи в парковках:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
    - do: Открыть настройки парковок(Меню-> Парковки)
    - assert: Среди пунктов меню отображается "Поддержка"
    - do: Тап "Поддержка"
    - assert: |
        Открывается WebView обратной связи:
          - Пользователь авторизован в WebView
          - Отображаются поля в форме(например: Имя, почта, Выберите тему обращения и другие)

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие текущей парковочной сессии в истории:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Произведена авторизация в аккаунт ParkingDaFine (пароль в [Секретнице](https://yav.yandex-team.ru/secret/sec-01fhzhaa3j09k5nz5qmpdwgazd/explore/versions))
        На аккаунт добавленно несколько авто
        Активна текущая парковочная сессия(в карточке парковки тап "Оплатить парковку" -> "Припарковаться")
    - do: Открыть Историю парковок(Меню -> Парковки -> История парковок)
    - assert: В истории отсутствует информация о текущей парковочной сессии
    - do: Открыть карточку текущей парковочной сессии(Debug panel - Various - Open parking session card)
    - do: Тап "Завершить"
    - do: Открыть Историю парковок(Меню -> Парковки -> История парковок)
    - assert: В истории отображается завершенная парковочная сессия из предыдущих шагов

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Группировка по дням в истории парковок:
    - info: |
        dev.set - Mics - Testing mobmaps proxy enabled - on
        dev.set - parking - new parking payment - on
        dev.set - parking - parking_landing_ampp_url - оставить пустым/с пробелами
        Пользователь авторизован в аккаунт с привязанным номером телефона
        На девайсе выставить дату 18.11.2021
        Девайс подключен к снифферу
        В сниффере подменить ответ на https://mobmaps-proxy-api-ext.c.maps.yandex.net/v1/parking/get_parking_session_history?limit=10 через MapLocal, используя готовый [JSON](https://jing.yandex-team.ru/files/kuznetsova22/HistoryForTestCase.json)
    - do: Открыть экран истории парковок(Меню -> Парковки -> История парковок)
    - asseet: |
        Открылся экран "История парковок"
        Отображаются парковочные сессии:
          - Присутствуют даты в формате ДД месяц, день недели
          - Для парковки текущего дня пишется "Сегодня"
          - Для парковки вчерашнего дня пишется "Вчера"
          - Отображается длительность паркови и номер парковочной зоны(Например, "5 ч 30 мин, парковка №0309")

    - platforms:
        - ios
        - android


  Оплата парковки с помощью карты и завершение:
    - info: |
        Dev.set - Mics - Testing mobmaps proxy enabled - on
        Dev.set - Parking - New parking payment - on
        Dev.set - Parking - Parking_landing_ampp_url - оставить пустым/с пробелами
        Подключение к внутренней сети vpn
        Пользователь авторизован аккаунтом с привязанным номером телефона
        У пользователя недостаточно средств на парковочном счете для полной оплаты парковки
        С акканута не производилась ранее оплата парковки тестовой картой
        Добавлено авто
        Открыт спан карты г. Москва
        Открыта карточка парковочной зоны с кнопкой "Оплатить парковку"
    - do: Тап "Оплатить парковку"
    - assert: |
        Открылась карточка с выбором времени парковки
        Отображается кнопка "Припарковаться"
    - do: Увеличить время парковки пока кнопка "Припарковаться" не изменится на кнопку "Перейти к оплате"
    - assert: |
        Отображается кнопка "Перейти к оплате"
    - do: Тап "Перейти к оплате"
    - assert: |
        Открылось WebView оплаты картой
        На странице отображается надпись "У вас нет добавленных банковских карт"
        Отображается кнопка "Добавить карту и оплатить"
    - do: Тап "Добавить карту и оплатить"
    - assert: |
        Открылся веб-сайт партнера-банка
    - do: |
        Заполнить поля данными тестовой карты:
        PAN: 4150 3999 9900 0900
        CVV2: 620
        ExpDate: 01/21
    - do: Тап "Оплатить"
    - assert: |
        Веб-сайт партнера-банка закрылся после процесса перезагрузки
        Карточка выбора времени парковки закрылась
        Открылась карточка активной парковочной сессии с кнопками "Завершить" и "Продлить"
    - do: Тап "Завершить"
    - assert: |
        Карточка активной парковочной сессии закрылась
        Открыта карточка завершенной парковочной сессии

    - platforms:
        - android
        - ios


  Оплата парковки с помощью карты и продление:
    - info: |
        Dev.set - Mics - Testing mobmaps proxy enabled - on
        Dev.set - Parking - New parking payment - on
        Dev.set - Parking - Parking_landing_ampp_url - оставить пустым/с пробелами
        Подключение к внутренней сети vpn
        Пользователь авторизован аккаунтом с привязанным номером телефона
        У пользователя недостаточно средств на парковочном счете для полной оплаты парковки
        С акканута производилась ранее оплата парковки тестовой картой
        Добавлено авто
        Открыт спан карты Москвы
        Открыта карточка парковочной зоны с кнопкой "Оплатить парковку"
    - do: Тап "Оплатить парковку"
    - assert: |
        Открылась карточка с выбором времени парковки
        Отображается кнопка "Припарковаться"
    - do: Увеличить время парковки пока кнопка "Припарковаться" не изменится на кнопку "Перейти к оплате"
    - assert: |
        Отображается кнопка "Перейти к оплате"
    - do: Тап "Перейти к оплате"
    - assert: |
        Открылось WebView оплаты картой
        Отображается, добавленная ранее, тестовая карта
        Рядом с картой отображается неактивный чекбокс
        Присутствует кнопка "Добавить карту и оплатить"
    - do: Тап на чекбокс тестовой карты
    - assert: |
        Выбрана тестовая карта для оплаты
        Чекбокс стал активным, поменяв свой цвет
        Появилась кнопка "Оплатить" с указнием суммы
    - do: Тап "Оплатить"
    - assert: |
        Выбвью оплаты закрылось
        Карточка выбора времени парковки закрылась
        Открылась карточка активной парковочной сессии
    - do: Тап "Продлить"
    - assert: |
        Открылась карточка с выбором времени парковки
        Отображается кнопка "Перейти к оплате"
    - do: Тап "Перейти к оплате"
    - assert: |
        Открылось WebView оплаты картой
        Чекбокс выбранной ранее тестовой карты активен
        Отображается кнопка "Оплатить" с указанием суммы к оплате
    - do: Тап "Оплатить"
    - assert: |
        WebView оплаты закрылось
        Карточка выбора времени парковки закрылась
        Открылась карточка активной парковочной сессии

    - platforms:
        - android
        - ios



  Слой парковок в дневной и ночной теме:
    - info: |
        - Меню - Настройка - Dev Setting - Misc - Fast day night switching - On
        - Перезагрузить приложение
        - Проверку проводить на карте Москвы
    - do: Включить слой парковок тапом "Р" в правом углу карты
    - assert: |
        - Слой парковок становится активным
        - При приближении на карте начинают отображаться парковочные зоны, шильдики платных парковок
        - При изменении темы цвет парковок и шильдиков всегда голубой, все элементы отображаются одинаково в любой теме


    - integration_run:
        - mapkit
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready


  Тапабельные объекты на карте в слое парковок:
    - info: Проверку проводить на карте Москвы
    - do: Включить слой парковок тапом "Р" в правом углу карты
    - assert: Слой парковок становится активным
    - do: |
        - Приблизить карту чтобы были видны полигоны и линии парковок
        - Тап на парковочный полигон
    - assert: Полигон не тапабельный
    - do: Тап на линию парковки
    - assert: Линия не тапабельна
    - do: Тап на шильдик парковки
    - assert: |
        - Открывается карточка парковки
        - Пин парковки становится выделеным
    - do: Тап на пин парковки без цены
    - assert: |
        - Открывается карточка парковки
        - Пин парковки становится выделеным
    - do: Тап несколько значков парковок подряд
    - assert: |
        - Нельзя выделить несколько значков одновременно
        - Выделяется только один пин

    - integration_run:
        - mapkit
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
