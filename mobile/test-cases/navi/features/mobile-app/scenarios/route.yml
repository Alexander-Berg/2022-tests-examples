components: route
testing:
  - regress

specs:
  Маршруты - весь мир (в пределах страны Россия):
    - do: Построить маршрут в пределах России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        Сбросить маршрут тапом по крестику в ЕТА
        Сбросить симуляцию движения по маршруту
    - assert: |
        Маршрут сбрасывается
        Маневры не отображаются
        ЕТА скрывается
    - do: Построить маршрут в пределах страны Турция
    - assert: Маршрут строится

    - platforms:
      - motrex
      - autochip
      - geely
      - vaz
      - carsharing_t3
      - ios
      - nissan
      - t3am
      - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
      - mapkit


  Округление времени (переход из одного шаблона в другой):
    - info: |
        Если осталось меньше одной минуты, отображаем "<1 мин"
        Если осталось меньше трех часов, отображаем с точностью до минут ("2ч. 42мин.")
        Если осталось меньше восьми часов, округляем до 30 минут ("4 часа", "5.5 часов")
        Если осталось меньше трех дней, округляем до 1 часа ("2дн. 1ч.")
        Если осталось больше трех дней, округляем до 12 часов ("4 дня", "5.5 дней")
    - do: |
        - Построить маршрут на 8 минут
        - Запустить симуляцию ведения через дебаг-панель
        - Дождаться, когда до конца пути останется меньше 2 минут
    - assert: Проверить что данные о времени поездки соответствуют шаблонам из описания (< 1 минуты)

    - platforms:
      - ios
      - android
    - integration_run:
      - mapkit
    - tags:
      - assessors
      - not_suitable_for_farm
      - mapkit_ready


  Встроенный эмулятор движения в debug сборках:
    - info: |
        - Установлена debug-сборка приложения
        - Девайс в портретной ориентации
    - do: |
        Построить маршрут в любую точку
        Тап «Поехали!»
    - assert: Происходит переход в режим ведения
    - do: Тап на иконку белой стрелки в верхней части экрана
    - assert: Открылся Playback
    - do: |
        Тап по кнопке Route: OFF
    - assert: |
        - Значение изменилось на Route: ON
        - Симуляция поездки запущена
        - Началось движение по маршруту
    - do: Тап несколько раз на кнопки "-" и "+" напротив строки Speed
    - assert: При тапе на кнопки, скорость движения курсора по маршруту изменяется
    - do: Тап на иконку белой стрелки в верхней части экрана
    - assert: Дебаг-панель закрывается
    - do: |
        - Тап на иконку белой стрелки в верхней части экрана
        - Тап по кнопке Route: ON
    - assert: |
        - Происходит сброс маршрута
        - Курсор возвращается к реальному местоположению

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
      - mapkit


  Маршрут к подъезду.:
    - info: |
        - Если для строения есть данные о расположении входа, то маршрут строится максимально близко ко входу
        - Если информации о входе (подъезде) нет, то строим маршрут где-то к середине здания.
        - Эта логика применима для всех случаев (финишная точка/ промежуточная точка), кроме случаев когда точка выбрана лонгтапом или через пункт "Что здесь?".
        - Использовать _debug сборку
    - do: |
        Найти здание, где есть информация о входах/подъездах. Например, улица Барклая, 7к1
        Открыть карточку этого здания. (Например, тапнув по POI или выполнив поиск по адресу)
    - assert: В карточки здания отображаются пронумерованные иконки подъездов
    - do: Тап на иконку любого подъезда в карточке
    - assert: Маршрут строится максимально близко к выбранному подъезду

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
      - mapkit


  Плохие дороги. Предупреждение и иконки:
    - do: Построить маршрут, проходящий через плохую дорогу. (например, построив маршрут куда-нибудь в область, подальше от основных трасс)
    - assert: |
        - В окне обзора маршрута, у тех вариантов, которые проходят через плохие дороги показывается иконка плохой дороги
        - При выборе маршрута отображается текст предупреждения о наличии неровной дороги
    - do: |
        - Выбрать маршрут, имеющий иконку плохой дороги
        - Тап "Поехали"
    - assert: На карте, на линии выбранного маршрута отображаются иконки начала и конца плохой дороги вместе начало отрезка с ней
    - do: Построить маршрут, имеющий альтернативу с участком плохой дороги и начать ведение по нему
    - assert: На баллунах альтернатив, имеющих участок с плохой дорогой, отображаются соответствующие иконки [Скриншот](https://jing.yandex-team.ru/files/avilovittest/photo_2018-06-22_10-41-11.jpg)

    - platforms:
      - motrex
      - autochip
      - renault
      - geely
      - carsharing_t3
      - ios
      - nissan
      - t3am
      - android
    - tags:
      - assessors
      - not_suitable_for_farm
      - mapkit_ready
    - integration_run:
      - mapkit


  Ведение по маршруту. Сдвиг к местоположению пользователя.:
    - do: |
        Построить маршрут имеющий несколько маневров.
        Тап на "Поехали"
        Запустить симуляцию движения через дебаг-панель
    - assert: Курсор движется по маршруту
    - do: |
        Подвигать карту так, чтобы курсор скрылся за границей карты
        Подождать, не взаимодействуя с картой
    - assert: Через несколько секунд происходит автосдвиг карты к текущему местоположению курсора.
    - do: |
        Сбросить маршрут, не завершая симуляции
        Подвигать карту так, чтобы курсор скрылся за границей карты
        Подождать, не взаимодействуя с картой
    - assert: Элементы интерфейса через некоторое время скрываются. Происходит автосдвиг к текущему местоположению курсора

    - platforms:
      - renault
      - geely
      - carsharing_t3
      - ios
      - android
      - vaz
      - nissan
      - t3am
      - motrex
      - autochip
      - first_run_hu
    - tags:
      - assessors
      - not_suitable_for_farm
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Ведение по маршруту:
    - info: |
        Аннотации о камерах и опасных участках произносятся только при превышении скорости.
        Меню - Настройки - Голос - Выбрать Алису
    - do: |
        Построить маршрут имеющий несколько маневров и проходящий через несколько дорожных событий
        Тап "Поехали"
        Запустить симуляцию движения через дебаг-панель
    - assert: |
        - Курсор движется по маршруту
        - Аннотации о маневрах и дорожных событиях произносятся.
    - do: Дождаться завершения маршрута.
    - assert: Звучит аннотация "Вы приехали"

    - platforms:
      - renault
      - geely
      - carsharing_t3
      - ios
      - android
      - vaz
      - nissan
      - t3am
      - motrex
      - autochip
      - first_run_hu
    - tags:
        - assessors
        - not_suitable_for_farm
        - both_myspin
        - mapkit_ready
    - testing:
      - acceptance_navi
      - smoke_myspin
    - integration_run:
      - mapkit


  Ведение по маршруту. Автоматическое перестроение маршрута.:
    - info: Меню - Настройки - Голос - Выбрать Алису
    - do: |
        Построить маршрут имеющий несколько маневров
        Тап "Поехали"
        Запустить симуляцию движения через дебаг-панель
    - assert: |
        Производится симуляция движения по маршруту
        Аннотации о маневрах и дорожных событиях произносятся
    - do: |
        Не сбрасывая симуляцию ведения по маршруту построить маршрут в другую точку и подтвердить его (тап на "поехали").
        Дождаться расхождения построенного маршрута и симуляции.
    - assert: После расхождения маршрута симуляции и построенного маршрута, звучит аннотация "маршрут перестроен", маршрут перестраивается.

    - platforms:
      - renault
      - geely
      - carsharing_t3
      - ios
      - android
      - vaz
      - nissan
      - t3am
      - motrex
      - autochip
      - first_run_hu
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Ведение по маршруту. Уход с маршрута.:
    - info: |
        - Меню - Настройки - Голос - Выбрать Алису
        - Меню - Настройки - Сохраненные данные - Стереть карты - Ок
    - do: |
        - Построить маршрут имеющий несколько маневров
        - Тап "Поехали"
        - Запустить симуляцию движения через дебаг-панель
    - assert: |
        - Производится симуляция движения по маршруту
        - Аннотации о маневрах и дорожных событиях произносятся
    - do: |
        - Не сбрасывая симуляцию ведения по маршруту построить маршрут в другую точку и подтвердить его (тап на "поехали").
        - Отключить сеть на девайсе
    - assert: |
        - В момент расхождения симулируемого маршрута и построенного маршрута должна прозвучать аннотация о сходе с маршрута.
        - Новый маршрут не строится.
    - do: Включить сеть на девайсе
    - assert: Звучит аннотация “маршрут перестроен” и маршрут перестраивается.

    - platforms:
      - renault
      - geely
      - carsharing_t3
      - ios
      - android
      - vaz
      - nissan
      - t3am
      - motrex
      - autochip
      - first_run_hu
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Маршруты - весь мир (Построение из Беларуси):
    - info: На устройстве установлена локаль be_BY
    - do: Построить маршрут из Беларуси в Россию
    - assert: Маршрут строится
    - do: Построить маршрут из Беларуси, через Украину в Казахстан
    - assert: Маршрут строится

    - platforms:
      - motrex
      - geely
      - carsharing_t3
      - ios
      - android
      - vaz
      - nissan
      - t3am
      - autochip
      - first_run_hu
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
      - mapkit


  Маршруты - весь мир (Построение из России):
    - info: Локаль на устройстве ru_RU
    - do: Построить маршрут из России в Францию
    - assert: |
        Маршрут успешно построился
        Есть информация о пересечении границы
    - do: |
        Сбросить маршрут
        Построить маршрут из России в Германию
    - assert: |
        Маршрут успешно построился
        Есть информация о пересечении границы
    - do: |
        Сбросить маршрут
        Построить маршрут из России в Финляндию
    - assert: |
        Маршрут успешно построился
        Есть информация о пересечении границы
    - do: |
        Сбросить маршрут
        Построить маршрут из России в Латвию
    - assert: |
        Маршрут успешно построился
        Есть информация о пересечении границы
    - do: |
        Сбросить маршрут
        Построить маршрут из России в Эстонию
    - assert: |
        Маршрут успешно построился
        Есть информация о пересечении границы

    - platforms:
      - motrex
      - geely
      - carsharing_t3
      - ios
      - android
      - vaz
      - nissan
      - t3am
      - autochip
      - first_run_hu
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
      - mapkit


  Маршруты - весь мир (Калининград):
    - info: |
        Местоположение пользователя - любой город в России (кроме Калининграда)
        Локаль ru_RU
    - do: Построить маршрут в Калининград
    - assert:
        Маршрут строится
        В саджестах с вариантами маршрута отображается иконка глобуса

    - platforms:
      - motrex
      - geely
      - carsharing_t3
      - ios
      - android
      - vaz
      - nissan
      - t3am
      - autochip
      - first_run_hu
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
      - mapkit


  Названия улиц на маршруте:
    - info: |
        Меню -> Настройки -> Developer settings -> Misc -> Fast day&night switching - on
        Dev settings > Map > Road labels under route - on
        Перезапустить навигатор
    - do: Построить произвольный маршрут
    - assert: Названия улиц показываются над маршрутом, не уходят под него.
    - do: |
          Тап Поехали
          Запустить симуляцию движения
    - assert: Пока на карте отображается таббар, названия улиц показываются над маршрутом.
    - do: Дождаться скрытия таббара и смещения фокуса на курсор + следование за ним.
    - assert: Названия улиц на маршруте не показываются
    - do: Тап по карте
    - assert: Названия улиц показываются над маршрутом

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - not_suitable_for_farm


  UI ведения по маршруту со сменой ориентации устройства:
    - info:  |
        - Открыт главный экран приложения
        - Устройство в портретной ориентации
    - do: |
        - Построить маршрут в любую точку
        - Тап "Поехали"
        - Подождать ~2-5 секунд
    - assert: |
        Запускается режим ведения:
        - Отображается карта
        - Отображается полоса маршрута внизу экрана (с отображением: дистанции, времени прибытия, времени в пути)
        - Отображается сам маршрут
        - Маневры
        - Дорожные События на маршруте (могут не быть на маршруте)
        - Текущая скорость (круг в правом верхнем углу)
        - Ограничение скорости в текущей точке (круг в красной окантовке в правом верхнем углу)
    - do: |
        - Запустить движение по маршруту (через дебаг панель)
    - assert: |
        Запускается режим ведения:
        - Курсор начинает движение по маршруту
        - Текущая скорость начинает расти и отображается та, которая указана в дебаг меню
        - Может меняться ограничение скорости
    - do: Сменить ориентацию устройства на лендскейп
    - assert: |
        - Приложение работает стабильно
        - Все элементы режима ведения сохранились на экране и отображаются в лендскейпе
        - Ведение по маршруту продолжается
    - do: Сменить ориентацию устройства обратно на портретную
    - assert: |
        - Приложение работает стабильно
        - Все элементы режима ведения сохранились на экране и отображаются в портретной ориентации
        - Ведение по маршруту продолжается

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Округление времени (минуты):
    - info: |
        Если осталось меньше одной минуты, отображаем "<1 мин"
        Если осталось меньше трех часов, отображаем с точностью до минут ("2ч. 42мин.")
        Если осталось меньше восьми часов, округляем до 30 минут ("4 часа", "5.5 часов")
        Если осталось меньше трех дней, округляем до 1 часа ("2дн. 1ч.")
        Если осталось больше трех дней, округляем до 12 часов ("4 дня", "5.5 дней")
        Для прохождения использовать debug версию приложения
    - do: Построить маршрут, который длиться не больше 5 минут
    - assert: |
        Отображается информация о времени (<5 минут)
        Проверить что данные о времени поездки соответствуют шаблонам из описания
    - do: |
        Подтвердить маршрут
        Начать симуляцию движения по маршруту
    - assert: |
        Курсор движется по маршруту
        В плашке ЕТА отображается информация о времени поездки
        Проверить что данные о времени поездки соответствуют шаблонам из описания

    - platforms:
      - ios
      - android
    - integration_run:
      - mapkit
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready


  Округление времени (Часы):
    - info: |
        Если осталось меньше одной минуты, отображаем "<1 мин"
        Если осталось меньше трех часов, отображаем с точностью до минут ("2ч. 42мин.")
        Если осталось меньше восьми часов, округляем до 30 минут ("4 часа", "5.5 часов")
        Если осталось меньше трех дней, округляем до 1 часа ("2дн. 1ч.")
        Если осталось больше трех дней, округляем до 12 часов ("4 дня", "5.5 дней")
        Для прохождения использовать debug версию приложения
    - do: Построить маршрут на несколько часов
    - assert: |
        Отображается информация о времени
        Проверить что данные о времени поездки соответствуют шаблонам из описания
    - do: |
        Подтвердить маршрут
        Начать симуляцию движения по маршруту
    - assert: |
        Курсор движется по маршруту
        В плашке ЕТА отображается информация о времени поездки
        Проверить что данные о времени поездки соответствуют шаблонам из описания

    - platforms:
      - ios
      - android
    - integration_run:
      - mapkit
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready


  Округление времени (Больше 8 часов):
    - info: |
        Если осталось меньше одной минуты, отображаем "<1 мин"
        Если осталось меньше трех часов, отображаем с точностью до минут ("2ч. 42мин.")
        Если осталось меньше восьми часов, округляем до 30 минут ("4 часа", "5.5 часов")
        Если осталось меньше трех дней, округляем до 1 часа ("2дн. 1ч.")
        Если осталось больше трех дней, округляем до 12 часов ("4 дня", "5.5 дней")
        Для прохождения использовать debug версию приложения
    - do: Построить маршрут больше 8 часов
    - assert: |
        Отображается информация о времени
        Проверить что данные о времени поездки соответствуют шаблонам из описания
    - do: |
        Подтвердить маршрут
        Начать симуляцию движения по маршруту
    - assert: |
        Курсор движется по маршруту
        В плашке ЕТА отображается информация о времени поездки
        Проверить что данные о времени поездки соответствуют шаблонам из описания

    - platforms:
      - ios
      - android
    - integration_run:
      - mapkit
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready


  Округление времени (меньше трех дней):
    - info: |
        Если осталось меньше одной минуты, отображаем "<1 мин"
        Если осталось меньше трех часов, отображаем с точностью до минут ("2ч. 42мин.")
        Если осталось меньше восьми часов, округляем до 30 минут ("4 часа", "5.5 часов")
        Если осталось меньше трех дней, округляем до 1 часа ("2дн. 1ч.")
        Если осталось больше трех дней, округляем до 12 часов ("4 дня", "5.5 дней")
        Для прохождения использовать debug версию приложения
    - do: Построить маршрут (от одного до трех дней)
    - assert: |
        Отображается информация о времени
        Проверить что данные о времени поездки соответствуют шаблонам из описания
    - do: |
        Подтвердить маршрут
        Начать симуляцию движения по маршруту
    - assert: |
        Курсор движется по маршруту
        В плашке ЕТА отображается информация о времени поездки
        Проверить что данные о времени поездки соответствуют шаблонам из описания

    - platforms:
      - ios
      - android
    - integration_run:
      - mapkit
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready


  Округление времени (три и больше дней):
    - info: |
        Если осталось меньше одной минуты, отображаем "<1 мин"
        Если осталось меньше трех часов, отображаем с точностью до минут ("2ч. 42мин.")
        Если осталось меньше восьми часов, округляем до 30 минут ("4 часа", "5.5 часов")
        Если осталось меньше трех дней, округляем до 1 часа ("2дн. 1ч.")
        Если осталось больше трех дней, округляем до 12 часов ("4 дня", "5.5 дней")
        Для прохождения использовать debug версию приложения
    - do: Построить маршрут от трех и более дней
    - assert: |
        Отображается информация о времени
        Проверить что данные о времени поездки соответствуют шаблонам из описания
    - do: |
        Подтвердить маршрут
        Начать симуляцию движения по маршруту
    - assert: |
        Курсор движется по маршруту
        В плашке ЕТА отображается информация о времени поездки
        Проверить что данные о времени поездки соответствуют шаблонам из описания

    - platforms:
      - ios
      - android
    - integration_run:
      - mapkit
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready


  Маршруты - весь мир (в пределах страны Украина):
    - info: На девайсе установлена локаль uk_UK
    - do: Построить маршрут в пределах страны Украина
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        Сбросить маршрут тапом по крестику в ЕТА
        Сбросить симуляцию движения по маршруту
    - assert: |
        Маршрут сбрасывается
        Маневры не отображаются
        ЕТА скрывается
    - do: Построить маршрут в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах страны Беларусь):
    - info: На девайсе установлена локаль be_BY
    - do: Построить маршрут в пределах стран Беларусь
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        Сбросить маршрут тапом по крестику в ЕТА
        Сбросить симуляцию движения по маршруту
    - assert: |
        Маршрут сбрасывается
        Маневры не отображаются
        ЕТА скрывается
    - do: Построить маршрут в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах страны Казахстан):
    - info: На девайсе установлена локаль kk-KZ
    - do: Построить маршрут в пределах страны Казахстан
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        Сбросить маршрут тапом по крестику в ЕТА
        Сбросить симуляцию движения по маршруту
    - assert: |
        Маршрут сбрасывается
        Маневры не отображаются
        ЕТА скрывается
    - do: Построить маршрут в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Грузии):
    - info: На девайсе установлена локаль ka_GE
    - do: Построить маршрут в пределах страны Грузия
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        Сбросить маршрут тапом по крестику в ЕТА
        Сбросить симуляцию движения по маршруту
    - assert: |
        Маршрут сбрасывается
        Маневры не отображаются
        ЕТА скрывается
    - do: Построить маршрут в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Киргизии):
    - info: На девайсе установлена локаль kg_KGZ
    - do: Построить маршрут в пределах страны Киргизия
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        Сбросить маршрут тапом по крестику в ЕТА
        Сбросить симуляцию движения по маршруту
    - assert: |
        Маршрут сбрасывается
        Маневры не отображаются
        ЕТА скрывается
    - do: Построить маршрут в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Молдовы):
    - info: На девайсе установлена локаль ro_MD
    - do: Построить маршрут в пределах страны Молдова
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        Сбросить маршрут тапом по крестику в ЕТА
        Сбросить симуляцию движения по маршруту
    - assert: |
        Маршрут сбрасывается
        Маневры не отображаются
        ЕТА скрывается
    - do: Построить маршрут в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Таджикистан):
    - info: На девайсе установлена локаль tj_TJ
    - do: Построить маршрут в пределах страны Таджикистан
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        Сбросить маршрут тапом по крестику в ЕТА
        Сбросить симуляцию движения по маршруту
    - assert: |
        Маршрут сбрасывается
        Маневры не отображаются
        ЕТА скрывается
    - do: Построить маршрут в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Туркменистана):
    - info: На девайсе установлена локаль
    - do: Построить маршрут в пределах страны Туркменистан
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        Сбросить маршрут тапом по крестику в ЕТА
        Сбросить симуляцию движения по маршруту
    - assert: |
        Маршрут сбрасывается
        Маневры не отображаются
        ЕТА скрывается
    - do: Построить маршрут в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Узбекистана):
    - info: На девайсе установлена локаль uz_UZ
    - do: Построить маршрут в пределах страны Узбекистан
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        Сбросить маршрут тапом по крестику в ЕТА
        Сбросить симуляцию движения по маршруту
    - assert: |
        Маршрут сбрасывается
        Маневры не отображаются
        ЕТА скрывается
    - do: Построить маршрут в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Абхазии):
    - info: На девайсе установлена локаль ab_ABH
    - do: Построить маршрут в пределах страны Абхазия
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        - Сбросить маршрут тапом по крестику в ЕТА
        - Сбросить симуляцию движения по маршруту
    - assert: |
        - Маршрут сбрасывается
        - Маневры не отображаются
        - ЕТА скрывается
    - do: Построить маршрут в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Северной Осетии):
    - info: На девайсе установлена локаль
    - do: Построить маршрут в пределах Северной Осетии
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        - Сбросить маршрут тапом по крестику в ЕТА
        - Сбросить симуляцию движения по маршруту
    - assert: |
        - Маршрут сбрасывается
        - Маневры не отображаются
        - ЕТА скрывается
    - do: Построить маршрут в Москву
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Польши):
    - info: На девайсе установлена локаль pl_PL
    - do: Построить маршрут в пределах страны Польша
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        - Сбросить маршрут тапом по крестику в ЕТА
        - Сбросить симуляцию движения по маршруту
    - assert: |
        - Маршрут сбрасывается
        - Маневры не отображаются
        - ЕТА скрывается
    - do: Построить маршрут в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Литвы):
    - info: На девайсе установлена локаль lt_LT
    - do: Построить маршрут в пределах страны Литва
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        - Сбросить маршрут тапом по крестику в ЕТА
        - Сбросить симуляцию движения по маршруту
    - assert: |
        - Маршрут сбрасывается
        - Маневры не отображаются
        - ЕТА скрывается
    - do: Построить маршрут в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Латвии):
    - info: На девайсе установлена локаль lv_LV
    - do: Построить маршрут в пределах страны Латвия
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        - Сбросить маршрут тапом по крестику в ЕТА
        - Сбросить симуляцию движения по маршруту
    - assert: |
        - Маршрут сбрасывается
        - Маневры не отображаются
        - ЕТА скрывается
    - do: Построить маршрут из Латвии в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Эстонии):
    - info: На девайсе установлена локаль et_EE
    - do: Построить маршрут в пределах страны Эстония
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        - Сбросить маршрут тапом по крестику в ЕТА
        - Сбросить симуляцию движения по маршруту
    - assert: |
        - Маршрут сбрасывается
        - Маневры не отображаются
        - ЕТА скрывается
    - do: Построить маршрут из Эстонии в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Финляндии):
    - info: На девайсе установлена локаль fi_FI
    - do: Построить маршрут в пределах страны Финляндия
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        - Сбросить маршрут тапом по крестику в ЕТА
        - Сбросить симуляцию движения по маршруту
    - assert: |
        - Маршрут сбрасывается
        - Маневры не отображаются
        - ЕТА скрывается
    - do: Построить маршрут из Финляндии в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Германии):
    - info: На девайсе установлена локаль de_DE
    - do: Построить маршрут в пределах страны Германия
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        - Сбросить маршрут тапом по крестику в ЕТА
        - Сбросить симуляцию движения по маршруту
    - assert: |
        - Маршрут сбрасывается
        - Маневры не отображаются
        - ЕТА скрывается
    - do: Построить маршрут из Германии в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршруты - весь мир (в пределах Франции):
    - info: На девайсе установлена локаль fr_FR
    - do: Построить маршрут в пределах страны Франция
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку
    - do: Подтвердить маршрут и запустить симуляцию ведения с помощью дебаг-панели
    - assert: |
        - Звучат аннотации по маршруту о маневрах, ДС
        - Отображаются маневры по маршруту
    - do: |
        - Лонгтап в любом месте на карте
        - Тап Через
        - Подтвердить маршрут
    - assert: Строится маршрут через указанную точку
    - do: |
        - Сбросить маршрут тапом по крестику в ЕТА
        - Сбросить симуляцию движения по маршруту
    - assert: |
        - Маршрут сбрасывается
        - Маневры не отображаются
        - ЕТА скрывается
    - do: Построить маршрут из Франции в любой город России
    - assert: |
        - Звучит аннотация о построении маршрута
        - Строится маршрут в указанную точку

    - platforms:
        - motrex
        - autochip
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - t3am
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
        - mapkit_ready
    - integration_run:
        - mapkit


  Названия улиц на маршруте с выключенным экспериментом Road labels under route :
    - description: |
        В данном кейсе проверяем, что в режиме ведения по маршруту надписи улиц всегда над маршрутом.
    - info: |
        Включить настройку автоматической смены день/ночь: Меню -> Настройки -> Developer settings -> Misc -> Fast day&night switching - on
        Dev settings > Map > Road labels under route = off
        Перезапустить навигатор.
    - do: Построить произвольный маршрут.
    - assert: Названия улиц показываются над маршрутом, не уходят под него.
    - do: Тап на Поехали
        Запустить симуляцию движения.
    - assert: Пока на карте отображается таббар, названия улиц показываются над маршрутом.
    - do: Дождаться скрытия таббара и смещения фокуса на курсор + следование за ним.
    - assert: Названия улиц над линией маршрута.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - not_suitable_for_farm


  Зум карты при въезде на полигон:
    - info: |
        Включить настройки: Меню -> Настройки -> Developer settings -> Misc -> Fast day&night switching - on
        Dev > Map > Complex junction customization - On
        Dev > Misc > Show complex junctions polygons - On (это покажет полигоны на карте, сейчас в Мск - выделены красным, либо зеленым если геолокация в одном из них)
        Dev > Navi Styles > Adjust zoom in following while in complex junctions - ввести любую цифру (например 2, на такое количество увеличить зум при въезде в полигон)
        Меню - Настройки - Карта и интерфейс - Автомасштаб - Вкл
        Перезагрузить навигатор
    - do: Построить маршрут с началом вне полигона, а финишом внутри любого полигона. Запустить симуляцию движения по маршруту
    - assert: Курсор движется по маршруту
    - do: Дождаться когда курсор заедет в полигон
    - assert: При вьезде на полигон зум увеличивается, ширина маршрута уменьшается
        Приходит событие `complex-junctions.enter-polygon` c параметром polygonId

    - platforms:
        - ios
        - android
        - myspin
    - testing:
        - acceptance_navi
    - tags:
        - assessors
        - metric


  Зум карты при выезде с полигона:
    - info: |
        Включить настройки: Меню -> Настройки -> Developer settings -> Misc -> Fast day&night switching - on
        Dev > Map > Complex junction customization - On
        Dev > Misc > Show complex junctions polygons - On (это покажет полигоны на карте, сейчас в Мск - выделены красным, либо зеленым если геолокация в одном из них)
        Dev > Navi Styles > Adjust zoom in following while in complex junctions - ввести любую цифру (например 2, на такое количество увеличить зум при въезде в полигон)
        Меню - Настройки - Карта и интерфейс - Автомасштаб - Вкл
        Перезагрузить навигатор
    - do: Построить маршрут с началом внутри полигона, а финишом вне полигона. Запустить симуляцию движения по маршруту
    - assert: Курсор движется по маршруту
    - do: Дождаться когда курсор выехает за пределы полигона
    - assert: При выезде с полигона зум уменьшается, ширина маршрута увеличивается
        Приходит событие `complex-junctions.exit-polygon` c параметром polygonId

    - platforms:
        - ios
        - android
        - myspin
    - tags:
        - assessors
        - metric
    - testing:
        - acceptance_navi


  Отображение полигонов на карте (on exp):
    - info: |
        Включить настройки: Меню -> Настройки -> Developer settings -> Misc -> Fast day&night switching - on
        Dev > Map > Complex junction customization - On
        Dev > Misc > Show complex junctions polygons - On (это покажет полигоны на карте, сейчас в Мск - выделены красным, либо зеленым если геолокация в одном из них)
        Перезагрузить навигатор
    - do: Отскроллить карту на местоположение г. Москва
    - assert: На карте отображаются красные полигоны с синей обводкой

    - platforms:
        - ios
        - android
        - myspin
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Отображение полигонов на карте (off exp):
    - info: |
        Включить настройки: Меню -> Настройки -> Developer settings -> Misc -> Fast day&night switching - on
        Dev > Map > Complex junction customization - On
        Dev > Misc > Show complex junctions polygons - Off
        Перезагрузить навигатор
    - do: Отскроллить карту на местоположение г. Москва
    - assert: На карте НЕ отображаются красные полигоны с синей обводкой

    - platforms:
        - ios
        - android
        - myspin
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Логирование въезда на опасный участок:
    - info: |
        Включить настройки:
        Меню -> Настройки -> Developer settings -> Misc -> Fast day&night switching - on
        Меню -> Настройки -> Developer settings -> Misc -> Show complex junctions polygons - on (это покажет полигоны на карте, сейчас в Мск - синий полигон находится в районе м.Тульская)
        Перезагрузить навигатор
    - do: Построить маршрут так, чтобы он проходил ТОЛЬКО через синий полигон. Запустить симуляцию движения по маршруту
    - assert: |
        Курсор движется по маршруту.
        При въезде в синий полигон в логи приходит событие `complex-junctions.trajectories.enter-polygon` c параметром polygonId

    - platforms:
        - ios
        - android
        - myspin
    - tags:
        - assessors
        - metric
    - testing:
        - acceptance_navi


  Логирование въезда на опасный участок при пересечнии с другим полигоном:
    - info: |
        Включить настройки:
        Меню -> Настройки -> Developer settings -> Misc -> Fast day&night switching - on
        Меню -> Настройки -> Developer settings -> Misc -> Show complex junctions polygons - on (это покажет полигоны на карте, сейчас в Мск - синий полигон находится в районе м.Тульская)
        Перезагрузить навигатор
    - do: Построить маршрут так, чтобы он проходил через красный и синий полигон. Запустить симуляцию движения по маршруту
    - assert: |
        Курсор движется по маршруту.
        В момент въезда в красный полигон - сам полигон меняет цвет на зеленый.
        В логи приходит событие: `complex-junctions.enter-polygon` c параметром polygonId
    - do: Дождаться момента, когда курсор въедет в синий полигон.
    - assert: |
        При въезде в синий полигон в логи приходит событие `complex-junctions.trajectories.enter-polygon` c параметром polygonId
    - do: Дождаться момента, когда курсор выедет из полигонов
    - assert: |
        При выезде из синего полигона в логи приходит событие `complex-junctions.trajectories.exit-polygon` c параметром polygonId
        При выезде из зеленого полигона - цвет полигона менеятся на красный.
        В логи приходит событие: `complex-junctions.exit-polygon` c параметром polygonId

    - platforms:
        - ios
        - android
        - myspin
    - tags:
        - assessors
        - metric
    - testing:
        - acceptance_navi


  Контроллер полилиний опасных траекторий:
    - info: |
        Включить настройки:
        Меню -> Настройки -> Developer settings -> Misc -> Fast day&night switching - on
        Меню -> Настройки -> Developer settings -> Misc -> Show complex junctions polygons - on (это покажет полигоны на карте, сейчас в Мск - синий полигон находится в районе м.Тульская)
        Перезагрузить навигатор
    - do: Построить маршрут так, чтобы он проходил через красный и синий полигон. Запустить симуляцию движения по маршруту
    - assert: |
        Курсор движется по маршруту.
        В момент въезда в полигон - красная часть полигона меняет цвет на зеленый.
        По маршруту в области полигона появляются линии - развязки по маршруту
        В темной  теме: эти линии серо-голубого цвета
        в дневной теме - серого цвета
    - do: Дождаться момента, когда курсор выедет из полигонов
    - assert: |
        Зеленый цвет полигона меняется на красный.
        Линии развязок на маршруте пропадают с карты

    - platforms:
        - ios
        - android
        - myspin
    - tags:
        - assessors
    - testing:
        - regress


  Логирование начала движения (с включенным navigation):
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit:navigation instead of mapkit::guidance - On
        Перезагрузить навигатор
    - do: |
        - Запустить симуляцию движения по MOCK MAPKITSIM-4261
        - Тап по кнопке определения местоположения (большая кнопка со стрелкой над таббаром)
        Дождаться остановки движения на светофоре и начала движения
    - assert: |
        Курсор начинает движение.
        На спидометре отображается текущая скорость
        В логи приходит событие: `navigation.moving_detected`

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
        - metric
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Логирование остановки движения (с включенным navigation):
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit:navigation instead of mapkit::guidance - On
        Перезагрузить навигатор
        Девайс подключен к ПК, запущено средство для просмотра логов
    - do: |
        - Запустить симуляцию движения по MOCK MAPKITSIM-4261
        - Тап по кнопке определения местоположения (большая кнопка со стрелкой над таббаром)
        - Дождаться остановки движения на светофоре
    - assert: |
        - Курсор останавливается
        - На спидометре отображается нулевая скорость
        - В логи приходит событие: `navigation.standing_detected`

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
        - metric
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Логирование начала движения:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit:navigation instead of mapkit::guidance - Off
        Перезагрузить навигатор
        Девайс подключен к ПК, запущено средство для просмотра логов
    - do: |
        - Запустить симуляцию движения по MOCK MAPKITSIM-4261
        - Тап по кнопке определения местоположения (большая кнопка со стрелкой над таббаром)
        Дождаться остановки движения на светофоре и начала движения
    - assert: |
        Курсор начинает движение
        На спидометре отображается текущая скорость
        В логи приходит событие: `guidance.moving_detected`

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
        - metric
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Логирование остановки движения:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit:navigation instead of mapkit::guidance - Off
        Перезагрузить навигатор
        Девайс подключен к ПК, запущено средство для просмотра логов
    - do: |
        - Запустить симуляцию движения по MOCK MAPKITSIM-4261
        - Тап по кнопке определения местоположения (большая кнопка со стрелкой над таббаром)
        - Дождаться остановки движения на светофоре
    - assert: |
        - Курсор останавливается
        - На спидометре отображается нулевая скорость
        - В логи приходит событие: `guidance.standing_detected`

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
        - metric
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Построение маршрута до точки входа:
    - info: |
        Построение маршрута до парковки организации - ожидаемо, не является багом
    - do: Построить маршрут до организации с точкой входа , например до парка Малевича г.Москва
    - assert: Маршрут строится до точки входа в организацию

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Увеличение частоты обновления карты перед поворотами:
    - info: |
        - Включить настройки:
        - Dev > Map > Increase FPS before maneuver - On
        - Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        - Перезагрузить навигатор
    - do: |
        - Построить маршрут через поворот (например `yandexnavi://build_route_on_map?lat_from=55.881864&lon_from=37.444924&lat_to=55.885010&lon_to=37.473750`)
        - Тап на "Поехали"
        - Запустить симуляцию движения
    - assert: Карта во время поворота и 15 сек после обновляется плавно, верстка не ломается

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Увеличение частоты обновления карты перед поворотами (freedrive):
    - info: |
        - Включить настройки:
        - Dev > Map > Increase FPS before maneuver - On
        - Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        - Перезагрузить навигатор
    - do: |
        - Построить маршрут через поворот (например `yandexnavi://build_route_on_map?lat_from=55.881864&lon_from=37.444924&lat_to=55.885010&lon_to=37.473750`)
        - Тап на "Поехали"
        - Запустить симуляцию движения
        - Сбросить маршрут
    - assert: Карта во время поворота и 15 сек после обновляется плавно, верстка не ломается

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Сокращение минут в обзоре маршрута и балунах:
    - do: Построить маршрут время которого будет меньше часа
    - assert: |
        В обзоре слово "минуты" сокращается до "мин"
        Точка в конце сокращения отсутствует
        После времени до текста "мин" стоит пробел
        В балунах на маршруте слово "минуты" сокращается до "мин"
    - do: Подтвердить маршрут тапом по "Поехали"
    - assert: В плашке ЕТА слово "минуты" сокращается до "мин"

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Сокращение слова "часы" в обзоре маршрута и балунах:
    - do: Построить маршрут время которого будет больше часа
    - assert: |
        В обзоре слово "часов" сокращается до "ч"
        Точка в конце скоращения отсутствует
        После времени до текста "ч" стоит пробел
        В балунах на маршруте слово "часов" сокращается до "ч"
        Если после "ч" есть минуты, то будет слово сокращается до "мин"
    - do: Подтвердить маршрут тапом по "Поехали"
    - assert: В плашке ЕТА слово "часов" сокращается до "ч"
    - do: Построить маршрут время которого будет написано дробью, например 1.5ч или 2.5ч
    - assert: |
        Дробь пишется через точку, а не запятую
        Слово "часов" сокращается до "ч"
        После времени до текста "ч" стоит пробел
    - do: Подтвердить маршрут тапом по "Поехали"
    - assert: |
        В плашке ЕТА дробь пишется через точку
        В плашке ЕТА слово "часов" сокращается до "ч"
        После времени до текста "ч" стоит пробел

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Сокращение слова "день" в обзоре маршрута и балунах:
    - do: Построить маршрут время которого будет больше 24 часов
    - assert: |
        В обзоре слово "день" сокращается до "д"
        Точка в конце скоращения отсутствует
        После времени до текста "д" стоит пробел
        В балунах на маршруте слово "день" сокращается до "дн"
    - do: Подтвердить маршрут тапом по "Поехали"
    - assert: В плашке ЕТА слово "день" сокращается до "дн"
    - do: Построить маршрут время которого будет 36 часов ровно
    - assert: |
        В обзоре слово "день" сокращается до "д"
        В плашке ЕТА дробь пишется через точку
        После времени до текста "дн" стоит пробел

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отображение времени маршрутов в сниппетах и балунах:
    - do: Построить маршрут с альтернативами
    - assert: |
        Выбран первый сниппет варианта маршрута (внизу экрана)
        Время в сниппете и в балуне маршрута совпадает
    - do: Тап на альтернативный маршрут
    - assert: |
        Время в сниппете и в балуне альтернативного маршрута совпадает

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Округление расстояний в плашке ETA:
    - do: Построить автомобильный маршрут с дистанцией 6 или более километров
    - do: Запустить симуляцию движения
    - assert: |
        Происходит ведение по маршруту
        Внизу экрана отображается ETA-плашка со шкалой маршрута
        В плашке отображается расстояние до конца маршрута в виде целого числа километров в формате **6 км**
        Число и единица измерения разделены пробелом
    - do: Дождаться, когда расстояние до конца маршрута составит от 1 до 5 километров
    - assert: |
        Расстояние в плашке отображается в километрах в виде десятичного числа в формате **2,6 км**
        Целое количество километров (1, 2, 3 километра) отображаются в виде целого числа в формате **2 км**
        Число и единица измерения разделены пробелом
    - do: Дождаться, когда расстояние до конца маршрута составит менее 1 километра
    - assert: |
        Расстояние в плашке отображается в метрах в виде целого числа в формате **600 м**
        Шаг округления расстояния составляет 10 метров (610 м, 600 м, 590 м)
        Число и единица измерения разделены пробелом

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Ведение по маршруту на экране обзора с экспериментом:
    - do: Включить эксперимент `Меню - Настройки - Dev Setting - Misc - Using mapkit:navigation instead of mapkit::guidance`
    - do: Перезагрузить приложение с выгрузкой из памяти
    - do: Построить автомобильный маршрут любым способом длиной около 100 метров
    - do: Запустить симуляцию движения
    - assert: Происходит ведение по маршруту
    - do: Тап на обзор маршрута в таббаре
    - assert: |
        Открылся экран обзора маршрута
        Ведение по маршруту продолжается
    - do: Доехать до точки финиша с открытым обзором маршрута
    - assert: После проезда точки финиша экран обзора маршрута закрылся

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Ведение по маршруту на экране обзора:
    - do: Выключить эксперимент, если был вкл `Меню - Настройки - Dev Setting - Misc - Using mapkit:navigation instead of mapkit::guidance`
    - do: Перезагрузить приложение с выгрузкой из памяти
    - do: Построить автомобильный маршрут любым способом длиной около 100 метров
    - do: Запустить симуляцию движения
    - assert: Происходит ведение по маршруту
    - do: Тап на обзор маршрута в таббаре
    - assert: |
        Открылся экран обзора маршрута
        Ведение по маршруту продолжается
    - do: Доехать до точки финиша с открытым обзором маршрута
    - assert: После проезда точки финиша экран обзора маршрута закрылся

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Фоновое ведение при заблокированном экране. Аннотации:
    - estimatedTime: 5m
    - info: |
        Включено фоновое ведение: Настройки - Навигация - Работа в фоне - С маршрутом
        Звук аннотаций включен: Настройки - Звуки и оповещения - Все звуки Навигатора включены
    - do: Построить маршрут и запустить ведение
    - assert: Начинается ведение по маршруту
    - do: |
        Свернуть приложение
        Заблокировать девайс
    - do: Подождать 1-2 минуты
    - assert: Аннотации продолжают озвучиваться

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Фоновое ведение при заблокированном экране на ios:
    - estimatedTime: 5m
    - info: |
        Включено фоновое ведение: Настройки - Навигация - Работа в фоне - С маршрутом
        Звук аннотаций включен: Настройки - Звуки и оповещения - Все звуки Навигатора включены
    - do: Построить маршрут и запустить ведение
    - assert: Начинается ведение по маршруту
    - do: |
        Свернуть приложение
        Заблокировать девайс
    - do: Подождать 1-2 минуты
    - do: Разблокировать девайс
    - assert: Отображается значок фонового ведения в левом верхнем углу экрана в виде стрелки

    - platforms:
        - ios
    - tags:
        - assessors
