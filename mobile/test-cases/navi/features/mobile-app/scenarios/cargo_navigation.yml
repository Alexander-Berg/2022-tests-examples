components: cargo_navigation
testing:
  - regress

specs:
  Индикация грузового маршрута в обзоре - Полностью в грузовом каркасе:
    - info: |
        - Маршруты для грузовиков доступны только для Москвы (https://transport.mos.ru/gruzoviki/cargoframe#map_open)
        - Меню - Настройки - Навигация - Маршруты для грузовиков - Вкл
        - Меню - Настройки - Маршруты - Тап на грузовик
    - do: Построить маленький маршрут по МКАДу
    - assert: На экране обзора не отображается иконок Грузового каркаса (так как маршрут проходит целиком по грузовому каркасу)

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Индикация грузового маршрута в обзоре - Конец маршрута вне грузового каркаса:
    - info: |
        - Маршруты для грузовиков доступны только для Москвы (https://transport.mos.ru/gruzoviki/cargoframe#map_open)
        - Меню - Настройки - Навигация - Маршруты для грузовиков - Вкл
        - Меню - Настройки - Маршруты - Тап на грузовик
    - do: Построить маршрут в Москве так, что на нем есть 1 участок, который заканчивается вне каркаса
    - assert: |
        - На экране обзора отображается иконка грузовика и текст про наличие ограничений "На маршруте есть ограничения"
        - На линии маршрута может отображаться иконка начала-конца участка, на котором действуют ограничения по параметрам

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Индикация грузового маршрута в обзоре - С несколькими промежуточными точками вне грузового каркаса:
    - info: |
        - Маршруты для грузовиков доступны только для Москвы (https://transport.mos.ru/gruzoviki/cargoframe#map_open)
        - Меню - Настройки - Навигация - Маршруты для грузовиков - Вкл
        - Меню - Настройки - Маршруты - Тап на грузовик
    - do: Построить маршрут с добавлением промежуточных точек, где есть несколько участков на маршруте со сходами с каркаса
    - assert: |
        - На экране обзора отображается Иконка грузовика с текстовым описанием по ограничениям (напр, по массе, высоте, классу).
        - В местах съезда на линии маршрута отображается иконка начала-конца участков грузового каркаса

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
      - mapkit


  Индикация грузового маршрута в обзоре - Начало вне грузового каркаса:
    - info: |
        - Маршруты для грузовиков доступны только для Москвы (https://transport.mos.ru/gruzoviki/cargoframe#map_open)
        - Меню - Настройки - Навигация - Маршруты для грузовиков - Вкл
        - Меню - Настройки - Маршруты - Тап на грузовик
        - У сообщения Конец вне ГК больший приоритет чем начало вне ГК
    - do: Построить маршрут в Москве по грузовому каркасу, но начало маршрута из центра например
    - assert: |
        - На экране обзора отображается Иконка грузовика
        - Если есть ограничения по параметрам грузовика, то есть примечание "На маршруте есть ограничения"

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Описание грузового каркаса в Настройках:
    - info: У пользователя выбран любой нестандартный курсор.
    - do: Перейти в Меню - Настройки - Навигация - Как это работает
    - assert: Открывается веб-вью с описанием работы Грузового каркаса в Навигаторе
    - do: |
        Проскроллить страницу вниз
        Сменить ориентацию устройства с портретного на лэндскейп.
    - assert: Верстка подстраивается под ориентацию, не разъезжается.
    - do: |
        Тап на крестик закрытия вебвью либо стрелочку
    - assert: Происходит возврат в раздел Меню "Навигация".

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Настройка Грузовой каркас в Навигации:
    - info: |
        У пользователя выбран любой нестандартный курсор.
    - do: |
        Перейти в Меню - Настройки - Навигация - Маршруты для грузовиков - On
    - assert: |
        В быстрых настройках появляется дополнительная настройка для быстрого переключения типа транспорта - Маршруты (для грузовиков/ Для легковых автомобилей)
        Пункт Курсоры в быстрых настройках отсутствует.
        На карте отображается курсор Грузовика.
    - do: В быстрых настройках (меню - настройки ) переключить маршруты Для легковых автомобилей
    - assert: |
        На карте отображается курсор, установленный до включения грузового каркаса.
        Пункт Курсор отображается в быстрых настройках.
    - do: |
        Включить ночной режим.
        Перейти в Меню - Настройки - Навигация - Маршруты для грузовиков - Off
    - assert: |
        Интерфейс отображается в ночной теме.
        В быстрых настройках отсутствует пункт Маршруты.
        На карте отображается курсор, установленный до включения грузового каркаса.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Переключение настройки Грузовой каркас в Навигации:
    - info: |
        У пользователя выбран любой нестандартный курсор.
    - do: |
        Перейти в Меню - Настройки - Навигация - Маршруты для грузовиков - On
    - assert: |
        В быстрых настройках появляется дополнительная настройка для быстрого переключения типа транспорта - Маршруты (для грузовиков/ Для легковых автомобилей)
        Пункт Курсоры в быстрых настройках отсутствует.
        На карте отображается курсор Грузовика.
    - do: В быстрых настройках (меню - настройки ) переключить маршруты Для легковых автомобилей
    - assert: |
        На карте отображается курсор, установленный до включения грузового каркаса.
        Пункт Курсор отображается в быстрых настройках.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Настройки для грузовой навигации в пункте меню Навигация:
    - info: Грузовой каркакс работает только в пределах МКАД
    - do: Перейти Меню - Настройки - Навигация
    - assert: |
        В пункте отображается блок с грузовой навигацией из пунктов:
        - Маршрутов для грузовиков
        - Как это работает
    - do: Включить свитчер грузовых маршрутов
    - assert: Отображаются пункты параметров грузовика
    - do: Заполнить пункты в разделах Грузовые и Габаритные целыми значениями в пределах указанного диапазона
    - assert: В зависимости от блока, параметры отображаются в формате 10.0 т (для грузовых) и 3.0 м (для габаритных)
    - do: Заполнить оставшиеся нулевые пункты в разделах Грузовые и Габаритные дробными значениями, например, 10.25 в пределах указанного диапазона
    - assert: Введенные параметры округляются (10.25 - 10.2)
    - do: Включить свитчер Движение с прицепом
    - assert: Свитчер переключается
    - do: Сменить ориентацию девайса
    - assert: |
        - Введенные ранее значения не меняются
        - Свитчер остается включенным
    - do: В блоке экологический класс выбирать показатель класса
    - assert: Можно выбрать только один параметр
    - do: |
        - Выключить свитчер Движение с прицепом
        - Сменить ориентацию девайса
    - assert: |
        - Введенные значения не меняются
        - Свитчер остается выключенным
        - Значение экологического класса не меняется

    - platforms:
      - ios
      - android
    - tags:
      - assessors
    - testing:
      - acceptance_navi


  Включение настройки для грузовой навигации в блоке меню Быстрые настройки.:
    - info: Грузовой каркакс работает только в пределах МКАД
    - do: Зайти в меню - Настройки - Навигация
    - assert: |
        В пункте Навигация отображается блок с грузовой навигацией из пунктов:
        - Свитчер включения маршрутов для грузовиков
        - Как это работает
    - do: Включить свитчер грузовых маршрутов
    - assert: |
        - Появился пункт Параметры грузовика
        - Пукты "Маршруты для грузовиков" и "Как это работает" продолжают отображаться
    - do: Вернуться в меню Настройки
    - assert: В блоке "Быстрые настройки" появились пункты "Маршруты с выбором грузового" и "Параметры грузовика"

    - platforms:
      - ios
      - android
    - tags:
      - assessors
    - testing:
      - acceptance_navi


  Зависимость оповещений в обзоре о нарушении ограничений от настроек грузовика:
    - info: |
        - Грузовой каркакс работает только в пределах МКАД (https://transport.mos.ru/gruzoviki/cargoframe#map_open)
        - Настройки - Навигация - Маршруты для грузовиков - On
    - do: |
        - В Настройки - Параметры грузовика указать Разрешенная максимальная масса 2,5, грузоподъемность 1, экокласс - Евро-6
        - Построить маршрут по ТТК и внутри ТТК
    - assert: В обзоре отсутствуют оповещения, связанные с ГК 
    - do: |
        - В Настройки - Параметры грузовика указать Разрешенная максимальная масса 10т, грузоподъемность 1, экокласс - Евро-1
        - Построить маршрут по ТТК и внутри ТТК
    - assert: В обзоре отображается оповещение о нарушении Разрешенной максимальной массе
    - do: |
        - В Настройки - Параметры грузовика указать Разрешенная максимальная масса 15т, грузоподъемность 1, экокласс - Евро-1
        - Построить маршрут по ТТК и внутри ТТК
    - assert: В обзоре отображается оповещение о нарушении Разрешенной максимальной массе
    - do: Построить маршрут от ТТК до МКАД
    - assert: В обзоре отображается оповещение о нарушении Разрешенной максимальной массе
    - do: Построить маршрут по МКАД
    - assert: В обзоре отображается оповещение о нарушении Разрешенной максимальной массе
    - do: Построить маршрут за МКАД
    - assert: В обзоре отсутствуют оповещения связанные с ГК

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Оповещения о нарушении ограничений в ГК:
    - info: Грузовой каркакс работает только в пределах МКАД (https://transport.mos.ru/gruzoviki/cargoframe#map_open)
    - do: |
        - В Настройки - Параметры грузовика указать Разрешенная максимальная масса 15т, грузоподъемность 1, экокласс - Евро-1
        - Построить маршрут по ТТК и внутри ТТК
    - assert: В обзоре отображается оповещение о ограничениях
    - do: Сменить ориентацию приложения
    - assert: UI не ломается, список не сворачивается
    - do: Сменить ориентацию
    - assert: Список не раскрывается, UI не нарушается

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Перестроение маршрута Грузового Каркаса:
    - info: |
        - Маршруты для грузовиков доступны только для Москвы (https://transport.mos.ru/gruzoviki/cargoframe#map_open)
        - Меню - Навигация - Маршруты для грузовиков - On
        - Меню - Настройки - В разделе Быстрые настройки выбрать грузовик
    - do: |
        Построить маршрут
        Тап Поехали
    - assert: Маршрут построен, осуществляется переход в режим ведения
    - do: Запустить симуляцию ведения через дебаг-панель 
    - assert: Курсор движется по маршруту, приложение работает стабильно
    - do: Не сбрасывая симуляции ведения перестроить маршрут в другое место, подтвердить его
    - assert: Маршрут перестраивается при съезде с маршрута

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Грузовые ограничения в обзоре:
    - info: |
        - Грузовой каркакс работает только в пределах МКАД (https://transport.mos.ru/gruzoviki/cargoframe#map_open)
        - Меню - Настройки - Навигация - Маршруты для грузовиков - on
        - Меню - Настройки - Параметры грузовика - Все параметры по нулям (если параметры уже заданы, то необходимо переустановить сборку и заново включить грузовой каркас, без перезагрузки навигатора, иначе данные грузовика подтянутся)
    - do: Построить маршрут по Москве
    - assert: В обзоре отображается "Ограничения не обнаружены"
    - do: |
        - Меню - Настройки - Параметры грузовика
        - Изменить параметры грузовика:
        Разрешенная макс. масса - 9 
        Грузоподъемность - 9
    - assert: Настройки изменены
    - do: Построить маршрут по Москве
    - assert: В обзоре отображается "Не получилось все учесть"
    - do: |
         *Шаг для Android** Тап Показать
    - assert: Раскрываются все параметры которые не удалось учесть

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Грузовой каркас. Альтернативы:
    - info: |
        - Маршруты для грузовиков доступны только для Москвы (https://transport.mos.ru/gruzoviki/cargoframe#map_open)
        - Меню - Настройки - Навигация - Маршруты для грузовиков - On
    - do: |
        - Построить маршрут с несколькими альтернативами
        - Подтвердить маршрут
        - Запустить ведение через дебаг-панель
    - assert: Началось ведение по маршруту
    - do: Дождаться появления альтернативы, которая продолжительнее текущего маршрута. Переключиться на нее
    - assert: Маршрут поменялся
    - do: Открыть обзор и попереключаться между альтернативами маршрута
    - assert: |
        - Маршруты переключаются
        - Остается сообщение об ограничениях для грузовиков
        - Курсор не изменяется

    - integration_run:
      - mapkit
    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - mapkit_ready


  Рейтинговалка маршрута для грузовой навигации (первый попап/ТАП по карте):
    - description: |
        - Грузовая навигация реализована пока для Москвы и МО. Поэтому маршруты для проверки строить в этом регионе через отскролл карты.
        - Рейтинговалка появляется только в случае N сходов/перестроений маршрута.
    - info: |
        - У пользователя выбран любой нестандартный курсор.
        - Dev.Settings > Trucks > Distance to finish to rate truck route popup - расстояние до конца маршрута чтобы показать попап (например, 150м)
        - Dev.Settings > Trucks > Min rerouting count for feedback = 3 - количество сходов/перестоений, необходимых для появления рейтинговалки
        - Misc > fast day&night switching
        - Перезагрузить навигатор.
    - do: |
        - Перейти в Меню - Настройки - Навигация - Маршруты для грузовиков - On
    - assert: |
        - В быстрых настройках появляется дополнительная настройка для быстрого переключения типа транспорта - Маршруты (по грузовому каркасу/ Для легковых автомобилей)
        - На карте отображается курсор Грузовика.
    - do: |
        - Построить маршрут внутри ТТК (Москва)
        - Тап по поехали и запустить ведение по нему
    - assert: Начинается ведение по маршруту.
    - do: |
        - Не сбрасывая маршрута, лонгтапом добавить промежуточную точку (Лонгтап по карте и в открывшемся меню тап по Через)
        - В появившемся окне обзора тап по Поехали.
    - assert: Маршрут перестраивается через промежуточную точку.
    - do: |
        - Тап по пину добавленной промежуточной точки (черный с белым квардратом внутри)
        - В открывшемся меню тап по Удалить.
        - В появившемся окне обзора тап по Поехали.
    - assert: Промежуточная точка исчезает, маршрут перестраивается без промежуточной точки.
    - do: |
        - Не сбрасывая маршрута, лонгтапом добавить промежуточную точку на самой линии маршрута (Лонгтап по линии и в открывшемся меню тап по Через)
        - В появившемся окне обзора тап по Поехали.
    - assert: |
        - Продолжается ведение по маршруту
        - После того, как до финиша останется 150м появляется первый попап рейтинговалки.
    - do: Сменить несколько раз ориентацию девайса.
    - assert: |
        - Попап не схлопывается
        - UI "не искажен"
        - Приложение не крешит.
    - do: Дождаться смены темы.
    - assert: Артефактов противоположной темы не наблюдается.
    - do: Тапаем на синюю кнопку ДА в первом попапе.
    - assert: |
        - Получаем сообщение "Спасибо и хороших поездок!"
    - do: |
        - Сменить ориентацию несколько раз
        - Дождаться смены активной темы
    - assert: |
        - Сообщение не схлопывается
        - UI "не искажен"
        - Артефактов противоположной темы не наблюдаем.
    - do: Тап по карте.
    - assert: Поп-ап скрывается.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Подтягивание дефолтных параметров грузовика для неавторизованного пользователя.:
    - description: Грузовая навигация реализована пока для Москвы и МО. Поэтому маршруты для проверки строить в этом регионе через отскролл карты.
    - info: Пользователь неавторизован.
    - do: |
        Запустить Навигатор.
        Перейти в Меню - Настройки - Навигация - Маршруты для грузовиков - On
    - assert: |
        В быстрых настройках появляется дополнительная настройка для быстрого переключения типа транспорта - Маршруты (для грузовиков/ Для легковых автомобилей)
        На карте отображается курсор Грузовика.
    - do: Перейти в пункт Параметры грузовика.
    - assert: Параметры в 0 значениях.
    - do: |
        Перезагрузить Навигатор.
        Перейти в пункт Параметры грузовика.
    - assert: |
        Установились дефолтные параметры:
        Фактическая масса: 3.5 
        Разрешенная масса: 3.5
        Нагрузка на ось: 1.5
        Грузоподъемность: 1.0
        Высота: 2.2
        Длина: 4.3
        Ширина: 2.0

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Диалоговый поп-ап смены параметров грузовика.:
    - description: Грузовая навигация реализована пока для Москвы и МО. Поэтому маршруты для проверки строить в этом регионе через отскролл карты.
    - info: |
        В developer settings -> Misc-> fast day&night switching - on
        Перезапустить Навигатор.
    - do: |
        Запустить Навигатор.
        Пользователь неатворизован.
        Перейти в Меню - Настройки - Навигация - Маршруты для грузовиков - On
    - assert: |
        В быстрых настройках появляется дополнительная настройка для быстрого переключения типа транспорта - Маршруты (по грузовому каркасу/ Для легковых автомобилей)
        На карте отображается курсор Грузовика.
    - do: Перейти в пункт Параметры грузовика.
    - assert: Параметры в 0 значениях.
    - do: Тап по любой строке параметров
    - assert: Открывается поп-ап смены параметра
    - do: |
        - Несколько раз сменить ориентацию
        - Дождаться смены темы
    - assert: |
        - Поп-ап подстраивается под под новую ориентацию устройства каждый раз
        - Артефакты противоположной темы отсутствуют.
    - do: Тап по кнопке Отмена
    - assert: Поп-ап скрывается.
    - do: |
        - Повторить шаг 3
        - Установить нереально большой параметр (например, фактическая масса - 1000)
        - Тап по Сохранить
    - assert: |
        - Поп-ап скрывается
        - Приложение не крешит
        - Устанавливается реальная максимальная масса (на момент тестирования это было 60т)
    - do: |
        - Повторить шаг 3
        - Установить нереально маленький параметр (например, нагрузка на ось 0)
        - Тап по Установить
    - assert: |
        - Поп-ап скрывается
        - Приложение не крешит
        - Устанавливается реальная минимальная нагрузка на ось (на момент тестирования это было 1.5т)

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Рейтинговалка маршрута для грузовой навигации (второй попап):
    - description: Грузовая навигация реализована пока для Москвы и МО. Поэтому маршруты для проверки строить в этом регионе через отскролл карты.
        С марта 2021 года рейтинговалка появляется только в случае N сходов/перестроений маршрута.
    - info: |
        У пользователя выбран любой нестандартный курсор.
        Dev > Trucks > Distance to finish to rate truck route popup - расстояние до конца маршрута чтобы показать попап (например, 150м)
        Dev > Trucks > Min rerouting count for feedback = 3 - количество сходов/перестоений, необходимых для появления рейтинговалки
        Misc > fast day&night switching
        Перезагрузить навигатор.
    - do: |
        Перейти в Меню - Настройки - Навигация - Маршруты для грузовиков - On
    - assert: |
        В быстрых настройках появляется дополнительная настройка для быстрого переключения типа транспорта - Маршруты (по грузовому каркасу/ Для легковых автомобилей)
        На карте отображается курсор Грузовика.
    - do: |
        - Построить маршрут внутри ТТК (Москва)
        - Тап по поехали и запустить ведение по нему
    - assert: Начинается ведение по маршруту.
    - do: |
        - Не сбрасывая маршрута, лонгтапом добавить промежуточную точку (Лонгтап по карте и в открывшемся меню тап по Через)
        - В появившемся окне обзора тап по Поехали.
    - assert: Маршрут перестраивается через промежуточную точку.
    - do: |
        - Тап по пину добавленной промежуточной точки (черный с белым квардратом внутри)
        - В открывшемся меню тап по Удалить.
        - В появившемся окне обзора тап по Поехали.
    - assert: Промежуточная точка исчезает, маршрут перестраивается без промежуточной точки.
    - do: |
        - Не сбрасывая маршрута, лонгтапом добавить промежуточную точку на самой линии маршрута (Лонгтап по линии и в открывшемся меню тап по Через)
        - В появившемся окне обзора тап по Поехали.
    - assert: |
        - Прожолжается ведение по маршруту.
        - После того, как до финиша останется 150м появляется первый попап рейтинговалки.
    - do: Тапаем на серую кнопку в первом попапе.
    - assert: Появляется второй попап рейтинговалки
    - do: |
        - Сменить ориентацию несколько раз
        - Дождаться смены активной темы
    - assert: |
        - Попап не схлопывается
        - UI "не едет"
        - Артефактов противоположной темы не наблюдаем.
    - do: Тап по синей кнопке попапа.
    - assert: При тапе по синей кнопке во втором попапе открывается вебвью с фидбеком
    - do: |
        - Повторить шаги 2 и 3.
        - Тап по серой кнопке второго попапа.
    - assert: Наблюдаем сообщение "Спасибо"
    - do: |
        - Сменить ориентацию несколько раз
        - Дождаться смены активной темы
    - assert: |
        - Сообщение не схлопывается
        - UI "не едет"
        - Артефактов противоположной темы не наблюдаем.
    - do: Тап по карте.
    - assert: Сообщение скрывается.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Иконки участков с ограничениями на маршруте для ГК:
    - description: |
        Грузовая навигация реализована пока для Москвы и МО. Поэтому маршруты для проверки строить в этом регионе через отскролл карты.
        Иконки участков ограничения представляют собой нетапабельный квадратик на маршруте: начало участка - грузовичок в красной рамке, конец участка - перечеркнутый грузовичок в черной рамке.
    - info: |
        У пользователя выбран любой нестандартный курсор.
        Так же: Trucks > Distance to finish - выставляем число (количество метров до финиша для показывание рейтинговалки), например 150 
        Misc > fast day&night switching
        Перезагрузить навигатор.
    - do: |
        Перейти в Меню - Настройки - Навигация - Маршруты для грузовиков - On
    - assert: |
        В быстрых настройках появляется дополнительная настройка для быстрого переключения типа транспорта - Маршруты (по грузовому каркасу/ Для легковых автомобилей)
        На карте отображается курсор Грузовика.
    - do: |
        - В настройках параметров грузовика установить минимальные значения параметров массы (До 2,5 т)
        - Построить маршрут в пределах ТТК (Москва)
    - assert: |
        - Если были введены слишком малые значения (например, 0,5т), то они увеличиваются до минимально адекватных.
        - Если нарушений параметров нет, то иконки ограничений отсутствуют.
        - Если ограничения есть, то начало и конец участка отмечены иконками с грузовиками, а так же в обзоре наблюдаем примечание, что на маршруте есть ограничения по массе.
    - do: |
        - В настройках параметров грузовика установить слишком большие значения параметров массы (более 60т)
        - Построить маршрут в пределах МКАД
    - assert: |
        - Если вводились нереально большие параметры (например 100т), то они сокращались до адекватно больших (60т)
        - Если нарушений параметров нет, то иконки ограничений отсутствуют.
        - Если ограничения есть, то начало и конец участка отмечены иконками с грузовиками, а так же в обзоре наблюдаем примечание, что на маршруте есть ограничения по массе.
    - do: |
        - Установить допустимые (небольшие) параметры грузовика по массе: просто установив значения каждого параметра по массе в 0. При сохранении параметра, он автоматически увеличится до минимально допустимых)
        - Установиться нереально большие значения по размерам грузовика (особенно, высота - более 7м) 
        - Построить маршрут через центр Санкт - Петербурга
    - assert: |
        - При установке слишком больших параметров (той же высоты = например, 10), значение автоматически сокращается до максимально адекватного (7м)
        - При построении маршрута, в обзоре наблюдаем предупреждение, что на маршруте есть ограничения по высоте.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Вввод невалидных параметров грузовика. Ниже минимального граничного значения диапазона:
    - description: Грузовой каркакс работает только в пределах МКАД.
    - do: Зайти в меню -> Настройки -> Навигация
    - assert: В пункте Навигация наблюдаем блок с грузовой навигацией, которой состоит из свитчера включения маршрутов для грузовиков и Как это работает.
    - do: Включить свитчер Маршруты для грузовиков.
    - assert: Появляется блок настроек параметров грузовика.
    - do: Тап по любой строке параметров.
    - assert: Открывается поп-ап с подсказкой о допустимом диапазоне и полупрозрачной подсказкой показателя измерения в строке ввода.
    - do: Ввести параметр, меньше допустимого минимального значение диапазона, не начинающийся на 0.
    - asser: Строка ввода принимает значение параметра (данные ввелись).
    - do: Тап по Сохранить.
    - assert: Значение параметра устанавливается минимально допустимое.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Вввод невалидных параметров грузовика. Проверка игнорирования пробела:
    - description: Грузовой каркакс работает только в пределах МКАД.
    - do: Зайти в меню -> Настройки -> Навигация.
    - assert: В пункте Навигация наблюдаем блок с грузовой навигацией, которой состоит из свитчера включения маршрутов для грузовиков и Как это работает.
    - do: Включить свитчер Маршруты для грузовиков.
    - assert: Появляется блок настроек параметров грузовика.
    - do: Тап по любой строке параметров.
    - assert: Открывается поп-ап с подсказкой о допустимом диапазоне и полупрозрачной подсказкой показателя измерения в строке ввода.
    - do: Ввести значение параметра с пробелом в начале строки
    - assert: Пробел игнорируется полем ввода
    - do: Ввести значение параметра с пробелом в строки (например, попытаться ввести параметр 2(пробел)2)
    - assert: Пробел игнорируется полем ввода
    - do: Ввести значение параметра с пробелом в конце строки
    - assert: Пробел игнорируется полем ввода

    - platforms:
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Вввод невалидных параметров грузовика. Проверка игнорирования ввода 0, как начала параметра.:
    - description: Грузовой каркакс работает только в пределах МКАД.
    - do: Зайти в меню -> Настройки -> Навигация
    - assert: В пункте Навигация наблюдаем блок с грузовой навигацией, которой состоит из свитчера включения маршрутов для грузовиков и Как это работает.
    - do: Включить свитчер Маршруты для грузовиков.
    - assert: Появляется блок настроек параметров грузовика.
    - do: Тап по любой строке параметров.
    - assert: Открывается поп-ап с подсказкой о допустимом диапазоне и полупрозрачной подсказкой показателя измерения в строке ввода
    - do: Ввести значение параметра, начинающегося на 0. Например, 0, 00, 0.0, 00.0, 0,0, 00,0.
    - assert: Поле ввода игнорирует ввод 0. Параметр может начинаться только c числа большего или равного 1.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Вввод невалидных параметров грузовика (превышение допустимого).:
    - description: Грузовой каркакс работает только в пределах МКАД.
    - do: Зайти в меню -> Настройки -> Навигация
    - assert: В пункте Навигация наблюдаем блок с грузовой навигацией, которой состоит из свитчера включения маршрутов для грузовиков и Как это работает.
    - do: Включить свитчер Маршруты для грузовиков.
    - assert: Появляется блок настроек параметров грузовика.
    - do: Тап по любой строке параметров.
    - assert: Открывается поп-ап с подсказкой о допустимом диапазоне и полупрозрачной подсказкой показателя измерения в строке ввода.
    - do: Ввести параметр, превышающий максимальное значение диапазона
    - assert: Автоматически устанавливается максимальное граничное значение диапазона.
    - do: Тап по Сохранить.
    - assert:  Сохраняется максимально допустимое значение.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Пин начала грузовых ограничений по грузовому каркасу:
    - info: |
        - Dev.Setting - Trucks - Enable truck pins - On
        - Меню - Навигация - Маршруты для грузовиков - On
        - Меню - Настройки - В разделе быстрые настройки выбран грузовик
        - Перезагрузить навигатор
        - Навигатор находится в портретной ориентации
        - Маршруты для грузовиков доступны только для Москвы (https://transport.mos.ru/gruzoviki/cargoframe#map_open)
    - do: |
        - Построить маршрут по грузовому каркасу
        - Тап Поехали
    - assert: |
        - Маршрут подтвержден
        - На карте в месте начала грузовых ограничений отображается пин с грузовиком в красной рамке
    - do: Тап на пин "Начала грузовых ограничений" (грузовик в красной рамке)
    - assert: |
        - Пин увеличивается в размере, открывается карточка "Начало участка с ограничениями"
        - В карточке отображаются ограничения, например "по максимальной массе"
    - do:  Сменить ориентациию на альбомную
    - assert: Карточка не ломается, все элементы отображаются
    - do: Тап в любое место на карте
    - assert: Пин уменьшается в размере, карточка закрывается

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Пин конца грузовых ограничений по грузовому каркасу:
    - info: |
        - Dev.Setting - Trucks - Enable truck pins - ON
        - Меню - Навигация - Маршруты для грузовиков - Вкл
        - Перезагрузить навигатор
        - Навигатор находится в портретной ориентации
        - Маршруты для грузовиков доступны только для Москвы (https://transport.mos.ru/gruzoviki/cargoframe#map_open)
    - do: |
        - Построить маршрут по грузовому каркасу
        - Тап Поехали
    - assert: |
        - Маршрут подтвержден
        - На карте в месте конца грузовых ограничений отображается пин с перечеркнутым грузовиком в серой рамке
    - do: Тап на пин "Конец грузовых ограничений" (перечеркнутый грузовик в серой рамке)
    - assert: |
        - Пин увеличивается в размере, открывается карточка "Конец участка с ограничениями"
        - В карточке отображаются только заголовок, ограничений нет
    - do:  Сменить ориентациию на альбомную
    - assert: Карточка не ломается, все элементы отображаются
    - do: Тап в любое место на карте
    - assert: Пин уменьшается в размере, карточка закрывается

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Показывать рейтинговалку через определенное количество перестроений (в настройке ничего не прописываем):
    - info: |
        - Меню - Навигация - Маршруты для грузовиков - вкл
        - Меню - Настройки - В разделе быстрые настройки выбран грузовик
    - do: |
        - Построить небольшой маршрут в пределах МКАД
        - Тап Поехали
        - Запустить ведение через дебаг-панель
    - assert: Начинается движение по маршруту
    - do: Доехать до финиша
    - assert: Рейтинговалка ГК отсутствует

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Показывать рейтинговалку через определенное количество перестроений (настрока включена, перестроений не было):
    - info: |
        - Количество сходов для показа рейтинговалки регулируется настройкой Dev.Settings > Trucks > Min rerouting count for feedback
        - Меню - Навигация - Маршруты для грузовиков - Вкл
        - Меню - Настройки  - В разделе быстрые настройки выбран грузовик
    - do: |
        - Перейти в Mеню - Настройки - Dev.Settings > Trucks > Min rerouting count for feedback = 3
        - Перезапустить Навигатор
    - assert: Креши отсутствуют
    - do: |
        - Построить небольшой маршрут в пределах МКАД
        - Тап Поехали
        - Запустить ведение по маршруту
    - assert: Начинается движение по маршруту
    - do: Доехать до финиша
    - assert: Рейтинговалка ГК отсутствует

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Показывать рейтинговалку через определенное количесво перестроений (настрока включена, перестроений было меньше, чем указано в настройке):
    - info: |
        - Количество сходов для показа рейтинговалки регулируется настройкой Dev.Settings > Trucks > Min rerouting count for feedback
        - Меню - Навигация - Маршруты для грузовиков - вкл
        - Меню - Настройки - В разделе быстрые настройки выбран грузовик
    - do: |
        - Перейти в Mеню - Настройки - Dev.Settings > Trucks > Min rerouting count for feedback = 3
        - Перезапустить Навигатор
    - assert: Креши отсутствуют
    - do: |
        - Построить маршрут в пределах МКАД
        - Тап Поехали
        - Запустить ведение по маршруту
    - assert: Начинается движение по маршруту
    - do: |
        - Лонг-тап по карте не сбрасывая текущего маршрута
        - Тап Через
        - Тап Поехали
    - assert: Маршрут перестраивается через промежуточную точку
    - do: |
        - Тап по пину промежуточной точки
        - Тап Удалить
    - assert: Промежуточная точка удаляется
    - do: Тап Поехали
    - assert: Маршрут перестраивается без промежуточной точки
    - do: Доехать до финиша
    - assert: Рейтинговалка ГК отсутствует

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Показывать рейтинговалку через определенное количесво перестроений (настрока включена, перестроений было >=, чем указано в настройке):
    - info: |
        - Количество сходов для показа рейтинговалки регулируется настройкой Dev.Settings > Trucks > Min rerouting count for feedback
        - Меню - Навигация - Маршруты для грузовиков - вкл
        - Меню - Настройки  - В разделе быстрые настройки выбран грузовик
    - do: |
        - Перейти в Mеню - Настройки - Dev.Settings > Trucks > Min rerouting count for feedback = 3
        - Перезапустить Навигатор
    - assert: Креши отсутствуют
    - do: |
        - Построить маршрут в пределах МКАД
        - Тап Поехали
        - Запустить ведение по маршруту через дебаг-панель
    - assert: Начинается движение по маршруту
    - do: |
        - Лонг-тап по карте не сбрасывая текущего маршрута
        - Тап Через
        - Тап Поехали
    - assert: Маршрут перестраивается через промежуточную точку
    - do: |
        - Тап по пину промежуточной точки
        - Тап Удалить
    - assert: Промежуточная точка удаляется
    - do: Тап Поехали
    - assert: Маршрут перестраивается без промежуточной точки
    - do: |
       - Не сбрасывая маршрута, через лонгтап по карте добавить промежуточную точку прямо на линии маршрута
       - Тап Поехали
    - assert: Движение по маршруту продолжается, так как промежуточная точка на самом маршруте
    - do: Доехать до финиша
    - assert: Отображается попап рейтинговалки ГК

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Фидбечница маршрута для грузовой навигации для неавторизованного пользователя:
    - description: |
        Грузовая навигация реализована пока для Москвы и МО. Поэтому маршруты для проверки строить в этом регионе через отскролл карты.
        С марта 2021 года рейтинговалка появляется только в случае N сходов/перестроений маршрута.
    - info: |
        В данном кейсе проверяем, что если пользователь неавторизован, то в вебвью фидбэка потребует обязательный ввод электронного адреса.
        Dev.settings > Trucks > Min rerouting count for feedback = 3 - количество сходов/перестоений, необходимых для появления рейтинговалки.
        Misc > fast day&night switching.
        Пользователь НЕАВТОРИЗОВАН в Навигаторе.
        Перезагрузить навигатор.
    - do: |
        Перейти в Меню - Настройки - Навигация.
        Переключить свитчер Маршруты для грузовиков в положение Включен.
    - assert: |
        В быстрых настройках появляется дополнительная настройка для быстрого переключения типа транспорта - Маршруты (по грузовому каркасу/ Для легковых автомобилей).
        На карте отображается курсор Грузовика.
    - do: |
        - Построить маршрут внутри ТТК (Москва).
        - Тап по поехали и запустить ведение по нему.
    - assert: Начинается ведение по маршруту.
    - do: |
        - Не сбрасывая маршрута, лонгтапом добавить промежуточную точку (Лонгтап по карте и в открывшемся меню тап по Через).
        - В появившемся окне обзора тап по Поехали.
    - assert: Маршрут перестраивается через промежуточную точку.
    - do: |
        - Тап по пину добавленной промежуточной точки (черный с белым квардратом внутри)
        - В открывшемся меню тап по Удалить.
        - В появившемся окне обзора тап по Поехали.
    - assert: Промежуточная точка исчезает, маршрут перестраивается без промежуточной точки.
    - do: |
        - Не сбрасывая маршрута, лонгтапом добавить промежуточную точку на самой линии маршрута (Лонгтап по линии и в открывшемся меню тап по Через).
        - В появившемся окне обзора тап по Поехали.
    - assert: |
        - Прожолжается ведение по маршруту.
        - После того, как до финиша останется несколько метров появляется первый попап рейтинговалки грузового маршрута.
    - do: Тапаем на кнопку НЕТ в первом попапе.
    - assert: Первый попап скрывается. Появляется второй попап рейтинговалки.
    - do: Тап по кнопке Согласия оставить фидбек.
    - assert: Открывается вебвью фидбэка.
    - do: Тап по любой строке, чтобы оставить отзыв, например, добавить объект на карту.
    - assert: Открывается страница со списком объектов, которые можно добавить на карту.
    - do: Выбрать любой объект, например, Дорога.
    - assert: Открывается карта с активным пином и экран для ввода данных, которое содержит обязательное поле ввода электронного адреса.
    - do: |
        - Немного сдвинуть карту (это нужно для того, чтобы карта поймала координату).
        - Заполнить поля, кроме электронного адреса.
    - assert: Кнопка Отправить неактивна. Фидбек не отправляется.
    - do: Заполнить поле с электронным адресом.
    - assert: Кнопка Отправить становится активной, форма отправляется, открывается благодарственная страница.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Фидбечница маршрута для грузовой навигации для авторизованного пользователя:
    - description: |
        Грузовая навигация реализована пока для Москвы и МО. Поэтому маршруты для проверки строить в этом регионе через отскролл карты.
        С марта 2021 года рейтинговалка появляется только в случае N сходов/перестроений маршрута.
    - info: |
        В данном кейсе проверяем, что если пользователь неавторизован, то в вебвью фидбэка потребует обязательный ввод электронного адреса.
        Dev.settings > Trucks > Min rerouting count for feedback = 3 - количество сходов/перестоений, необходимых для появления рейтинговалки
        Misc > fast day&night switching.
        Пользователь авторизован в Навигаторе.
        Перезагрузить навигатор.
    - do: |
        Перейти в Меню - Настройки - Навигация.
        Переключить свитчер Маршруты для грузовиков в положение Включен.
    - assert: |
        В быстрых настройках появляется дополнительная настройка для быстрого переключения типа транспорта - Маршруты (по грузовому каркасу/ Для легковых автомобилей).
        На карте отображается курсор Грузовика.
    - do: |
        - Построить маршрут внутри ТТК (Москва).
        - Тап по поехали и запустить ведение по нему.
    - assert: Начинается ведение по маршруту.
    - do: |
        - Не сбрасывая маршрута, лонгтапом добавить промежуточную точку (Лонгтап по карте и в открывшемся меню тап по Через).
        - В появившемся окне обзора тап по Поехали.
    - assert: Маршрут перестраивается через промежуточную точку.
    - do: |
        - Тап по пину добавленной промежуточной точки (черный с белым квардратом внутри).
        - В открывшемся меню тап по Удалить.
        - В появившемся окне обзора тап по Поехали.
    - assert: Промежуточная точка исчезает, маршрут перестраивается без промежуточной точки.
    - do: |
        - Не сбрасывая маршрута, лонгтапом добавить промежуточную точку на самой линии маршрута (Лонгтап по линии и в открывшемся меню тап по Через).
        - В появившемся окне обзора тап по Поехали.
    - assert: |
        - Прожолжается ведение по маршруту.
        - После того, как до финиша останется несколько метров появляется первый попап рейтинговалки грузового маршрута.
    - do: Тапаем на кнопку НЕТ в первом попапе.
    - assert: Появляется второй попап рейтинговалки.
    - do: |
        Тап по кнопке Согласия оставить фидбек.
    - assert: |
        Открывается вебвью фидбэка.
    - do: Тап по любой строке, чтобы оставить отзыв, например, добавить объект на карту.
    - assert: Открывается страница со списком объектов, которые можно добавить на карту.
    - do: |
        Выбрать любой объект, например, Дорога.
    - assert: Открывается карта с активным пином и экраном для ввода данных, обязательное поле ввода электронного адреса ОТСУТСВУЕТ.
    - do: |
        - Немного сдвинуть карту (это нужно для того, чтобы карта поймала координату).
        - Заполнить все поля формы.
    - assert: Кнопка Отправить становится активной, форма отправляется, открывается благодарственная страница.

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Попап "Тестирование грузового каркаса закончилось" :
    - info: |
        Для показа попапа нужно отсканировать QR код и скопировать адресс ссылки из браузера
        ![QR код](https://jing.yandex-team.ru/files/midway/Снимок%20экрана%202021-03-15%20в%202.35.02%20PM.png)
        - Dev.Settings > Trucks > Truck popups json url > вставить скопированную ссылку
        - Dev.Settings > Misc > Fast day & night switching > On
        - Меню - Навигация - Маршруты для грузовиков - вкл
        - Меню - Настройки  - В разделе быстрые настройки выбран грузовик
        - Девайс в портретной ориентации
        - Перезапустить навигатор
    - do: Построить маршрут в пределах МКАД
    - assert: |
        - Маршрут не строится, появляется попап "Тестирование грузового каркаса закончилось" с кнопками "Понятно" и "Подробнее"
        - Попап расположен по центру, шрифт не налезает друг на друга, кнопки не искажаются, цвет меняется в зависимости от темы день/ночь
    - do: Сменить ориентации на альбомную
    - assert: Попап не скрывается, распололжен по центру, шрифт не налезает друг на друга, кнопки не искажаются
    - do: Тап Подробнее
    - assert: Открывается информационное вебью
    - do: Сменить ориентацию
    - assert: Вебью подстраивается под альбомную ориентацию, не закрывается
    - do: Тап на крестик
    - assert: Вебью закрывается
    - do: |
        - Построить маршрут в пределах МКАД
        - В появившимся попапе тап на "Понятно"
    - assert: Маршрут не строится, курсор меняется с грузовика на легковой

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Построение маршрута после отключения грузовой навигации:
    - info: |
        - Пользователь авторизован
        - Меню > Настройки > Навигация > Маршруты для грузовиков > Вкл и Установить параметр "Высота" 4 метра
        - Меню > Настройки - В разделе Маршруты тап на грузовик
        - Маршруты для грузовиков доступны только для Москвы (https://transport.mos.ru/gruzoviki/cargoframe#map_open)
    - do: Построить маршрут Ростов на Дону -> Адлер
    - assert: |
        - Маршрут построен
        - Примерная длина маршрута 1500 км
    - do: Перейти Меню > Настройки - В разделе Маршруты тап на легковую машину
    - do: Построить маршрут Ростов на Дону -> Адлер
    - assert: |
        Маршрут построен
        Примерная длина маршрута 500-600 км

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Рейтинговалка маршрута для грузовой навигации (первый попап/Свайп вниз):
    - description: |
        - Грузовая навигация реализована пока для Москвы и МО. Поэтому маршруты для проверки строить в этом регионе через отскролл карты.
        - Рейтинговалка появляется только в случае N сходов/перестроений маршрута.
    - info: |
        -У пользователя выбран любой нестандартный курсор.
        -Dev.Settings > Trucks > Distance to finish to rate truck route popup - расстояние до конца маршрута чтобы показать попап (например, 150м)
        -Dev.Settings > Trucks > Min rerouting count for feedback = 3 - количество сходов/перестоений, необходимых для появления рейтинговалки
        -Misc > fast day&night switching
        -Перезагрузить навигатор.
    - do: |
        -Перейти в Меню - Настройки - Навигация
        -Переключить свитчер Маршруты для грузовиков в положение Включен
    - assert: |
        -В быстрых настройках появляется дополнительная настройка для быстрого переключения типа транспорта - Маршруты (по грузовому каркасу/ Для легковых автомобилей)
        -На карте отображается курсор Грузовика.
    - do: |
        - Построить маршрут внутри ТТК (Москва)
        - Тап по поехали и запустить ведение по нему
    - assert: Начинается ведение по маршруту.
    - do: |
        - Не сбрасывая маршрута, лонгтапом добавить промежуточную точку (Лонгтап по карте и в открывшемся меню тап по Через)
        - В появившемся окне обзора тап по Поехали.
    - assert: Маршрут перестраивается через промежуточную точку.
    - do: |
        - Тап по пину добавленной промежуточной точки (черный с белым квардратом внутри)
        - В открывшемся меню тап по Удалить.
        - В появившемся окне обзора тап по Поехали.
    - assert: Промежуточная точка исчезает, маршрут перестраивается без промежуточной точки.
    - do: |
        - Не сбрасывая маршрута, лонгтапом добавить промежуточную точку на самой линии маршрута (Лонгтап по линии и в открывшемся меню тап по Через)
        - В появившемся окне обзора тап по Поехали.
    - assert: |
        - Продолжается ведение по маршруту
        - После того, как до финиша останется 150м появляется первый попап рейтинговалки.
    - do: Сменить несколько раз ориентацию девайса.
    - assert: |
        - Поп-ап не схлопывается
        - UI "не искажен"
        - Приложение не крешит.
    - do: Дождаться смены темы.
    - assert: Артефактов противоположной темы не наблюдается.
    - do: Тапаем на синюю кнопку ДА в первом попапе.
    - assert: |
        - Получаем сообщение "Спасибо и хороших поездок!"
    - do: |
        - Сменить ориентацию несколько раз
        - Дождаться смены активной темы
    - assert: |
        - Поп-ап не схлопывается
        - UI "не искажен"
        - Артефактов противоположной темы не наблюдаем.
    - do: Закрыть поп-ап рейтинговалки свайпом вниз.
    - assert: Поп-ап закрывается.

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Маршрут ГК под мостом с ограничениями высоты:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Fast day night switching - On
        Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        Перезагрузить приложение
        Меню - Настройки - Навигация - Маршруты для грузовиков - Вкл
        Меню - Настройки - Навигация - Указать параметр Высота - 10 - Сохранить
    - do: |
        Построить маршрут через интент
        - [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/маршрутГК.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=55.802420&lon_from=37.593186&lat_to=55.810586&lon_to=37.590800`
    - assert: |
        Маршрут построен
        В обзоре отображается предупреждение об ограничении по высоте
    - do: |
        Меню - Настройки - Навигация - Указать параметр Высота - 2 - Сохранить
        Построить маршрут через интент
        - [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/маршрутГК.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=55.802420&lon_from=37.593186&lat_to=55.810586&lon_to=37.590800`
    - assert: |
        Маршрут построен
        В обзоре отсутствует предупреждение об ограничении по высоте

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршрут ГК по туннелю с ограничениями высоты:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Fast day night switching - On
        Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        Перезагрузить приложение
        Меню - Настройки - Навигация - Маршруты для грузовиков - Вкл
        Меню - Настройки - Навигация - Указать параметр Высота - 10 - Сохранить
    - do: |
        Построить маршрут через интент
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/туннель.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=55.741198&lon_from=37.538656&lat_to=55.752068&lon_to=37.572481`
    - assert: |
        Маршрут построен в обход Кутузовского туннеля (55.746765, 37.553845)
        В обзоре отсутствует предупреждение об ограничении по высоте
    - do: |
        Построить маршрут через интент
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/via.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=55.741198&lon_from=37.538656&lat_to=55.752068&lon_to=37.572481&lat_via_0=55.746765&lon_via_0=37.553845`
    - assert: |
        Маршрут построен через туннель
        В обзоре отображается предупреждение об ограничении по высоте
    - do: |
        Меню - Настройки - Навигация - Указать параметр Высота - 2 - Сохранить
        Построить маршрут через интент
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/via.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=55.741198&lon_from=37.538656&lat_to=55.752068&lon_to=37.572481&lat_via_0=55.746765&lon_via_0=37.553845`
    - assert: |
        Маршрут построен через туннель
        В обзоре не отображается предупреждение об ограничении по высоте

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Маршрут по ГК с ограничениями массы:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Fast day night switching - On
        Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        Перезагрузить приложение
        Меню - Настройки - Навигация - Маршруты для грузовиков - Вкл
        Меню - Настройки - Навигация - Указать параметр Разрешенная масса - 34 - Сохранить
    - do: |
        Построить маршрут через интент
        - [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/маршрутГК.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=55.802420&lon_from=37.593186&lat_to=55.810586&lon_to=37.590800`
    - assert: |
        Маршрут построен
        В обзоре отображается предупреждение об ограничении по массе
    - do: |
        Меню - Настройки - Навигация - Указать параметр Разрешенная масса - 2 - Сохранить
        Построить маршрут через интент
        - [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/маршрутГК.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=55.802420&lon_from=37.593186&lat_to=55.810586&lon_to=37.590800`
    - assert: |
        Маршрут построен
        В обзоре отсутствует предупреждение об ограничении по массе

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit