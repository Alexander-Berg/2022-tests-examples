components: menu
testing:
  - regress

specs:
  Поведение настроек при отсутствующем интернете:
    - do: |
        - Авторизоваться пользователем
        - Открыть настройки
    - assert: Присутствует поле отображающее имя пользователя
    - do: |
        - Закрыть меню (настройки)
        - Отключить интернет соединение (или режим в самолете)
        - Открыть меню (настройки)
    - assert: |
        - В настройках не отображается профиль пользователя
        - Присутствует кнопка для выхода из профиля

    - platforms:
      - nissan
    - testing:
      - acceptance_navi


  Экран "Меню" (Настройки, webview, ЛС, ПК) - ГУ:
    - description: Проверить наличие и применение всех настроек, открытие webview, корректность отображения и открытие ссылок в ЛС/ПК.
    - do: Тап по иконке «Меню» в таббаре
    - assert: |
        **Отображается у КШ:**
        - Кнопка Войти/данные аккаунта (если пользователь авторизован)
        - Настройки
        Раздел Инструменты со всеми webview:
        - Загрузка карт
        О программе
        Кнопка Выйти (если пользователь авторизован)
        **Отображается у АМ:**
        - Кнопка Войти/данные аккаунта (если пользователь авторизован)
        - Настройки
        Раздел Инструменты со всеми webview:
        - Яндекс.заправки
        - Загрузка карт
        - Обучение и подсказки
        О программе
        Кнопка Выйти (если пользователь авторизован)
    - do: Тап по Настройки
    - assert: |
        Все настройки присутствуют и отображаются корректно
        **Настройки КШ**
        _Быстрые настройки:_
        Звуковое сопровождение
        Об ограничениях скорости
        Дорожные события
        Голос
        _Важно смотреть, что на разных локалях доступны разные голоса.
        Курсор
        Вид карты
        Север всегда наверху
        Избегать платных дорог

        _Расширенные настройки:_
        Карта и интерфейс
        Звуки и оповещения
        Сохраненные данные

        Свитчер “Синхронизировать настройки”

        **Настройки АМ**
        _Быстрые настройки:_
        Звуковое сопровождение
        Об ограничениях скорости
        Дорожные события
        Голос
        _Важно смотреть, что на разных локалях доступны разные голоса.
        Курсор
        Вид карты
        Север всегда наверху
        Избегать платных дорог

        _Расширенные настройки:_
        Карта и интерфейс
        Звуки и оповещения
        Сохраненные данные
        Яндекс.Заправки
        Свитчер “Синхронизировать настройки”
    - do: |
        Изменить настройки:
        - Голос - выставить последний новый голос
        - Курсор - Вкл/выкл последний новый курсор
        - Еще несколько стандартных настроек (любые из указанных в п.2)
    - assert: Все измененные настройки применяются
    - do: |
        Проверить webview в разделе Инструменты.
        **КШ**
        - Загрузка карт
        **АМ**
        - Яндекс.Заправки
        - Загрузка карт
        - Обучение и подсказки
        Тап на каждый webview, проверить переходы по кнопке назад в webview, а так же системной кнопке девайса для андроид,
    - assert: |
        Все webview открываются
        Отображаются согласно установленной теме в приложении (дневная/ночная)
    - do: Перейти в пункт “О программе”
    - assert: |
        **На экране КШ отображается:**
        1 - Логотип
        2 - Надпись Яндекс Навигатор
        3 - Версия и номер сборки
        **На экране АМ отображается:**
        1 - Логотип
        2 - Надпись Яндекс Навигатор
        3 - Версия и номер сборки
        4 - Ссылки на Лицензионное соглашение и Политику конфиденциальности
        5 - Копирайт компании
    - do: |
        _**Проверяем только на на АМ**_
        Тап на ссылку Лицензионное соглашение
    - assert: |
        Происходит переход по ссылке:
        - тексты локализованы
        - ссылки кликабельны, переходят на работающие страницы
        - Лицензионное соглашение всегда в светлой теме, независимо от темы, выбранной в приложении
    - do: |
        _**Проверяем только на на АМ**_
        Вернуться на экран “О программе” по стрелочке назад
        Тап на ссылку Политика конфиденциальности
    - assert: |
        Происходит переход по ссылке:
        - тексты локализованы
        - ссылки кликабельны, переходят на работающие страницы
        - Политика конфиденциальности всегда в светлой теме, независимо от темы, выбранной в приложении

    - platforms:
      - motrex
      - geely
      - vaz
      - carsharing_t3
      - nissan
      - t3am
      - autochip
      - first_run_hu
    - testing:
      - acceptance_navi


  Экран "Меню" (Настройки, webview, ЛС, ПК) (Проверка локализации)):
    - description: Проверить наличие и применение всех настроек, открытие webview, корректность отображения и открытие ссылок в ЛС/ПК.
    - do: Тап по иконке «Меню» в таббаре
    - assert: |
        Отображается:
        - Кнопка Войти/данные аккаунта (если пользователь авторизован)
        - Настройки
        - Возможен брендированный пункт

        Раздел Инструменты со всеми webview:
        Народная карта (en_TR, tr_TR)
        Яндекс.Заправки
        Яндекс.Авто
        Загрузка карт
        Мои поездки
        Сохраненные предложения
        Обратная связь
        Обучение и подсказки
        Парковка (местоположение Москва)
        Штрафы ГИБДД
        Помощь на дороге (только для русского региона)
        Написать отзыв о поездке (Если авторизован аккаунтом, связанным со стаффом)

        О программе
        Реклама в приложении
        Другие приложения Яндекса
        Выйти (Если авторизован)
    - do: Тап по Настройки
    - assert: |
        Все настройки присутствуют и отображаются корректно
        **Быстрые настройки:**
        Звуковое сопровождение
        Зафиксировать подсказки о маневрах в углу экрана
        Об ограничениях скорости
        Дорожные события
        Голос
        _Важно смотреть, что на разных локалях доступны разные голоса.
        Курсор
        Вид карты
        Север всегда наверху
        Избегать платных дорог

        **Расширенные настройки:**
        Карта и интерфейс
        Звуки и оповещения
        Навигация
        Уведомления
        Сохраненные данные
        Яндекс.Заправки
        Яндекс.Авто

        Свитчер “Синхронизировать настройки”
    - do: |
        Изменить настройки:
        - Голос - выставить последний новый голос
        - Курсор - Вкл/выкл последний новый курсор
        - Выкл/вкл настройку аудиорекламы (Проверять пока только в Турции, с включенной настройкой при построении маршрута и окончании маршрута помимо фраз Маршрут построен и Вы приехали, произносится фраза Birmot/Avis….) В системном голосе реклама не звучит.
        - Еще несколько стандартных настроек (любые из указанных в п.2)
    - assert: Все измененные настройки применяются
    - do: |
        Проверить webview в разделе Инструменты.
        - Народная карта (en_TR, tr_TR)
        - Яндекс.Заправки
        - Яндекс.Авто
        - Загрузка карт
        - Мои поездки
        - Сохраненные предложения
        - Обучение и подсказки
        - Обратная связь
        - Парковка (местоположение Москва)
        - Штрафы ГИБДД
        - Помощь на дороге (только для русского региона)
        - Написать отзыв о поездке (Если авторизован аккаунтом, связанным со стаффом)

        Тап на каждый webview, проверить переходы по кнопке назад в webview, а так же системной кнопке девайса для андроид,
    - assert: |
        Все webview открываются
        Отображаются согласно установленной теме в приложении (дневная/ночная)
    - do: Перейти в пункт “О программе”
    - assert: |
        На экране отображается:
        1 - логотип
        2 - Надпись Яндекс Навигатор
        3 - Версия и номер сборки
        4 - Ссылки на Лицензионное соглашение и Политику конфиденциальности
        5 - Копирайт компании
    - do: Тап на ссылку Лицензионное соглашение
    - assert: |
        Происходит переход по ссылкам:
        - тексты локализованы
        - ссылки кликабельны, переходят на работающие страницы
        - Лицензионное соглашение всегда в светлой теме, независимо от темы, выбранной в приложении
    - do: |
        Вернуться на экран “О программе” по стрелочке назад
        Тап на ссылку Политика конфиденциальности
    - assert: |
        Происходит переход по ссылке:
        - тексты локализованы
        - ссылки кликабельны, переходят на работающие страницы
        - Политика конфиденциальности всегда в светлой теме, независимо от темы, выбранной в приложении

    - platforms:
      - ios
      - android
    - tags:
      - assessors


  Отображение кнопки "Меню" в тапбаре.:
    - description: |
        _Цель:_ проверить отображение пункта Меню при подключении девайса к головному устройству (ГУ).
        _Особенности:_ кнопка пункта Меню выглядит, как три горизонтальные черты.
    - info: |
        - Подключить телефон к ГУ.
        - Открыть Навигатор на ГУ.
    - do: Посмотреть на тапбар, который расположен справа.
    - assert: Пункт меню присутствует.
    - do: Тап на кнопку для меню
    - assert: Открывается меню

    - platforms:
      - renault
      - nissan
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Вид Меню:
    - description: |
        В данном кейсе проверяется вид нового Меню Навигатора, наличие обязательных элементов, скроллящейся ленты, крутилки сервисов и новой "шапки".
    - info: |
        - Приложение открывается на мобильном устройстве, НЕ ГУ, НЕ projected, НЕ embedded
        - Установлена debug сборка
        - Выключен свитчер на продовый конфиг (Developer settings - Ad - Use prod ribbon ads config - Свитчер в положении ВЫКЛ)
        - Навигатор перезапущен после изменений в Developer settings
        - Пользователь НЕ авторизован в Навигаторе
        - Пользователь находится на главном экране
        - Сим-карта не установлена ИЛИ используется российская сим-карта
        - Локаль ru-RU
    - do: Тап Меню Нави
    - assert: |
        - Показано Меню Нави. В навбаре Меню:
        - слева шестерёнка настроек
        - по центру навбара серая кнопка "Войти"
        - крестик закрытия справа навбара
        Под навбаром:
        - синяя кнопка "Добавить машину"
        - под блоком авто может находиться кнопка ОСАГО
        - ниже показываться крутилка сервисов
        - ниже первым показывается баннер спецпроекта (может отсутствовать)
        - ниже баннера следует лента, состоящая из офферов (рекламные плитки меню, могут быть без картинок)
    - do: Авторизоваться тапом в кнопку "Войти" пользователем, у которого есть минимум 1 автомобиль
    - assert: |
        - После авторизации в верхнем блоке Меню Нави по центру вместо кнопки "Войти" показывается аватар и имя пользователя
        - Под блоком залогина - плашка с автомобилем пользователя. В этом блоке может находиться подтянувшаяся машина из данных Я.Денег с кнопкой проверки на Отзывные кампании
        - Под блоком авто может находиться кнопка ОСАГО
        - Все элементы Меню сместились вниз на величину плашки авто равномерно
        - Нигде не сломалась мозаика, не "поехала" вёрстка
        - Появились отдельные кнопки внизу под лентой:
        — Баг-репорт о поездке (если авторизоваться портальным аккаунтом с жуком) — отдельная кнопка внизу
        — Выйти — отдельная кнопка внизу

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Меню показывается, если местоположение пользователя не определено:
    - description: |
        В данном кейсе проверяется показ нового Меню, если разрешение на местоположение не выдано или же местоположение не определено
    - info: |
        - Пользователь находится на главном экране
        - Пользователь НЕ давал разрешение на определение геопозиции
        - Приложение открывается на мобильном устройстве, НЕ ГУ, НЕ projected, НЕ embedded
        - Сим-карта не установлена ИЛИ используется российская сим-карта
        - Локаль ru-RU
    - do: Тап Меню Нави
    - assert: Показано новое Меню Нави с лентой виджетов
    - do: Перезапустить приложение
    - do: Тап Меню Нави
    - assert: По-прежнему показано новое Меню Нави

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Меню показывается, если местоположение пользователя за пределами РФ:
    - description: |
        В данном кейсе проверяется показ нового Меню, когда пользователь находится ВНЕ территории РФ
    - info: |
        - Пользователь находится на главном экране
        - Пользователь находится на территории РФ
        - Приложение открывается на мобильном устройстве, НЕ ГУ, НЕ projected, НЕ embedded
        - Сим-карта не установлена ИЛИ используется российская сим-карта
    - do: Тап Меню Нави
    - assert: |
        - Показано новое Меню Нави с лентой виджетов, под блоком с авто всегда первым показана крутилка сервисов, потом баннер спецпроекта
        ![image](https://jing.yandex-team.ru/files/oshestopalova/Снимок%20экрана%202020-07-29%20в%2010.27.26.png)
    - do: Выгрузить приложение из памяти
    - do: Подменить местоположение на страну, желательно не имеющую общих границ с РФ (например, Китай или же Турцию)
    - do: Запустить приложение
    - do: Тап Меню Нави
    - assert: По-прежнему показано новое Меню Нави с лентой виджетов

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Новое Меню не показывается с иностранной SIM:
    - description: |
        В данном кейсе проверяется показ старого Меню, если в устройстве установлена иностранная сим-карта
    - info: |
        - Пользователь находится на главном экране
        - Пользователь находится на территории РФ
        - Приложение открывается на мобильном устройстве, НЕ ГУ, НЕ projected, НЕ embedded
        - Сим-карта не установлена
    - do: Тап Меню Нави
    - assert: Показано новое Меню Нави с лентой виджетов
    - do: Выгрузить приложение из памяти
    - do: Установить иностранную сим-карту
    - do: Запустить приложение
    - do: Тап Меню Нави
    - assert: Показывается старое Меню Нави списком

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Новое Меню не показывается на ГУ embedded и projected :
    - description: |
        В данном кейсе проверяется показ старого Меню на ГУ, в режимах projected и embedded.
    - info: |
        - Пользователь находится на территории РФ
        - Сим-карта не установлена
        - Для прохождения шагов потребуются: АМ/ОЕМ/КШ ГУ и projected ГУ
    - do: Тап Меню
    - assert:  Показано старое Меню Нави списком

    - platforms:
        - carsharing_t3
        - t3am
        - motrex
    - testing:
        - acceptance_navi


  Вид хинта:
    - description: |
        Хинт показывается единожды. Показ хинта не зависит от залогина, количества запусков.
    - info: |
        - Приложение установлено, но не разу не запускалось (для Android можно использовать очистку данный)
        - Приложение открывается на мобильном устройстве, НЕ ГУ, НЕ projected, НЕ embedded
        - Локаль ru-RU
        - Сим-карта русская или отсутствует
        - Пользователь находится на главном экране
        - Установлена дневная тема в приложении
    - do: Тап Меню Нави
    - assert: |
        - Показано новое Меню Нави
        - На шестерёнку настроек в левом верхнем углу Меню указывает подсказка на синем фоне
        - Текст подсказки "Настройки переехали сюда"
        - Текст белого цвета
        - Хинт располагается под навбаром
        - Хинт показывается полностью, находится на экране до первого тапа
        - Хинт может перекрывать блок ОК или автомобили пользователя
    - do: Сменить ориентацию устройства
    - assert: |
        - Все элементы на месте, вёрстка на месте
    - do: Тап любое место экрана
    - assert: |
        - Хинт скрылся
        - Показано Меню
    - do: Повторить шаги 1-3 с переустановкой приложения и включением ночной темы
    - assert: |
        - Хинт в Меню показывается в соответствии с макетами
        - Шестеренка настроек видна в навбаре
        - Фон хинта синий, текст белый

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Однократный показ хинта:
    - description: |
        Хинт показывается единожды. Показ хинта не зависит от залогина, количества запусков.
    - info: |
        - Приложение установлено, но не разу не запускалось (для Android можно использовать очистку данный)
        - Приложение открывается на мобильном устройстве, НЕ ГУ, НЕ projected, НЕ embedded
        - Локаль ru-RU
        - Сим-карта русская или отсутствует
        - Пользователь находится на главном экране
    - do: Тап Меню Нави
    - assert: |
        - Показано новое Меню Нави
        - На шестерёнку настроек в левом верхнем углу Меню указывает подсказка на синем фоне
        - Текст подсказки "Настройки переехали сюда"
        - Текст белого цвета
        - Хинт располагается под навбаром
        - Хинт показывается полностью, находится на экране до первого тапа
        - Хинт может перекрывать блок ОК или автомобили пользователя
    - do: Перезапустить приложение
    - do: Тап Меню
    - assert: |
        - Показано новое Меню
        - Хинт больше не показывается
    - do: Тап настройки
    - assert:  Показан экран настроек
    - do: Вернуться по стрелке назад в Меню
    - assert: |
        - Показано Меню
        - Хинт не показан
    - do: Свернуть-развернуть приложение
    - assert: |
        - Показано Меню
        - Хинт не показан
    - do: |
        _Если пользователь авторизован_
        Разлогиниться
        _Если пользователь не авторизован_
        Залогиниться
    - assert: |
        - Показано Меню
        - Хинт не показан
    - do: Перезапустить приложение
    - do: Тап Меню
    - assert: |
        - Показано Меню
        - Хинт не показан

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Показ хинта в синхронизированных аккаунтах:
    - description: |
        Хинт показывается единожды. Показ хинта не зависит от залогина, количества запусков, а также от синхронизации аккаунта на нескольких устройствах
    - info: |
        - Приложение установлено, но не разу не запускалось (для Android можно использовать очистку данный)
        - Приложение открывается на мобильном устройстве, НЕ ГУ, НЕ projected, НЕ embedded
        - Локаль ru-RU
        - Сим-карта русская или отсутствует
        - Пользователь находится на главном экране
        - Пользователь авторизован одним аккаунтом на двух устройствах
        - В настройках включена синхронизация
    - do: Тап Меню Нави на первом устройстве
    - assert: |
        - Показано новое Меню Нави
        - На шестерёнку настроек в левом верхнем углу Меню указывает подсказка на синем фоне
        - Текст подсказки "Настройки переехали сюда"
        - Текст белого цвета
        - Хинт располагается под навбаром
        - Хинт показывается полностью, находится на экране до первого тапа
        - Хинт может перекрывать блок ОК или автомобили пользователя
    - do: Тап любое место экрана на первом устройстве
    - assert:  Хинт скрылся
    - do: Тап Меню на втором устройстве
    - assert: |
        - Показано новое Меню
        - Показан хинт, указывающий на шестерёнку настроек

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Повторный показ хинта после переустановки:
    - description: |
        Хинт показывается единожды. Показ хинта не зависит от залогина, количества запусков, а также от синхронизации аккаунта на нескольких устройствах
    - info: |
        - Приложение установлено, но не разу не запускалось (для Android можно использовать очистку данный)
        - Приложение открывается на мобильном устройстве, НЕ ГУ, НЕ projected, НЕ embedded
        - Локаль ru-RU
        - Сим-карта русская или отсутствует
        - Пользователь находится на главном экране
    - do: Тап Меню Нави на первом устройстве
    - assert: |
        - Показано новое Меню Нави
        - На шестерёнку настроек в левом верхнем углу Меню указывает подсказка на синем фоне
        - Текст подсказки "Настройки переехали сюда"
        - Текст белого цвета
        - Хинт располагается под навбаром
        - Хинт показывается полностью, находится на экране до первого тапа
        - Хинт может перекрывать блок ОК или автомобили пользователя
    - do: Тап любое место экрана на первом устройстве
    - assert: Хинт скрылся
    - do: Выгрузить приложение из памяти
    - do: |
        Переустановить приложение
        _Для Android-устройств есть аналогичный переустановке способ_
        Сбросить память приложения
    - do: Запустить приложение
    - do: Тап Меню
    - assert: |
        - Показано новое Меню
        - Показывается хинт про перенос настроек

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Меню в горизонтальной ориентации:
    - description: |
        В данном кейсе проверяется пересчёт количества столбцов в новом Меню Навигатора при переводе устройства в лендскейп и обратно.
    - info: |
        - Приложение открывается на мобильном устройстве, НЕ ГУ, НЕ projected, НЕ embedded
        - Пользователь авторизован
        - Портретная ориентация устройства
        - Открыт главный экран навигатора
        - Сим-карта не установлена ИЛИ используется российская сим-карта
        - Локаль ru-RU
    - do: Тап Меню Нави
    - assert: |
        - Показано Меню Нави
        - Под кнопкой Отзывных кампаний (авто или добавления авто) показывается крутилка сервисов
        - Под баннером следует лента из офферов (рекламные плитки)
        - Лента поделена на несколько колонок (на телефоне чаще всего на 2)
        - Ширина элементов в ленте не меньше 140dp
        - Под лентой:
        — Баг-репорт о поездке (если авторизоваться портальным аккаунтом) - отдельная кнопка внизу
        — Выйти — отдельная кнопка внизу
    - do: Сменить ориентацию устройства на горизонтальную
    - assert: |
        - Шапка растянулась вместе с шириной меню
        - Крутилка равномерно растянулась
        - Баннер (если есть) растянулся, небольшие отступы от границ меню
        - Количество столбцов в ленте изменилось (увеличелось)
        - Высота элементов ленты уменьшилась, если количество строк текста уменьшилось
        - Ширина элементов в ленте не меньше 140dp
        - Кнопки "Баг-репорт о поездке" и "Выйти" растянулись, небольшие отступы от границ меню
        - Нигде не сломалась мозаика, не "поехала" вёрстка
    - do: Сменить ориентацию устройства на вертикальную
    - assert: |
        - Вид меню как в шаге 1
        - Высота элементов ленты увеличилась, если количество строк текста увеличилось
        - Нигде не сломалась мозаика, не “поехала” вёрстка

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Баннер в новом меню:
    - description: |
        В этом кейсе проверяется показ и тапабельность баннера в новом меню.
        _Если баннер не показывается после нескольких перезапусков, можно:_
        - залогиниться аккаунтом, привязанным ко Стаффу
        - использовать интент (копируем в Я.Браузер, вставляем в адресную строку, проходим по подсвеченному синим саджесту) `yandexnavi://add_exp?navi_special_project_banner_rotation_configurations_for_RU=[{"project_name":"sravni","configuration":{"weight":1.0,"max_visibility_count":100}}]`
        - включать-выключать свитчер FDE (Настройки - Developer settings - Ad - Force datatesting environment, после чего перезапустить приложение)
        - возможно потребуется повторить несколько раз.
    - info: |
        - Приложение открывается на мобильном устройстве, НЕ ГУ, НЕ projected, НЕ embedded
        - Пользователь находится на главном экране
        - Сим-карта не установлена ИЛИ используется российская сим-карта
        - Локаль ru-RU
    - do: Открыть меню
    - assert: |
        - Открывается меню с офферами
        - После блока с добавленными машинами отображается баннер
        - После баннера идёт лента офферов
    - do: Тап на баннер
    - assert: Открывается вебвью рекламного баннера

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Крутилка сервисов. Расположение в меню:
    - info: |
        - Локаль ru-RU
        - Сим-карта русская или отсутствует
        - Пользователь находится на главном экране Навигатора (экран с картой)
        - Устройство находится в портретной ориентации
        - На устройстве включен дневной режим
    - do: Тап Меню Нави
    - assert: |
        - Открылось Меню
        - Под кнопкой Отзывных кампаний/добавленных авто показана крутилка с сервисами
        - Лента сервисов скроллится
        - Под каждой кнопкой расположена тень
    - do: Сменить ориентацию устройства на лендскейп
    - assert: |
        - Лента сервисов скроллится
        - Иконки не изменились в размере
        - Расстояние между иконками не изменилось
        - Тень под каждой кнопкой не исчезла
    - do: Включить ночной режим
    - assert: |
        - Иконки не изменились в размере
        - Стиль кнопок изменился на ночную
        - Расстояние между иконками не изменилось

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Крутилка сервисов. Порядок расположения кнопок:
    - info: |
        - Локаль ru-RU
        - Геопозиция Москва (если иное, подменить местоположение)
        - Сим-карта русская или отсутствует
        - Включен эксперимент на провиженинг (Настройки - Developer settings - Ya.Auto - Provisioning enabled - ON и Настройки - Developer settings - Ya.Auto - Open Provisioning и закрыть открывшееся экран)
        - ВЫКЛючен эксперимент на перенос загрузки карт (Настройки - Developer settings - Misc - Move download maps to settings - OFF)
        - Приложение перезапущено после изменения в dev settings
        - Пользователь находится на главном экране Навигатора (экран с картой)
    - do: Тап на "Меню навигатора"
    - assert: |
        Сервисы в ленте сервисов расположены в таком порядке:
        Яндекс Заправки - Яндекс.Плюс - Штрафы ГИБДД - Загрузка карт - Обратная связь - Обучение и подсказки - Парковка (показываются, если геопозиция в Москве, Краснодаре или Ставрополе) - Авторизация в Авто - Бортовой компьютер - О программе

    - platforms:
      - android
      - ios
    - tags:
        - assessors


  Крутилка сервисов. Переходы в подразделы сервисов:
    - info: |
        - Локаль ru-RU
        - Геопозиция Москва (если иное, подменить местоположение)
        - Сим-карта русская или отсутствует
        - Включен эксперимент на провиженинг (Настройки - Developer settings - Ya.Auto - Provisioning enabled - ON и Настройки - Developer settings - Ya.Auto - Open Provisioning и закрыть открывшееся экран)
        - ВЫКЛючен эксперимент на перенос загрузки карт (Настройки - Developer settings - Misc - Move download maps to settings - OFF)
        - ВЫКЛючен эксперимент на заправки и парковки в настройках (Настройки - Developer settings - Misc - Open parking and gas stations layers from menu - OFF)
        - Приложение перезапущено после изменения в dev settings
        - Открыто меню навигатора
    - do: Тап на "Яндекс Заправки"
    - assert: Открывается подраздел с заправками
    - do: Закрыть подраздел, тапнув "Назад"
    - assert: |
        - Открывается меню навигатора
        - Положение крутилки сервисов сохраняется
    - do: Тап на “Штрафы ГИБДД”
    - assert: Открывается подраздел со штрафами
    - do: Закрыть подраздел, тапнув на “Крестик” (iOS) / стрелочку "Назад" (Android)
    - assert: |
        - Открывается меню навигатора
        - Положение крутилки сервисов сохраняется
    - do: Тап на "Парковка"
    - assert: Открывается экран парковок
    - do: Закрыть подраздел, тапнув на “Крестик” (iOS) / стрелочку "Назад" (Android)
    - assert: |
        - Открывается меню навигатора
        - Положение крутилки сервисов сохраняется
    - do: Тап на “Бортовой компьютер”
    - assert: Открываются настройки провиженинга
    - do: Закрыть подраздел, тапнув на “Крестик”
    - assert: |
        - Открывается меню навигатора
        - Положение крутилки сервисов НЕ сохраняется
    - do: Тап на “О программе”
    - assert: Открылся экран с информацией о версии навигатора
    - do: Закрыть подраздел, тапнув “Назад”
    - assert: |
        - Открывается меню навигатора
        - Положение крутилки сервисов сохраняется

    - platforms:
      - android
      - ios
    - tags:
        - assessors


  Крутилка сервисов. Показ кнопок сервисов под экспериментами:
    - info: |
        - Локаль ru-RU
        - Геопозиция Москва (если иное, подменить местоположение)
        - Сим-карта русская или отсутствует
        - Включен эксперимент на провиженинг (Настройки - Developer settings - Ya.Auto - Provisioning enabled - ON и Настройки - Developer settings - Ya.Auto - Open Provisioning и закрыть открывшееся экран)
        - ВЫКЛючен эксперимент на перенос загрузки карт (Настройки - Developer settings - Misc - Move download maps to settings - OFF)
        - Приложение перезапущено после изменения в dev settings
        - Пользователь находится на главном экране Навигатора (экран с картой)
    - do: Тап Меню Навигатора
    - assert: |
        - Открывается Меню Навигатора
        - В крутилке сервисов (верхняя скроллящаяся полоса с плиткой сервисов) присутствуют все разделы: Заправки - Штрафы - Загрузка карт - Обратная связь - Обучение и подсказки - Парковка - Авторизация в Авто - Бортовой компьютер - О программе
    - do: Сменить местоположение на не Москву, Краснодар и Ставрополь (например, Тула) и перезапустить приложение
    - do: Открыть Меню Навигатора
    - assert: |
        В крутилке сервисов отсутствует кнопка с Парковками: Заправки - Штрафы - Загрузка карт - Обучение и подсказки - Обратная связь - Авторизация в Авто - Бортовой компьютер - О программе
    - do: ВЫКЛючить эксперимент на провиженинг (Настройки - Developer settings - Ya.Auto - Provisioning enabled - OFF) и перезапустить приложение
    - do: Открыть Меню Навигатора
    - assert: |
        В крутилке сервисов отсутствует кнопка провиженинга - Бортовой компьютер: Заправки - Штрафы - Загрузка карт - Обучение и подсказки - Обратная связь - Авторизация в Авто - О программе
    - do: ВКЛючить эксперимент на перенос загрузки карт в настройки (Настройки - Developer settings - Misc - Move download maps to settings - ON)
    - do: Открыть Меню Навигатора
    - assert: |
        В крутилке сервисов отсутствует кнопка "Загрузка карт" - Яндекс.Авто: Заправки - Штрафы - Обучение и подсказки - Обратная связь - Авторизация в Авто - О программе

    - platforms:
      - android
      - ios
    - tags:
        - assessors


  Новая иконка меню навигатора. Зеленая лампочка:
    - description: Зеленая лампочка - это зеленый кружок, который показывается на иконке Меню Навигатора тогда, когда не просмотрены экраны Я.Заправок
    - info: |
        - Локаль ru-RU
        - Сим-карта русская или отсутствует
        - Очистить посещение экрана заправок. Для этого перейти в Developer settings -> Gas stations -> тап по Reset menu visited
        - Пользователь находится на главном экране Навигатора
    - do: Тап в меню навигатора
    - assert: |
        - Иконка Навигатора сменилась с полых 4-х квадратов на заполненные
        - Зеленая точка на иконке меню не пропала
    - do: Просмотреть экран заправок. Для этого тап по офферу "Карты лояльностей топливных сетей" и закрыть все окна, кроме меню
    - assert: |
        - Пользователь в меню навигатора
        - Зеленая точка, на иконке открытого меню навигатора, отсутствует
    - do: Закрыть меню навигатора
    - assert: |
        - Показан главный экран навигатора (карта)
        - Зеленая точка, на иконке закрытого меню навигатора, отсутствует

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Новая иконка меню навигатора. Синяя лампочка:
    - description: Синяя лампочка - это синий кружок, который показывается на иконке меню навигатора тогда, когда пользователь не просмотрел Отзывные кампании (синяя плашка "Добавить машину"), а также когда у пользователя появляются машины из Денег или из автокода
    - info: |
        - Локаль ru-RU
        - Сим-карта русская или отсутствует
        - Пользователь авторизован в навигаторе
        - Просмотрен экран заправок (исчезла зелёная точка на кнопке меню) (Меню - Настройки - Яндекс.Заправки) и приложение перезапущено
        - Если местоположение Москва и точка не исчезает на интроскрине заправок тап "Подробнее" и снова перезапустить приложение
        - Отзывные кампании не просмотрены (плашка "Добавить машину" синего цвета)
        - Пользователь находится на главном экране навигатора
    - do: Тап в меню навигатора
    - assert: |
        - Иконка Навигатора сменилась с полых 4-х квадратов (неактивного меню) на заполненные (меню открыто)
        - Синяя точка на иконке меню не пропала
    - do: Просмотреть Отзывные кампании. Для этого в меню навигатора тап "Добавить машину" и закрыть экран
    - assert: |
        - Показано меню навигатора
        - Синяя точка, на иконке открытого меню навигатора (4 заполненных квадрата), отсутствует
    - do: Закрыть меню навигатора
    - assert: |
        - Показан главный экран навигатора (карта)
        - Синяя точка, на иконке закрытого меню навигатора (4 полых квадрата), отсутствует
    - do: Добавить машину из денег. Для этого авторизовавшись портальным аккаунтом или на дебажной сборке зайти в меню навигатора -> тап Настройки -> developer settings -> Ya.Auto -> Insert Ya.money car и перезапустить навигатор
    - assert: |
        - Показан главный экран навигатора (карта)
        - Синяя точка, на иконке закрытого меню навигатора (4 полых квадрата), присутствует
    - do: Открыть меню навигатора
    - assert: |
        - Под логином добавилась машина из денег
        - Синяя точка, на иконке открытого меню навигатора (4 заполненных квадрата), Присутствует
    - do: Удалить добавленную машину, тапнув в ленте с добавленными авто по крестику и тапнув "Удалить"
    - assert: |
        - Машина удалилась
        - Синяя точка в новой иконке меню отсутствует

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Новая иконка меню навигатора. Красная лампочка:
    - description: Красная лампочка - это красная точка на новой иконке меню навигатора. Появляется тогда, когда пользователь вышел с устройства в паспорте. Для этого надо авторизоваться в паспорте тем же аккаунтом что и в навигаторе. Затем тап на "Устройства, сервисы и программы" -> Найти телефон с которого авторизовались и тап Отключить устройство. Спустя некоторое время на иконке появится красная точка и тост о том что вы вышли с устройства
    - info: |
        - Локаль ru-RU
        - Сим-карта русская или отсутствует
        - Авторизоваться в навигаторе
        - Пользователь находится на главном экране навигатора (карта)
        - Пользователь авторизован в Паспорте тем же аккаунтом что и в навигаторе
    - do: Выйти с устройства через Яндекс.Паспорт. См Descriptions как выйти
    - assert: |
        - Спустя некоторе время ~10-40 сек появится тост о том что вы вышли из акаунта
        - Вместе с тостом, на иконке меню появляется красный кружок
    - do: Авторизоваться в навигаторе
    - assert: Красный кружок с новой иконки навигатора пропал

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Новая иконка меню. Приоритетность точек:
    - description: |
        В данном кейсе проверяем приоритетность точек на новой иконке меню.
        Приоритетность точек следующая:
        - Красная точка - Имеет высший приоритет. Появляется тогда, когда пользователь разлогинился на устройстве через Яндекс.Паспорт. Чтобы выйти с устройства в Паспорте необходимо авторизоваться в Яндекс.Паспорте тем же аккаунтом, что и в Навигаторе, затем тап на "Устройства, сервисы и программы" -> Найти устройство с которого авторизовались в навигаторе, тап "Отключить устройство"
        - Зеленая точка - Имеет средний приоритет. Появляется тогда, когда пользователь не просмотрел экран с заправками. Если экран с заправками был просмотрен, то необходимо скинуть состояние просмотра через настройки разработчика. Для этого авторизовавшись портальным аккаунтом или на дебажной сборке перейти в Developer settings -> Gas Stations -> Тап по "Reset menu visited"
        - Синяя точка - Имеет низкий приоритет. Появляется в следующих случаях:
            1) Пользователь авторизован, Отзывные кампании не просмотрены (плашка Добавить машину синего цвета)
            2) Добавлены машины через Деньги или СТС. Для этого перейти в Developer settings -> Ya.Auto -> Тап по Insert Ya.Money car или Insert STS data car
    - info: |
        - Локаль ru-RU
        - Сим-карта русская или отсутствует
        - Пользователь авторизован
        - У пользователя добавлена машина из денег или СТС. См Descriptions как добавить авто (синяя точка)
        - Очищен просмотр экрана заправок. См Descriptions как очистить просмотр (зеленая точка)
        - Пользователь на главном экране Навигатора (карта)
    - do: Тап Меню Навигатора
    - assert: |
        - Под логином пользователя добавлена машина из СТС или денег
        - Возле добавленно машины из денег или СТС горит синяя точка
        - На новой иконке навигатора горит зеленая точка, т.к. она приоритетнее синей
    - do: Закрыть меню
    - assert: |
        - Показан главный экран (карта)
        - На новой иконке навигатора горит зеленая точка
    - do: Выйти с аккаунта устройства через Яндекс.Паспорт. См Descriptions как выйти с устройства (красная точка)
    - assert: |
        - Спустя некоторое время появится тост с информацией о том что пользователь вышел из аккаунта
        - Во время появления тоста, появляется красная точка поверх зеленой, т.к. имеет высший приоритет
    - do: Авторизоваться в Навигаторе тем же аккаунтом
    - assert: |
        - Пользователь авторизован
        - Красная точка, на иконке меню, сменилась на зеленую
    - do: |
        - Тап Яндекс.Заправки
        - Закрыть экран заправок
    - assert: |
        - Показано Меню Навигатора
        - Зеленая точка на иконке меню пропала
    - do: |
        - Перезагрузить приложение
        - Тап Меню Навигатора
    - assert: |
        - Показано Меню Навигатора
        - На иконке меню синяя точка
    - do: Удалить или проверить на отзывные кампании машину из Денег или СТС
    - assert: |
        - Машина из Денег / СТС Удалилась или добавилась на аккаунт
        - Точки на иконке меню отсутствуют

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Пункт в новом меню с невалидным урлом:
    - description: Навигатор не должен падать при передаче урлов для webView, не начинающихся с http:// или https://
    - info: |
        **Достаточно проверок по п.1, если пункта в меню не будет (создавался для теста), можно воспользоваться проверкой по п.3.**
        Проверять на **debug сборке** (чтобы ходить на тестовый S3, так как тестовый конфиг плиток только там).
        Включить настройки dev settings -> Ad -> Use prod ribbon ads config вЫключить (использование тестового конфига плиток)
        Перезапустить приложение. Открыть главное меню.
    - do: Тап на плитку с заголовком "Bad onTap URL"
    - assert: Открывается пустое вебвью с крестиком для закрытия и стрелкой "Назад" для возврата в меню.
    - do: Тап на крестик/ стрелку "Назад" на вебвью
    - assert: Происходит переход к главному меню
    - do: |
        _Данный шаг проходим только, если в меню не появился пункт “Bad onTap URL”_
        Отправить интент с невалидным урлом (без http:// или https://)
        например,
        `adb shell am start -a android.intent.action.VIEW -d "yandexnavi://show_web_view?link=yandex.ru\&title=Welcome"
        yandexnavi://show_web_view?link=yandex.ru&title=Welcome`
    - assert: Крешей нет

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Эксперимент на парковки и заправки в настройки:
    - description: В данном кейсе проверяется появление парковок и заправок и настройках по эксперименту
    - info: |
        - Локаль ru-RU
        - Сим-карта русская или отсутствует
        - Пользователь авторизован
        - Выключен эксперимент на парковки и заправки в меню: Меню - Настройки - Developer Settings - Parking - New parking payment - On
        - Открыт главный экран (карта)
        - Приложение перезапущено после изменения в dev settings
        - Местоположение Москва, Краснодар или Ставрополь
    - do: Тап Меню Нави
    - assert: |
        - Показано Меню Нави
        - В крутилке сервисов (под плашками авто) есть "Яндекс Заправки" и "Парковка"
    - do: Тап на Настройки
    - assert: |
        - Открывается экран настроек
        - В блоке “Расширенные настройки” **есть** "Яндекс.Заправки"
        - В блоке "Расширенные настройки" **нет** "Парковка"
    - do: |
        Включить эксперимент на парковки и заправки в настройки: Настройки - Developer Settings - Misc - Open parking and gas station layers from menu - On
    - do: Выгрузить приложение из памяти
    - do: Запустить приложение
    - do: Тап Меню Нави
    - assert: |
        - Показано Меню Нави
        - В крутилке сервисов (под плашками авто) есть “Яндекс Заправки” и “Парковка”
    - do: Тап на Настройки
    - assert: |
        - Открывается экран настроек
        - В блоке “Расширенные настройки” **есть** "Яндекс.Заправки"
        - В блоке "Расширенные настройки" **есть** "Парковка"
        - Иконки в одной стилистике
    - do: Отключить эксперимент на парковки и заправки в настройках с перезапуском приложения
    - do: Тап Меню
    - assert: |
        - Показано Меню Нави
        - В крутилке сервисов (под плашками авто) есть “Яндекс Заправки” и “Парковка”
    - do: Тап настройки
    - assert: |
        - Открывается экран настроек
        - В блоке “Расширенные настройки” **есть** “Яндекс.Заправки”
        - В блоке “Расширенные настройки” **нет** “Парковка”

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Заправки в настройках:
    - description: В данном кейсе проверяется открытие экрана заправок в настройках навигатора
    - info: |
        - Локаль ru-RU
        - Геопозиция Россия
        - Сим-карта русская или отсутствует
        - Пользователь авторизован
        - Включен эксперимент на парковки и заправки в меню: Меню - Настройки - Developer Settings - Misc - Open parking and gas station layers from menu - On
        - Открыто меню
    - do: Тап на Яндекс Заправки в карусели
    - assert: |
        - Открывается экран заправок:
        - В шапке заголовок "Яндек.Заправки", крестик и стрелочка назад
        - Кнопка "Скидки и бонусы"
        - Кнопка "Как это работает"
        - Кнопка "Популярные вопросы"
        - Кнопка "Доступные сети заправок"
        - Кнопка "Фильтр по типу топлива"
        - Кнопка "Способ оплаты"
        - Кнопка "История моих заправок"
        - Кнопка "Служба поддержки"
        - Кнопка "Пользовательское соглашение"
    - do: Тап на стрелочку назад
    - assert: |
        - Закрывается экран заправок
        - Открыт экран Меню
        - Есть пункт “Яндекс.Заправки”

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Парковки в настройках:
    - description: В данном кейсе проверяется открытие экрана заправок в настройках навигатора
    - info: |
        - Локаль ru-RU
        - Сим-карта русская или отсутствует
        - Пользователь авторизован
        - Включен эксперимент на парковки и заправки в меню: Меню - Настройки - Developer Settings - Misc - Open parking and gas station layers from menu - On и dev.set - parking - new parking payment - on
        - Приложение перезапущено после изменения в dev settings
        - Местоположение Москва, Ставрополь или Краснодар
        - Открыто меню
    - do: Тап на шестерёнку в шапке меню
    - assert: |
        - Открываются настройки
        - В расширенных настройках есть "Парковка"
    - do: Тап на "Парковка"
    - assert: |
        - Открывается экран парковок:
        - В шапке заголовок "Настройки парковок" и стрелочка назад
        - Кнопки "История", "Автомобили", "Способы оплаты", "Парковочные счета" и "Обратиться в поддержку"
    - do: Тап на стрелочку назад (в iOS тап на крестик)
    - assert: |
        - Закрывается экран парковок
        - Позиция прокрутки сохранилась на экране настроек
        - В расширенных настройках есть пункт “Парковка”

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Парковки в крутилке сервисов:
    - description: В данном кейсе проверяется открытие экрана заправок в настройках навигатора
    - info: |
        - Локаль ru-RU
        - Сим-карта русская или отсутствует
        - Пользователь не авторизован
        - Включен эксперимент на парковки и заправки в меню: Меню - Настройки - Developer Settings - Misc - Open parking and gas station layers from menu - On и dev.set - parking - new parking payment - on
        - Приложение перезапущено после изменения в dev settings
        - Местоположение Москва, Ставрополь или Краснодар
        - Открыт главный экран (карта)
    - do: Тап на меню в таббаре
    - assert: |
        - Открываются меню
        - В крутилке сервисов есть "Парковка"
    - do: Тап на "Парковка"
    - assert: |
        - Закрывается меню
        - Показана карта
        - Включен слой парковок:
        - Отображаются парковки на карте
        - Контрал парковки в правом верхнем углу включен
        - Под контралом парковки и пробок есть контрал построения маршрута до ближайшей парковки

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Не показ парковки в настройках (местоположение НЕ Москва, Краснодар или Старополь):
    - description: В данном кейсе проверяется открытие экрана заправок в настройках навигатора
    - info: |
        - Локаль ru-RU
        - Сим-карта русская или отсутствует
        - Пользователь авторизован
        - Включен эксперимент на парковки и заправки в меню: Меню - Настройки - Developer Settings - Misc - Open parking and gas station layers from menu - On и dev.set - parking - new parking payment - on
        - Приложение перезапущено после изменения в dev settings
        - Местоположение Москва, Ставрополь или Краснодар
        - Открыто меню
    - do: Тап на шестерёнку в шапке меню
    - assert: |
        - Открываются настройки
        - В расширенных настройках есть "Парковка"
    - do: Закрыть меню тапом на крестик или свайпом вниз
    - do: Сменить местоположение на отличное от Москва, Краснодара или Ставрополя. Например, на Тулу
    - do: Тап на Меню в таббаре
    - assert: |
        - Открывается меню
        - В крутилке сервисов (под списком машин) отсутствует "Парковка"
    - do: Тап на шестерёнку в шапке меню
    - assert: |
        - Открываются настройки
        - В расширенных настройках отсутствует пункт “Парковка”

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Заправки в крутилке сервисов:
    - description: В данном кейсе проверяется открытие экрана заправок в настройках навигатора
    - info: |
        - Локаль ru-RU
        - Геопозиция Россия
        - Сим-карта русская или отсутствует
        - Пользователь не авторизован
        - Включен эксперимент на парковки и заправки в меню: Меню - Настройки - Developer Settings - Misc - Open parking and gas station layers from menu - On
        - Приложение перезапущено после изменения в dev settings
        - Открыт главный экран (карта)
    - do: Тап на меню в таббаре
    - assert: |
        - Открываются меню
        - В крутилке сервисов (под блоком машин) есть "Яндекс Заправки"
    - do: Тап на "Яндекс Заправки"
    - assert: |
        - Закрывается меню
        - Показана карта
        - Включен слой заправок:
        - На карте отображаются пины заправок
        - Вместо контрала Алисы крестик

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Открытие Яндекс Паспорт тапом на аватарку в меню:
    - info: |
        - Использовать интент:
            [collapsed-image](https://jing.yandex-team.ru/files/lsherst/open_passport_in_profil){title=QR-код}

            `yandexnavi://add_exp?navi_feature_open_passport_in_profile=enabled`
        - Перезапустить приложение
        - Пользователь авторизован
    - do: Тап на меню в таббаре
    - assert: Открывается меню
    - do: Тап на аватарку пользователя
    - assert: Открывается вебвью "Яндекс паспорт"
    - do: Закрыть вебвью любым способм
    - do: Выключить интернет
    - do: Тап на аватарку пользователя
    - assert: |
        - Появляется сообщение «Пожалуйста подождите"
        - Яндекс Паспорт не открывается

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Не открывается странички Яндекс Паспорт тапом на аватарку в меню (Android):
    - info: |
        - Использовать интент:
            [collapsed-image](https://jing.yandex-team.ru/files/lsherst/open_passport_in_profil){title=QR-код}

            `yandexnavi://add_exp?navi_feature_open_passport_in_profile=enabled`
        - Перезапустить приложение
        - Пользователь авторизован
    - do: Тап на меню в таббаре
    - assert: Открываются меню
    - do: Тап на аватарку пользователя
    - assert: |
        - Открыто меню
        - Ничего не происходит
        - Яндекс Паспорт не открывается

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi



  Отсутствие пункта "Другие приложения" для устройств без Google Play Services. Пользоваталь не авторизован:
    - info: |
       - На устройстве отсутствуют Google Play Services
       - Пользователь не авторизован
       - Для проверок использовать локали:
       - ru_RU
       - tr_TR
       - en_US
       - fr_FR
       - uk_UA
       - by_BY
    - do: Тап меню
    - assert: На всех локалях в меню отсутствует пункт "Другие приложения" (пункт переведен в соответствии с локалью)

    - platforms:
      - ios
      - android
    - tags:
      - assessors


  Отсутствие пункта "Другие приложения" для устройств без Google Play Services. Пользоваталь авторизован:
    - info: |
        - На устройстве отсутствуют Google Play Services
        - Пользователь авторизован
        - Для проверок использовать локали:
        - ru_RU
        - tr_TR
        - en_US
        - fr_FR
        - uk_UA
        - by_BY
    - do: Тап меню
    - assert: На всех локалях в меню отсутствует пункт "Другие приложения" (пункт переведен в соответствии с локалью)

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Переход в store при тапе на баннер в меню:
    - info: |
        На девайсе не установлены Я.Карты
        * Developer Settings - Misc - Debug config enable - On
        * yandexnavi://add_exp?navi_special_project_banner_rotation_configurations_for_RU=%5B%7B%22project_name%22%3A%22maps_in_navi_banner_3d_transport%22%2C%22configuration%22%3A%7B%22weight%22%3A2.0%2C%22max_visibility_count%22%3A100%7D%7D%5D
        Перезапустить приложение
    - do: Тап меню
    - assert: В меню отображается баннер с кнопкой "Показать"
    - do: Тап по баннеру или кнопке
    - assert: Открывается Google play или App store на странице Я.Карт

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Переход в Я.Карты при тапе на баннер в меню:
    - info: |
        На девайсе установлены Я.Карты
        * Developer Settings - Misc - Debug config enable - On
        * yandexnavi://add_exp?navi_special_project_banner_rotation_configurations_for_RU=%5B%7B%22project_name%22%3A%22maps_in_navi_banner_3d_sravnenie%22%2C%22configuration%22%3A%7B%22weight%22%3A2.0%2C%22max_visibility_count%22%3A100%7D%7D%5D
        Перезапустить приложение
    - do: Тап меню
    - assert: В меню отображается баннер с кнопкой "Показать"
    - do: Тап по баннеру или кнопке
    - assert: Открывается приложение Я.Карты

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Исправление неточностей на карте. Пользователь не авторизован:
    - info: |
        - Пользователь не авторизован
    - do: Открыть главное меню приложения
    - assert: Среди плиток в меню есть пункт "Исправление неточностей на карте"
    - do: Тап по пункту "Исправление неточностей на карте"
    - assert: Появляется webview с предложением авторизоваться
    - do: |
        - Тап по кнопке "Войти или создать аккаунт"
        - Ввести валидные данные и войти в аккаунт
    - assert: Открывается webview "Исправление неточностей" на активном табе  "Задания"

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Исправление неточностей на карте. Пользователь авторизован:
    - info: Пользователь авторизован в приложении
    - do: Открыть главное меню приложения
    - assert: Среди плиток в меню есть пункт "Исправление неточностей на карте"
    - do: Тап по пункту "Исправление неточностей на карте"
    - assert: Открывается webview "Исправление неточностей" на активном табе  "Задания"

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Исправление неточностей на карте. Табы:
    - info: |
        - Пользователь авторизован в приложении
    - do: Тап по пункту "Исправление неточностей на карте"
    - assert: |
        Открывается webview "Исправление неточностей" на активном табе  "Задания"
        Отображаются табы:
        - Впечатления
        - Здания
        - Отзывы
        - Фото
        - Исправления
    - do: Тап по каждому из табов
    - assert: Открывают выбранные табы

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Исправление неточностей на карте. Оценка организации:
    - info: |
        - Пользователь авторизован в приложении
        - Меню - > Исправление неточностей на карте
    - do: Тап по табу "Впечатления"
    - assert: Открывается раздел соответствующий выбранному табу
    - do: Тап по звёздам в карточке организации для выставления оценки
    - assert: Открывается таб с возможностью добавления комментария и фото организации
    - do: |
        - Добавить комментарий и фото организации
        - Тап отправить
    - assert: Организация скрывается из таба  "Впечатления"
    - do: Тап по звёздам в любой другой организации для выставления оценки
    - assert: Открывается таб с возможностью добавления комментария и фото организации
    - do: Тап по кнопке "Отменить" или по крестику в табе
    - assert: |
        - Открывается таб "Впечатления"
        - У организации стоит выбранное ранее количество звёзд и кнопка "Написать отзыв"

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Исправление неточностей на карте. Контролы в карточке организации:
    - info: |
        - Пользователь авторизован в приложении
        - Меню - > Исправление неточностей на карте
    - do: Тап по табу "Впечатления"
    - assert: Открывается раздел соответствующий выбранному табу
    - do: Тап по кнопке "Пропустить" в любой организации
    - assert: Организация скрывается
    - do: Тап по кнопке "Меня здесь не было" в любой организации
    - assert: Организация скрывается
    - do: Тап по кнопке "Не работает" в любой организации
    - assert: Открывается экран с выбором причины ,почему организация закрыта
    - do: Выбрать любую причину
    - assert: Организация скрывается из таба "Впечатления"
    - do: Тап по кнопке "Не работает" в любой организации
    - assert: Открыт экран с выбором причины ,почему организация закрыта
    - do: Тап по крестику
    - assert: |
        - Открывается раздел таба "Впечатления"
        - У организации нет никаких изменений

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Исправление неточностей на карте. Контролы в карточке здания:
    - info: |
        - Пользователь авторизован в приложении
        - Меню - > Исправление неточностей на карте
    - do: Тап по табу "Задания"
    - assert: Открывается раздел соответствующий выбранному табу
    - do: Тап по кнопке "Да , она открыта" в любой организации
    - assert: Организация скрывается
    - do: Тап по кнопке "Нет" в любой организации
    - assert: Открывается экран с выбором причины ,почему организация закрыта
    - do: Выбрать любую причину
    - assert: Организация скрывается из таба "Задания"
    - do: Тап по кнопке "Не знаю" в любой организации
    - assert: Организация скрывается

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Исправление неточностей на карте. Отзывы:
    - info: |
        - Пользователь авторизован в приложении
        - Меню - > Исправление неточностей на карте
        - В табе "Впечатления" добавлен отзыв для любой из организаций
    - do: Тап по табу "Отзывы"
    - assert: В открывшемся экране отображается комментарий, фото и оценка ранее выбранной организациии
    - do: Тап по Action menu
    - assert: Открывается экран с возможностью изменения или удаления отзыва
    - do: Тап по "Изменить отзыв"
    - assert: Открывается экран с возможностью добавления комментария и фото организации
    - do: |
        - Внести изменения
        - Тап отправить
    - assert: В табе "Отзывы" отображаются внесенные изменения
    - do: |
        - Тап по Action menu
        - Тап удалить отзыв
    - assert: В табе "Отзывы" не отображается отзыв выбранной организации

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Исправление неточностей на карте. Фото. Пункт "Местность":
    - info: |
        - Пользователь авторизован в приложении
        - Меню - > Исправление неточностей на карте
        - В табе "Впечатления" добавлен отзыв для любой из организаций
    - do: Тап по табу "Фото"
    - assert: В открывшемся  отображается 2 пункта "Местность" и "Организации"
    - do: Тап по пункту "Местность"
    - assert: Открывается раздел с кнопкой "Добавить фото местности"
    - do: |
        - Тап по кнопке "Добавить фото местности"
        - Добавить фото
        - Тап по кнопке "Отправить"
    - assert: В пункте "Местность" появилось добавленное фото
    - do: Тап по Action menu
    - assert: Открывается экран с возможностью изменения или удаления фото
    - do: Тап по "Подвинуть снимок на карте"
    - assert: Открывается экран с возможностью изменения расположения снимка
    - do: |
        - Внести изменения
        - Тап отправить
    - assert: В пункте "Местность" отображаются внесенные изменения
    - do: |
        - Тап по Action menu
        - Тап "Удалить снимок"
        - Подтвердить удаление
    - assert: В пункте "Местность" не отображается фото выбранной местности

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Исправление неточностей на карте. Фото. Пункт "Организации":
    - info: |
        - Пользователь авторизован в приложении
        - Меню - > Исправление неточностей на карте
        - В карточке организации добавлено фото
    - do: Тап по табу "Фото"
    - assert: В открывшемся табе отображается 2 пункта "Местность" и "Организации"
    - do: Тап по пункту "Организации"
    - assert: Открывается раздел с добавленным ранее в организацию фото
    - do: |
        - Тап по Action menu
        - Тап "Удалить снимок"
        - Подтвердить удаление
    - assert: Фото скрывается в пункте "Организации"

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Исправление неточностей на карте. Исправления:
    - info: |
        - Пользователь авторизован в приложении
        - Меню - > Исправление неточностей на карте
        - В табе "Впечатления" или "Здания" у организаций отмечены исправления с указанием причины
    - do: Тап по табу "Исправления"
    - assert: В открывшемся табе отображаются организации с указанными причинами и две кнопки "Исправить карту" и "Добавить объект"
    - do: Тап по "Исправить карту"
    - assert: Открывается карта с организациями
    - do: |
        - Тап по любой организации
        - Выбрать исправления
        - Внести причину исправления
        - Тап отправить
    - assert: Изменения отобразились в вкалдке "Исправления"
    - do: |
        - Тап по "Добавить объект"
        - Выбрать исправление
        - Внести изменения
        - Тап отправить
    - assert: Изменения отобразились в табе "Исправления"

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Исправление неточностей на карте. Закрытие пункта:
    - info: |
        - Пользователь  авторизован в приложении
        - Меню - > Исправление неточностей на карте
    - do: Тап по крестику в пункте "Исправление неточностей на карте"
    - assert: Открывается главное меню приложения
    - do: |
        - Тап по пункту "Исправление неточностей на карте"
        - Тап по стрелке в пункте "Исправление неточностей на карте"
    - assert: Открывается главное меню приложения

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Пункт меню "Заправки":
    - info: Пользователь авторизован
    - do: |
        - Перейти в Меню
        - Тап по пункту "Заправки"
    - assert: |
        Открывается экран с превью видео, а также со списком пунктов, разбитым на секции:
        - Скидки и бонусы
        - Как это работает
        - Популярные вопросы
        - Доступные сети заправок
        - Фильтр по типу топлива
        - Способы оплаты
        - История заправок
        - Служба поддержки
        - Пользовательское соглашение
    - do: Перейти в раздел "История моих заправок"
    - assert: Отображается история заправок авторизованного пользователя
    - do: |
        - Вернуться на предыдущий экран
        - Перейти в раздел "Скидки и бонусы"
    - assert: |
        - Отображается список активных скидок, в которых указывается оставшийся акционный объем топлива.
        - Отображается список доступных программ лояльности сетей АЗС и кнопка "Ввести промокод"

    - platforms:
        - t3am
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - tanker_sdk


  Проверка основных сценариев взаимодействия с Заправками при отсутствии сети:
    - info: Включить авиарежим
    - do: |
        Тап в меню пункт Яндекс.Заправки
        Тап "Способ оплаты"
    - assert: Выдается сообщение "Нет связи с сервером"
    - do: Тап "История моих заправок"
    - assert: |
        На iOS выдается ошибка "Нет связи с сервером"
        На Android выдается сообщение "История пуста"

    - platforms:
        - ios
        - t3am
        - android
    - tags:
        - assessors
    - integration_run:
        - tanker_sdk


  Ссылка на видео в разделе заправок:
    - description: Сделали открытие видео не внутри приложения, а редиректом через метрику в youtube.
    - do: |
        - Тап на Меню в тапбаре
        - Тап на пункт Яндекс.Заправки
    - assert: |
        Открывается раздел Яндекс.Заправки.
        В верхней части раздела расположено видео
    - do: Тап на видео
    - assert: Видео открывается редиректом через метрику в youtube

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - tanker_sdk


  Пункт меню "Заправки" при авиарежиме:
    - info: |
        - Пользователь авторизован
        - Включить авиарежим на девайсе
    - do: |
        - Перейти в Меню
        - Тап по пункту "Заправки"
    - assert: |
        Открывается экран с превью видео, а также со списком пунктов, разбитым на секции:
        - Скидки и бонусы
        - Как это работает
        - Популярные вопросы
        - Доступные сети заправок
        - Фильтр по типу топлива
        - Способы оплаты
        - История заправок
        - Служба поддержки
        - Пользовательское соглашение
    - do: Пройти по всем пунктам из списка
    - assert: Все пункты открываются (имеется ввиду тапабельность пунктов), креши отсутствуют

    - platforms:
        - t3am
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - tanker_sdk


  Отображение на английской локали устройства формы обратной связи на русском языке:
    - info: |
        - Для проверок использовать локали отличную от ru_RU, например en_RU, en_TR, en_IL
        - Язык устройства- английский (iOS)
        - Местоположение Россия, Турция, Израиль
        - Открыт главный экран (карта)
    - do: Тап на меню в таббаре
    - assert: |
        - Открывается меню
        - В меню присутствует пункт "Feedback"
    - do: Тап на "Feedback"
    - assert: |
        - Открывается форма обратной связи на русском языке

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отсутствие кнопки Размещения рекламы в меню для неавторизованного пользователя:
    - info: |
        У пользователя установлена русская локаль
        Открыт главный экран приложения
        Пользователь не авторизован
    - do: |
        Прокинуть интент:
        [collapsed-image](https://jing.yandex-team.ru/files/dabrynskaya/Снимок%20экрана%202022-07-01%20в%2009.54.40.png){title=QR-код}

        `yandexnavi://add_exp?navi_feature_ya_business_on=disabled`
    - do: Перезапустить приложение
    - do: Открыть меню и пролистать до конца
    - assert: |
        Отображается меню приложения
        Кнопка Реклама в приложении отсутствует в конце меню

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Отсутствие кнопки Размещения рекламы в меню для авторизованного пользователя:
    - info: |
        У пользователя установлена русская локаль
        Открыт главный экран приложения
        Пользователь авторизован
    - do: |
        Прокинуть интент:
        [collapsed-image](https://jing.yandex-team.ru/files/dabrynskaya/Снимок%20экрана%202022-07-01%20в%2009.54.40.png){title=QR-код}

        `yandexnavi://add_exp?navi_feature_ya_business_on=disabled`
    - do: Перезапустить приложение
    - do: Открыть меню и пролистать до конца
    - assert: |
        Отображается меню приложения
        Кнопка Реклама в приложении отсутствует в конце меню

    - platforms:
        - ios
    - tags:
        - assessors


  Присутствие кнопки Размещения рекламы в меню для авторизованного пользователя:
    - info: |
        У пользователя установлена русская локаль
        Открыт главный экран приложения
        Пользователь авторизован
    - do: |
        Прокинуть интент:
        [collapsed-image](https://jing.yandex-team.ru/files/dabrynskaya/Снимок%20экрана%202022-06-29%20в%2015.11.21.png){title=QR-код}

        `yandexnavi://add_exp?navi_feature_ya_business_on=enabled`
    - do: Перезапустить приложение
    - do: Открыть меню и пролистать до конца
    - assert: |
        Отображается меню приложения
        Кнопка Реклама в приложении присутствует в конце меню

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Присутствие кнопки Размещения рекламы в меню для неавторизованного пользователя:
    - info: |
        У пользователя установлена русская локаль
        Открыт главный экран приложения
        Пользователь не авторизован
    - do: |
        Прокинуть интент:
        [collapsed-image](https://jing.yandex-team.ru/files/dabrynskaya/Снимок%20экрана%202022-06-29%20в%2015.11.21.png){title=QR-код}

        `yandexnavi://add_exp?navi_feature_ya_business_on=enabled`
    - do: Перезапустить приложение
    - do: Открыть меню и пролистать до конца
    - assert: |
        Отображается меню приложения
        Кнопка Реклама в приложении присутствует в конце меню

    - platforms:
        - ios
    - tags:
        - assessors


  Отсутствие кнопки Размещения рекламы в меню. Локаль en_EN:
    - info: |
        У пользователя установлена английская локаль
        SIM-карта на девайсе отсутсвует
        Открыт главный экран приложения
    - do: |
        Прокинуть интент:
        [collapsed-image](https://jing.yandex-team.ru/files/dabrynskaya/Снимок%20экрана%202022-07-01%20в%2009.54.40.png){title=QR-код}

        `yandexnavi://add_exp?navi_feature_ya_business_on=disabled`
    - do: Перезапустить приложение
    - do: Открыть меню и пролистать до конца
    - assert:  Кнопка Разместить рекламу отсутствует

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Отображение кнопки Размещения рекламы в меню. Локаль en_EN:
    - info: |
        У пользователя установлена английская локаль
        SIM-карта на девайсе отсутсвует
        Открыт главный экран приложения
    - do: |
        Прокинуть интент:
        [collapsed-image](https://jing.yandex-team.ru/files/dabrynskaya/Снимок%20экрана%202022-06-29%20в%2015.11.21.png){title=QR-код}

        `yandexnavi://add_exp?navi_feature_ya_business_on=enabled`
    - do: Перезапустить приложение
    - do: Открыть меню и пролистать до конца
    - assert: Кнопка Реклама в приложении присутствует в конце меню

    - platforms:
        - ios
    - tags:
        - assessors
    - testing:
        - acceptance_navi
