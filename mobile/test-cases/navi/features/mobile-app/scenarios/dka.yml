components: dka
platforms:
  - android
testing:
  - regress

specs:
  Dont keep activities -  сворачивание/разворачивание  на экране "Карта":
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз).
    - assert: Навигатор запускается, происходит переход на экран "Карта"
    - do: Свернуть приложение
    - assert: Происходит переход на рабочий стол телефона, креша нет
    - do: Развернуть приложение
    - assert: Приложение разворачивается на экране "Карта". Креша нет

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities -  сворачивание/разворачивание  на экране "Поиск":
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
        Перейти на экран "Поиск"
    - assert: Навигатор запускается, происходит переход на экран "Поиск"
    - do: Свернуть приложение
    - assert: Происходит переход на рабочий стол телефона, креша нет
    - do: Развернуть приложение
    - assert: Приложение разворачивается на экране "Карта". Креша нет

    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Dont keep activities -  сворачивание/разворачивание  на экране "Яндекс.Музыка":
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
        Перейти на экран "Яндекс.Музыка"
    - assert: |
        Навигатор запускается, происходит переход на экран "Яндекс.Музыка"
    - do: Свернуть приложение
    - assert: Происходит переход на рабочий стол телефона, креша нет
    - do: Развернуть приложение
    - assert: Приложение разворачивается на экране "Карта", креша нет

    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Dont keep activities -  сворачивание/разворачивание  на экране "Мои места":
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
        Перейти на экран "Мои места"
    - assert: |
        Навигатор запускается, происходит переход на экран "Мои места"
    - do: Свернуть приложение
    - assert: Происходит переход на рабочий стол телефона, креша нет
    - do: Развернуть приложение
    - assert: Приложение разворачивается на экране "Карта", креша нет

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities -  сворачивание/разворачивание  на экране "Настройки":
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
        Перейти на экран "Настройки"
    - assert: |
        Навигатор запускается, происходит переход на экран "Настройки"
    - do: Свернуть приложение
    - assert: Происходит переход на рабочий стол телефона, креша нет
    - do: Развернуть приложение
    - assert: Приложение разворачивается на экране "Карта", креша нет

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities -  сворачивание/разворачивание  на экране "Меню":
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
        Перейти на экран "Меню"
    - assert: |
        Навигатор запускается, происходит переход на экран "Меню"
    - do: Свернуть приложение
    - assert: Происходит переход на рабочий стол телефона, креша нет
    - do: Развернуть приложение
    - assert: Приложение разворачивается на экране "Карта", креша нет

    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Dont keep activities - кнопка назад на экране "Карта":
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
    - assert: Навигатор запускается, происходит переход на экран "Карта"
    - do: Тап на системную кнопку "Назад"
    - assert: Происходит переход на рабочий стол телефона, креша нет

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - кнопка назад на экране "Поиск":
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
        Перейти на экран "Поиск"
    - assert: Навигатор запускается, происходит переход на экран "Поиск"
    - do: Тап на системную кнопку "Назад"
    - assert: Происходит переход на экран "Карта", креша нет

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - кнопка назад на экране "Мои места":
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
        Перейти на экран "Мои места"
    - assert: Навигатор запускается, происходит переход на экран "Мои места"
    - do: Тап на системную кнопку "Назад"
    - assert: Происходит переход на экран "Карта", креша нет

    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Dont keep activities - кнопка назад на экране "Я.Музыка":
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
        Перейти на экран "Я.Музыка"
    - assert: Навигатор запускается, происходит переход на экран "Я.Музыка"
    - do: Тап на системную кнопку "Назад"
    - assert: Происходит переход на экран "Карта, креша нет

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - кнопка назад на экране "Меню":
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
        Перейти на экран "Меню"
    - assert: Навигатор запускается, происходит переход на экран "Меню"
    - do: Тап на системную кнопку "Назад"
    - assert: Происходит переход на экран "Карта", креша нет

    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Dont keep activities - кнопка назад на экране "Настройки":
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
        Перейти на экран "Настройки
    - assert: Навигатор запускается, происходит переход на экран "Настройки
    - do: Тап на системную кнопку "Назад"
    - assert: Происходит переход на экран "Меню", креша нет

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран "Карта". Приложение запущено:
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
    - assert: Навигатор запускается, происходит переход на экран "Карта"
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexnavi://show_ui/map`
    - assert: Навигатор остается на экране "Карта", креша нет.
    - do: Тап на системную кнопку назад
    - assert: Происходит переход на рабочий стол, креша нет.

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран "Поиск". Приложение запущено:
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
    - assert: Навигатор запускается, происходит переход на экран "Карта"
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexnavi://show_ui/search`
    - assert: Происходит переход на экран "Поиск"
    - do: Тап на системную кнопку назад
    - assert: Происходит переход на экран "Карта"

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран "Яндекс.Музыка". Приложение запущено:
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
    - assert: Навигатор запускается, происходит переход на экран "Карта"
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexnavi://show_ui/music`
    - assert: Происходит переход на экран "Я.Музыка"
    - do: Тап на системную кнопку назад
    - assert: Происходит переход на экран "Карта"

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран "Мои места". Приложение запущено:
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
    - assert: Навигатор запускается, происходит переход на экран "Карта"
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexnavi://show_ui/bookmarks`
    - assert: Происходит переход на экран "Мои места"
    - do: Тап на системную кнопку назад
    - assert: Происходит переход на экран "Карта"

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран "Меню". Приложение запущено:
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
    - assert: Навигатор запускается, происходит переход на экран "Карта"
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexnavi://show_ui/menu`
    - assert: Происходит переход на экран "Меню"
    - do: Тап на системную кнопку назад
    - assert: Происходит переход на экран "Карта"

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран "Настройки". Приложение запущено:
    - info: Включен режим DKA
    - do: |
        Запустить навигатор
        Дать все разрешение(если навигатор запущен в 1 раз)
    - assert: Навигатор запускается, происходит переход на экран "Карта"
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexnavi://show_ui/menu/settings`
    - assert: Происходит переход на экран "Настройки"
    - do: Тап на системную кнопку назад
    - assert: Происходит переход на экран "Меню"

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран "Карта". Приложение не запущено:
    - info: |
        Включен режим DKA
        Навигатор выгружен
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexnavi://show_ui/map`
    - assert: Навигатор запускается на экране "Карта"
    - do: Тап на системную кнопку назад
    - assert: Происходит переход на рабочий стол, креша нет.

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран "Поиск". Приложение не запущено:
    - info: |
        Включен режим DKA
        Навигатор выгружен
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexnavi://show_ui/search`
    - assert: Навигатор запускается на экране "Поиск"
    - do: Тап на системную кнопку назад
    - assert: Происходит переход на экран "Карта"

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран "Я.Музыка". Приложение не запущено:
    - info: |
        Включен режим DKA
        Навигатор выгружен
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexnavi://show_ui/music`
    - assert: Навигатор запускается на экране "Я.Музыка"
    - do: Тап на системную кнопку назад
    - assert: Происходит переход на экран "Карта"

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран "Мои места". Приложение не запущено:
    - info: |
        Включен режим DKA
        Навигатор выгружен
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexnavi://show_ui/bookmarks`
    - assert: Навигатор запускается на экране "Мои места"
    - do: Тап на системную кнопку назад
    - assert: Происходит переход на экран "Карта"

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - прокидывание интента на экран "Меню". Приложение не запущено:
    - info: |
        Включен режим DKA
        Навигатор выгружен
    - do: Прокинуть интент `adb shell am start -a android.intent.action.VIEW -d yandexnavi://show_ui/menu`
    - assert: Навигатор запускается на экране "Меню"
    - do: Тап на системную кнопку назад
    - assert: Происходит переход на экран "Карта"

    - testing:
      - acceptance_navi
    - tags:
        - assessors


  Dont keep activities - сворачивание/разворачивание при введение по маршруту:
    - info: |
        Включен режим DKA
        Запустить навигатор
    - do: Построить  любой маршрут и запустить введение по нему
    - assert: Маршрут строится, происходит переход в режим введение
    - do: Свернуть приложение
    - assert: Приложение сворачивается, в шторке уведомлений на девайсе отображаются нотифкации введения(маневры,дс камеры)
    - do: Развернуть приложение
    - assert: Приложение разворчаивается на экране "Карта" , отображается введение по маршруту, введение происходит, креша нет

    - tags:
        - assessors
    - testing:
      - acceptance_navi