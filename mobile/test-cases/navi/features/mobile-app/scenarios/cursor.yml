components: cursor
testing:
  - regress

specs:
  Отсутствие курсоров-автомобилей на MySPIN:
    - do: |
        До подключения к гу: 
        - Зайти в настройки -> карта и интерфейс -> курсор (выполнять это на телефоне не подключавшись к ГУ)
        - Попробовать поставить различные курсоры
        - Подключиться к гу MYspin
        - Посмотреть какие курсоры отображаются на MySpin
    - assert: На MySpin не отображаются курсоры автомобили, все остальные курсоры успешно отображаются

    - platforms:
      - renault
      - nissan
    - tags:
      - assessors
    - testing:
      - acceptance_navi


  Скрытый курсор:
    - info: |
        Местоположение девайса Москва
        Запустить навигатор
        Убедиться что в меню курсоров нет курсора "Скрытая мышь"
        Меню - Настройки - Developer Settings - Misc - Debug config enable - On
        Перезапустить навигатор
    - do: |
        Включить настройку "Developer settings" -> "cursors" -> "display hidden cursors" -> on
        Перезапустить навигатор
        Зайти в меню курсоров
    - assert: В меню отображается скрытый курсор "Скрытая мышь"
    - do: |
        Тап на курсор "Скрытая мышь"
        Закрыть меню курсоров любым способом
    - assert: На карте в качестве курсора отображется летучая мышь
    - do: |
        Выключить настройку "Developer settings" -> "cursors" -> "display hidden cursors» -> off
        Перезапустить навигатор
    - assert: |
          - На карте в качестве курсора отображется летучая мышь
          - В меню отображается скрытый курсор "Cкрытая мышь"
    - do: |
        Зайти в меню курсоров
        Выбрать любой другой курсор
    - assert: |
          - В меню куросоров скрылся курсор "Скрытая мышь"
          - На карте отображается выбранный ранее курсор

    - platforms:
      - ios
      - android
    - testing:
      - acceptance_navi


  Проверка логирования не скачанного курсора:
    - info: |
        - Устройство подключено к средству для просмотра логов
    - do: |
        - Меню -> Быстрые настройки -> Курсор
        - Тап на любой не скачанный курсор, отличный от имеющегося
        - Закрыть меню курсоров любым способом
    - assert: |
        - На карте в качестве курсора отображается выбранный курсор
        - Приходит событие `settings.cursor_model` с параметром `value`=`имя курсора`
    - do: |
        - Выгрузить приложение свайпом
        - Подождать 1 минуту
    - assert: событие `settings.cursor_model` не приходит

    - platforms:
        - ios
        - android
    - tags:
        - metric


  Проверка логирования скачанного курсора:
    - info: |
        - Есть скачанные курсоры
        - Устройство подключено к средству для просмотра логов
    - do: |
        - Меню -> Настройки -> Карта и интерфейс -> Курсор
        - Тап на любой скачанный курсор, отличный от имеющегося
        - Закрыть меню курсоров любым способом
    - assert: |
        - На карте в качестве курсора отображается выбранный курсор
        - Приходит событие `settings.cursor_model` с параметром `value`=`имя курсора`
    - do: |
        - Выгрузить приложение свайпом
        - Подождать 1 минуту
    - assert: событие `settings.cursor_model` не приходит

    - platforms:
        - ios
        - android
    - tags:
        - metric



