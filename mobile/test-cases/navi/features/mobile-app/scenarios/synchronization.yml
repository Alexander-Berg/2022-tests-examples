components: synchronization
testing:
  - regress
integration_run:
  - am_sdk

specs:
  Два девайса - Мои места. Дом. Работа:
    - description: Проверить синхронизацию данных одного аккаунта на разных устройствах
    - info: |
        Имеется минимум 2 девайса
        На всех имеющихся девайсах установлено приложение
        На всех имеющихся девайсах пользователь авторизован под одним аккаунтом
    - do: Добавить точку Дом на 1 девайсе
    - assert: Точка Дом добавлена
    - do: Проверить результат изменений на втором (и последующих) девайсе
    - assert: Изменения подтянулись
    - do: Изменить точку Дом на 1 девайсе
    - assert: Точка Дом изменена
    - do: Проверить результат изменений на втором (и последующих) девайсе
    - assert: Изменения подтянулись
    - do: Добавить точку Работа на 1 девайсе
    - assert: Точка Работа добавлена
    - do: Проверить результат изменений на втором (и последующих) девайсе
    - assert: Изменения подтянулись
    - do: Изменить точку Работа на 1 девайсе
    - assert: Точка Работа изменена
    - do: Проверить результат изменений на втором (и последующих) девайсе
    - assert: Изменения подтянулись

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Авторизация - МЯК - История:
    - info: |
        На девайсе установлены Яндекс.Карты (МЯК)скачать можно из app store(IOS) или Play market (android)
        Приложение Я.Навигатор установлено на девайс
        Пользователь авторизован в обоих приложениях под Аккаунт1
    - do: Осуществить несколько поисков в МЯК
    - assert: |
        Поиски осуществлены
    - do: Открыть в Навигаторе историю поиска
    - assert: Поисковые запросы из МЯК отображаются корректно

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  МЯК - Мои места:
    - info: |
        - Авторизуемся в бета сборках приложений Яндекса, например, Я.Карты ([iOS](https://beta.m.soft.yandex.ru/description?app=maps&platform_shortcut=iphoneos&branch=trunk) / [Android](https://beta.m.soft.yandex.ru/description?app=maps&platform_shortcut=android&branch=trunk) )
        - На девайс установлено приложение Яндекс.Навигатор
        - Пользователь авторизован в обоих приложениях под Аккаунт1
    - do: Добавить несколько точек в Мои места в МЯК
    - assert: Точки добавлены
    - do: Перейти в Навигатор, на экран «Мои места»
    - assert: Среди всех точек присутствуют точки, добавленные в МЯК

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Авторизация - МЯК - Недавние:
    - info: |
        - Авторизуемся в бета сборках приложений Яндекса, например, Я.Карты ([iOS](https://beta.m.soft.yandex.ru/description?app=maps&platform_shortcut=iphoneos&branch=trunk) / [Android](https://beta.m.soft.yandex.ru/description?app=maps&platform_shortcut=android&branch=trunk) )
        - Приложение Я.Навигатор установлено на девайс
        - У пользователя есть 2 аккаунта
        - Пользователь авторизован в обоих приложениях под Аккаунт1
    - do: Совершить несколько поездок в МЯК (построить маршруты и начать ведение по ним)
    - assert: Поездки совершены (ведение по маршруту начато)
    - do: Перейти в Мои места -недавние в Навигаторе
    - assert: |
        Осуществлен переход на экран Мои места - недавние
        Точки до которых "ехали" в МЯК отображаются

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Ошибка CommonErrorDiskFullMessage:
    - description: |
        Одна из шести ошибок, которые могут показываться сверху на экране поиска и закладок
        Нет описания, возможно это ошибка CommonErrorFullMessage без слова DISK. Тогда сообщение: "Недостаточно места на диске. Пожалуйста, освободите место, чтобы добавлять новые точки."

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Подтягивание данных. Тип связи 2G:
    - description: Цель кейса -убедиться в том, что все данные подтягиваются корректно, не смотря на изменение типа связи
    - info: |
        Пользователь не авторизован в Яндекс.Навигаторе
        Для Аккаунта имеется большое количество поисковых запросов, а так же большое количество записей в истории поездок и поиска
    - do: |
        Включить сотовую сеть в режиме 2G
        Выключить Wi-Fi
        В Навигаторе авторизоваться аккаунтом
        Свернуть приложение
        Подождать несколько минут
        Развернуть приложение
    - assert: Мои места; Мои места - Недавние; История поиска отображаются корректно, все записи соответствуют записям аккаунта и отображаются в правильном порядке
    - do: |
        Разлогиниться
        Подождать минуту
    - assert: Мои места; Мои места - Недавние; История поиска отображаются пустыми
    - do: |
        - Вызвать Алису голосовой командой
        - Реализовать несколько голосовых команд (построение маршрута, поиск мест, поиск в Яндексе)
    - assert: |
        - Алиса реагирует на голосовую активацию.
        - Реакция и ответ на голосовой ввод соответствует введенному запросу.
        - Маршруты строятся, поиск по заданным данным выполняется.

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Авторизация - Мои места - Добавление "Дом"\"Работа" из МЯК:
    - description: Добавление в избранное точек Дом\Работа в разных приложениях под одним аккаунтом
    - info: |
        На девайсе установлены Яндекс.Карты (МЯК) и Я.Навигатор
        Пользователь авторизован в обоих приложениях под одним аккаунтом
        Для пользователя не добавлены точки "Дом"\"Работа"
    - do: |
        В МЯК добавить в Мои места точку Дом\Работа
    - assert: Точка добавлена
    - do: Перейти в Мои места в Я .Навигатор
    - assert: Добавленная в МЯК точка Дом\Работа корректно отображается в Я.Навигаторе

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Авторизация - Мои места - Добавление Избранного из МЯК:
    - description: Добавление в избранных точек  в разных приложениях под одним аккаунтом
    - info: |
        На девайсе установлены Яндекс.Карты (МЯК)
        Приложение Я.Навигатор установлено на девайс
        Пользователь авторизован в обоих приложениях под одним аккаунтом
    - do: |
        Добавить в точку в Избранное (МЯК)
    - assert: Точка добавлена
    - do: Перейти в Мои места в Я .Навигатор
    - assert: Добавленная через МЯК в избранное точка корректно отображается в Я.Навигаторе

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Авторизация - Мои места - Добавление "Дом"\"Работа" из БЯК:
    - description: Добавление в избранное точек Дом\Работа в разных приложениях под одним аккаунтом
    - info: |
        Приложение Я.Навигатор установлено на девайс
        Пользователь авторизован  под одним аккаунтом в Я.Навигатор и БЯК (Большие Яндекс.Карты https://yandex.ru/maps/)
        Для пользователя не добавлены точки "Дом"\"Работа"
    - do: |
        В БЯК добавить в Мои места точку Дом\Работа
    - assert: Точка добавлена
    - do: Перейти в Мои места в Я .Навигатор
    - assert: Добавленная в БЯК точка Дом\Работа корректно отображается в Я.Навигаторе

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Авторизация - Мои места - Добавление Списков из МЯК:
    - description: Добавление в списков  в разных приложениях под одним аккаунтом
    - info: |
        На девайсе установлены Яндекс.Карты (МЯК)
        Приложение Я.Навигатор установлено на девайс
        Пользователь авторизован в обоих приложениях под одним аккаунтом
    - do: |
        Добавить список (МЯК)
    - assert: Список создан
    - do: Добавить в список несколько точек (МЯК)
    - assert: Точки добавлены
    - do: Перейти в Мои места в Я .Навигатор
    - assert: |
        Добавленный через МЯК список корректно отображается в Я.Навигаторе
        Точки добавленные в список, так же отображаются

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Авторизация - Мои места - Добавление точки в удаленный список:
    - description: Проверка того что приложение не крешится, если добавить точку в удаленный список. А так же что точка при этом не багуется.
    - info: |
        Приложение Я.Навигатор установлено на 2 девайса
        Пользователь авторизован  под одним аккаунтом на обоих девайсах
        В аккаунте создан список "абракадабра"
    - do: |
        На устройстве 1
        Лонгтапом выбрать точку на карте. Тап "В мои места"
    - assert: Открывается экран “Добавить место”
    - do: |
        На устройстве 1
        Выбрать список ”абракадабра"
    - assert: Открывается экран "Название закладки"
    - do: |
        На устройстве 2
        Зайти в Мои места
        Удалить список "абракадабра"
    - assert: Список удален
    - do: На устройстве 1
    - assert: Тап по сохранить
    - do: Проверить "Мои места"
    - assert: Точка добавлена в Избранное

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Авторизация - Мои места - Редактирование Моих мест из МЯК:
    - description: Редактирование точек и списков  в разных приложениях под одним аккаунтом
    - info: |
        На девайсе установлены Яндекс.Карты (МЯК)
        Приложение Я.Навигатор установлено на девайс
        Пользователь авторизован в обоих приложениях под Аккаунт1
        МЯК запущен
        для Аккаунт1 добавлены точки
        для Аккаунт1 добавлены списки

    - do: |
        Отредактировать точку в Моих местах (МЯК)
    - assert: Точка изменена
    - do: Перейти в Мои места в Навигаторе
    - assert: Отредактированная через МЯК  точка корректно отображается в Я.Навигаторе
    - do: Повторить шаги 1-3 для Списков\Точек дом и работа\ точек в созданном списке
    - assert: Отредактированные через МЯК точка корректно отображается в Я.Навигаторе

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Авторизация - Мои места - Удаление записей из  Моих мест в МЯК:
    - description: Удаление точек и списков в разных приложениях под одним аккаунтом
    - info: |
        На девайсе установлены Яндекс.Карты (МЯК)
        Приложение Я.Навигатор установлено на девайс
        Пользователь авторизован в обоих приложениях под Аккаунт1
        МЯК запущен
        для Аккаунт1 добавлены точки
        для Аккаунт1 добавлены списки
        Авторизуемся в бета сборках Я.Карты ([iOS](https://beta.m.soft.yandex.ru/description?app=maps&platform_shortcut=iphoneos&branch=trunk) / [Android](https://beta.m.soft.yandex.ru/description?app=maps&platform_shortcut=android&branch=trunk) )
    - do: |
        Удалить точку в Моих местах (МЯК)
    - assert: Точка удалена
    - do: Запустить Я .Навигатор
    - assert: Я.Навигатор запущен
    - do: Перейти в Мои места
    - assert: Удаленная через МЯК  точка не отображается в Я.Навигаторе
    - do: Повторить шаги 1-3 для Списков\Точек дом и работа\ точек в списке отличном от избранного
    - assert: Отредактированные через МЯК точка корректно отображается в Я.Навигаторе

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Авторизация - Центровка на экране мои места + смена ориентации во время редактирования:
    - info: |
        Приложение Я.Навигатор установлено на 2 девайса
        Пользователь авторизован под Аккаунт1 на обоих девайсах
        Для Аккаунта1 добавлено минимум 10 точек
        На обоих девайсах приложения запущены и открыты на экранах Мои места - Сохраненные
    - do: |
        Девайс1
        Проскролить вниз список
        Тап по карандашу
        Выбрать запись для редактирования
    - assert: Запись открыта для редактирования
    - do: |
        Девайс2
        Проскролить Мои места
    - do: |
        Девайc 1
        Отредактировать запись и закрыть режим редактирования
    - assert: |
        Центровка не изменилась ни на одном девайсе
        Не произошел автоскрол к началу списка
    - do: Повторить шаги 1-2
    - do: |
        Девайс 1
        Сменить ориентацию девайса
        Закончить редактирование
    - assert: |
        Центровка не изменилась ни на одном девайсе
        Не произошел автоскрол к началу списка
        Недавние доступна для перехода

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Авторизация - Разлогин при отключении устройства через Я.Паспорт:
    - info: |
        Яндекс.Навигатор установлен на девайсе и запущен
        Пользователь авторизован в Яндекс.Навигаторе под Аккаунт1
        В Я.Паспорт пользователь авторизован под Аккаунт1
    - do: В браузере перейти https://passport.yandex.ru/profile
    - do: Перейти в “Устройства, сервисы и программы”
    - do: Найти тестируемый девайс в списке и тап "Отключить устройство".
    - assert: Название девайса пропадает из списка
    - do: Проверить девайс
    - assert: |
        Пользователь в Яндекс.Навигаторе разлогинен. Появилась плашка разлогина, сообщающая о выходе из аккаунта и предлагающая войти
        Приложение не скрешилось
    - do: Залогиниться
    - assert: Логин произошел успешно. Подтянулись сохраненные в аккаунте данные

    - platforms:
      - motrex
      - autochip
      - renault
      - geely
      - carsharing_t3
      - ios
      - android
      - nissan
      - t3am
    - tags:
        - assessors


  Авторизация - Изменить пароль для аккаунта:
    - info: |
        Яндекс.Навигатор установлен на девайсе и запущен
        Пользователь авторизован в Яндекс.Навигаторе под Аккаунт1
        В Я.Паспорт пользователь авторизован под Аккаунт1
    - do: В браузере перейти https://passport.yandex.ru/profile/access
    - do: Тап по Сменить основной пароль
    - do: Изменить пароль
    - assert: Пароль изменен
    - do: Проверить девайс
    - assert: |
        Пользователь в Яндекс.Навигаторе разлогинен
        Приложение не скрешилось

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Синхронизация настроек - чекбокс "Синхронизировать настройки":
    - description: |
        #### Проверка работоспособности чекбокса "Синхронизировать настройки"
        Тест проверить на различных наборах настроек, включающих в себя _(в скобочках значение по умолчанию)_:
        - **Главное меню:** режим карты схема/спутник _(схема)_
        - **Меню "Настройки":** ночной режим _(Авто)_, превышение скорости _(80%, это 16 для РФ)_, обновление карт _(Выкл)_, 3D режим _(Вкл)_, автомасштаб _(Вкл)_, север сверху _(Выкл)_,
        - **Меню "Дорожные события"** _(Все вкл)_
        - **Меню "Звук":** язык _(По умолчанию)_, голос _(Женский)_, предупреждать о событии _(Голосовое предупреждение)_, сообщать о превышении _(Вкл)_, голосовое сопровождение, _(Вкл)_, голосовая активация _(Вкл)_
        Рассматривать разные наборы настроек, включая дефолтный и максимально отличный от дефолтного.
    - info: |
        - Тестирование происходит на минимум трех девайсах
        - Пользователь залогинен под Аккаунт1 на всех тестовых девайсах
        - По дефолту чекбокс "Синхронизировать настройки" включен
        - Для Аккаунта1 создан набор настроек **А** (изменить максимальное число дефолтных настроек, записать значение всех настроек)
    - do: Разлогиниться на одном из девайсов (девайс1)
    - assert: |
        Пользователь разлогинен
        Настройки возвращены к стандартным (список в дискрипшене присутствует)
    - do: На девайсе2 изменить настройки списка **А** (изменить несколько параметров)
    - assert: |
        Список настроек **А изменен**
        Изменения подтянулись на все девайсы под Аккаунт1
    - do: Залогиниться под Аккаунт1 на девайс1
    - assert: |
        Пользователь авторизован как Аккаунт1.
        Для пользователя подтянулись настройки **измененного списка  настроек А** (из второго шага)
    - do: На девайсе 1 изменить **список настроек А**, вернуть его к первоначальному состоянию (тому в котором оно было в прикондишене)
    - assert: |
        Список настроек **А изменен**, возвращен к первоначальному состоянию.
        Изменения подтянулись на все девайсы под Аккаунт1
    - do: Девайс1, анчекнуть чекбокс _"Синхронизировать настройки"_
    - assert: |
        _"Синхронизировать настройки"_ анчекнут для девайс1
        проверить остальные тестовые девайсы под Аккаунт1, значение чекбокса   _"Синхронизировать настройки"_ для них не изменилось
    - do: Изменить настройки на Девайсе 1
    - assert: |
        Настройки на Девайсе 1 изменены.
        Настройки на остальных девайсах остались не изменны
    - do: Изменить настройки на Девайсе 2
    - assert: |
        Список настроек **А изменен**
        настройки подтянулись на все устройства под Аккаунт1, кроме Девайс1 (ну и остальных с анчекнутой синхронизацией)
    - do: |
        Анчекнуть синхронизацию на  девайс3
        Изменить настройки
    - assert: |
        после анчека синхронизации настройки не изменились на настрйоки из шага 6
        Для девайса 3 изменены настройки

        измененные на девайсе 3 настройки не соотвествуют настройкам списка **А** и настройкам из 6 шага
    - do: На девайсе1 включить\чекнуть чекбокс "Синхронизировать настройки"
    - assert: |
        Наборы настроек синхронизировались

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Подтягивание данных. Тип связи 3G:
    - description: Цель кейса -убедиться в том, что все данные подтягиваются корректно, не смотря на изменение типа связи
    - info: |
        Пользователь не авторизован в Яндекс.Навигаторе
        Для Аккаунт1 имеется большое количество поисковых запросов, а так же большое количество записей в истории поездок и поиска
    - do: |
        Включить сотовую сеть в режиме 3G
        Выключить Wi-Fi
        В Навигаторе авторизоваться как Аккаунт1
        Свернуть приложение
        Подождать несколько минут
        Развернуть приложение
    - assert: Мои места; Мои места - Недавние; История поиска отображаются корректно, все записи соответствуют записям Аккаунта1 и отображаются в правильном порядке
    - do: |
        Разлогиниться
        Подождать минуту
    - assert: Мои места; Мои места - Недавние; История поиска отображаются пустыми
    - do: |
        - Вызвать Алису с помощью голосовой команды
        - Реализовать несколько голосовых команд (построение маршрута, поиск мест, поиск в Яндексе)
    - assert: |
        - Алиса реагирует на голосовую активацию.
        - Реакция и ответ на голосовой ввод соответствует введенному запросу.
        - Маршруты строятся, поиск по заданным данным выполняется.

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Подтягивание данных. Тип связи Wi-Fi:
    - description: Цель кейса -убедиться в том, что все данные подтягиваются корректно, не смотря на изменение типа связи
    - info: |
        Пользователь не авторизован в Яндекс.Навигаторе
        Для Аккаунт1 имеется большое количество поисковых запросов, а так же большое количество записей в истории поездок и поиска
    - do: |
        Выключить сотовую сеть
        Включить Wi-Fi
        В Навигаторе авторизоваться как Аккаунт1
        Свернуть приложение
        Подождать несколько минут
        Развернуть приложение
    - assert: Мои места; Мои места - Недавние; История поиска отображаются корректно, все записи соответствуют записям Аккаунта1 и отображаются в правильном порядке
    - do: |
        Разлогиниться
        Подождать минуту
    - assert: Мои места; Мои места - Недавние; История поиска отображаются пустыми
    - do: |
        - Вызвать Алису с помощью голосовой команды
        - Реализовать несколько голосовых команд (построение маршрута, поиск мест, поиск в Яндексе)
    - assert: |
        - Алиса реагирует на голосовую активацию.
        - Реакция и ответ на голосовой ввод соответствует введенному запросу.
        - Маршруты строятся, поиск по заданным данным выполняется.

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Подтягивание данных. Отсутствие связи:
    - description: Цель кейса -убедиться в том, что все данные подтягиваются корректно, не смотря на временное пропадание свяи
    - info: |
        Пользователь не авторизован в Яндекс.Навигаторе
        Для Аккаунт1 имеется большое количество поисковых запросов, а так же большое количество записей в истории поездок и поиска
    - do: |
        В Навигаторе авторизоваться как Аккаунт1
        Включить авиа режим
        Подождать минуту
    - assert: Мои места - Мои места - Недавние; История поиска отображаются пустыми или частично заполненными
    - do: |
        Выключить авиа режим
        Подключить любой тип связи (Wi-Fi, 2G, 3G, 4g или LTE)
        Подождать минуту
    - assert: Мои места; Мои места - Недавние; История поиска отображаются корректно, все записи соответствуют записям Аккаунта1 и отображаются в правильном порядке

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Подтягивание данных. Заблокированный девайс:
    - info: |
        Пользователь не авторизован в Яндекс.Навигаторе
        Для Аккаунт1 имеется большое количество поисковых запросов, а так же большое количество записей в истории поездок и поиска
    - do: |
        Для удобства включить сотовую сеть в режиме 2G, выключить Wi-Fi
        Авторизоваться как Аккаунт1
        Заблокировать девайс
        Подождать несколько минут
        Разблокировать девайс
    - assert: Мои места; Мои места - Недавние; История поиска отображаются корректно, все записи соответствуют записям Аккаунта1 и отображаются в правильном порядке

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Проверка синхронизации настроек парковок:
    - description: Проверяем синхронизацию настроек парковок и штрафов, прикрепленных к аккаунту.
    - info: Имеется два устройства. На обоих устройства пользователь разлогинен. Местоположение = Москва (достаточно использовать симуляцию на debug сборках)
    - do: |
        Включить парковочный слой.
        Тап на значок платной парковки.
        Тап на "Оплатить" в карточке парковки.
        Ввести номер телефона и код.
        Если приложение предлагает добавить ранее сохраненные автомобили, снять галочки в чекбоксах
        Ввести номер автомобиля в формате А111АА71
        Тап на продолжить.
    - assert: Переход на экран выбора времени парковки
    - do: |
        Тап на значок настроек
        Тап на способы оплаты
        Тап на Яндекс.Деньги
        Залогиниться (Желательно логиниться аккаунтом, к котором уже осуществлялась привязка карты)
        Залогиниться в Я.Деньгах
        Ввести код из смс
    - assert: |
        Возврат на экран способов оплаты
        Если логин производился аккаунтом, к котором уже привязывалась банковская карта, карта отображается в списке способов оплаты)
    - do: |
        Вернуться на экран выбора времени парковки
        Тап на номер автомобиля
    - assert: |
        Переход в список автомобилей
        Если к аккаунту уже был привязан автомобиль, он отображается в списке вместе с тем, что был введен на шаге 1
    - do: |
        Тап на Новый автомобиль
        Ввести данные нового автомобиля и подтвердить ввод
    - assert: Новый автомобиль отобразился в списке
    - do: Выбрать один из автомобилей в списке в качестве автомобиля по-умолчанию
    - assert: Настройка применена
    - do: |
        Тап на значок настроек
        Тап на способы оплаты
        Тап на Новая карта
        Ввести данные существующей банковской карты и подтвердить ввод
    - assert: Новая карта добавлена
    - do: Повторить шаги 1-2 на другом девайсе
    - assert: В качестве автомобиля по-умолчанию отображен автомобиль, который мы установили автомобилем по-умолчанию для данного пользователя. В списке автомобилей присутствуют все автомобили которые мы вводили на предыдущих шагах. В "способах оплаты" отображаются добавленные ранее карты.

    - platforms:
      - ios
      - android
    - integration_run:
      - parking_pay


  Проверка синхронизации настроек заправок:
    - info: |
        Для тестирование необходимо не менее 2 устройств
        Пользователь авторизован
    - do: |
        На одном устройстве перейти в меню - настройки - Яндекс.Заправки - Фильтр по типу топлива
        Тап на любой чекбокс
    - assert: Настройки применены
    - do: Выйти из аккаунта
    - assert: Пользователь разлогинен
    - do: |
        Перейти в меню - настройки - Яндекс.Заправки - Фильтр по типу топлива
        Тап на любой чекбокс
    - assert: Настройки применены
    - do: |
        Тап на "назад"
        Тап на способ оплаты
        Тап на авторизоваться тем же аккаунтом
        Ввести данные аккаунта
    - assert: |
        Пользователь залогинен.
    - do: |
        Тап на "добавить новую карту"
        Ввести данные существующей карты
    - assert: В списке способов оплаты отображена добавленная карта
    - do: |
        Тап на "назад"
        Тап на фильтр по типу топлива
    - assert: |
        Отображаются настройки, выбранные в аккаунте на 1 шаге
    - do: |
        На другом устройстве залогиниться тем же аккаунтом
        Открыть карточку заправки
        Тап на заправиться
        Выбрать колонку
        Тап на способ оплаты
    - assert: |
        Отображена карта, добавленная на шаге 5.
    - do: На этом же девайсе перейти в меню - настройки - Яндекс.Заправки - Фильтр по типу топлива
    - assert: Чекбокс в том же состоянии, что на шаге 1

    - platforms:
      - vaz
      - ios
      - android
      - t3am
      - nissan
    - integration_run:
      - tanker_sdk


  Проверка синхронизации специфических данных (саджестов точек назначения, языковых настроек):
    - info: Приложение запущено впервые на двух устройствах. Поездки не осуществлялись.
    - do: |
        На устройстве 1 создать новый аккаунт и совершить несколько поездок в нем
        На устройстве 2 залогиниться тем же аккаунтом и перезапустить приложение
    - assert: Саджесты точек назначения синхронизируются
    - do: На устройсте 1 тап на меню - Заправки
    - assert: |
        На устройстве 2 исчезает зеленая точка со значка меню.
        В меню пропадает "новое" напротив Яндекс.Заправки
    - do: |
        Скачать нестандартный голос и установить его
        Перейти в раздел звуки и оповещения-язык и установить турецкий язык
        Перейти в раздел Голос и установить нестандартный турецкий голос
    - assert: На всех устройства скачивается нестандартный турецкий голос и устанавливается

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Отсутствие нерелевантных фич на ГУ:
    - description: Часть настроек, сохраненных в аккаунте, не должна появляться на ГУ. Это в первую очередь касается рекламных проектов.
    - info: Залогиниться на ГУ аккаунтом 1. Этим же аккаунтом залогиниться на мобильном устройстве (Навигатор можно взять из apple/google store)
    - do: Выставить на устройстве (не ГУ) рекламный курсонр (напр.  Мерседес)
    - assert: На ГУ курсор Мерседеса не появился (проверить раздел курсоры)
    - do: Установить на устройстве (не ГУ) рекламный голос (напр. дополнительный голос на турецком языке)
    - assert: На ГУ рекламный голос не устанавливается
    - do: Изменить настройки Заправок
    - assert: На ГУ разделы отсутствуют. Падений не произошло
    - do: |
        На устройстве произвести поиск по рекламны категория и заправкам.
        На ГУ перейти в историю поиска и потапать на последние поисковые запросы.
    - assert: Рекламные пины, карточки не появились. Поиск осуществляется корректно.
    - do: Осуществить сброс показа пункта меню-заправки (Перейти на устройстве в developer settings - reset menu visited)
    - assert: На ГУ точка на пункте меню не появляется. Пункт меню - заправки отсутствует.

    - platforms:
      - motrex
      - autochip
      - renault
      - geely
      - vaz
      - carsharing_t3
      - nissan


  Два девайса - Мои места. Избранное:
    - description: Проверить синхронизацию данных одного аккаунта на разных устройствах
    - info: |
        Имеется минимум 2 девайса
        На всех имеющихся девайсах установлено приложение
        На всех имеющихся девайсах пользователь авторизован под одним аккаунтом
    - do: Добавить точку в Избранное на одном из девайсов
    - assert: Точка добавлена
    - do: Проверить результат изменений на втором (и последующих) девайсе
    - assert: Изменения подтянулись
    - do: Изменить точку в Избранное на одном из девайсов
    - assert: Точка изменена
    - do: Проверить результат изменений на втором (и последующих) девайсе
    - assert: Изменения подтянулись
    - do: Удалить точку в Избранное на втором (и последующих) девайсе
    - assert: Точка изменена
    - do: Проверить результат изменений на втором (и последующих) девайсе
    - assert: Изменения подтянулись

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Два девайса - Мои места. Списки:
    - description: Проверить синхронизацию данных одного аккаунта на разных устройствах
    - info: |
        Имеется минимум 2 девайса
        На всех имеющихся девайсах установлено приложение
        На всех имеющихся девайсах пользователь авторизован под одним аккаунтом
    - do: Добавить список на одном из устройств
    - assert: Список добавлен
    - do: Проверить результат изменений на втором (и последующих) девайсе
    - assert: Изменения подтянулись
    - do: Изменить список на одном из устройств
    - assert: Список изменен
    - do: Проверить результат изменений на втором (и последующих) девайсе
    - assert: Изменения подтянулись
    - do: Удалить список на одном из устройств
    - assert: Список удален
    - do: Проверить результат изменений на втором (и последующих) девайсе
    - assert: Изменения подтянулись

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors


  Два девайса - Мои места. Точка в списках:
    - description: Проверить синхронизацию данных одного аккаунта на разных устройствах
    - info: |
        Имеется минимум 2 девайса
        На всех имеющихся девайсах установлено приложение
        На всех имеющихся девайсах пользователь авторизован под одним аккаунтом
    - do: Добавить точку в один из списков на одном из девайсов
    - assert: Точка добавлена
    - do: Проверить результат изменений на втором (и последующих) девайсе
    - assert: Изменения подтянулись
    - do: Изменить точку в одном из списков на одном из девайсов
    - assert: Точка изменена
    - do: Проверить результат изменений на втором (и последующих) девайсе
    - assert: Изменения подтянулись
    - do: Удалить точку в одном из списков на одном из девайсов
    - assert: Точка удалена
    - do: Проверить результат изменений на втором (и последующих) девайсе
    - assert: Изменения подтянулись

    - platforms:
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors

  Синхронизация настроек - чекбокс "Алиса":
    - info: |
        Авторизоваться на двух девайсах одним и тем же аккаунтом.
    - do: |
        Перейти в настройки на обоих девайсах:
        Меню -> Настройки -> Звуки и оповещения
    - assert: Открываются настройки звуков и оповещений
    - do: На девайсе А изменить положение свитчера алисы
    - assert: |
        На девайсе В применяются изменения, произведенные на девайсе А
        (возможно придется подождать около минуты для синхронизации, выйти из настроек и зайти обратно)
    - do: На девайсе В изменить положение свитчера алисы
    - assert: |
        На девайсе А применяются изменения, произведенные на девайсе B
        (возможно придется подождать около минуты для синхронизации, выйти из настроек и зайти обратно)

    - platforms:
        - ios
        - android


  Миграция настроек в новую базу:
    - info: |
        Девайс подключен к снифферу через socks/brook
        Пользователь авторизован аккаунтом, который никогда не мигрировался
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/settings_migration%3Denabled.png){title=QR-код}

        `yandexnavi://add_exp?navi_feature_datasync_settings_migration=enabled`
    - do: Перезапустить приложение
    - assert: |
        Присутствуют запросы в ручку https://proxy.mob.maps.yandex.net/datasync/data/2.x/deltas/... для базы database_id=.ext.maps_common%40geomobilesettings1 и database_id=.ext.maps_common%40ynavisettings1&.
    - do: Перезапустить приложение
    - assert: |
        Присутствуют запросы в ручку https://proxy.mob.maps.yandex.net/datasync/data/2.x/deltas/... для базы database_id=.ext.maps_common%40geomobilesettings1
        Запросы для database_id=.ext.maps_common%40ynavisettings1& отсутствуют

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_navi


  Миграция настроек в новую базу для анонима:
    - info: |
        Пользователь не авторизован
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/migration%3Ddisabled.png){title=QR-код}

        `yandexnavi://add_exp?navi_feature_datasync_settings_migration=disabled`
    - do: Перезапустить приложение
    - do: Тап Меню - Настройки -> Карта и интерфейс -> Дорожные события -> На маршруте
    - assert: Открыт экран настроек ДС на маршруте
    - do: Сменить несколько настроек ДС
    - do: |
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/settings_migration%3Denabled.png){title=QR-код}

        `yandexnavi://add_exp?navi_feature_datasync_settings_migration=enabled`
    - do: Перезапустить приложение
    - do: Тап Меню - Настройки -> Карта и интерфейс -> Дорожные события -> На маршруте
    - assert: Настройки в таком же положении как и до перезапуска приложения
    - do: Авторизоваться в приложении
    - assert: Пользователь авторизован

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_navi


  Переключение настройек между базами:
    - info: |
        Для тестирования потребуется 2 устройства
        На каждом устройстве залогиниться в 1 аккаунт
    - do: |
        На устройстве 2 получить эксперимент `Migration datasync settings`
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/settings_migration%3Denabled.png){title=QR-код}

        `yandexnavi://add_exp?navi_feature_datasync_settings_migration=enabled`
    - do: Перезапустить приложение
    - do: |
        На устройстве 2 выставить настройки:
            - Настройки -> Карта и интерфейс -> Вид карты -> Спутник
            - Настройки -> Карта и интерфейс -> Ночной режим -> Включен
            - Настройки -> Карта и интерфейс -> Дорожные события -> На карте -> Показывать -> Выкл
            - Настройки -> Карта и интерфейс -> Дорожные события -> На маршруте -> Показывать -> Выкл
            - Настройки -> Карта и интерфейс -> Курсор -> Белый кот Гурмэ
    - do: |
        На устройстве 1 выключить эксперимент `datasync_settings_migration`
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/migration%3Ddisabled.png){title=QR-код}

        `yandexnavi://add_exp?navi_feature_datasync_settings_migration=disabled`
    - do: |
        На устройстве 1 выставить настройки:
            - Настройки -> Карта и интерфейс -> Вид карты -> Схема
            - Настройки -> Карта и интерфейс -> Ночной режим -> Выключен
            - Настройки -> Карта и интерфейс -> Дорожные события -> На карте -> Показывать -> Вкл
            - Настройки -> Карта и интерфейс -> Дорожные события -> На маршруте -> Показывать -> Вкл
            - Настройки -> Карта и интерфейс -> Курсор -> По умолчанию
    - do: |
        На устройстве 1 получить эксперимент `Migration datasync settings`
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/settings_migration%3Denabled.png){title=QR-код}

        `yandexnavi://add_exp?navi_feature_datasync_settings_migration=enabled`
    - do: Перезапустить приложение
    - assert: |
        На устройстве 1 настройки изменились на:
            - Настройки -> Карта и интерфейс -> Вид карты -> Спутник
            - Настройки -> Карта и интерфейс -> Ночной режим -> Включен
            - Настройки -> Карта и интерфейс -> Дорожные события -> На карте -> Показывать -> Выкл
            - Настройки -> Карта и интерфейс -> Дорожные события -> На маршруте -> Показывать -> Выкл
            - Настройки -> Карта и интерфейс -> Курсор -> Белый кот Гурмэ
    - do: |
        На устройстве 2 выключить эксперимент `datasync_settings_migration`
        Использовать интент [collapsed-image](https://jing.yandex-team.ru/files/kuznetsova22/migration%3Ddisabled.png){title=QR-код}

        `yandexnavi://add_exp?navi_feature_datasync_settings_migration=disabled`
    - do: Перезапустить приложение
    - assert: |
        На устройстве 2 настройки изменились на:
            - Настройки -> Карта и интерфейс -> Вид карты -> Схема
            - Настройки -> Карта и интерфейс -> Ночной режим -> Выключен
            - Настройки -> Карта и интерфейс -> Дорожные события -> На карте -> Показывать -> Вкл
            - Настройки -> Карта и интерфейс -> Дорожные события -> На маршруте -> Показывать -> Вкл
            - Настройки -> Карта и интерфейс -> Курсор -> По умолчанию

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_navi
