components: snippet
testing:
  - regress

specs:
  Сниппеты:
    - description: |
        Сниппеты - текстовые поля, возникающие рядом с рекламными пинами по маршруту. 
        Для тестирования сниппетов удобно использовать debug сборки и тестовые пины, находящиеся вдоль **ул. Пречистенка** в Москве. 
        Сниппеты, как и прочая реклама, **не должны** присутствовать на ГУ, mySpin и SDL
        Примеры сниппетов:
        [сниппет](https://jing.yandex-team.ru/files/fedonina71/photo_2020-09-03%2010.47.02.jpeg)
    - info: |
        Отображение сниппетов регулируется настройкой: Developer settings -> ad -> ad pins -> display route ad pin snippet -> on и перезапустить приложение
    - do: Построить маршрут рядом с пином со сниппетом и тап на поехали. Дождаться появления пина.
    - assert: |
        - Появился пин с подписью
        - В рамочке подписи присутствуют две строки
        - Если какая-либо из строк слишком длинная, чтобы поместиться в рамочку, строка сокращается троеточием 
        - Надпись находится справа от пина, если курсор на момент появления пина находился слева от него, и, соответственно, слева, если курсор находился справа
        - Текст сниппета не находится вплотную к пину 
        - Контекстные балуны, курсор и балуны альтернатив должны располагаться над сниппетом
    - do: Вращать карту, зумировать
    - assert: Отображение сниппета не ломается, отображение сниппета всегда соответствует ориентации экрана
    - do: Тап на сниппет
    - assert: Открывается карточка пина. Сниппет исчезает.
    - do: Закрыть карточку пина
    - assert: На карте снова отображается пин со сниппетом

    - platforms:
      - ios
      - android
    - tags:
        - assessors