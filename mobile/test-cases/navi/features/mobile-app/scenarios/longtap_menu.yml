components: longtap_menu
testing:
  - regress

specs:
  Лонгтап по пинам Избранного:
    - info: |
        * Пользователь авторизован.
        * В аккаунте есть есть сохраненные точки в Моих Местах
        * Включено отображение избранных на карте: Меню - Настройки - Карта и Интерфейс - Отображать избранное
    - do: Лонгтап на карте в месте, где есть пины Избранного или пины Дом/Работа.
    - assert: Открывается лонгтап меню.

    - testing:
      - acceptance_navi
    - platforms:
      - motrex
      - geely
      - renault
      - carsharing_t3
      - ios
      - android
      - autochip
      - vaz
      - t3am
      - nissan
    - tags:
      - assessors


  Лонгтап по карте:
    - do: Лонгтап на карте в любом месте
    - assert: |
        Открывается лонгтап меню:
        с кнопкой "Закрыть" и пунктами меню:
        _Маршрут_
        Сюда, Через, Отсюда, Сбросить
        _Точка_
        Что здесь?, Установить, В "Мои места", Поделиться
        В Myspin будут отсутствовать пункты В "Мои места", Поделиться

    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
    - platforms:
      - geely
      - renault
      - carsharing_t3
      - ios
      - android
      - vaz
      - t3am
      - nissan
    - tags:
      - assessors
      - both_myspin


  Лонгтап по карте и ротациия устройства:
    - do: |
        - Устройство в портретной ориентации
        - Лонгтап на карте в любом месте
    - assert: |
        Открывается лонгтап меню:
        с кнопкой "Закрыть" и пунктами меню:
        _Маршрут_
        Сюда, Через, Отсюда, Сбросить
        _Точка_
        Что здесь?, Установить, В "Мои места", Поделиться
    - do: Не закрывая меню поменять ориентацию устройства на альбомную
    - assert: |
        - Ориентация меняется на альбомную
        - Лонг-тап меня не скрывается

    - platforms:
        - geely
        - carsharing_t3
        - ios
        - android
        - vaz
        - t3am
        - nissan
    - tags:
        - assessors


  Лонгтап по пинам ДС:
    - do: Лонгтап на карте в месте, где есть пины дорожных событий (ДС)
    - assert: Открывается лонгтап меню.

    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
    - platforms:
      - geely
      - renault
      - carsharing_t3
      - ios
      - android
      - vaz
      - t3am
      - nissan
    - tags:
      - assessors
      - both_myspin


  Лонгтап по карте при открытой карточке:
    - do: Тап на любую иконку POI на карте
    - assert: |
        - Снизу плавно выдвинулся контейнер с карточкой организации
        В Портретной ориентации - Карточка высотой в треть экрана (примерно, зависит от наполнения карточки)
        В Альбомной ориентации - Карточка высотой во весь экран
        - В карточке присутствует кнопка "Маршрут"
    - do: Лонгтап по карте, пока открыта карточка организации
    - assert: Открывается лонгтап меню. Карточка скрыта

    - testing:
      - acceptance_navi
    - platforms:
      - geely
      - renault
      - carsharing_t3
      - vaz
      - t3am
      - nissan


  Лонгтап по POI - нетапабельные объекты:
    - info: |
        Список нетапабельных объектов:
        - шлагбаум
        - заграждение (пример: N 55.666660 E 37.578157 - Зюзинская, 1 Мск)
        - светофор
        - подъезд
        - остановка
        - станция ж/д (платформы электричек, не сами вокзалы)
        - остановка общественного транспорта
        - метро
        - номер трассы (вида Е105, М-2 и т.д.)
        - значок платной дороги
    - do: |
        - Найти на карте 3-4 объекта из списка в описании
        - Выполнить лонг-тап на объектах из описания
    - assert: |
        - По лонг-тапу открывается лонг-тап меню
        - Парковки вокруг не выделяются

    - platforms:
      - geely
      - vaz
      - ios
      - nissan
      - android
    - tags:
      - assessors
    - testing:
      - acceptance_navi


  Лонгтап по POI - тапабельные объекты:
    - info: |
        В рамках кейса необходимо максимально охватить различные пои:
        - пои с геопродуктом
        - пои кафе
        - пои баров
        - пои магазинов продуктов
        - пои ТЦ
        - пои аптек
        - пои гостиниц
        - пои кинотеатров
        - пои АЗС
        - пои АЗС с оплатой
        - пои банкоматов
        - пои автосервисов
        - пои автомоек
        - пои больниц
        - пои ЖД- и автовокзалов, аэропортов
        - пои культурных достопримечательностей, реализованные картинками (можно найти в центре Москвы)
        - пои парков
        - пои кладбищ
        После тапа пои переходит в активный режим:
        - пои увеличен в размере
        - круглые пои при виде карты Спутник окрашены своим цветом
        - круглые пои при виде карты Схема окрашены синим цветом
        - пои АЗС с оплатой окрашиваются черным цветом
    - do: Сделать лонг-тап по пои
    - assert: Открылось лонг-тап меню

    - platforms:
      - renault
      - geely
      - vaz
      - carsharing_t3
      - ios
      - nissan
      - android
      - t3am
    - tags:
      - assessors
    - testing:
      - acceptance_navi


  Перемещение начальной точки в другое место:
    - info: Построить любой маршрут, не переходить в ведение
    - do: Лонгтапом перетащить начальную точку в другое место
    - assert: При перетаскивании точки начала и конца маршрута соединены прерывистой линией

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Перемещение черного плюса с маршрута:
    - info: Построить любой маршрут, не переходить в ведение
    - do: Лонгтапом перетащить черный плюс с маршрута в любое место на карте
    - assert: Точка становится промежуточной точкой на маршруте, при перетаскивании точки начала и финиша соединены с перетаскиваемой точкой прерывистой линией

    - platforms:
      - ios
      - android
    - tags:
      - assessors
