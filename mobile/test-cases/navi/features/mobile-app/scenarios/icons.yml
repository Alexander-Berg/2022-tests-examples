components: icons
testing:
  - regress

specs:
  Иконка перекрытия в балунах вариантов маршрута:
    - info: 
        Меню - Настройка - Избегать платных дорог - Выкл
        ДС перекрытие проще всего найти в Москве, перекрытый участок дороги отображается серым
    - do: Построить маршрут через перекрытие
    - assert: |
        - Маршрут построен
        - Иконка перекрытия отображается в балуне на построенном маршруте
        - Иконка перекрытия умещается в балуне и не выходит за его границы

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Иконка платной дороги в балунах вариантов маршрута:
    - info: Меню - Настройка - Избегать платных дорог - Выкл
    - do: Построить маршрут через платную дорогу (например из Новомосковска в Балашиху)
    - assert: |
        - Иконка платной дороги отображается в балуне соответствующего маршрута
        - Иконка отображается целиком в балуне

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Иконка плохой дороги в балунах вариантов маршрута:
    - do: |
        Для построения маршрута использовать интент:
        [collapsed-image](https://jing.yandex-team.ru/files/zaidova/Снимок%20экрана%202022-06-09%20в%2017.56.28.png){title=QR-код}

        'yandexnavi://build_route_on_map/?lat_from=58.011162&lon_from=56.229019&lat_to=61.668797&lon_to=50.836497'
    - assert: |
        - Маршрут построен
        - Иконка плохой дороги отображается в балуне соответствующего маршрута
        - Иконка плохой дороги умещается в балуне и не выходит за его границы

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Иконка маршрута через границу:
    - do: Построить маршрут через границу, например из Москвы в Минск
    - assert: |
        - Иконка граница отображаются в балуне соответствующего маршрута, умещаются целиком
        - В балуне также может отображаться до двух разных иконок, например граница и платный участок

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Иконки паромной переправы.:
    - do: |
        - Построить маршрут с помощью интента `yandexnavi://build_route_on_map?lat_from=64.225079&lon_from=44.234102&lat_to=64.215585&lon_to=44.219657`
    - assert: |
        - Иконка переправы отображаются в балуне соответствующего маршрута, умещается целиком
        - Иконка отображается у маршрута на экране обзора
        yandexnavi://build_route_on_map?lat_from=64.229833&lon_from=44.235349&lat_to=64.208388&lon_to=44.226909

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Иконки платной дороги на экране "Карта":
    - info: Меню - Настройка - Избегать платных дорог - Выкл
    - do: |
        - Построить любой маршрут на пути которого будет платная дорога
        - Тап Поехали
    - assert: Маршрут построен, на карте отображаются иконки платной дороги по маршруту
    - do: Найти начало платной дороги и конец
    - assert: В начале отображается иконка с платной дорогой, в конце отображается перечеркнутая иконка
    - do: Сбросить маршрут
    - assert: |
         - На экране "Карта" не отображаются иконки начала и конца платной дороги
         - Могут отображаться маленькие иконки платной дороги

    - integration_run:
        - mapkit
    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready