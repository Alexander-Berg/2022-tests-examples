components: gas_station_at_route
testing:
  - regress
## integration_run:
##   - tanker_sdk

specs:
  Заправки по маршруту. Пользовательский сценарий:
    - info: |
        - Developer Settings -> Gas stations -> Gas stations layer = on
        - Developer Settings -> Gas stations -> Gas stations along route = on
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва)
        - Перезагрузить навигатор
    - do: Построить любой маршрут и подтвердить его
    - assert: |
        - Маршрут построен
        - Над плашкой ETA появляется кнопка `"АЗС по пути"`
    - do: Не взаимодействовать с картой, дождаться скрытия таббара с экрана
    - assert: Кнопка "АЗС по пути" скрывается
    - do: |
        - Тап по карте
        - Тап на кнопку "АЗС по пути"
    - assert: |
        - На карте начинают отображаться пины заправок с выбранным типом топлива
        - Все пины располагаются по построенному маршруту
        - Вместо кнопки Алисы отображается кнопка закрытия заправок вдоль маршрута в виде крестика
    - do: Поскроллить карту
    - assert: Пины заправок отображаются только вдоль маршрута
    - do: |
        - Тап на иконку Лупы в тапбаре
        - Произвести поиск по категории ЯЗаправки
    - assert: Отображаются поисковые пины ЯЗаправок ближайшие по маршруту

    - platforms:
        - ios
        - android
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit
    - tags:
        - assessors
        - mapkit_ready


  Заправки по маршруту. Работа фильтров:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
        - Первое построение маршрута, ранее фильтры по заправкам **не трогались**
        (для сброса фильтров можно воспользоваться настройкой: Developer Settings -> Gas stations -> Reset fuel filter.
    - do: Построить любой маршрут и подтвердить его
    - assert: |
        Маршрут построен
        Над плашкой ETA появляется кнопка `"АЗС по пути"`
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: Тап на кнопку `"АЗС по пути"`
    - assert: При первом нажатии (если ранее не был выбран вид топлива) - открывается карточка с фильтром для выбора типа топлива
    - do: |
        Выбрать вид топлива
        Закрыть экран выбора фильтра тапом на крестик
    - assert: |
        *На карте начинают отображаться пины заправок с выбранным типом топлива.
        *Все пины располагаются вдоль построенного маршрута
        *Открывается карточка ближайшей заправки
        *Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута в виде крестика
    - do: |
        Закрыть заправки вдоль маршрута тапом на крестик
        Тап на кнопку `"АЗС по пути»`
    - assert: |
        - На карте начинают отображаться пины заправок с выбранным типом топлива.
        - Все пины располагаются вдоль построенного маршрута
        - Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута в виде крестика

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##        - assessors


  Заправки по маршруту. Изменение фильтров:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
    - do: |
        - Перейти в настройки ЯЗаправок:
        Тап по иконке меню в тапбаре -> Настройки ->В расширенных настройках тап на "Яндекс.Заправки" -> Тап на "Фильтр по типу топлива"
        - Выбрать 1 вид топлива
    - assert: |
        Открывается экран фильтра с возможными видами топлива
        Выбранный тип топлива отмеченным зеленым кружком
    - do: |
        Перейти на экран карты
        Построить любой маршрут и подтвердить его
        Тап на кнопку `"АЗС по пути"`
    - assert: |
        - На карте начинают отображаться пины заправок **с выбранным типом топлива.** (ЗАПОМНИТЬ примерное кол-во пинов и их расположение)
        - Все пины располагаются **вдоль** построенного маршрута
        - Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута в виде крестика
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: |
        - Перейти в настройки ЯЗаправок:
        Тап по иконке меню в тапбаре -> Настройки ->В расширенных настройках тап на "Яндекс.Заправки" -> Тап на "Фильтр по типу топлива"
        - Выбрать другой любой другой вид топлива
    - assert: |
        Открывается экран фильтра с возможными видами топлива
        Выбранный вид топлива помечается зеленым кружком
    - do: |
        Перейти на экран карты
    - assert: |
        - Вдоль построенного ранее маршрута стали отображаться другие пины заправок
        - Все пины располагаются вдоль построенного маршрута
        - Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута в виде крестика

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки по маршруту. Синхронизация фильтров:
    - info: |
        **ДЛЯ ПРОХОЖДЕНИЯ КЕЙСА НЕОБХОДИМО МИНИМУМ 2 ДЕВАЙСА**
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
        - На девайсе установлено две сборки, одна из AppStore/GooglePlay - пользователь авторизован, другая - тестируемая в которой пользователь не авторизован
    - do: |
        **На сборке из AppStore/GooglePlay:**
        - Перейти в настройки ЯЗаправок:
        Тап по иконке меню в тапбаре -> Настройки ->В расширенных настройках тап на "Яндекс.Заправки" -> Тап на "Фильтр по типу топлива"
        - Выбрать любой вид топлива
    - assert: |
        - Открывается экран фильтра с возможными видами топлива
        - Выбранный тип топлива отмеченным зеленым свитчером
    - do: |
        **На тестируемой сборке:**
        - Авторизоваться тем же аккаунтом, что и в сборке из AppStore/GooglePlay
        - Перейти на экран карты
        - Построить любой маршрут и подтвердить его
        - Тап на кнопку `"Заправки вдоль маршрута"`
    - assert: |
        - На карте начинают отображаться пины заправок **с выбранными типами топлива в шаге 1.**
        - Все пины располагаются **вдоль** построенного маршрута
        - Открывается карточка ближайшей заправки
        - Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута в виде крестика
    - do: |
        **На тестируемой сборке:**
        - Перейти в настройки ЯЗаправок:
        Тап по иконке меню в тапбаре -> Настройки ->В расширенных настройках тап на "Яндекс.Заправки" -> Тап на "Фильтр по типу топлива"
    - assert: |
        Открывается экран фильтра с выбранными  видами топлива в шаге 1
    - do: |
        **На тестируемой сборке:**
        На экране фильтра выбрать другой фильтры по топливу
    - assert: У выбранного вида топлива отображается зелёный свитчер
    - do: |
        **На сборке из AppStore/GooglePlay:**
        Перезапустить девайс
        Перейти в настройки ЯЗаправок:
        Тап по иконке меню в тапбаре -> Настройки ->В расширенных настройках тап на "Яндекс.Заправки" -> Тап на "Фильтр по типу топлива"
    - assert: Зелёным свитчером отмеченн типы топлива, которые был выбран в шаге 4

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки по маршруту. Логика отображения:
    - info: |
        - Developer Settings -> Gas stations -> Gas stations layer - on
        - Developer Settings -> Gas stations -> Gas stations along route - on
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва)
        - Перезагрузить приложение
    - do: Построить любой маршрут и подтвердить его
    - assert: |
        - Маршрут построен
        - Над плашкой ETA отображается кнопка `"АЗС по пути"`
    - do: Тап на кнопку "АЗС по пути"
    - assert: |
        - На карте начинают отображаться пины заправок с выбранным типом топлива
    - do: |
        - Сбросить маршрут
        - Developer Settings -> Gas stations -> Gas stations along route = off
        - Перезагрузить навигатор
        - Построить маршрут и подтвердить его
    - assert: |
        - Маршрут построен
        - Кнопка "АЗС по пути" - не отображается

##     - platforms:
##         - ios
##        - android
##     - testing:
##         - acceptance_navi
##     - integration_run:
##         - mapkit
##     - tags:
##         - assessors
##         - mapkit_ready


  Закрытие заправок вдоль маршрута:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
    - do: |
        Построить любой маршрут и подтвердить его
        Тап по кнопке `"АЗС по пути"` над  плашкой ETA
    - assert: |
        *На карте начинают отображаться пины заправок с выбранным типом топлива.
        *Все пины располагаются вдоль построенного маршрута
        *Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута в виде крестика
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: Тап на крестик - кнопку закрытия заправок вдоль маршрута
    - assert: |
        Пины заправок вдоль маршрута сбрасываются
        Кнопка сброса пинов меняется на кнопку вызова Алисы.

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки по маршруту. Локализация:
    - description: |
        на 2.12.2020 - Есть переводы кнопки на русский, английский и украинский.
        Кнопка "АЗС по пути" отображается только, если в настройках телефона выбрана Россия, т.е. локаль оканчивается на _ru.
    - info: |
        Для прохождения кейса необходимо чтобы в девайсе отсутствовала сим-карта, так как из-за симкарты подтягивается локаль местонахождения
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
    - do: Построить любой маршрут и подтвердить его
    - assert: |
        Маршрут построен
        Над плашкой ETA появляется кнопка `"АЗС по пути"`
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: |
        Изменить поочередно локаль на устройстве на en_RU,  uk_RU
        Перезапустить навигатора (возможно потребуется сделать перезагрузку несколько раз)
        Построить любой маршрут и подтвердить его
    - assert: |
        Маршрут построен
        Над плашкой ETA появляется кнопка `"АЗС по пути"` . - перевод кнопки соответствует локали.
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: |
        Изменить в девайсе настройки страны на отличную от России, например, tr_TR, ru_EN
        Перезапустить навигатора (возможно потребуется сделать перезагрузку несколько раз)
        Построить любой маршрут и подтвердить его
    - assert: |
        Маршрут построен.
        Над маршрутом **НЕ** отображается кнопка `"АЗС по пути"`

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки по маршруту. Проверка UI:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        **Developer Settings -> Misc -> Fast day&night switching вкл**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
        - Ориентация девайса - портретная
    - do: Построить любой маршрут и подтвердить его
    - assert: |
        Маршрут построен
        Над плашкой ETA появляется кнопка `"АЗС по пути"`
        Кнопка `"АЗС по пути"` отображается в той теме, которая активна
        Кнопка меняется в соответствии с отображаемой темой
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: Сменить ориентацию устройства на лендскейп
    - assert: |
        Кнопка `"АЗС по пути"` не изменила своего положения (располагается над  плашкой ETA )
        Кнопка  `"АЗС по пути"` отображается в той теме, которая активна
        Кнопка меняется в соответствии с отображаемой темой
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: Тап по кнопке `"АЗС по пути"`
    - assert: |
        *На карте начинают отображаться пины заправок с выбранным типом топлива.
        Пины отображаются в той теме, которая активна в навигаторе. При автоматической смене темы - пины меняют свой цвет.
        *Все пины располагаются вдоль построенного маршрута
        *Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута в виде крестика

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки по маршруту. Авторизация:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
        - Пользователь НЕавторизован
        **Выбор фильтра по топливу не осуществлялся ранее**
    - do: Построить любой маршрут и подтвердить его
    - assert: |
        Маршрут построен
        Над плашкой ETA появляется кнопка `"АЗС по пути"`
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: |
        Тап на кнопку `"АЗС по пути"`
        Выбрать любой тип топлива в окне выбора топлива и закрыть его
    - assert: |
        - На карте начинают отображаться пины заправок с выбранным типом топлива.
        Все пины располагаются по построенному маршруту
        - Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута `в виде крестика`
    - do: |
        Сбросить маршрут
        Авторизоваться в приложении акаунтом, который ранее уже выбирал фильтры по заправкам
        (Тап по иконке меню - Тап на кнопку Войти -> Авторизоваться)
    - assert: Пользователь авторизовался в приложении
    - do: |
        Перейти в настройки ЯЗаправок:
        Тап по иконке меню в тапбаре -> Настройки ->В расширенных настройках тап на "Яндекс.Заправки" -> Тап на "Фильтр по типу топлива"
    - assert: Установленные фильтры отличаются от тех, что были выбраны в п.3

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors
##     - integration_run:
##         - am_sdk


  Заправки по маршруту. Остальные проверки:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
    - do: Построить любой маршрут и подтвердить его
    - assert: |
        Маршрут построен
        Над  плашкой ETA появляется кнопка `"АЗС по пути"`
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: Тап на кнопку `"АЗС по пути"`
    - assert: |
        - На карте начинают отображаться пины заправок с выбранным типом топлива.
        Все пины располагаются по построенному маршруту
        - Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута в виде крестика
        *При первом нажатии (если ранее не был выбран вид топлива) - открывается карточка с фильтром для выбора типа топлива
        *Нужно выбрать любой тип топлива*

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки по маршруту. Freedrive:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
    - do: |
        Построить любой маршрут, подтвердить его и запустить ведение
    - assert: |
        Маршрут построен
        Над  плашкой ETA появляется кнопка `"АЗС по пути"`
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: |
        Сбросить маршрут.
        И дождаться перехода в freedrive
    - assert: |
        Движение продолжается в режиме  freedrive
        Кнопка  `"АЗС по пути"` **НЕ отображается**

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки по маршруту. Отсутствие по маршруту :
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
    - do: Построить любой  маршрут и подтвердить его
    - assert: |
        Маршрут построен
        Над плашкой ETA появляется кнопка `"АЗС по пути"`
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: |
        Построить такой маршрут, вдоль которого нет никаких заправок, и подтвердить его
        `Привести для примера несколько`
    - assert: |
        Маршрут построен
        Кнопка  `"АЗС по пути"` НЕ отображается
    - do: |
        1- Перейти в настройки ЯЗаправок:
        Тап по иконке меню в тапбаре -> Настройки ->В расширенных настройках тап на "Яндекс.Заправки" -> Тап на "Фильтр по типу топлива"
        - Выбрать редкий вид топлива
        - Построить такой маршрут, вдоль которого нет заправок с выбранным топливом, и подтвердить его
    - assert: |
        Маршрут построен
        Кнопка  `"АЗС по пути"` НЕ отображается
        **ДОПИСАТЬ ШАГИ (или вынести с отдельный кейс с условием:**
        Есть условие:
        если маршрут построен там, где нет нужного нам фильтра топлива - заправок не будет (кнопки не будет)

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки по маршруту. Перезапуск приложения:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
    - do: Построить любой маршрут и подтвердить его
    - assert: |
        Маршрут построен
        Над  плашкой ETA появляется кнопка `"АЗС по пути"`
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: Тап на кнопку `"АЗС по пути"`
    - assert: |
        - На карте начинают отображаться пины заправок с выбранным типом топлива.
        Все пины располагаются по построенному маршруту
        - Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута `в виде крестика`
    - do: Выгрузить и загрузить приложение
    - assert: |
        - Маршрут сохранился
        - Пины заправок вдоль маршрута НЕ отображаются
        - Кнопка `"АЗС по пути"` расположена над  плашкой ETA
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки вдоль маршрута. Проброс маршрута:
    - description: |
        **Октябрь 2020.** Заправочный слой на ГУ отключен. Как только его включат, фича "заправки вдоль маршрута" будет работать на ГУ.
        Информация для асессоров:
        Узнать больше о пробросе маршрута вы можете на приветственной странице в разделе "Проброс маршрута"
        Можно использовать либо Головное Устройство (колхоз), либо второе устройство с ложным поведением, что телефон стал ГУ (в инструкции есть шаги, как сделать такое)
    - info: |
        Настройки на девайсе:
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
        - Авторизоваться на девайсе и ГУ одним и тем же аккаунтом

        Настройки для проброса, если нет ГУ на руках:
        **Если используется метод "на столе":**
        Открыть меню навигатора
        Открыть Настройки
        Открыть Developer settings
        Открыть Ya.Auto
        Включить Pretend Ya.Auto (data sync test)
        Перезагрузить приложение
        Теперь навигатор смотрит на тестовую среду, что и тестовая версия Драйва

        1. Авторизуемся в бета сборке приложений Драйв, тем же аккаунтом, что и навигаторе ([iOS](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=iphoneos&branch=testing) / [Android](https://beta.m.soft.yandex.ru/description?app=drive&platform_shortcut=android&branch=testing) )
        2. Забронирован автомобиль с "Бортовым компьютером"
        3. На карте навигатора отображается пин Авто или Драйва

    - do: Построить любой маршрут и подтвердить его
    - assert: |
        *Маршрут построен
        *Над  плашкой ETA появляется кнопка `"АЗС по пути"`
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: |
        Сбросить маршрут
        Построить новый маршрут
        Тап на кнопку Авто, чтобы был выбран вариант "Маршрут от автомобиля"
    - assert: |
        - Кнопка становится цветной
        - Маршрут перестраивается от пина Драйва/Я.Авто на Карте
    - do: Тап на кнопку "Отправить" в карточке обзора маршрута
    - assert: |
        - Маршрут исчезает с Карты
        - В Навигаторе отображается диалоговое экран с кнопками "Отмена" и "Отлично"
        - Через несколько секунд на ГУ происходит построение маршрута
        - Маршрут на ГУ совпадает с построенным маршрутом на Навигаторе
        - Кнопка `"АЗС по пути"` на ГУ **НЕ отображается**

##     - platforms:
##         - ios
##         - android
##     - tags:
##         - assessors


  Заправки по маршруту. Оффлайн:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
        - Скачать карту региона, на который сделана подмена местоположения
    - do: Построить любой маршрут и подтвердить его
    - assert: |
        Маршрут построен
        Над плашкой ETA появляется кнопка `"АЗС по пути"`
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: |
        Сбросить маршрут.
        Включить авиарежим на девайсе
        Построить любой маршрут и подтвердить его
    - assert: |
        Маршрут построен.
        Кнопка  `"АЗС по пути"` **НЕ отображается**

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки по маршруту. Грузовой каркас:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
        - Включить настройку грузового каркаса
        Меню-> Настройки -> Навигация -> Маршруты для грузовиков -> ВКЛ
    - do: Построить любой маршрут и подтвердить его
    - assert: |
        Маршрут построен
        Над  плашкой ETA появляется кнопка `"АЗС по пути"`
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: Тап на кнопку `"АЗС по пути"`
    - assert: |
        - На карте начинают отображаться пины заправок с выбранным типом топлива.
        Все пины располагаются по построенному маршруту
        - Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута в виде крестика
        *При первом нажатии (если ранее не был выбран вид топлива) - открывается карточка с фильтром для выбора типа топлива
        *Нужно выбрать любой тип топлива*
    - do: Тап на иконку Меню в тапбаре -> Тап на иконку ЯЗаправки
    - assert: Открывается меню заправок

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки по маршруту. Маршрут с альтернативами:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
        - Включить настройку:
        Меню -> Настройки -> Карта и интерфейс -> Альтернативные маршруты -> ВКЛ
    - do: |
        Построить любой маршрут с альтернативами и подтвердить его
        Запустить ведение по маршруту
    - assert: |
        Маршрут построен, движение началось
        Над плашкой ETA появляется кнопка `"АЗС по пути"`
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: Тап на кнопку `"АЗС по пути"`
    - assert: |
        - На карте начинают отображаться пины заправок с выбранным типом топлива.
        Все пины располагаются по построенному маршруту
        - Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута в виде крестика
        *При первом нажатии (если ранее не был выбран вид топлива) - открывается карточка с фильтром для выбора типа топлива
        *Нужно выбрать любой тип топлива*
    - do: Не сбрасывая результаты поиска заправок по маршруту, дождаться появления альтернативы по маршруту и выбрать ее
    - assert: |
        Маршрут перестроен
        Пины заправок отображаются **только** вдоль маршрута!
        Пины, которые отображались при построении первого маршрута, исчезают с карты

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки по маршруту. ББМ:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
    - do: |
        Построить любой маршрут, выбрать самый длинный по времени  и подтвердить его
        Запустить ведение по маршруту
    - assert: |
        Маршрут построен, движение началось
        Над  плашкой ETA появляется кнопка `"АЗС по пути"`
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: Тап на кнопку `"АЗС по пути"`
    - assert: |
        - На карте начинают отображаться пины заправок с выбранным типом топлива.
        Все пины располагаются по построенному маршруту
        - Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута в виде крестика
        *При первом нажатии (если ранее не был выбран вид топлива) - открывается карточка с фильтром для выбора типа топлива
        *Нужно выбрать любой тип топлива*
    - do: Как только появится плашка "Найден более быстрый маршрут" выбрать его, не сбрасывая результаты поиска заправок по маршруту
    - assert: |
        Маршрут перестроен
        Пины заправок отображаются **только** вдоль маршрута!
        Пины, которые отображались при построении первого маршрута, исчезают с карты

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки по маршруту. Отображение ДС и пинов АЗС:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
    - do: Построить маршрут через ДС и подтвердить его
    - assert: |
        Маршрут построен, на маршруте отображаются иконки ДС
        Над плашкой ETA появляется кнопка `"АЗС по пути"`
        В момент  скрытия тапбара и основных кнопок (Алиса, зум, парковки и т.д) кнопка `"АЗС по пути"` также скрывается. Увидеть ее снова можно тапнув по карте
    - do: Тап на кнопку `"АЗС по пути"`
    - assert: |
        - На карте начинают отображаться пины заправок вдоль построенного маршрута
        - Вместо кнопки Алисы отображается кнопка закрытия заправок в вдоль маршрута в виде крестика
        - Иконки ДС  **НЕ** отображаются
        *При первом нажатии (если ранее не был выбран вид топлива) - открывается карточка с фильтром для выбора типа топлива (нужно выбрать любой)*
    - do: Приближать и удалять карту вдоль маршрута до появления/исчезновения ДС по маршруту
    - assert: |
        Вдоль маршрута начинают отображаться ДС.
        Во время показа заправок по маршруту пины ДС по маршруту не мешают заправочным (т.е. отображаются и заправочные пины, и ДС)
        В случае пересечения ДС и заправочного пина (или его сниппета), ДС пропадают, чтобы не загораживать заправки.

##     - platforms:
##         - ios
##         - android
##     - testing:
##         - acceptance_navi
##     - tags:
##         - assessors


  Заправки по маршруту. Отсутствие креша при медленном интернете:
    - info: |
        - Включить эксперименты:
        **Developer Settings -> Gas stations -> Gas stations layer = on**
        **Developer Settings -> Gas stations -> Gas stations along route = on**
        - Подменить местоположение на зону с высокой плотностью заправок (напр, Москва, Санкт-Петербург и т.д.)
        - Перезагрузить навигатор
        - Выбрать 2G соединение на СИМ-карте (для Android) / раздать wi-fi с типом соединения 2G (для iOS)
    - do: Построить любой маршрут и подтвердить его
    - assert: Маршрут построен
    - do: Тап на крестик на плашке ETA
    - assert: Открывается поп-ап подтверждения
    - do: Тап на "Да"
    - assert: |
        Поп-ап закрывается
        Маршрут сбросился
        Креш отсутствует

##     - testing:
##         - acceptance_navi
##     - platforms:
##         - ios
##         - android
##     - tags:
##         - assessors


  Заправки по маршруту. Логика отображения саджеста "АЗС по пути" с маршрутом через заправку:
    - info: |
        Включить настройку `Dev settings -> Gas Stations -> Gas stations along route`
        Перезагрузить приложение
    - do: Построить маршрут, на пути которого будут заправки
    - do: Подтвердить маршрут
    - assert: |
        Маршрут построен
        Над плашкой ETA отображается кнопка `"АЗС по пути"`
    - do: Тап на пин АЗС
    - do: Тап на Заехать
    - do: Тап на Поехали
        Маршрут построен
        Над плашкой ETA кнопка `"АЗС по пути"` не отображается

##     - platforms:
##         - ios
##         - android
##     - tags:
##         - assessors

