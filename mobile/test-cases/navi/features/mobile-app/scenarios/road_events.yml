components: road_events
testing:
  - regress

specs:
  Выделение ДС по маршруту:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
    - do: Построить маршрут, проходящий через несколько ДС
    - assert: На экране обзора маршрута отображаются только основные иконки ДС - Аварии/Перекрытия/Дорожные работы/Камеры/Разговорчики
    - do: |
        - Тап "Поехали"
        - Запустить симуляцию движения
        - Изменять зум карты
    - assert: |
        - Иконки ДС по маршруту отображаются в соответствие с зумом их появления
        - При прохождении ДС, иконка изменяется - уменьшается в размере, или исчезает - в зависимости от зума
    - do: Призумиться к ДС, которую проехали
    - assert: Иконка ДС отображается на карте
    - do: Перестроить маршрут в любую произвольную точку
    - assert: На карте выделены только иконки ДС, находящиеся на актуальном маршруте.

    - platforms:
        - motrex
        - autochip
        - geely
        - carsharing_t3
        - ios
        - android
        - t3am
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Отображение ДС:
    - do: |
        - Построить маршрут в любую точку, чтобы он проходил хотя бы через одно ДС
        - Начать ведение по маршруту
    - assert: |
        - Иконки ДС по маршруту отображаются в соответствие с зумом их появления
        - Перед прохождением ДС звучат соответствующие аннотации
        - При прохождении ДС курсором пользователя, иконка не уменьшается в размере

    - integration_run:
        - myspin
    - testing:
        - acceptance_navi
    - platforms:
        - renault
        - nissan
    - tags:
        - assessors
        - both_myspin


  Дорожные события на маршруте:
    - do: Построить маршрут любым способом хотя бы с тремя ДС на нём разного типа.
    - assert: |
        - Маршрут построен
        - Иконки ДС на маршруте крупнее чем иконки ДС вне маршрута.
    - do: Не сбрасывая маршрут, выполнить поиск по любому запросу/категории.
    - assert: При переходе в режим поиска и отображении результатов, на Карте скрываются все ДС, расположенные НЕ на маршруте.
    - do: Тап на пин ДС, расположенный на краю экрана
    - assert: Отображается только пин ДС, для которого открыта карточка ДС с информацией и кнопками голосования, остальные ДС скрываются.
    - do: Сбросить маршрут. Выполнить поиск по любому запросу/категории.
    - assert: При отображении результатов поиска на Карте скрываются все ДС.

    - platforms:
        - motrex
        - autochip
        - second_run_hu
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit
        - alice
    - tags:
        - assessors
        - mapkit_ready


  Дорожные события. Открытие меню установки ДС.:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
    - do: Тап на кнопку установки ДС на экране карты.
    - assert: Открыто меню установки ДС. "Нога" меню указывает на местонахождение курсора.
    - do: Выполнить лонгтап по карте и выбрать "Установить".
    - assert: |
        Открыто меню установки ДС.
        "Нога" меню указывает на то же место, где выполнялся лонгтап.
    - do: Тап на "закрыть"
    - assert: Меню установки ДС закрыто.

    - platforms:
        - geely
        - vaz
        - carsharing_t3
        - ios
        - android
        - nissan
        - t3am
        - motrex
        - autochip
        - second_run_hu
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi


  Дорожные события. Установка. ДТП:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
        Интервал между возможностью установить ДС повторно составляет 5 минут
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Свитчер у Показывать  - Включен
        Включить все свитчеры
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать "ДТП"
        - Тап на "Установить" в правом верхнем углу экрана.
    - assert: Появляется сообщение об успешной установке точки
    - do: Подвигать карту в месте, где была произведена установка точки. Приблизить карту к этому месту.
    - assert: На карте отображается пин установленного ДС. Пин может прорастать до 3 мин
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать “ДТП”
        - Тап на кнопку с рядом (Правый ряд, Средний ряд, Левый ряд)
    - assert: В поле "комментарий" прописывается текст, соответствующий выбранному ряду.
    - do: Тап на "установить"
    - assert: Появляется сообщение об успешной установке точки.
    - do: Подвигать карту в месте, где была произведена установка точки. Приблизить карту к этому месту.
    - assert: На карте отображается пин установленного ДС. Пин может прорастать до 1 мин
    - do: Тап на появившийся пин.
    - assert: Открывается карточка с текстом, напечатанном ранее

    - platforms:
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - android
        - t3am
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Дорожные события. Установка. Камеры.:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Свитчер у Показывать - Включен
        Включить все свитчеры
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать ДС Камера
        - Тап на "Установить" в правом верхнем углу экрана.
    - assert: Появляется сообщение об успешной установке точки "Точка установлена"
    - do: Подвигать карту в месте, где была произведена установка точки. Приблизить карту к этому месту.
    - assert: На карте отображается пин установленного ДС. (пин может прорастать до 1 мин.)
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать ДС Камера
        - Тап на строку ввода комментария и ввести любой текст
        - Тап на "Готово"
        - Тап на "Установить"
    - assert: Появляется сообщение об успешной установке точки "Точка установлена"
    - do: Подвигать карту в месте, где была произведена установка точки. Приблизить карту к этому месту.
    - assert: На карте отображается пин установленного ДС. (пин может прорастать до 1 мин.)
    - do: Тап на появившийся пин.
    - assert: Открывается карточка с текстом, напечатанном ранее

    - platforms:
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - android
        - t3am
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Дорожные события. Установка. Разговорчики.:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
        Меню - Настройки - Дорожные события - Отображение - На карте - Показывать - Вкл
        Включить все свитчеры
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать "Разговорчики"
        - Тап на "Установить" в правом верхнем углу экрана.
    - assert: Возникает сообщение о необходимости ввести текст комментария. Добавляемая точка не появляется на карте.
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать "Разговорчики"
        - Тап на строку ввода текста комментария
        - Ввести любой комментарий
        - Тап "Готово"
        - Тап "Установить"
    - assert: |
        Разговорчик устанавливается
        Появляется сообщение об успешной установке точки: “Точка установлена”
    - do: Подвигать карту в месте, где была произведена установка точки. Приблизить карту к этому месту.
    - assert: На карте отображается пин установленного ДС (Пин может прорастать до 1 мин.)
    - do: Тап на появившийся пин.
    - assert: Снизу появляется карточка пина с текстом

    - platforms:
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - android
        - t3am
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Дорожные события. Установка. Ошибка.:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
        Меню - Настройки - Дорожные события - На карте - Показывать - Вкл
        Включить все свитчеры
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать "Ошибку"
    - assert: |
        Тип ДС “Ошибка” выбран
        У ошибки 3 подпункта : “Нет проезда”; “Поворот”; “Шлагбаум”
    - do: Выбрать один или несколько подтипов
    - assert: Подтипы отобразились в строке комментария
    - do: Тап Установить
    - assert: |
        Ошибка установилась
        Отобразилось "Спасибо"
        Время жизни ДС Ошибка несколько секунд, скорее всего не отобразится

    - platforms:
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - android
        - t3am
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Дорожные события на маршруте. Информация о конкретном ДС:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
        Меню - Настройки - Дорожные события - Отображение - На маршруте - Показывать - Вкл
        Включить все свитчеры
    - do: Построить маршрут любым способом хотя бы с тремя ДС на нём разного типа.
    - assert: |
        - Маршрут построен
        - Иконки ДС на маршруте кликабельны и крупнее чем иконки ДС вне маршрута.
    - do: Тап на пин ДС.
    - assert: Выбранный пин ДС увеличивается, открыта карточка с информацией и кнопками голосования.

    - platforms:
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - android
        - t3am
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Отключение ДС по маршруту:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
        Меню - Настройки - Дорожные события - Отображение - На маршруте - Показывать - Вкл
        Включить все свитчеры
        Меню - Настройки - Дорожные события - Отображение - На карте - Показывать - Выкл
    - do: |
        - Построить маршрут, проходящий через несколько ДС
        - Начать ведение по маршруту и запустить симуляцию движения
    - assert: На экране обзора маршрута отображаются иконки ДС
    - do: |
        - Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте - Отключить показ нескольких ДС на маршруте
        - Перейти на экран "Карта"
    - assert: На маршруте не отображаются иконки отключенных в настройках Дорожных событий

    - platforms:
        - motrex
        - autochip
        - geely
        - carsharing_t3
        - ios
        - android
        - t3am
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Включение ДС по маршруту:
    - do: |
        Меню - Настройки - Дорожные события - Отображение - На маршруте - Показывать - Выкл
        Меню - Настройки - Дорожные события - Отображение - На карте - Показывать - Выкл
    - do: |
        - Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.a07f994.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=58.674887&lon_from=53.141892&lat_to=58.760477&lon_to=53.315578`
        Подтвердить маршрут и запустить симуляцию движения через дебаг-панель
    - assert: На экране обзора маршрута отображаются иконки ДС
    - do: |
        - Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте - ДТП - Выкл
        - Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте - Дорожные работы - Выкл
        - Перейти на экран "Карта"
    - do: |
        - Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.a07f994.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=58.674887&lon_from=53.141892&lat_to=58.760477&lon_to=53.315578`
        Подтвердить маршрут и запустить симуляцию движения через дебаг-панель
    - assert: На маршруте не отображаются иконки отключенных в настройках Дорожных событий

    - platforms:
        - motrex
        - autochip
        - geely
        - carsharing_t3
        - ios
        - android
        - t3am
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Приоритет выделения ДС по маршруту:
    - do: |
        - Построить маршрут через кнопку "Отсюда", проходящий через несколько ДС
        - Запустить ведение
    - assert: Иконки ДС выделены на маршруте
    - do: Убедиться, что иконки ДС, которые будут пройдены на маршруте первыми, расположены над иконками более поздних ДС
    - assert: Иконки ДС не мелькают при наслоении, иконки более поздних ДС по маршруту располагаются под слоем с ближайших ДС по маршруту

    - platforms:
        - motrex
        - autochip
        - geely
        - carsharing_t3
        - ios
        - android
        - t3am
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  ДС по маршруту в free drive:
    - info: |
        Меню - Настройки - Developer settings - Misc - fast day & night switching - On
        Перезапустить приложение
        Построить маршрут проходящий через несклько ДС и подтвердить его
        Запустить симуляцию движения через дебаг панель
        Сбросить маршрут не сбрасывая симуляцию, чтобы курсор продолжал двигаться
    - do: Тап на ДС, расположенный по предполагаемому маршруту(Пин ДС будет выделен увеличением, так же, как и при движении по маршруту)
    - assert: |
        - Иконки ДС по маршруту отображаются в соответствие с зумом их появления
        - При прохождении ДС, иконка изменяется - уменьшается в размере
        - На карте выделены только те иконки ДС, которые находятся на предполагаемом маршруте
    - do: Тап на ДС, расположенный по предполагаемому маршруту(Пин ДС будет выделен увеличением, так же, как и при движении по маршруту)
    - assert: Открывается карточка ДС
    - do: Тап другие ДС, расположенные на линии предполагаемого маршрута
    - assert: Открываются карточки ДС

    - platforms:
        - motrex
        - autochip
        - geely
        - carsharing_t3
        - t3am
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit
    - testing:
        - acceptance_navi


  Дорожные события. Установка. Дорожные работы.:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефон
        Меню - Настройки - Дорожные события - Отображение  - На карте - Показывать - Вкл
        Включить все свитчеры
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать "Дорожные работы"
        - Тап "Установить" в правом верхнем углу экрана.
    - assert: Появляется сообщение об успешной установке точки
    - do: Подвигать карту в месте, где была произведена установка точки. Приблизить карту к этому месту.
    - assert: На карте отображается пин установленного ДС. (пин может прорастать до 1 мин.)
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать “Дорожные работы”
        - Выбрать ряд(Левый ряд, Средний ряд, Правый ряд)
    - assert: В поле "комментарий" прописывается текст, соответствующий выбранному ряду.
    - do: Тап "Установить"
    - assert: Появляется сообщение об успешной установке точки
    - do: Подвигать карту в месте, где была произведена установка точки. Приблизить карту к этому месту.
    - assert: На карте отображается пин установленного ДС. (пин может прорастать до 1 мин.)
    - do: Тап на появившийся пин
    - assert: Открывается карточка с текстом, напечатанном ранее

    - platforms:
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - android
        - t3am
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Дорожные события. Установка. Прочее:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
        Меню - Настройки - Дорожные события - Отображение  - На карте - Показывать - Вкл
        Включить все свитчеры
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать "Прочее"
    - assert: |
        Тип ДС “прочее” выбран
        Отображается 2 подпункта : “Разбитый асфальт”; “Грунтовая дорога” и поле для ввода комментария
    - do: Выбрать один или несколько подтипов
    - assert: Подтипы отобразились в строке комментария
    - do: Тап "Установить"
    - assert: |
        Отобразилось "Точка установлена"
        ДС проходит модерацию, может не отобразится/быстро пропасть

    - platforms:
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - android
        - t3am
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Камеры на карте включение и выключение:
    - info: Первый запуск приложения, пользователь неавторизован
    - do: |
        Перейти на экран "Карта"
        Поскролить карту в разные стороны
    - assert: На карте отображаются все камеры кроме "камеры на скорость"
    - do: Меню - Настройки - Дорожные события - Отображение - На карте
    - assert: |
        Свитчер у настройки Показывать - отключен, свитчер у Камера контроля скорости - отключен
        Все остальные свитчеры включены
    - do: |
        - Меню - Настройки - Дорожные события - Отображение - На карте - "Камера контроля скорости" - Вкл
        - Перейти на карту
    - assert: Камеры контроля скорости стали отображаться на карте

    - platforms:
      - nissan
      - renault
      - carsharing_t3
      - t3am
      - motrex
      - autochip
      - ios
      - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
        - mapkit


  Отображение камер на карте во время ведения по маршруту:
    - info: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> Показывать - Вкл -  Вкл все свитчеры
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Показывать - Вкл - Выкл все свитчеры
    - do: |
        - Построить маршрут проходящий через несколько ДС
        - Подтвердить маршрут
    - assert: |
        - Отображаются только камеры на маршруте
        - Камеры вне маршрута не отображаются

    - platforms:
      - nissan
      - renault
      - ios
      - android
      - carsharing_t3
      - t3am
      - motrex
      - autochip
    - tags:
        - assessors
        - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
        - mapkit


  Увеличение пина ДС на маршруте при тапе в него:
    - info: Меню - Настройки - Developer settings - Misc - Road event card - ON
    - do: Построить маршрут через кнопку "Отсюда", проходящий через несколько ДС, не подтверждать его
    - assert: Иконки ДС выделены на маршруте
    - do: Тап в ДС на линии маршрута
    - assert: |
        - Пин увеличился в размерах
        - Показалась карточка ДС

    - platforms:
      - motrex
      - autochip
      - geely
      - carsharing_t3
      - ios
      - android
      - t3am
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
      - mapkit


  Увеличение пина ДС на подложке при тапе в него:
    - do: |
        На карте Москвы призумиться к одному из пинов ДС
        Тап в ДС
    - assert: |
        - Пин увеличился в размерах
        - Показалась карточка ДС
    - do: Тап другой пин ДС в пределах видимости первого
    - assert: |
        - Выделение с первого пина пропало, пин стал обычных размеров, не выделен
        - Второй пин увеличился в размерах, показалась карточка второго пина

    - platforms:
      - motrex
      - autochip
      - geely
      - carsharing_t3
      - ios
      - android
      - t3am
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
      - mapkit


  Карточка ДС. Среднее состояние:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
    - do: |
        Найти ДС с большим количеством текста (часто встречается на дорожных работах в мск), или создать самостоятельно.
        Тап на ДС
    - assert: Карточка ДС раскрывается в максимальное состояние
    - do: Свайпнуть карточку вниз
    - assert: Карточка сворачивается в среднее состояние
    - do: |
        Свернуть карточку в минимальное состояние свайпом вниз.
        Развернуть в среднее свайпом вверх
    - assert: Карточка разворачивается в среднее состояние
    - do: |
        Открыть ДС с большим кол-вом текста в альбомной ориентации.
        Немного просвайпать текст.
        Свернуть в среднее состояние
    - assert: Заголовок карточки ДС отображается корректно
    - do: Повторить шаги для разных видов ДС (дорожные работы, камеры на маршруте, перекрытия, разговорчики и т.д.)
    - assert: Поведение аналогичное

    - platforms:
        - ios
        - android
        - t3am
        - carsharing_t3
        - motrex
        - autochip
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Карточка ДС. Минимальное состояние:
    - info: |
        Пользователь должен быть авторизованным в навигаторе
        Для республики Беларусь нужно иметь привязанный номер телефона
    - do: |
        Тап на карточку ДС
        Свайпом вниз свернуть до минимального состояния
    - assert: Карточка сворачивается в минимальное состояние, видно иконку и тип ДС
    - do: Поменять ориентацию устройства, свернуть карточку в минимальное состояние
    - assert: Карточка сворачивается, отображается корректно
    - do: |
        Развернуть карточку в среднее состояние
        Свайпом вниз свернуть в минимальное
    - assert: Карточка сворачивается в минимальное состояние
    - do: Повторить шаги для разных видов ДС (дорожные работы, камеры на маршруте, перекрытия, разговорчики и т.д.)
    - assert: Поведение аналогичное

    - platforms:
      - t3am
      - carsharing_t3
      - motrex
      - geely
      - autochip
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  ДС. Две камеры в одной точке:
    - info: |
        При ведении по маршруту двойное дс схлопывается в одно дс (на высокой скорости)
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.7d59fdf.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=55.576421&lon_from=37.596645&lat_to=55.667414&lon_to=37.623507`
        Подтвердить маршрут и запутстить симуляцию ведения через дебаг панель
        Установить скорость более 110 км/ч
    - assert: |
        На маршруте встречаются двойные ДС камер и иконки камер "на все".
        Алерт камеры (красное мерцание при превышении) показывается из под центра иконки, равномерен.
    - do: Тап на двойное ДС
    - assert: |
        Иконка увеличивается
        Открывается карточка ДС
        Алерт камеры (красное мерцание при превышении) показывается из под центра иконки, равномерен.
    - do: Закрыть карточку тапом по крестику
    - assert: |
        Карточка закрывается
        Иконка ДС перестает быть выделенной

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Дорожное событие на карте:
    - do: Тап по любому ДС на карте
    - assert: Пин выбранного ДС увеличился
    - do: Сделать тап на всех видах ДС (ДТП, Дорожные работы, Перекрытие, Разговорчики)
    - assert: Каждый из этих типов Дорожных Событий увеличивается при тапе (на карте)

    - platforms:
      - t3am
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  ДС. Проверка работы интентов отключения настроек ДС:
    - info: |
        Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        Второй и более запуск приложения
    - do: |
        Прокинуть на девайс интент:
        Android:
        `adb shell am start -a android.intent.action.VIEW -d "yandexnavi://set_setting?name=roadEventModes_v2&value=Other,Accident&client=141&signature=G8yA%2BaNQF0zaSThxD4Nv54mU60yZi5Cf10tHgLbUq9UjOpjT6u28MKwz9FKtmhqcy2bqVqlfeVutZfDX%2F52HiQ%3D%3D"`
        iOS:
        `yandexnavi://set_setting?name=roadEventModes_v2&value=Other,Accident&client=141&signature=G8yA%2BaNQF0zaSThxD4Nv54mU60yZi5Cf10tHgLbUq9UjOpjT6u28MKwz9FKtmhqcy2bqVqlfeVutZfDX%2F52HiQ%3D%3D`
    - assert: Зайти в Меню > Настройки > Дорожные события > Отображение на карте - включены только ДТП и Прочее
    - do: |
        Зайти в Меню > Настройки > Дорожные события > Отображение на карте > Проставить все тумблеры в положение ВКЛ
        Зайти там же в "Камеры" и поставить отображение "Все камеры" ВКЛ в разделе "Камеры на маршруте"
    - assert: На карте отображаются все дорожные события
    - do: |
        Прокинуть интенты:
        Android:
        `adb shell am start -a android.intent.action.VIEW -d "yandexnavi://update_flag_setting?name=roadEventModes_v2&on=Other,SpeedControl&off=Accident&client=141&signature=EX7PZovVhv6PxEfuKZUHg6g3hMrdYjmpTyoT7mbbNLPgD5QgTGeXmNXs16Eop3JI%2BCmDeYfOfG%2FdpeMFEfhtkA%3D%3D"`
        iOS:
        `yandexnavi://update_flag_setting?name=roadEventModes_v2&on=Other,SpeedControl&off=Accident&client=141&signature=EX7PZovVhv6PxEfuKZUHg6g3hMrdYjmpTyoT7mbbNLPgD5QgTGeXmNXs16Eop3JI%2BCmDeYfOfG%2FdpeMFEfhtkA%3D%3D`
    - assert: В настройках "дорожные события" выключены  "ДТП"

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Открытие карточки ДС на карте. Камера контроля скорости:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Камера конроля скорости - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.749400;53.312000`
        Тап на иконку ДС на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Камера контроля скорости:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> Камера конроля скорости - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.248a5ec.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.719249&lon_from=53.240901&lat_to=58.725038&lon_to=53.259082`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: Запущено ведение по маршруту
    - do: Тап на иконку ДС камера на скорость на маршруте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на карте. Камера контроля полосы:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Камера конроля полосы - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.738800;53.297300`
        Тап на иконку ДС камера на полосу на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Камера контроля полосы:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> Камера конроля полосы - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.ad88c73.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.740079&lon_from=53.301107&lat_to=58.737229&lon_to=53.292143`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: Запущено ведение по маршруту
    - do: Тап на иконку ДС камера на полосу на маршруте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на карте. Камера на разметку:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Камера на разметку - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.698015;53.226687`
        Тап на иконку ДС камера на разметку на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Камера на разметку:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> Камера на разметку - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.ad88c73.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.740079&lon_from=53.301107&lat_to=58.737229&lon_to=53.292143`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: Запущено ведение по маршруту
    - do: Тап на иконку ДС камера на разметку на маршруте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на карте. Камера на остановку:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Камера на остановку - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.725200;53.260200`
        Тап на иконку ДС камера на остановку на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Камера на остановку:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> Камера на остановку - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download-3.568b764.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.726373&lon_from=53.264895&lat_to=58.723967&lon_to=53.254045`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: Запущено ведение по маршруту
    - do: Тап на иконку ДС камера на разметку на маршруте
    - assert: |
        Иконка ДС становится выделено
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на карте. Камера контроля проезда перекрестков:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Камера контроля проезда перекрестков - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.680755;53.169662`
        Тап на иконку ДС камера контроля проезда перекрестков на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Камера контроля проезда перекрестков:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> Камера контроля проезда перекрестков - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download-4.1a88071.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.683050&lon_from=53.178080&lat_to=58.679916&lon_to=53.162800`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: |
        Запущено ведение по маршруту
    - do: Тап на иконку ДС камера контроля проезда перекрестков на маршруте
    - assert: |
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
       Карточка закрылась
       Отображается карта
       Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на карте. ДТП:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> ДТП - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.735000;53.281200`
        Тап на иконку ДС ДТП на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. ДТП:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> ДТП - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.2eecf5b.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.732648&lon_from=53.270085&lat_to=58.736175&lon_to=53.287301`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: |
        Иконка ДС становится выделеной
        Запущено ведение по маршруту
    - do: Тап на иконку ДС ДТП на маршруте
    - assert: |
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на карте. Дорожные работы:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Дорожные работы - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.730800;53.268100`
    - do: Тап на иконку ДС дорожные работы на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Дорожные работы:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> Дорожные работы - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.cacd7f1.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.728462&lon_from=53.267244&lat_to=58.733594&lon_to=53.273267`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: |
        Запущено ведение по маршруту
    - do: Тап на иконку ДС дорожные работы на маршруте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на карте. Перекрытия:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Перекрытия - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.671014;53.129402`
    - do: Тап на иконку ДС дорожные работы на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Перекрытия:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> Перекрытия - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.d1cb37d.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.670073&lon_from=53.123477&lat_to=58.672061&lon_to=53.134827`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: Запущено ведение по маршруту
    - do: Тап на иконку ДС перекрытие на маршруте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на карте. Разговорчики:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Разговорчики - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.701542;53.236767`
        Тап на иконку ДС разговорчики на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Лайк" и "дизлайк"
    - do: Тап крестик в карточке
    - assert: |
        - Карточка закрылась
        - Отображается карта
        - Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Разговорчики:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> Разговорчики - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.d1cb37d.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.670073&lon_from=53.123477&lat_to=58.672061&lon_to=53.134827`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: |
        Запущено ведение по маршруту
    - do: Тап на иконку ДС разговорчики на маршруте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Лайк" и "Дизлайк"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на карте. Прочее:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Прочее - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.661300;53.093200`
        Тап на иконку ДС прочее на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Прочее:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> Прочее - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.ac368ef.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.656857&lon_from=53.084859&lat_to=58.663459&lon_to=53.106323`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: Запущено ведение по маршруту
    - do: Тап на иконку ДС прочее на маршруте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на карте. Разведение мостов:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Разведение мостов - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.686100;53.192300`
        Тап на иконку ДС разведение мостов на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Разведение мостов:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> Разведение мостов - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.6c3f78e.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.683883&lon_from=53.181384&lat_to=58.687611&lon_to=53.204621`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: Запущено ведение по маршруту
    - do: Тап на иконку ДС разведение мостов на маршруте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на карте. Мобильная засада:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Мобильная засада - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.687789;53.206099`
        Тап на иконку ДС мобильная засада на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Мобильная засада:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> Мобильная засада - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.1aadc3f.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.689871&lon_from=53.211935&lat_to=58.686678&lon_to=53.198709`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: Запущено ведение по маршруту
    - do: Тап на иконку ДС мобильная засада на маршруте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на карте. Опасный перекресток:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Опасный перекресток - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.692955;53.217583`
        Тап на иконку ДС опасный перекресток на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Опасный перекресток:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На маршруте -> Опасный перекресток - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.e9be313.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.697160&lon_from=53.224683&lat_to=58.689517&lon_to=53.211413`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: Запущено ведение по маршруту
    - do: Тап на иконку ДС опасный перекресток на маршруте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на карте. Опасный участок для обгона:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Опасный перекресток - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.662500;52.978200`
        Тап на иконку ДС опасный участок для обгона на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Опасный участок для обгона:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение -> На маршруте -> Опасный перекресток -> Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.9abe6ad.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.661236&lon_from=52.986003&lat_to=58.665479&lon_to=52.963578`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: Запущено ведение по маршруту
    - do: Тап на иконку ДС опасный участок для обгона на маршруте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Открытие карточки ДС на маршруте. Рядом школа:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение -> На маршруте -> Рядом школа - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download-1.d3501ad.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.653284&lon_from=53.011510&lat_to=58.652281&lon_to=53.000729`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: Запущено ведение по маршруту
    - do: Тап на иконку ДС рядом школа на маршруте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Проверка работы интентов отключения настроек ДС:
    - info: |
        Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        Второй и более запуск приложения
    - do: |
        Прокинуть на девайс интент:
        Android:
        `adb shell am start -a android.intent.action.VIEW -d "yandexnavi://set_setting?name=roadEventModes_v2&value=Other,Accident&client=141&signature=G8yA%2BaNQF0zaSThxD4Nv54mU60yZi5Cf10tHgLbUq9UjOpjT6u28MKwz9FKtmhqcy2bqVqlfeVutZfDX%2F52HiQ%3D%3D"`
        iOS:
        `yandexnavi://set_setting?name=roadEventModes_v2&value=Other,Accident&client=141&signature=G8yA%2BaNQF0zaSThxD4Nv54mU60yZi5Cf10tHgLbUq9UjOpjT6u28MKwz9FKtmhqcy2bqVqlfeVutZfDX%2F52HiQ%3D%3D`
    - assert: Зайти в Меню > Настройки > Дорожные события > Отображение на карте - включены только ДТП и Прочее
    - do: |
        Зайти в Меню - Настройки - Дорожные события - Отображение на карте - Проставить все тумблеры в положение ВКЛ
    - assert: На карте отображаются все дорожные события
    - do: |
        Прокинуть интенты:
        Android:
        `adb shell am start -a android.intent.action.VIEW -d "yandexnavi://update_flag_setting?name=roadEventModes_v2&on=Other,SpeedControl&off=Accident&client=141&signature=EX7PZovVhv6PxEfuKZUHg6g3hMrdYjmpTyoT7mbbNLPgD5QgTGeXmNXs16Eop3JI%2BCmDeYfOfG%2FdpeMFEfhtkA%3D%3D"`
        iOS:
        `yandexnavi://update_flag_setting?name=roadEventModes_v2&on=Other,SpeedControl&off=Accident&client=141&signature=EX7PZovVhv6PxEfuKZUHg6g3hMrdYjmpTyoT7mbbNLPgD5QgTGeXmNXs16Eop3JI%2BCmDeYfOfG%2FdpeMFEfhtkA%3D%3D`
    - assert: В настройках "дорожные события" выключены  "ДТП"

    - platforms:
      - ios
      - android
    - tags:
      - assessors


  Открытие карточки ДС на карте. Опасные участки:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение ->  На карте -> Рядом школа - Вкл
        Открыта главная карта
    - do: |
        Осуществить поиск по координатам `58.665463;53.111511`
        Тап на иконку ДС опасный участок на карте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin
      - mapkit


  Открытие карточки ДС на маршруте. Опасные участки:
    - do: |
        Меню -> Настройки -> Дорожные события -> Отображение -> На маршруте -> Рядом школа - Вкл
        Открыта главная карта
    - do: |
        Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download-2.4e7db4b.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=58.668328&lon_from=53.117237&lat_to=58.663558&lon_to=53.106827`
    - do: |
        Тап Поехали
        Запустить симуляцию ведения по маршрут через дебаг-панель
    - assert: Запущено ведение по маршруту
    - do: Тап на иконку ДС опасный участок на маршруте
    - assert: |
        Иконка ДС становится выделеной
        Открывается карточка ДС, содержащая:
        - Заголовок с иконкой
        - Описание (опционально)
        - Дату добавления и имя аккаунта, добавившего ДС
        - Кнопки "Уже нет" и "Ещё есть"
    - do: Тап крестик в карточке
    - assert: |
        Карточка закрылась
        Отображается карта
        Иконка ДС перестает быть выделеной

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - both_myspin
    - testing:
      - acceptance_navi
    - integration_run:
      - myspin


  Плашка на расстояние до камеры:
    - do: Построить маршрут проходящий через камеру (маршрут должен начинаться более чем за 500 метров от камеры) и запустить движение по маршруту со скоростью 100км или более
    - assert: |
        Курсор двигается по маршруту
        При приближении к камере за 500 метров начинает отображаться плашка на камеру, по мере приближения к камере расстояние до нее уменьшается в плашке
    - do: Дождаться пока курсор проедет камеру для которой отображается плашка
    - assert: После проезда плашка перестает отображаться (искл. если следом идет еще одна камера)

    - testing:
      - acceptance_navi
    - platforms:
      - android
      - ios
    - tags:
      - assessors


  Плашка на расстояние до камеры. Ориентация приложения:
    - info: Построить маршрут проходящий через камеры (маршрут должен начинаться более чем за 500 метров от камеры)
    - do: |
        Запустить движение по маршруту со скоростью 100км или более
        При приближении к камере за 500 метров начинает отображаться плашка на камеру
        Изменить ориентацию приложения
    - assert: |
        При изменении ориентации плашка на камеру не ломается и продолжает отображаться

    - testing:
      - acceptance_navi
    - platforms:
      - android
      - ios
    - tags:
      - assessors


  Дорожное событие, адаптация к зуму:
    - do: Построить маршрут через любые ДС (лонгтап по карте -> Тап "Сюда" -> Тап "Поехали" )
    - assert: На маршруте отобразились пины ДС
    - do: Смотря на любой пин ДС (например камера) отзумить (кнопка "Минус") карту так, что бы пин пропал
    - assert: На построенном маршруте не отображается пин камеры при большом отзумливании. (Если видны другие пины ДС - отзумить больше (кнопка "Минус" на карте))
    - do: Призумливать (Кнопка "Плюс") карту пока не произойдет видимое увеличение пина на карте
    - assert: происходит увеличение пина ДС (увеличивается только 1 раз после уменьшения!)
    - do: Отзумить (кнопка "Минус") карту, пока не произойдет уменьшение пина ДС
    - assert: Происходит уменьшение пина ДС (уменьшается только 1 раз после увеличения!)

    - platforms:
        - t3am
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Проверка настроек Дорожных событий:
    - do: Открыть Меню -> Настройки -> Карта и интерфейс -> Дорожные события -> На карте
    - assert: |
        Открывается раздел настроек ДС на карте:
          Показывать
          Далее блок: Камеры
            Камера контроля полосы
            Камера контроля скорости
            Камера на остановку
            Камера на разметку
            Мобильная засада
            Камера контроля проезда перекрестка
          Далее блок: Другие события
            ДТП
            Дорожные работы
            Разговорчики
            Перекрытие
            Опасные участки
            Разведение мостов
            Прочее
    - do: Открыть Меню -> Настройки -> Карта и интерфейс -> Дорожные события -> На маршруте
    - assert: |
        Открывается раздел настроек ДС на маршруте:
          Показывать
          Далее блок: Камеры
            Камера контроля полосы
            Камера контроля скорости
            Камера на остановку
            Камера на разметку
            Мобильная засада
            Камера контроля проезда перекрестка
            Пользовательская камера
          Далее блок: Другие события
            ДТП
            Дорожные работы
            Разговорчики
            Перекрытие
            Опасные участки
            Опасный участок для обгона
            Могут быть пешеходы
            Опасный перекресток
            Рядом школа
            Разведение мостов
            Прочее

    - platforms:
        - nissan
        - renault
        - carsharing_t3
        - t3am
        - motrex
        - autochip
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Синхронизация настроек ДС при авторизации:
    - info: |
        Авторизоваться на двух девайсах одним и тем же аккаунтом. Для Республики Беларусь нужно иметь привязанный номер телефона.
    - do: |
        Перейти в настройки на обоих девайсах:
        Меню -> Настройки -> Дорожные события -> Отображение -> На карте
    - assert: Открываются настройки ДС
    - do: На девайсе А изменить положение свитчеров у настроек
    - assert: |
        На девайсе В применяются все настройки, выбранные на девайсе А
        (возможно придется подождать около минуты для синхронизации, выйти из настроек и зайти обратно)
    - do: На девайсе В изменить положение свитчеров у настроек
    - assert: |
        На девайсе А применяются все настройки, выбранные на девайсе В
        (возможно придется подождать около минуты для синхронизации, выйти из настроек и зайти обратно)

    - platforms:
        - nissan
        - renault
        - carsharing_t3
        - t3am
        - motrex
        - autochip
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - am_sdk



  Дорожные события. Установка отключеных для показа ДС:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
        Настройки -> Карта и интерфейс -> Дорожные события -> На карте -> Выкл все свитчеры
        Настройки -> Карта и интерфейс -> Дорожные события -> На маршруте -> Выкл все свитчеры
        DevSettings -> Misc -> Fast day&night switching -> Вкл
        Перезапустить приложение
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать "ДТП"
        - Тап "Установить" в правом верхнем углу экрана.
    - assert: Появляется сообщение об успешной установке точки.
    - do: Подвигать карту в месте, где была произведена установка точки. Приблизить карту к этому месту.
    - assert: На карте отображается пин установленного ДС. Пин может прорастать до 3 мин
    - do: Перезапустить приложение
    - assert: На карте не отображается пин установленного ДС

    - platforms:
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - android
        - t3am
        - motrex
        - autochip
        - second_run_hu
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Дорожные события. Отключение показа ДС на карте:
    - do: |
        Настройки -> Карта и интерфейс -> Дорожные события -> На карте -> Вкл все свитчеры
        DevSettings -> Misc -> Fast day&night switching -> Вкл
        Перезапустить приложение
    - do: |
        - Открыть экран Карта
        - Скролить карту в разных направлениях
    - assert: На карте отображаются ДС
    - do: |
        - Настройки -> Карта и интерфейс -> Дорожные события -> На карте -> Выключить все свитчеры
        - Перейти на экран Карта
        - Скролить карту в разных направлениях
    - assert: На карте отсутствуют ДС

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Дорожные события. Включение показа ДС на карте:
    - do: |
        Настройки -> Карта и интерфейс -> Дорожные события -> На карте -> Выкл все свитчеры
        DevSettings -> Misc -> Fast day&night switching -> Вкл
        Перезапустить приложение
    - do: |
        - Открыть экран Карта
        - Скролить карту в разных направлениях
    - assert: ДС на карте не отображаются
    - do: |
        - Настройки -> Карта и интерфейс -> Дорожные события -> На карте -> Включить все свитчеры
        - Перейти на экран Карта
        - Скролить карту в разных направлениях
    - assert: На карте отображаются ДС

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  (motrex) Дорожные события. Установка. ДТП:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
        Меню - Настройки - Дорожные события - Отображение - На карте - Показывать - Вкл
        Включить все свитчеры
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать "ДТП"
    - assert: Отсутствует возможность написать комментарий к ДС
    - do: Тап на "Установить" в правом верхнем углу экрана.
    - assert: Появляется сообщение об успешной установке точки.
    - do: Подвигать карту в месте, где была произведена установка точки. Приблизить карту к этому месту.
    - assert: На карте отображается пин установленного ДС

    - platforms:
        - motrex
        - autochip
        - second_run_hu
    - testing:
        - acceptance_navi
    - integration_run:
        - alice
    - tags:
        - assessors


  (motrex) Дорожные события. Установка. Камеры.:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
        Меню -> Настройки -> Карта и интерфейс -> Дорожные события -> На карте -> Свитчер у Показывать - Включен
        Включить все свитчеры
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать ДС камера
        - Тап "Установить" в правом верхнем углу экрана.
    - assert: Появляется сообщение об успешной установке точки "Точка установлена"
    - do: Подвигать карту в месте, где была произведена установка точки. Приблизить карту к этому месту.
    - assert: На карте отображается пин установленного ДС.

    - platforms:
        - motrex
        - autochip
        - second_run_hu
    - testing:
        - acceptance_navi
    - integration_run:
        - alice
    - tags:
        - assessors


  (motrex) Дорожные события. Установка. Камеры с комментарием:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
        Меню -> Настройки -> Карта и интерфейс -> Дорожные события -> На карте -> Свитчер у Показывать - Включен
        Включить все свитчеры
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать ДС камера
        - Тап на строку ввода комментария и ввести любой текст
        - Тап "Готово"
        - Тап "Установить"
    - assert: Появляется сообщение об успешной установке точки "Точка установлена"
    - do: Подвигать карту в месте, где была произведена установка точки. Приблизить карту к этому месту.
    - assert: На карте отображается пин установленного ДС. (пин может прорастать до 1 мин.)
    - do: Тап на появившийся пин.
    - assert: Открывается карточка с текстом

    - platforms:
        - motrex
        - autochip
        - second_run_hu
    - testing:
        - acceptance_navi
    - integration_run:
        - alice
    - tags:
        - assessors


  (motrex) Дорожные события. Установка. Разговорчики.:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
    - do: Тап на кнопку установки ДС
    - assert: |
        Разгорчики отсуствуют
        Mожно выбрать только ДТП/Дорожные работы/Камера контроля скорости/Прочее/Ошибка
    - do: |
        - Закрыть меню установки ДС
        - Вызвать Алису
    - assert: Снизу появляется плашка Алисы
    - do: Произнести команду "Добавь разговорчик"
    - assert: Алиса задает вопрос "Что написать?"
    - do: Продиктовать текст разговоричика
    - assert: |
        - Алиса подтверждает установку дорожного события.
        - На экране появляется сообщение "Точка установлена"
    - do: Подвигать карту в месте, где была произведена установка точки. Приблизить карту к этому месту.
    - assert: На карте отображается пин установленного ДС. (пин может прорастать до 1 мин.)
    - do: Тап на появившийся пин.
    - assert: Снизу появляется карточка пина с текстом

    - platforms:
        - motrex
        - autochip
        - second_run_hu
    - testing:
        - acceptance_navi
    - integration_run:
        - alice
    - tags:
        - assessors


  (motrex) Дорожные события. Установка. Ошибка.:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
    - do: |
        - Тап на кнопку установки ДС
        - Выбрать "Ошибку"
    - assert: |
        Тип ДС “Ошибка” выбран
        У ошибки 3 подпункта : "Нет проезда"; "Поворот"; "Шлагбаум"
    - do: Выбрать один или несколько подтипов
    - assert: Подтипы отобразились в строке комментария
    - do: Тап по Установить
    - assert: |
        Ошибка установилась
        Отобразилось "Спасибо"
        Время жизни ДС Ошибка несколько секунд, скорее всего не отобразится

    - platforms:
        - motrex
        - autochip
        - second_run_hu
    - testing:
        - acceptance_navi
    - integration_run:
        - alice
    - tags:
        - assessors


  Проверка нового стиля дорожных событий по маршруту (JSON кастомизация):
    - info:  |
        В данном кейсе проверяется блок стиля roadEvents и дефолтный json выглядит так
        {
          "roadEvents.zoom":  {
            "map_0_15": {
              "chatScale": {
                "onRoute": "0.9",
                "notOnRoute": "0.8"
              },
              "otherScale": {
                "onRoute": "0.9",
                "notOnRoute": "0.8"
              },
              "defaultScale": {
                "onRoute": "1.2",
                "notOnRoute": "0.8"
              }
            },
            "map_15_16": {
              "chatScale": {
                "onRoute": "1.1",
                "notOnRoute": "0.9"
              },
              "otherScale" {
                "onRoute": "1.1",
                "notOnRoute": "0.9"
              },
              "defaultScale": {
                "onRoute": "1.4",
                "notOnRoute": "0.9"
              }
            },
            "map_16_max": {
              "chatScale": {
                "onRoute": "1.2",
                "notOnRoute": "1"
              },
              "otherScale": {
                "onRoute": "1.2",
                "notOnRoute": "1"
              },
              "defaultScale": {
                "onRoute": "1.5",
                "notOnRoute": "1"
              }
            }
          }
        }

        Открыт сайт pastebin.com
        На сервисе в поле New Paste прописываем дефолтный JSON, внести изменения в параметр onRoute (размеры дорожных событий по маршруту), задаем ему имя и тапаем по create New Paste. В открывшимся окне тапаем по raw, открывшейся url в дальнейшем используем в настройках.
        Либо использовать готовый URL: https://pastebin.com/raw/K7ubWLeg
        Меню - Настройки - Dev Settings - Misc - Fast day&night switching - On
        Меню - Настройки - Dev Settings - Misc - Debug info enable - On
        Перезапустить навигатор
    - do: |
        Построить маршрут через несколько ДС
        Тап Поехали
    - assert: На линии маршрута отображаются пины дорожных событий.
    - do: |
        Позумить карту от 0 до 14.99
        Позумить карту от 15 до 15.99
        Позумить карту от 16 и более
    - assert: Запомнить визуально размер ДС на каждом из вариантов зума.
    - do: |
        Меню - Настройки - Dev Setting - Navi Styles - Debug style url прописать URL, полученный в pastebin или взять готовый https://pastebin.com/raw/K7ubWLeg
        Перезапустить навигатор.
    - assert: Креши отсутствуют, навигатор запускается.
    - do: |
        Построить маршрут через несколько видов ДС
        Тап Поехали
        Установить зум от 0 до 14.99
    - assert: Размер ДС по маршруту устанавливается, согласно новому JSON. Например, если использовать URL из примера, то размер ДС будет еле заметен на маршруте.
    - do: Установить зум от 15 до 15.99
    - assert: Размер ДС по маршруту устанавливается, согласно новому JSON. Например, если использовать URL из примера, то размер ДС будет дефолтным (т.е. таким же как до ввода URL)
    - do: Установить зум от 16 и более
    - assert: Размер ДС по маршруту устанавливается, согласно новому JSON. Например, если использовать URL из примера, то размер ДС будет огромным.
    - do: |
        Внести ошибку в JSON, например добавить любой комментарий в любой строке // и пересоздать URL на pastebin.com (Например, https://pastebin.com/raw/kc96iQNx)
        Меню - Настройки - Dev Setting - Navi Styles - Debug style url - Вбить полученный урл
        Перезагрузить навигатор
        Построить маршрут любым способом
        Тап Поехали
    - assert: Маршрут строится. ДС по маршруту дефолтного размера, как и до ввода первого URL в начале тестирования кейса.

    - integration_run:
        - mapkit
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - tags:
        - not_suitable_for_farm


  Проверка нового стиля дорожных событий не на маршруте (JSON кастомизация):
    - info: |
        notOnRoute отвечает за размер пользовательских ДС, которые пользователь сам создает. Т.е. перед проверкой неободимо установить несколько ДС.
        Дефолтный json выглядит так
                {
                  "roadEvents.zoom":  {
                    "map_0_15": {
                      "chatScale": {
                        "onRoute": "0.9",
                        "notOnRoute": "0.8"
                      },
                      "otherScale": {
                        "onRoute": "0.9",
                        "notOnRoute": "0.8"
                      },
                      "defaultScale": {
                        "onRoute": "1.2",
                        "notOnRoute": "0.8"
                      }
                    },
                    "map_15_16": {
                      "chatScale": {
                        "onRoute": "1.1",
                        "notOnRoute": "0.9"
                      },
                      "otherScale" {
                        "onRoute": "1.1",
                        "notOnRoute": "0.9"
                      },
                      "defaultScale": {
                        "onRoute": "1.4",
                        "notOnRoute": "0.9"
                      }
                    },
                    "map_16_max": {
                      "chatScale": {
                        "onRoute": "1.2",
                        "notOnRoute": "1"
                      },
                      "otherScale": {
                        "onRoute": "1.2",
                        "notOnRoute": "1"
                      },
                      "defaultScale": {
                        "onRoute": "1.5",
                        "notOnRoute": "1"
                      }
                    }
                  }
                }

        Открыт сайт pastebin.com
        Для этого на сервисе pastebin в поле New Paste прописываем дефолтный JSON, вносим изменения в параметр notOnRouteRoute (размеры дорожных событий вне маршрута), задаем ему имя и тапаем по create New Paste. В открывшимся окне тапаем по raw и открывшейся url в дальнейшем используем в настройках.
        Например, URL с изменениями выглядит так https://pastebin.com/raw/K7ubWLeg
        Меню - Настройки - Dev Settings - Misc - Fast day&night switching - On
        Меню - Настройки - Dev Settings - Misc - Debug info enable - On
        Перезапустить навигатор.
    - do: Установить несколько ДС на карте
    - assert: ДС проросли спустя некоторое время.
    - do: |
        Позумить карту от 0 до 14.99
        Позумить карту от 15 до 15.99
        Позумить карту от 16 и более
    - assert: Запомнить визуально размер ДС на каждом из вариантов зума.
    - do: |
        Меню - Настройки - Dev Setting - Navi Styles - Debug style url - прописать URL, полученный в pastebin или взять готовый https://pastebin.com/raw/K7ubWLeg
        Перезапустить навигатор.
    - assert: Креши отсутствуют, навигатор запускается.
    - do: Установить зум от 0 до 14.99
    - assert: Размер ДС по маршруту устанавливается, согласно новому JSON. Например, если использовать URL из примера, то размер ДС будет такой же, как и до ввода URL (дефолтный)
    - do: Установить зум от 15 до 15.99
    - assert: Размер ДС по маршруту устанавливается, согласно новому JSON. Например, если использовать URL из примера, то размер ДС будет несколько крупнее стандартного.
    - do: Установить зум от 16
    - assert: Размер ДС по маршруту устанавливается, согласно новому JSON. Например, если использовать URL из примера, то размер ДС будет еле заметен на карте.
    - do: Внести ошибку в JSON, например добавить любой комментарий в любой строке // и пересоздать URL на pastebin.com (Например, https://pastebin.com/raw/kc96iQNx)
        Меню - Настройки - Dev Settings - Navi Styles - Debug style url - Вбить полученный урл
        Перезагрузить навигатор.
    - assert: ДС который установил пользователь (не по маршруту) дефолтного размера, как и до ввода первого URL в начале тестирования кейса.

    - integration_run:
        - mapkit
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - tags:
        - not_suitable_for_farm


  Cкролл внутри карточки ДС:
    - info: |
        Меню - Настройки - Developer settings - Misc - fast day & night switching = On
        Перезапустить приложение
    - do: Тап на любое ДС на карте, в карточке которого присутствует много информации (например, разговорчик). Если такой ДС отсутствует, добавить вручную разговорчик, содержащий большой комментарий.
    - assert: В зависимости от длины комментария, в карточке появляется возможность скролла информации
    - do: Сменить ориентацию девайса
    - assert: В зависимости от длины комментария, в карточке появляется возможность скролла информации

    - platforms:
        - t3am
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  ДС по маршруту:
    - info: |
        Меню - Настройки - Developer settings - Misc - fast day & night switching = On
        Перезапустить приложение
        Построен и запущен маршурт, проходящий через несколько ДС
    - do: Тап на любой ДС на маршруте
    - assert: Открывается карточка ДС
    - do: Тап на другие ДС, расположенные на линии маршрута
    - assert: Открываются карточки ДС

    - platforms:
        - t3am
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Смена темы день/ночь в открытой карточке ДС:
    - info: |
        Меню - Настройки - Developer settings - Misc - fast day & night switching - On
        Перезапустить приложение
    - do: Тап на любое ДС на карте
    - assert: |
        Внизу открывается карточка ДС с кнопками "Уже нет", "Еще есть" и кнопкой закрытия в правом верхнем углу
        Тема карточки соответсвует теме приложения
    - do: Дождаться смены темы на противоположную
    - assert: Тема карточки соответсвует теме приложения
    - do: Сменить ориентацию девайса
    - assert: Артефакты противоположной темы отсутствуют

    - platforms:
        - t3am
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Смена ориентации при открытой карточке ДС:
    - info: Девайс в портретной ориентации
    - do: Тап на пин ДС на карте
    - assert: |
        Внизу открывается карточка ДС с кнопками "Уже нет", "Еще есть"(или Лайк/дизлайк для Разговорчика) и кнопкой закрытия в правом верхнем углу.
    - do: Сменить ориентацию девайса на landscape.
    - assert: |
        Границы карточки не ломаются
        Кнопка Х располагается в верхнем правом углу карточки
        Текст внутри карточки отображается корректно
        Кнопки располагаются “Уже нет”, “Еще есть” внизу экрана
    - do: |
        Закрыть карточку свайпом вниз.
        Тап на пин другого ДС на карте.
    - assert: Внизу открывается карточка ДС с кнопками "Уже нет", "Еще есть" (или Лайк/дизлайк для Разговорчика) и кнопкой закрытия в правом верхнем углу.
    - do: Сменить ориентацию девайса на портретную.
    - assert: |
        Границы карточки не ломаются
        Кнопка Х располагается в верхнем правом углу карточки
        Текст внутри карточки отображается корректно
        Кнопки располагаются "Уже нет", "Еще есть" внизу экран

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Поведение карточки ДС в оффлайн:
    - info: |
        Меню - Настройки - Developer settings - Misc - fast day & night switching - On
        Перезапустить приложение
        Построен и запущен маршрут через несколько ДС
    - do: Включить авиарежим
    - assert: |
        Маршрут по - прежнему окрашен, согласно загруженности маршрута по пробкам
        Пины ДС по маршруту присутствуют
    - do: Тап на ДС по маршруту
    - assert: Открывается пустая карточка ДС
    - do: Тап другие ДС по маршруту
    - assert: Открываются пустые карточки ДС

    - platforms:
        - t3am
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Взаимодействие с кнопкой "Уже нет" в карточке ДС:
    - info: |
        Меню - Настройки - Developer settings - Misc - fast day & night switching - On
        Перезапустить приложение
        Построен и подтвержден маршрут проходящий через несколько ДС
    - do: Тап на любой ДС на маршруте недалеко от местоположения
    - assert: Показывается карточка ДС
    - do: Тап по кнопке "Уже нет"
    - assert: Появляется тост "Спасибо!"
    - do: |
        Тап на любой ДС на карте
        Тап по кнопке "Уже нет"
    - assert: |
        Появляется тост "Спасибо!"
        Ограничения в голосовании отсутствуют

    - platforms:
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - android
        - t3am
        - motrex
        - autochip
        - second_run_hu
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Взаимодействие с кнопкой "Еще есть" в карточке ДС:
    - info: |
        Меню - Настройки - Developer settings - Misc - fast day & night switching - On
        Перезапустить приложение
        Построен и запущен маршрут проходящий через несколько ДС
    - do: Тап на любой ДС на карте недалеко от местоположения
    - assert: Открывается карточка ДС
    - do: Тап по кнопке "Еще есть"
    - assert: Появляется тост "Спасибо!"
    - do: |
        Тап на любой ДС на карте
        Тап по кнопке "Еще есть"
    - assert: |
        Появляется тост "Спасибо!"
        Ограничения в голосовании отсутствуют

    - platforms:
        - geely
        - vaz
        - carsharing_t3
        - ios
        - nissan
        - android
        - t3am
        - motrex
        - autochip
        - second_run_hu
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Закрытие карточки ДС:
    - info: |
        Для головных устройств игнорируем шаги про переворачивание экрана
        Меню - Настройки - Developer settings - Misc - fast day & night switching - On
        Перезапустить приложение
        Построен и подтвержден маршрут проходящий через несколько ДС
    - do: Тап на любой ДС на маршруте
    - assert: Открывыется карточка ДС
    - do: Тап Закрыть в карточке ДС
    - assert: |
        Закрывается ДС карточка
        Выделение с ДС снимается
    - do: |
        Сменить ориентацию девайса
        Тап на любой ДС на карте
    - assert: Открывается карточка ДС
    - do: Закрыть карточку
    - assert: Карточка ДС закрывается

    - platforms:
        - ios
        - android
        - t3am
        - motrex
        - autochip
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Подгрузка данных в карточке ДС при переходе в онлайн:
    - info: |
        Меню - Настройки - Developer settings - Misc - fast day & night switching - On
        Перезапустить приложение
        Включен авиарежим
    - do: Тап на ДС
    - assert: Появляется пустая карточка ДС
    - do: Отключить авиарежим
    - assert: Спустя некоторое время информация автоматически подгружается и корректно отображается в карточке ДС


    - platforms:
        - t3am
        - ios
        - android
    - testing:
        - acceptance_navi
    - tags:
        - assessors


  Проезд через ДС на маршруте, карточка которого открыта:
    - info: |
        Меню - Настройки - Developer settings - Misc - fast day & night switching - On
        Перезапустить приложение
        Построен маршрут на котором присутсвуют ДС и запущено ведение
    - do: Тап на ДС на маршруте которое еще не проехали
    - assert: Открывается карточка ДС
    - do: Проехать ДС не закрывая карточку
    - assert: |
        Курсор проехал ДС
        Карточка ДС открыта

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Карточка ДС и пины/пои:
    - info: |
        Меню - Настройки - Developer settings - Misc - fast day & night switching - On
        Перезапустить приложение
    - do: Тап на любой ДС
    - assert: Открывается карточка ДС
    - do: Тап на любой пин/пои на карте
    - assert: |
        Карточка ДС скрывается
        Открывается карточка организации/топонима

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Новые дорожные события для Ренессанса. Опасный перекресток:
    - info: |
        Меню - Настройки - Дорожные события - Отображение - На маршруте - Опасный перекресток - Вкл
        Меню - Настройки - Дорожные события - Звуковое предупреждение - Опасный перекресток - Вкл
        Меню - Настройки - Developer settings - Misc - fast day & night switching - On
        Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        Перезапустить приложение
    - do: |
        Построить маршрут интентом:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/маршрут-1.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=58.653337&lon_from=53.009234&lat_to=58.651525&lon_to=53.054224`
    - assert: Маршрут построен
    - do:  Не запуская маршрут(находясь на экране обзора), призумиться до зума 14 и ближе
    - assert: На маршруте появляется пин ДС Опасный перекресток
    - do: |
        Тап Поехали
        Запустить симуляцию движения со высокой скоростью(свыше 120 км/ч)
    - assert: |
        Начинается движение по маршруту
        Перед проездом ДС звучит аннотация о том, что впереди опасный перекресток
    - do: Тап на пин ДС "Опасный перекресток"
    - assert: |
        Открывается карточка ДС
        Текст и картинка в карточке соответствуют ДС

    - platforms:
        - carsharing_t3
        - ios
        - android
        - nissan
        - t3am
        - motrex
        - autochip
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Новые дорожные события для Ренессанса. Внимательнее, могут быть пешеходы:
    - info: |
        Меню - Настройки - Дорожные события - Отображение - На маршруте - Могут быть пешеходы - Вкл
        Меню - Настройки - Дорожные события - Звуковое предупреждение - Могут быть пешеходы - Вкл
        Меню - Настройки - Developer settings - Misc - fast day & night switching - On
        Меню - Настройки - Developer Settings - Misc - Debug info enable - On
        Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        Перезапустить приложение
    - do: |
        Построить маршрут интентом:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/маршрут-1.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=58.653337&lon_from=53.009234&lat_to=58.651525&lon_to=53.054224`
    - assert: Маршрут построен
    - do: Не запуская маршрут(находясь на экране обзора), призумиться до зума 14 и ближе
    - assert: На маршруте появляется пин ДС "Внимательнее, могут быть пешеходы"
    - do: |
        Тап Поехали
        Запустить симуляцию движения со высокой скоростью (свыше 120 км/ч)
    - assert: |
        Начинается движение по маршруту
        Перед проездом ДС звучит аннотация о том, что впереди могут быть пешеходы.
    - do: Тап на пин ДС "Внимательнее, могут быть пешеходы"
    - assert: |
        Открывается карточка ДС
        Текст и картинка в карточке соответствуют ДС.

    - platforms:
        - carsharing_t3
        - ios
        - android
        - nissan
        - t3am
        - motrex
        - autochip
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Новые дорожные события для Ренессанса. Опасный участок для обгона:
    - info: |
        Меню - Настройки - Дорожные события - Отображение - На маршруте - Опасный участок для обгона - Вкл
        Меню - Настройки - Дорожные события - Звуковое предупреждение - Опасный участок для обгона - Вкл
        Меню - Настройки - Developer settings - Misc - fast day & night switching - On
        Меню - Настройки - Developer Settings - Misc - Debug info enable - On
        Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        Перезапустить приложение
    - do: |
        Построить маршрут интентом:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/маршрут-1.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=58.653337\&lon_from=53.009234\&lat_to=58.651525\&lon_to=53.054224`
    - assert: Маршрут построен
    - do: Не запуская маршрут(находясь на экране обзора), призумиться до зума 14 и ближе
    - assert: На маршруте отображается пин ДС "Опасный участок для обгона"
    - do: |
        Тап Поехали
        Запустить симуляцию движения со высокой скоростью(свыше 120 км/ч)
    - assert: |
        Начинается движение по маршруту
        Перед проездом ДС звучит аннотация о том, что впереди Опасный участок для обгона
    - do: Тап на пин ДС "Опасный участок для обгона"
    - assert: |
        Открывается карточка ДС
        Текст и картинка в карточке соответствуют ДС

    - platforms:
        - carsharing_t3
        - ios
        - android
        - nissan
        - t3am
        - motrex
        - autochip
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Новые дорожные события для Ренессанса. Локализация ДС Опасный перекресток:
    - info: |
        Установить локаль en_RU
        Меню - Настройки - Дорожные события - Отображение - На маршруте - Опасный перекресток - Вкл
        Меню - Настройки - Дорожные события - Звуковое предупреждение - Опасный перекресток - Вкл
        Меню - Настройки - Developer Settings - Misc - Debug info enable - On
        Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        Перезагрузить приложение
    - do: |
        Построить маршрут интентом:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/маршрут-1.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=58.653337&lon_from=53.009234&lat_to=58.651525&lon_to=53.054224`
    - assert: Маршрут построен
    - do: |
        Не запуская маршрут(находясь на экране обзора), призумиться до зума 14 и ближе
        Тап по пину ДС "Опасный перекресток"
    - assert: |
        Открывается карточка ДС
        Текст внутри карточки переведен на английский - "Dangerous intersection"

    - platforms:
        - carsharing_t3
        - ios
        - android
        - nissan
        - t3am
        - motrex
        - autochip
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Новые дорожные события для Ренессанса. Локализация новых ДС - Опасный участок для обгона:
    - info: |
        Установлена локаль en_RU
        Меню - Настройки - Дорожные события - Отображение - На маршруте - Опасный участок для обгона - Вкл
        Меню - Настройки - Дорожные события - Звуковое предупреждение - Опасный участок для обгона - Вкл
        Меню - Настройки - Developer Settings - Misc - Debug info enable - On
        Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        Перезагрузить приложение
    - do: |
        Построить маршрут интентом:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/маршрут-1.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=58.653337&lon_from=53.009234&lat_to=58.651525&lon_to=53.054224`
    - assert: Маршрут построен
    - do: |
        Не запуская маршрут (находясь на экране обзора), призумиться до зума 14 и ближе.
        Тап по пину ДС Опасный участок для обгона
    - assert: |
        Открывается карточка ДС.
        Текст внутри карточки переведен на английский - Road section unsafe for overtaking.

    - platforms:
        - carsharing_t3
        - ios
        - android
        - nissan
        - t3am
        - motrex
        - autochip
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Новые дорожные события для Ренессанса. Локализация новых ДС - Могут быть пешеходы:
    - info: |
        Установлена локаль en_RU
        Меню - Настройки - Дорожные события - Отображение - На маршруте - Могут быть пешеходы включен - Вкл
        Меню - Настройки - Дорожные события - Звуковое предупреждение - Могут быть пешеходы - Вкл
        Меню - Настройки - Developer Settings - Misc - Debug info enable - On
        Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        Перезагрузить приложение
    - do: |
        Построить маршрут интентом:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/маршрут-1.png){title=QR-код}

        `yandexnavi://build_route_on_map?lat_from=58.653337&lon_from=53.009234&lat_to=58.651525&lon_to=53.054224`
    - assert: Маршрут построен
    - do: |
        Не запуская маршрут (находясь на экране обзора), призумиться до зума 14 и ближе.
        Тап по пину ДС Могут быть пешеходы.
    - assert: |
        Открывается карточка ДС.
        Текст внутри карточки переведен на английский - Watch out for pedestrians.

    - platforms:
        - carsharing_t3
        - ios
        - android
        - nissan
        - t3am
        - motrex
        - autochip
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Установка ДС по маршруту:
    - info: |
        Пользователь авторизован в приложении
        Меню - Настройки - Дорожные события - Отображение  - На карте - Показывать - Вкл
        Включить все свитчеры
        Меню - Настройки - Dev Setting - Misc - Fast day night switching - On
        Перезагрузить приложение
        Построить маршрут в любую точку и запустить ведение по маршруту через дебаг-панель
    - do: Тап на кнопку установки ДС
    - assert: Открывается меню установки ДС, ножка меню указывает на место, проезжая которое сделали тап по кнопке для установки ДС
    - do: |
        Выбрать любой тип ДС
        Тап Установить
    - assert: Появляется сообщение об успешной установке точки
    - do: Подвигать карту в месте, где была произведена установка точки. Приблизить карту к этому месту.
    - assert: |
        На карте отображается пин установленного ДС
        Пин может прорастать до 3 мин
        ДС отображается в том же месте где производили установку

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Использование геолокации слоем ДС:
    - info: |
        Меню - Настройки - Дорожные события - Отображение - На карте - Показывать - Вкл
        Включить все свитчеры
        Приложение не запущено
        В настройках (шторке) устройства включено GPS
        В фоне не запущены приложения, которые используют GPS
        В статус-баре отсутствует иконка геолокации
    - do: Запустить приложение
    - assert: Присутствует значок геолокации в статус баре устройства (геолокация используется)
    - do: Свернуть приложение и подождать две минуты
    - assert: Значок геолокации пропадает из статус бара и больше не появляется
    - do: Открыть приложение из фона
    - assert: Значок геолокации появляется в статус баре устройства

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Частая установка ДС:
    - info: |
        Пользователь авторизован в приложении
        Меню - Настройки - Дорожные события - Отображение - На карте - Показывать - Вкл
        Включить все свитчеры
    - do: |
        Тап по кнопке установки ДС
        Выбрать любой тип ДС
        Тап Установить
    - assert: На карте отображается пин установленного ДС
    - do: |
        Сразу тап по кнопке установки ДС
        Выбрать любой тип дс
        Тап Установить
    - assert: Отображается сообщение "Вы слишком часто устанавливаете точки" и время через которое можно установить новое ДС
    - do: |
        Подождать 5 минут
        Тап по кнопке установки ДС
        Выбрать любой тип ДС
        Тап Установить
    - assert: На карте отображается пин установленного ДС

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Мультизум в слое дорожных событий:
    - info: |
        Меню - Настройки - Дорожные события - Отображение - На карте - Показывать - Вкл
        Включить все свитчеры
        Меню - Настройка - Dev Setting - Misc - Debug info enable - On
        Перезагрузить приложение
    - do: Призумиться к Москве на зум 15.0
    - assert: Карта прогрузилась
    - do: |
        Не меняя зум найти дорожное событие на карте
        Отключить интернет
    - assert: Интернет отключен, ДС продолжает отображаться на карте
    - do: Начать призумливать карту до 17 зума
    - assert: |
        При призумливании (на зумах 15-17) видны старые события с 15-го зума, могут появиться новые события
        Дорожные события не задваиваются
    - do: |
        Включить интернет
        Найти ДС
        Установить зум 18
    - assert: ДС отображается на карте
    - do: |
        Отключить интернет
        Начать призумливать карту до 21 зума
    - assert: |
        При призумливании (на зумах 18-21) видны старые события с 18-го зума, могут появиться новые события
        Дорожные события не задваиваются
    - do: Изменить зум с 21 до 13
    - assert: |
        Дорожные события не задваиваются на всех зумах
        Конкретное дорожное событие появляется при увеличении зума, потом может исчезнуть. При уменьшении зума, событие снова появляется
        При уменьшении зума если несколько ДС находятся рядом, то будет отображаться одно, оба не должны пропадать
    - do: |
        Включить интернет
        Отзумиться на минимальный масштаб, где не видны ДС в Москве (примерно 7-ой зум), и начать призумливаться
    - assert: |
        При приближении карты начинают отображаться ДС
        ДС, которые начали показываться с определенного зума, в большинстве своем не пропадают при призуме влоть до 21-го зума, но небольшая часть ДС все-таки может пропадать при призумливании из-за вытеснения другими ДС

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Изменение местоположения и типа ДС на форме добавления дорожного события:
    - info: |
        Для проверки далеко не переносить форму установки ДС от ММП
        Открыть форму добавления ДС на карте
        Выбрать любой тип ДС
    - do: Свайп в сторону по карте
    - assert: Значок ДС переместился в выбранное место
    - do: Тап Установить
    - assert: ДС устанавливается в месте куда была перенесена форма установки ДС

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Отображение сообщения об ошибке при попытке добавить ДС на расстоянии >20 км от текущего местоположения:
    - info: |
        Меню - Настройки - Дорожные события - Отображение - На карте - Показывать - Вкл
        Включить все свитчеры
    - do: |
        Открыть форму добавления ДС в точке на расстоянии более 25 км от ММП
        Тап Установить
    - assert: |
        Отображается плашка, что пользователь находится слишком далеко
        ДС не добавляется на карту

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit


  Аннотация ДС при отключенном отображении ДС на маршруте:
    - info: Открыт главный экран приложения
    - do: Открыть меню
    - do: Тап на настройки
    - do: Тап на Дорожные события
    - do: Тап на Отображение
    - do: Тап На маршруте
    - do: Выключить свитчер Показывать
    - do: Тап Назад
    - do: Тап На карте
    - do: Выключить свитчер Показывать
    - do: Тап Назад
    - do: Тап Назад
    - do: Тап на Звуковое предупреждение
    - do: Включить все свитчеры
    - do: Закрыть настройки ДС тапом на крестик
    - assert: Открыт главный экран
    - do: Построить маршрут, проходящий через несколько ДС
    - do: Тап на Поехали
    - do: Запустить симуляцию движения через дебаг-панель
    - assert: |
        - Производится симуляция движения по маршруту
        - Аннотации о ДС произносятся
        - ДС по маршруту не отображаются

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Аннотация ДС при отключенном отображении ДС на маршруте в фоне:
    - info: Открыт главный экран приложения
    - do: Открыть меню
    - do: Тап на настройки
    - do: Тап на Дорожные события
    - do: Тап на Отображение
    - do: Тап На маршруте
    - do: Выключить свитчер Показывать
    - do: Тап Назад
    - do: Тап На Карте
    - do: Выключить свитчер Показывать
    - do: Тап Назад
    - do: Тап Назад
    - do: Тап на Звуковое предупреждение
    - do: Включить все свитчеры
    - do: Закрыть настройки ДС тапом на крестик
    - assert: Открыт главный экран
    - do: Построить маршрут, проходящий через несколько ДС
    - do: Тап на Поехали
    - do: Запустить симуляцию движения через дебаг-панель
    - assert: |
        - Производится симуляция движения по маршруту
        - Аннотации о ДС произносятся
        - ДС по маршруту не отображаются
    - do: Свернуть приложение
    - assert: |
        - Аннотации о ДС произносятся

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Логика отображения настроек Дорожные события на карте:
    - info: Открыт главный экран приложения
    - do: Открыть настройки
    - do: Тап на Дорожные события
    - do: Тап на Отображение
    - do: Тап "На карте"
    - assert: Отображается свитчер "Показывать"
    - do: Если свитчер выключен, включить его
    - assert: Под свитчером отображаются блоки "Камеры" и "Другие события"
    - do: Изменить положение нескольких свитчеров
    - do: Выключить свитчер "Показывать"
    - assert: Блоки "Камеры" и "Другие события" исчезают
    - do: Включить свитчер "Показывать"
    - assert: |
        Блоки "Камеры" и "Другие события" отображаются
        Порядок свитчеров сохранился

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Логика отображения настроек Дорожные события на маршруте:
    - info: Открыт главный экран приложения
    - do: Открыть настройки
    - do: Тап на Дорожные события
    - do: Тап на Отображение
    - do: Тап "На маршруте"
    - assert: Отображается свитчер "Показывать"
    - do: Если свитчер выключен, включить его
    - assert: Под свитчером отображаются блоки "Камеры" и "Другие события"
    - do: Изменить положение нескольких свитчеров
    - do: Выключить свитчер "Показывать"
    - assert: Блоки "Камеры" и "Другие события" исчезают
    - do: Включить свитчер "Показывать"
    - assert: |
        Блоки "Камеры" и "Другие события" отображаются
        Порядок свитчеров сохранился

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Логика отображения звуковых настроек Камеры:
    - info: Открыт главный экран приложения
    - do: Открыть настройки
    - do: Тап на Дорожные события
    - do: Тап на Звуковое предупреждение
    - do: Тап На Камеры
    - assert: Отображается свитчер "Включить"
    - do: Если свитчер выключен, включить его
    - assert: Под свитчером отображается блок с камерами
    - do: Изменить положение нескольких свитчеров
    - do: Выключить свитчер "Включить"
    - assert: Блок с камерами исчезает
    - do: Вкл свитчер "Включить"
    - assert: |
        Блок с камерами отображается
        Порядок свитчеров сохранился

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Проверка сохранения состояния свитчеров Дорожные события:
    - info: Открыт главный экран приложения
    - do: Открыть настройки
    - do: Тап на Дорожные события
    - do: Тап на Отображение
    - do: Тап "На карте"
    - assert: Отображается свитчер "Показывать"
    - do: Если свитчер выключен, включить его
    - do: Изменить положение нескольких свитчеров
    - do: Перезагрузить приложение
    - do: Открыть Дорожные события
    - do: Открыть Отображение
    - do: Открыть "На карте"
    - assert: Измененный порядок свитчеров сохранился

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mapkit


  Открытие карточек ДС на карте и на маршруте:
    - info:
    - do: |
       Меню - Настройки - Дорожные события - Отображение - На маршруте - Включить все свитчеры
       Меню - Настройки - Дорожные события - Отображение - На карте - Включить все свитчеры
    - do: |
       Построить маршрут с помощью интента:
        [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/download.7d59fdf.png){title=QR-код}

        `yandexnavi://build_route_on_map/?lat_from=55.576421&lon_from=37.596645&lat_to=55.667414&lon_to=37.623507`
        Подтвердить маршрут и запустить симуляцию ведения
    - assert: Курсор движется по маршруту
    - do: Тап на ДС по маршруту
    - assert: Открывается карточка ДС, отображается информация об открытом ДС
    - do: Не закрывая карточку, тап на ДС вне маршрута
    - assert: Открывается карточка ДС, отображается информация об открытом ДС
    - do: Не закрывая карточку, тап на ДС по маршруту
    - assert: Карточки ДС открывается, отображается информация об открытом ДС

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit
