components: speedlimit
testing:
  - regress

specs:
  Анимация камер на скорость (ДС):
    - description: |
        Проверка корректности работы анимации камеры на скорость
        Есть два состояния анимации:
        light - анимация бледно-красная, воспроизводится при небольшом превышении скорости в пределах допуска установленного в разделе Меню -> Настройки -> Об ограничениях скорости
        hard - когда превышение больше ограничения камеры + выбранного допуска в разделе "Об ограничениях скорости" (c прошивки 1.9 в КШ данная настройка выпилена: допустимая скорость превышения +10 км/ч, независимо от того, какие настройки у пользователя в мобильной версии навигатора)
    - info: |
        Построить маршрут через камеру на скорость
        Тап на “Поехали”
        Запустить эмуляцию движения через debug панель
    - do: Установить скорость больше 100 км/ч
    - assert: |
        - Сильная-анимация (яркая красная) начинается примерно в одно время с оповещением о камере
        - Знак ограничения скорости (спидлимит) окрашен в красный цвет и пульсирует
    - do: Дождаться появления сильной-анимации - и уменьшить скорость до скорости превышающую лимита этой камеры на +1 км/ч (если лимит 60, то сделать 61 км/ч)
    - assert: |
        - Сильная-анимация (яркая красная) должна постепенно измениться на легкую-анимацию (бледно-красную)
        - Знак ограничения скорости (спидлимит) на белый с красной каймой
    - do: |
        - Сбросить маршрут
        - Построить маршрут через камеру на скорость
        - Тап на "Поехали"
        - Запустить эмуляцию движения через debug панель
        - Установить скорость превышающую лимита этой камеры на +1 км/ч (если лимит 60, то сделать 61 км/ч)
    - assert: |
        - При подъезде к ДС камеры отображается легкая-анимация (бледно-красная)
        - Знак ограничения скорости (спидлимит) белый с красной каймой

    - platforms:
      - motrex
      - autochip
      - carsharing_t3
      - ios
      - android
      - t3am
    - tags:
      - assessors
    - testing:
      - acceptance_navi


  Отсутствие возможности редактирования спидлимита:
    - description: |
        Функция редактирования спидлимита на головном устройстве отключена.
        Тапы и лонгтапы по изображению "Ограничение скорости" обрабатываются аналогично нажатиям по пустому месту на карте. 
    - do: |
        - Построить маршрут
        - Перейти в режим ведения
        - Тап на изображение "Ограничение скорости" в правом верхнем углу
    - assert: Тап обрабатывается как обычный тап по карте 

    - platforms:
      - renault
      - vaz
      - nissan
      - carsharing_t3
    - tags:
      - assessors
    - testing:
      - acceptance_navi


  (Акцептанс) Анимация камер на скорость (ДС) в режиме Free Drive:
    - description: |
        Проверка корректности работы анимации камеры на скорость
        Есть два состояния анимации:
        light - анимация бледно-красная, воспроизводится при небольшом превышении скорости в пределах допуска установленного в разделе Меню - Настройки - Об ограничениях скорости
        hard - когда превышение больше ограничения камеры + выбранного допуска в разделе "Об ограничениях скорости"
    - info: |
        Построить маршрут через несколько камер на скорость
        Запустить эмуляцию движения через debug панель
        Сбросить маршрут, дождаться перехода в режим Free Drive
    - do: Установить скорость больше 100 км/ч
    - assert: |
        - Сильная-анимация (яркая красная) начинается примерно в одно время с оповещением о камере
        - Знак ограничения скорости (спидлимит) окрашен в красный цвет и пульсирует
    - do: При сильной анимации - уменьшить скорость до скорости превышающую лимита этой камеры на +1 км/ч (если лимит 60, то сделать 61 км/ч)
    - assert: |
        - Сильная-анимация (яркая красная) должна постепенно измениться на легкую-анимацию (бледно-красную)
        - Знак ограничения скорости (спидлимит) на белый с красной каймой

    - platforms:
      - renault
      - carsharing_t3
      - ios
      - android
      - t3am
      - nissan
    - tags:
      - assessors
    - testing:
      - acceptance_navi


  HARD-анимация камеры на скорость.:
    - description: |
        Проверка корректности работы анимации камеры на скорость.
        Есть два состояния анимации:
        light - анимация бледно-красная, воспроизводится при небольшом превышении скорости в пределах установленного допуска в разделе __Меню - Настройки - Об ограничениях скорости__.
        hard - анимация ярко-красная, воспроизводится, когда превышение больше ограничения камеры и больше выбранного допуска.
    - do: |
        Построить маршрут через камеру на скорость.
        Тап на "Поехали" и запустить эмуляцию движения через debug-панель со скоростью больше 100 км/ч.
    - assert: |
        - Hard-анимация начинается примерно в одно время с оповещением о камере.
        - Знак ограничения скорости (спидлимит) окрашен в красный цвет и пульсирует

    - testing:
      - acceptance_navi
    - platforms:
      - motrex
      - autochip
      - carsharing_t3
      - ios
      - android
      - t3am
    - tags:
      - assessors


  LIGHT-анимация камеры на скорость.:
    - description: |
        Проверка корректности работы анимации камеры на скорость.
        Есть два состояния анимации:
        Light - анимация бледно-красная, воспроизводится при небольшом превышении скорости в пределах установленного допуска в разделе __Меню - Настройки - Об ограничениях скорости__.
        Hard - анимация ярко-красная, воспроизводится, когда превышение больше ограничения камеры и больше выбранного допуска.
    - do: |
        Построить маршрут через камеру на скорость.
        Тап на "Поехали" и запустить эмуляцию движения через debug панель со скоростью превышающую лимит этой камеры на 1 км/ч (если лимит 60,то сделать - 61 км/ч).
    - assert: |
        - При подъезде к ДС камеры отображается LIGHT-анимация (бледно-красная)
        - Знак ограничения скорости (спидлимит) белый с красной каймой

    - testing:
      - acceptance_navi
    - platforms:
      - motrex
      - autochip
      - carsharing_t3
      - ios
      - android
      - t3am
      - renault
      - nissan
    - tags:
      - assessors


  Смена анимации камеры на скорость:
    - description: |
        Проверка корректности работы анимации камеры на скорость.
        Есть два состояния анимации:
        Light - анимация бледно-красная, воспроизводится при небольшом превышении скорости в пределах установленного допуска в разделе __Меню - Настройки - Об ограничениях скорости__.
        Hard - анимация ярко-красная, воспроизводится, когда превышение больше ограничения камеры и больше выбранного допуска.
    - do: |
        Построить маршрут через камеру на скорость.
        Тап на "Поехали" и запустить эмуляцию движения через debug панель со скоростью 100+ км/ч.
        Дождаться появления hard-анимация - уменьшить скорость до превышающей лимит этой камеры на +1 км/ч.
    - assert: |
        - hard-анимация (ярко-красная) должна постепенно измениться на light-анимацию (бледно-красная).
        - Знак ограничения скорости (спидлимит) c красного на белый с красной каймой

    - testing:
      - acceptance_navi
    - platforms:
      - motrex
      - autochip
      - carsharing_t3
      - ios
      - android
      - t3am
      - renault
      - nissan
    - tags:
      - assessors