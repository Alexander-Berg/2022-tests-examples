components: navigation
testing:
  - acceptance_navi
  - regress
integration_run:
  - mapkit
platforms:
  - ios
  - android
tags:
  - assessors
  - mapkit_ready


specs:
  Ведение по маршруту (navigation exp):
    - info: |
        - Меню -> Настройки -> Developer Settings -> Misc -> Using mapkit::navigation instaed of mapkit::guidance - On
        - Перезапустить приложение
    - do: |
        - Построить маршрут имеющий несколько маневров и проходящий через несколько дорожных событий
        - Тап Поехали
        - Запустить симуляцию движения через дебаг-панель
    - assert: |
        - Производится симуляция движения по маршруту
        - Аннотации о маневрах и дорожных событиях произносятся
    - do: Дождаться завершения маршрута
    - assert: Звучит аннотация "Вы приехали"


  Ведение по маршруту. Автоматическое перестроение маршрута (navigation exp):
    - info: |
        Меню -> Настройки -> Developer Settings -> Misc -> Using mapkit::navigation instaed of mapkit::guidance - On
        Перезапустить приложение
    - do: |
        Построить маршрут имеющий несколько маневров.
        Тап Поехали
        Запустить симуляцию движения через дебаг-панель.
    - assert: |
        - Производится симуляция движения по маршруту.
        - Аннотации о маневрах и дорожных событиях произносятся.
    - do: |
        Не сбрасывая симуляцию ведения по маршруту построить маршрут в другую точку и подтвердить его (тап на "поехали").
        Дождаться расхождения построенного маршрута и симуляции.
    - assert: После расхождения маршрута симуляции и построенного маршрута, звучит аннотация "маршрут перестроен", маршрут перестраивается


  UI ведения по маршруту (navigation exp):
    - info: |
        - Меню -> Настройки -> Developer Settings -> Misc -> Using mapkit::navigation instaed of mapkit::guidance - On
        - Перезапустить приложение
        - Включены пробки на карте
    - do: |
        - Построить маршрут в любую точку
        - Тап "Поехали"
        - Подождать от 2 до 5 секунд
    - assert: |
        Запускается режим ведения:
        - Отображается карта
        - Отображается полоса маршрута внизу экрана (с отображением: дистанции, времени прибытия, время в пути)
        - Отображается сам маршрут
        - Маневры
        - Дорожные События на маршруте (могут не быть на маршруте)
        - Текущая скорость (белый круг в правом верхнем углу)
        - Ограничение скорости в текущей точке (круг в красной окантовке в правом верхнем углу)
    - do: |
        - Запустить движение по маршруту (через дебаг-панель)
        - Подождать ~5 секунд
    - assert: |
        Запускается режим ведения:
        - Курсор начинает движение по маршруту
        - Текущая скорость начинает расти и отображается та, которая указана в дебаг меню
        - Может меняться ограничение скорости


  Анимация камер на скорость (ДС) (navigation exp):
    - info: |
        - Меню -> Настройки -> Developer Settings -> Misc -> Using mapkit::navigation instaed of mapkit::guidance - On
        - Перезапустить приложение
        - Построить маршрут через камеру на скорость
        - Тап “Поехали”
        - Запустить эмуляцию движения через debug панель
    - do: Установить скорость больше 100 км/ч
    - assert: Сильная-анимация (яркая красная) начинается примерно в одно время с оповещением о камере
    - do: Дождаться появления сильной-анимации - и уменьшить скорость до скорости превышающую лимита этой камеры на +1 км/ч (если лимит 60, то сделать 61 км/ч)
    - assert: Сильная-анимация (яркая красная) должна постепенно измениться на легкую-анимацию (бледно-красную)
    - do: |
        Сбросить маршрут
        Построить маршрут через камеру на скорость
        Тап "Поехали"
        Запустить эмуляцию движения через debug панель
        Установить скорость превышающую лимит этой камеры на +1 км/ч (если лимит 60, то сделать 61 км/ч)
    - assert: При подъезде к ДС камеры отображается легкая-анимация (бледно-красная)


  Предполагаемый маршрут (navigation exp):
    - info: |
        - Меню -> Настройки -> Developer Settings -> Misc -> Using mapkit::navigation instaed of mapkit::guidance - On
        - Перезапустить приложение
    - do: |
        - Построить маршрут, через несколько ДС
        - Запустить симуляцию движения
    - assert: Началось движение по маршруту
    - do: |
        - Сбросить маршрут, не останавливая симуляции
        - Двигаться без маршрута более 10 секунд
    - assert: |
        - Происходит переход в режим Free Drive
        - ДС, находящиеся на Предполагаемом маршруте, становятся выделенными
    - do: Проехать через выделенное ДС
    - assert: В момент проезда курсором, ДС перестает быть выделенным


  Движение без маршрута. Переход во Free Drive (navigation exp):
    - info: |
        - Меню -> Настройки -> Developer Settings -> Misc -> Using mapkit::navigation instaed of mapkit::guidance - On
        - Перезапустить приложение
    - do: |
        -Построить маршрут
        -Тап "Поехали"
        -Запустить симуляцию движения
    - assert: Началось движение по маршруту
    - do: |
        - Сбросить маршрут, не останавливая симуляции.
        - Двигаться без маршрута более 10 секунд
    - assert: |
        - Происходит переход в режим Free Drive
        - С экрана пропадают основные кнопки и таббар


  Переключение на альтернативный маршрут тапом на него (navigation exp):
    - info: |
        - Меню -> Настройки -> Developer Settings -> Misc -> Using mapkit::navigation instaed of mapkit::guidance - On
        - Перезапустить приложение
        - Настройки -> Карты и интерфейс -> Альтернативные маршруты - On
    - do: Построить маршрут с альтернативами, где разница времени в пути > 10 мин.
    - do: |
        - Выбрать самый долгий маршрут из альтернатив
        - Тап "Поехали"
    - assert: На карте отображаются альтернативные маршруты
    - do: Тап на альтернативу (линию маршрута на карте)
    - assert: |
        - Альтернатива стала активным маршрутом
        - В ЕТА сохранился текущий прогресс и обновился будущий путь (с учетом изменения длины маршрута и пробок)


  Построение и сброс маршрута (navigation exp):
    - info: |
        - Меню -> Настройки -> Developer Settings -> Misc -> Using mapkit::navigation instaed of mapkit::guidance - On
        - Перезапустить приложение
    - do: Лонгтап на карте в произвольном месте
    - assert: Открывается меню
    - do: Тап по кнопке «Сюда» в открывшемся меню
    - assert: Строится маршрут в выбранную точку. Произносится голосовое сообщение «Маршрут построен»
    - do: Тап по кнопке «Поехали»
    - assert: Переход в режим ведения по маршруту
    - do: Тап по кнопке «Обзор» в нижней плашке
    - assert: Открывается экран обзора.
    - do: Тап по кнопке «Сброс»
    - assert: |
        - Маршрут удаляется с карты
        - Фокус возвращается к текущему местоположению


  Построение маршрута по грузовому каркасу:
    - info: |
        Меню -> Настройки -> Developer Settings -> Misc -> Using mapkit::navigation instaed of mapkit::guidance - On
        Перезагрузить приложение
        Меню - Настройки - Навигация - Маршруты для грузовиков - Вкл
        Меню - Настройки - В разделе быстрые настройки - Маршруты выбран грузовик
        Меню - Настройки - Параметры грузовика - Установить значения: Фактическая масса  - 70т, Разрешенная масса - 34т, Грузоподъемность - 34т
    - do: Построить маршрут через центр Москвы так, что бы на нем был хотя бы 1 участок вне грузового каркаса
    - assert: |
        На экране обзора отображается Иконка грузовика и текст про наличие ограничений "На маршруте есть ограничения"
        На линии маршрута может отображаться иконка/иконки начала-конца участка, на котором действуют ограничения по параметрам (если имеется фраза "не удалось все учесть", например, с указанием какие именно)
    - do: |
        Меню - Настройки - Параметры грузовика - Установить значения: Фактическая масса  - 1,5т, Разрешенная масса - 2т, Грузоподъемность - 1т
        Построить маршрут через центр Москвы так, что бы на нем был хотя бы 1 участок вне грузового каркаса
    - assert: |
        Маршрут построен
        В обзоре отсутствуют какие либо обоповещения, связанные с ГК


  Построение маршрута по грузовому каркасу в оффлайне (navigation exp):
    - info: |
        - Меню - Навигация - Маршруты для грузовиков = вкл
        - Меню - Настройки - В разделе быстрые настройки - Маршруты выбран грузовик
        - Скачать кеш Московской области
        - Меню -> Настройки -> Developer Settings -> Misc -> Using mapkit::navigation instaed of mapkit::guidance - On
        - Перезапустить приложение
    - do: |
        - Отключить интернет на устройстве.
        - Построить маршрут по грузовому каркасу в Москве.
    - assert: |
        - Маршрут построен
        - На экране обзора отображается текст “Без учета грузовых ограничений”
        - Курсор в оффлайне при построении маршрута меняется с грузовика на тот, который был установлен до включения грузовой маршрутизации.
    - do: |
        - Тап Поехали
        - Запустить симуляцию ведения через дебаг-панель.
    - assert: Движение запущено, аннотации по маршруту проговариваются своевременно.
    - do: |
        - Включить интернет на устрйстве.
        - Подождать немного (от 30 до 60 с. пока подтянется интернет)
    - assert: |
        - Произносится фраза Маршрут перестроен.
        - Маршрут окрашивается пробками.
    - do: |
        - Тап по карте
        - На появившемся тапбаре тап кнопку Обзор маршрута.
    - assert: На экране обзора отображается иконка Грузовика с одной из фраз о маршруте по грузовому каркасу.
    - do: |
        - Снова отключить интернет на устройстве.
        - Выполнить лонг тап на карте вблизи от маршрута.
        - Тап Через
    - assert: |
        - Произошло построение маршрута с промежуточной точкой.
        - На экране обзора отображается текст “ Без учета грузового каркаса”
        - Курсор в оффлайне при построении маршрута меняется с грузовика на тот, который был установлен до включения грузовой маршрутизации.


  Построение маршрута - кнопкой Сюда (navigation exp):
    - info: |
        - Меню -> Настройки -> Developer Settings -> Misc -> Using mapkit::navigation instaed of mapkit::guidance - On
        - Перезапустить приложение
    - do: |
        - Выполнить лонг-тап в любой точке карты
        - Тап "Сюда"
    - assert: Произошло построение маршрута в указанную точку


  Построение маршрута через саджест (navigation exp):
    - info: |
        - Для проверки данного кейса должны отображаться саджесты пунктов назначения.
        Для этого предварительно должны быть совершены поездки или пользователь авторизован аккаунтом с добавленными точками в избранное.
        - Меню -> Настройки -> Developer Settings -> Misc -> Using mapkit::navigation instaed of mapkit::guidance - On
        - Перезапустить приложение
    - do: Тап на саджест точки назначения внизу экрана
    - assert: Производится построение маршрута в заданную точку.
    - do: Тап "Поехали"
    - assert: Начинается ведение по маршруту


  Сброс маршрута (navigation exp):
    - info: |
        - Меню -> Настройки -> Developer Settings -> Misc -> Using mapkit::navigation instaed of mapkit::guidance - On
        - Перезапустить приложение
    - do: Построить маршрут любым способом
    - assert: Маршрут построен
    - do: Тап на кнопку "Отмена" на карточке обзора маршрута
    - assert: Маршрут сброшен


  Отсутствие маршрута при запуске приложения спустя 5 часов после подтверждения маршрута:
    - info: |
        Меню - Настройки - Dev Set - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезапустить приложение
    - do: |
        - Построить любой маршрут и подтвердить его
        - Принудительно завершить работу приложения (на ios выгрузить из меню многозадачности; на android через настройки приложения)
    - assert: Приложение полностью выгруженно
    - do: |
        - Перевести время на девайсе на 5 часов вперед
        - Открыть Навигатор
    - assert: Ранее построенный маршрут отсутствует


  Режимы камеры:
    - info: |
       Меню - Настройки - Dev Set - Misc - Using mapkit::navigation instead of mapkit::guidance - On
       Перезапустить приложение
    - do: |
       Отскроллить карту чтобы курсор скрылся за экраном
       Тап по кнопке "Мое местоположение"
    - assert: Камера переместилась к позиции пользователя
    - do: Построить маршрут в любую точку и подтвердить его
    - assert: |
       Маршрут построен
       Карта переместилась к местоположению пользователя
    - do: Отскроллить карту чтобы курсор скрылся за экраном и подождать
    - assert: Карта не переместилась к местоположению пользователя
    - do: Запустить симуляцию по маршруту
    - assert: Карта переместилась к местоположению пользователя
    - do: Отскроллить карту чтобы курсор скрылся за экраном и подождать
    - assert: Через 10 секунд камера снова возвращается к курсору и следует за ним


  Балуны в обзоре:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Меню - Настройки - Dev Setting - Misc - Fast day night switching - On
        Перезагрузить приложение
    - do: Построить маршрут так чтобы в обзоре отображались 3 маршрута
    - assert: |
        Маршрут построен
        Открывает экран обзора маршрута
        Над выбранным маршрутом отображается синий балун с временем в пути и расстоянием
        Над альтернативными маршрутами отображается белый балун с разницей по временем в пути (+/- X минут)
        Если время отрицательное, то цвет текста зеленый, если положительное - красный
        При изменении темы приложения балуны альтернативных маршрутов меняют фон со светлого на темный
    - do: Выбрать любой альтернативный маршрут
    - assert: |
        Для нового выбранного маршрута показывается синий балун с временем в пути и расстоянием
        Для предыдущего маршрута теперь показывается белый (или темный в темной теме) балун с разницей временем в пути


  Балуны по маршруту:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Меню - Настройки - Dev Setting - Misc - Fast day night switching - On
        Настройки -> Север всегда наверху - Off
        Перезагрузить приложение
    - do: Построить любой маршрут и запустить ведение по нему через дебаг-панель
    - assert: |
        - Расстояние в балунах (как угловом, так и на маршруте) корректно отображается
        - Иконка маневра соответствует будущему маневру
        - Нога балуна, когда он отображается на маршруте, всегда указывает на точку маневра
    - do: Тап по карте
    - assert: |
        - Появляются кнопки интерфейса
        - Балун с ножкой исчезает, появляется его аналог в левом верхнем углу
    - do: Тап на контекстный балун
    - assert: Производится автосдвиг карты к точке следующего маневра
    - do: Несколько раз сменить ориентацию устройства
    - assert: |
        Балуны и линии альтернатив не перекрываются
        "Нога" контекстных балунов и балунов альтернатив не пропала
        Текст в балунах альтернатив отображается корректно
    - do: Перейти в режим обзора маршрута по кнопке в тапбаре
    - assert: Контекстные балуны не отображаются


  Отображение балуна полосности:
    - info: |
        Балун полосности отображается на 14 и более зуме
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Меню - Настройки - Developer Settings - Misc - Debug info enable - On
        Включить/выключить отображение зумов на карте можно через тычку `Developer Settings -> Map -> Map debug info enabled`
        Перезагрузить приложение
    - do: |
        Построить маршрут, проходящий по многополосным дорогам
        Тап Поехали
        Запустить симуляцию движения по маршруту через дебаг-панель
    - assert: На маршруте отображается балун полосности
    - do: Приблизить на 1 зум
    - assert: Балун полосности не скрылся
    - do: |
        Перейти на экран "Поиск"
        Выполнить поиск по категории
        Не скроллить карту
    - assert: Спустя примерно 10 секунд снова показывается балун
    - do: Поскроллить карту
    - assert: Балун скрывается, при столкновении с результатами поиска
    - do: |
        Сбросить маршрут
        Построить маршрут по многополосной дороге со съездом на другую улицу
        Начать ведение по маршруту
        Убедиться, что есть объединеный балун с полосностью, маневром и улицей
        Поскроллить карту
    - assert: Балун полосности не скрывается


  Фоновое ведение по маршруту:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
    - do: |
        Построить маршрут с учетом максимального количества маневров
        Запустить симуляцию ведения по маршруту с помощью дебаг-панели
    - assert: Маршрут построен и запущено debug ведение по нему
    - do: Свернуть приложение
    - assert: |
        Идет фоновое ведение
        Звучат аннотации по маршруту
        Службы локации не отключаются, отображается знак геолокации наверху экрана
        На Android отображаются нотификации по маршруту


  Построение маршрута в offline:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        Меню - Загрузка карт  - Скачать карту области в которой проходит тестирование
        Отключить интернет
    - do: Построить маршрут в пределах скачанной области
    - assert: |
        Звучит аннотация "Маршрут построен"
        Линия маршрута синего цвета без окраски пробками
    - do: Подтвердить маршрут
    - assert: Открывается режим ведения по маршруту
    - do: Включить интернет
    - assert: Линия маршрута окрашивается в цвет пробок


  Уведомление о ББМ:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Плашка ББМ не отображается, если до развилки на альтернативный маршрут менее 1 км или больше 10ти км
        В тапбаре информация о ББМ отображается, если вариант быстрее на 2 и более минут
        Меню - Настройки - Карта и интерфейс - Альтернативные маршруты - Вкл
        Построить маршрут с помощью интента:
        - [collapsed-image](https://jing.yandex-team.ru/files/fedonina71/ББМ.png){title=QR-код}
    - do: |
        - Выбрать самый длительный маршрут из предложенных
        - Тап Поехали
        - Запустить симуляцию движения по маршруту
        - Дождаться проезда развилки с альтернативными маршрутами
    - assert: |
        - Через несколько секунд над таббаром появляется плашка ББМ
        - Звучит аннотация "Найден более быстрый маршрут"
    - do: Тап на "Посмотреть" в плашке ББМ
    - assert: |
        - Происходит переход на экран обзора
        - Отображается наиболее быстрый маршрут до конечной точки


  Аннотации по маршруту - Все звуки Навигатора включены:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        Настройка в Меню - Настройки - "Голосовое сопровождение" установлена в значении "Все звуки Навигатора включены"
    - do: |
        Построить маршрут в любую точку с наличием поворотов и ДС на нём
        Тап Поехали
        Запустить симуляцию движения по маршруту
    - assert: Оповещения о поворотах, изменениях маршрута и предупреждения о ДС озвучиваются


  Аннотации по маршруту - Включены важные оповещения:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        Настройка в Меню - Настройки - "Звуковое сопровождение" установлена в значении "Включены оповещения о камерах, дорожных событиях и изменениях маршрута"
    - do: |
        Построить маршрут в любую точку с наличием поворотов и ДС на нём.
        Тап Поехали
        Запустить симуляцию движения по маршруту через дебаг-панель
    - assert: Проигрываются только оповещения о камерах, дорожных событиях и изменениях маршрута


  Аннотации по маршруту - Оповещения выключены:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        Настройка в Меню - Настройки - "Голосовое сопровождение" установлена в значении "Выключить все звуки навигатора"
    - do: |
        Построить маршрут в любую точку с наличием поворотов и ДС на нём.
        Тап Поехали
        Запустить симуляцию движения по маршруту через дебаг-панель
    - assert: Аннотации и предупреждения по маршруту не звучат


  Перестроение маршрута на платную дорогу:
    - info:
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        В качестве диктора установлен один из голосов, который поддерживает новую аннотацию
        На данный момент фраза присутствует на голосах в tts для ru, en, uk и tr языков, а также у Алисы (ru), Штурмана (Мерседес), Димы (ru), Оксаны (ru) (одна и та же запись - Алисы) и у турецкого диктора-женщины. Для остальных голосов произносится старая фраза ("Маршрут перестроен"), либо аннотация произносится голосом Алисы
    - do: |
        Построить маршрут, имеющий участок с платной дорогой
        Тап Поехали
        Симулировать движение через debug-панель
    - assert: Началось ведение по маршруту
    - do: |
        Перейти в режим "Обзор"
        Выбрать вариант маршрута без платных участков
        Начать ведение по нему (предыдущая симуляция не должна быть сброшена!)
    - assert: Началось ведение по маршруту без платных участков
    - do: Дождаться перестроения маршрута на предыдущий вариант с платным участком (т.к. симуляция не была сброшена и курсор идет по первому маршруту)
    - assert: Произносится голосовая аннотация "Маршрут перестроен. На новом маршруте есть платная дорога"


  ДС по маршруту. Камеры:
    - info: |
        Меню - Настройки - Голос - Выбрать Голос диктора, отличного от стандартного (Оксаны)
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
    - do: |
        Построить маршрут, проходящий через дорожное событие типа "Камера"
        Тап Поехали
        Запустить симуляцию движения через дебаг-панель
        Установить скорость больше ограничения на данном участке
    - assert: |
        Производится симуляция движения по маршруту
        Аннотации о маневрах и дорожных событиях произносятся
        При приближении к камере начинается ярко-красная анимация ДС


  ДС по маршруту. Школы:
    - info: |
        Меню - Настройки - Голос - Выбрать Голос диктора, отличного от стандартного (Оксаны)
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
    - do: |
        Построить маршрут, проходящий через дорожное событие типа "Школа"
        Тап Поехали
        Запустить симуляцию движения через дебаг-панель
        Установить скорость движения выше ограничения
    - assert: |
        Производится симуляция движения по маршруту
        Аннотации о школе произносится голосом Алисы


  ДС по маршруту. ДТП:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        Меню - Настройки - Голос - Выбрать Голос диктора, отличного от стандартного (Оксаны)
        Меню - Настройки - Звуки и оповещения - Дорожные событие - ДТП - Вкл
    - do: |
        Построить маршрут, проходящий через дорожное событие типа "ДТП"
        Тап Поехали
        Запустить симуляцию движения через дебаг-панель
    - assert: |
        Производится симуляция движения по маршруту
        Аннотация о ДТП произносится


  ДС по маршруту. Дорожные работы:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        Меню - Настройки - Голос - Выбрать Голос диктора, отличного от стандартного (Оксаны)
    - do: |
        Построить маршрут, проходящий через дорожное событие типа "Дорожные работы"
        Тап Поехали
        Запустить симуляцию движения через дебаг-панель
    - assert: |
        Производится симуляция движения по маршруту
        Аннотация о дорожных работах произносится


  ДС по маршруту. Опасные участки:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        Меню - Настройки - Голос - Выбрать Голос диктора, отличного от стандартного (Оксаны)
    - do: |
        Построить маршрут, проходящий через дорожное событие типа "Опасный участок". (Можно найти на МКАД)
        Тап Поехали
        Запустить симуляцию движения через дебаг-панель
    - assert: |
        Производится симуляция движения по маршруту
        Аннотация об опасном участке произносится


  ДС по маршруту. Камеры контроля полосы:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        Меню - Настройки - Голос - Выбрать Голос диктора, отличного от стандартного (Оксаны)
        Камеру контроля полосы можно найти тут: 55.748636, 37.655834
    - do: |
        Построить маршрут, проходящий через дорожное событие типа "Камера контроля полосы"
        Тап Поехали
        Запустить симуляцию движения через дебаг-панель
    - assert: |
        Производится симуляция движения по маршруту
        Аннотация о камере контроля полосы произносится


  Аннотации о ДС по маршруту. Камера на разметку:
    - info: |
        Камеры можно поискать, отключив все остальные ДС на карте. Также есть варианты двойных камер по координатам: 55.747653, 37.640591 или 55.772431, 37.604154
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        Меню - Настройки - Голос - Выбрать Голос диктора, отличного от стандартного (Оксаны)
    - do: |
        Построить маршрут, проходящий через дорожное событие типа "Камера на разметку"
        Тап Поехали
        Запустить симуляцию движения через дебаг-панель
    - assert: |
        - Производится симуляция движения по маршруту
        - Аннотация о камере на разметку произносится голосом Алисы


  ДС по маршруту. Мобильная засада:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        Меню - Настройки - Голос - Выбрать Голос диктора, отличного от стандартного (Оксаны)
        ДС Мобильная засада можно найти здесь - 58.590228, 53.022631
    - do: |
        Построить маршрут, проходящий через дорожное событие типа "Мобильная засада"
        Тап Поехали
        Запустить симуляцию движения через дебаг-панель
        Установить скорость симуляции движения 90 км/ч
    - assert: |
        Производится симуляция движения по маршруту
        Аннотации о маневрах и дорожных событиях произносятся


  ДС по маршруту. Камера контроля перекрестка:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        Меню - Настройки - Голос - Выбрать Голос диктора, отличного от стандартного (Оксаны)
        Камеру на перекрёсток можно найти тут: 55.747417, 37.639989
    - do: |
        Построить маршрут, проходящий через ДС "Камера контроля перекрестка"
        Тап Поехали
        Запустить симуляцию движения через дебаг-панель
    - assert: |
        Производится симуляция движения по маршруту
        Аннотация о камере контроля перекрестка произносится голосом Алисы


  Построение парковочного маршрута:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
    - do: |
        Включить парковочный слой тапом по кнопке P
        Тап по кнопке построения парковочного маршрута (находится рядом с кнопкой парковочного слоя)
    - assert: |
        Строится парковочный маршрут от текущего местоположения
        Звучит аннотация "Начинаем поиск парковки"


  Отображение камер на карте при ведении по маршруту:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        Меню - Настройки - Дорожные события - Отображение - На маршруте - Все свитчеры включены
        Меню - Настройки - Дорожные события - Отображение - На карте - Показать все - ВЫКЛ
    - do: |
        - Построить маршрут с ДС
        - Подтвердить маршрут
    - assert: |
        - Отображаются только камеры на маршруте
        - Камеры вне маршрута не отображаются


  Дорожные события по маршруту:
    - info: |
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
        Меню - Настройки - Дорожные события - Отображение - На маршруте - Все свитчеры включены
        Меню - Настройки - Дорожные события - Отображение - На карте - Все свитчеры включены
    - do: Построить маршрут любым способом хотя бы с тремя ДС на нём разного типа
    - assert: |
        Маршрут построен
        Иконки ДС на маршруте кликабельны и крупнее чем иконки ДС вне маршрута
    - do: Не сбрасывая маршрут, выполнить поиск по любому запросу/категории
    - assert: При переходе в режим поиска и отображении результатов, на Карте скрываются все ДС, расположенные не на маршруте
    - do: Тап на пин ДС, расположенный на краю экрана, тап на его баллун
    - assert: Отображается только пин ДС, для которого открыта карточка ДС с информацией и кнопками голосования, остальные ДС скрываются
    - do: Сбросить маршрут. Выполнить поиск по любому запросу/категории
    - assert: При отображении результатов поиска на Карте скрываются все ДС


  Выключение ДС по маршруту:
    - info: |
        Пользователь авторизован
        Для Республики Беларусь нужно иметь привязанный номер телефона
        Меню - Настройки - Dev Setting - Misc - Using mapkit::navigation instead of mapkit::guidance - On
        Перезагрузить приложение
    - do: |
        Построить маршрут, проходящий через несколько ДС
        Подтвердить маршрут
    - assert: На экране обзора маршрута отображаются только основные иконки ДС - Аварии/Перекрытия/Дорожные работы/Камеры/Разговорчики
    - do: |
        Меню - Настройки - Дорожные события - Отображение - На маршруте - Отключить показ нескольких ДС на маршруте
        Перейти на экран "Карта"
    - assert: На маршруте не отображаются иконки отключенных в настройках Дорожных событий
