components: parking_widget
testing:
  - regress

specs:
  Виджет парковки. UI:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Вид виджета:
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
        Вид полигона
        ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки: "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Включить отображение полигона: Dev set -> Parking -> Debug parking polygons on map. Полигон находится в Москве
        Парковочный маршрут не построится при условии ,если рядом нет парковок
        Построить маршрут в любую точку (больше 100м и больше 30 сек)
    - do: Запустить ведение по маршруту
    - assert: |
        За 30сек/100м до финиша под плашкой ЕТА начинает отображаться парковочный виджет
        Виджет имеет 2 кнопки "построить" и "отмена"
    - do: Изменить ориентацию приложения
    - assert: |
        Интерфейс не ломается
        Соответствует ориентации приложения
    - do: Доехать до конца маршрута не взаимодействуя с виджетом парковки
    - assert: На финише плашка ЕТА и виджет парковки закрываются и больше не отображаются

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Виджет парковки. Построение парковочного маршрута:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Вид виджета:
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
        Вид полигона
        ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки: "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Включить отображение полигона: Dev set -> Parking -> Debug parking polygons on map. Полигон находится в Москве
        Парковочный маршрут не построится при условии ,если рядом нет парковок
        Построить маршрут в любую точку (больше 100м и больше 30 сек)
    - do: Запустить ведение по маршруту
    - assert: |
        За 30сек/100м до финиша под плашкой ЕТА начинает отображаться парковочный виджет
        Виджет имеет 2 кнопки "построить" и "отмена"
    - do: Тап по "построить"
    - assert: |
        В консольных логах отображается событие **parking.widget.go_clicked**
        Виджет парковки закрывается
        В консольных логах отображается событие **parking.widget.closed**
        Маршрут становится парковочным
        В консольных логах отображается событие **parking.route.success_build** с параметром **route_type : by_widget**
        На плашке ЕТА отображается знак парковки
        Звучит аннотация о построении парковочного маршрута

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - metric


  Виджет парковки. Закрытие виджета:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Вид виджета:
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
        Вид полигона
        ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки: "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Включить отображение полигона: Dev set -> Parking -> Debug parking polygons on map. Полигон находится в Москве
        Парковочный маршрут не построится при условии ,если рядом нет парковок
        Построить маршрут в любую точку (больше 100м и больше 30 сек)
    - do: Запустить ведение по маршруту
    - assert: |
        За 30сек/100м до финиша под плашкой ЕТА начинает отображаться парковочный виджет
        Виджет имеет 2 кнопки "построить" и "отмена"
    - do: Тап по кнопке "Отмена"
    - assert: |
        Виджет скрывается
        Парковочный маршрут не строится
        в консольных логах отображается событие **parking.widget.cancel_clicked**

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - metric


  Виджет парковки. Закрытие виджета. Другое:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Вид виджета:
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
        Вид полигона
        ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки: "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Включить отображение полигона: Dev set -> Parking -> Debug parking polygons on map. Полигон находится в Москве
        Парковочный маршрут не построится при условии ,если рядом нет парковок
        Построить маршрут в любую точку (больше 100м и больше 30 сек)
    - do: Запустить ведение по маршруту
    - assert: |
        За 30сек/100м до финиша под плашкой ЕТА начинает отображаться парковочный виджет
        Виджет имеет 2 кнопки "построить" и "отмена"
    - do: Тап по свободному месту по карте
    - assert: Виджет не скрывается
    - do: Свайпнуть виджет вниз
    - assert: |
        Виджет закрывается
        Парковочный маршрут не строится
    - do: |
        Построить маршрут
        Запустить ведение
    - assert: За 30сек/100м до финиша под плашкой ЕТА начинает отображаться парковочный виджет
    - do: Сбросить маршрут тапом по крестику на плашке ЕТА и подтвердить
    - assert: |
        Маршрут сбрасывается
        Виджет парковки закрывается
        Парковочный маршрут не строится

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Виджет парковки. Алиса:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Вид виджета
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
        Вид полигона
        ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Включить отображение полигона: Dev set -> Parking -> Debug parking polygons on map. Полигон находится в Москве
        Парковочный маршрут не построится при условии ,если рядом нет парковок
        Построить маршрут в любую точку (больше 100м и больше 30 сек)
    - do: Запустить ведение по маршруту
    - assert: Курсор движется по маршруту
    - do: Вызвать Алису любым способом до того как отоьбразиться виджет парковки, разговаривать с Алисой до тех пока предположительно должен появиться виджет парковки
    - assert: Плашка Алисы не закрывается
    - do: Закрыть плашку Алисы
    - assert: Алиса закрывается, под ЕТА отображается виджет парковки
    - do: Вызвать Алису командой "Привет Алиса"
    - assert: Открывается плашка Алисы
    - do: Закрыть плашку Алисы
    - assert: Алиса закрылась, виджет парковки отображается

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Виджет парковки. Вызов окон:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Вид виджета
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
        Вид полигона
        ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Включить отображение полигона: Dev set -> Parking -> Debug parking polygons on map. Полигон находится в Москве
        Парковочный маршрут не построится при условии ,если рядом нет парковок
        Построить маршрут в любую точку (больше 100м и больше 30 сек)
    - do: Запустить ведение по маршруту
    - assert: |
        За 30сек/100м до финиша под плашкой ЕТА начинает отображаться парковочный виджет
        Виджет имеет 2 кнопки "построить" и "отмена"
    - do: Лонгтап по карте не закрывая виджета парковки
    - assert: Вызывается лонгтап меню
    - do: Закрыть лонгтап меню
    - assert: Виджет парковки продолжает отображаться на карте
    - do: Сделать лонгтап по карте, выбрать "Установить" в лонгтап меню
    - assert: Открывается меню установки ДС
    - do: Закрыть меню установки ДС
    - assert: На карте продолжает отображаться виджет парковок

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Виджет парковки. Мини-плеер музыки:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Вид виджета
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
        Вид полигона
        ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Включить отображение полигона: Dev set -> Parking -> Debug parking polygons on map. Полигон находится в Москве
        Парковочный маршрут не построится при условии ,если рядом нет парковок
        Построить маршрут в любую точку (больше 100м и больше 30 сек)
    - do: Запустить ведение по маршруту
    - assert: Курсор двигается по маршруту
    - do: Включить воспроизведение музыки через Навигатор
    - assert: Мини-плеер отображается под плашкой ЕТА
    - do: Дождаться появления виджета парковки
    - assert: Мини-плеер скрывается, под плашкой ЕТА отображается виджет парковки

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Виджет парковки. Отображение в лейндскейпе:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Вид виджета
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
        Вид полигона
        ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Dev set -> Parking -> Debug parking polygons on map
        Девайс в портретной ориентации
        Перезапустить приложение
        Парковочный маршрут не построится при условии ,если рядом нет парковок
        Построить маршрут в любую точку (больше 100м и больше 30 сек)
    - do: Запустить ведение по маршруту
    - assert: Курсор двигается по маршруту
    - do:  Дождаться когда до конца маршрута останется 100м или 30 сек
    - assert: Под плашкой ЕТА выдвигается виджет парковки, с кнопками "Отмена" и "построить" , над плашкой ЕТА отображается текущая улица
    - do: Перевернуть девайс в лейндскейп
    - assert: Приложенние подстраивается под ориентацию, все элементы переворачиваются, не искажаются, над плашкой ЕТА не отображается текущая улица.

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Виджет парковки. Логика построение при отмене/закрытие виджета:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Вид виджета
          ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
        Вид полигона
          ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Dev set -> Parking -> Autoparking route enabled
        Dev set -> Parking -> Debug parking polygons on map
        Девайс в портретной ориентации
        Перезапустить приложение
        Парковочный маршрут не построится при условии ,если рядом нет парковок
    - do: |
       Построить маршрут к кафе/ресторану через карточку организации тапом по кнопке "Маршрут" (Маршрут должен быть длинее 500м и дольше 2 минут)
       Запустить симуляцию движения
    - assert: Маршрут построился, началось движение по маршруту
    - do: Дождаться когда до конца маршрута останется 100м или 30 сек
    - assert: Под плашкой ЕТА выдвигается виджет парковки, с кнопками "Отмена" и "построить"
    - do: Не взаймодействовать с виджетом и дождаться окончания маршрута
    - assert: По окончанию маршрута строится автоматический парковочный маршрут.
    - do: Сбросить маршрут в течение 15сек тапом на крестик
    - assert: Маршрут сбросился.
    - do: |
        Построить маршрут в эту же организацию
        Дождаться когда до конца маршрута останется 100м или 30 сек
    - assert: Под плашкой ЕТА выдвигается виджет парковки, с кнопками "Отмена" и "построить"
    - do: Тап на "Отмена" или свайпом вниз закрыть виджет
    - assert: Виджет парковки исчезает
    - do: Дождаться окончания маршрута
    - assert: По окончанию маршрута автоматический парковочный маршрут не строится.
    - do: |
        Построить маршрут в эту же организацию ( 3 раз в одну и ту же организацию)
        Дождаться когда до конца маршрута останется 100м или 30 сек
    - assert: Под плашкой ЕТА выдвигается виджет парковки, с кнопками "Отмена" и "построить"
    - do: Тап на "Отмена" или свайпом вниз закрыть виджет
    - assert: Виджет парковки исчезает
    - do: Дождаться окончания маршрута
    - assert: По окончанию маршрута автоматический парковочный маршрут не строится.
    - do: |
        Построить маршрут в эту же организацию ( 4 раз в одну и ту же организацию)
        Дождаться когда до конца маршрута останется 100м или 30 сек
    - assert: Под плашкой ЕТА выдвигается виджет парковки, с кнопками "Отмена" и "построить"
    - do: Не взаимодействовать с виджетом и дождаться окончание маршрута
    - assert: По окончанию маршрута автоматический парковочный маршрут не строит

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Виджет парковки. Отсутствие виджета при конечной точки вне парковочной зоны:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Добавили логику: не показывать парковочный виджет, если нет парковочного маршрута (используя парковочные полигоны). Нужно включить фичу dev set -> Parking -> Debug parking polygons on map, и проверить что виджет показывается только тогда, когда точка финиша находиться внутри полигона.
        Полигон парковки выделяется синей областью на карте
        Вид виджета
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
        Вид полигона
        ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Dev set -> Parking -> Debug parking polygons on map
        Девайс в портретной ориентации
        Перезапустить приложение
        Парковочный маршрут не построится при условии ,если рядом нет парковок
        Построить маршрут в любую точку внутри полигона, так что бы точка финиша была внутри синей области (больше 500м и больше 2 минут)
    - do: Запустить ведение по маршруту
    - assert: Курсор двигается по маршруту
    - do:  Дождаться когда до конца маршрута останется 100м или 30 сек
    - assert: Под плашкой ЕТА выдвигается виджет парковки, с кнопками "Отмена" и "построить"
    - do: |
       Построить маршрут вне полигона, так чтобы точка финиша,была за синей областью.
       Дождаться когда до конца маршрута останется 100м или 30 сек
    - assert: Виджет парковки не показывается.

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Виджет парковки. Логика работы на грузовом маршруте:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Добавили логику: не показывать парковочный виджет, если нет парковочного маршрута (используя парковочные полигоны). Нужно включить фичу dev set -> Parking -> Debug parking polygons on map, и проверить что виджет показывается только тогда, когда точка финиша находиться внутри полигона.
        Полигон парковки выделяется синей областью на карте
        Вид виджета
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
        Вид полигона
        ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Dev set -> Parking -> Debug parking polygons on map
        Настройки -> Навигация -> Маршруты для грузовиков - перевести свитчер в положение вкл
        Девайс в портретной ориентации
        Перезапустить приложение
        Парковочный маршрут не построится при условии ,если рядом нет парковок
        Построить маршрут в любую точку внутри полигона, так что бы точка финиша была внутри синей области (больше 500м и больше 2 минут)
    - do: Запустить ведение по маршруту
    - assert: Курсор двигается по маршруту
    - do:  Дождаться когда до конца маршрута останется 100м или 30 сек
    - assert: Под плашкой ЕТА не выдвигается виджет парковки

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Виджет парковки. Логика работы в оффлайне:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Добавили логику: не показывать парковочный виджет, если нет парковочного маршрута (используя парковочные полигоны). Нужно включить фичу dev set -> Parking -> Debug parking polygons on map, и проверить что виджет показывается только тогда, когда точка финиша находиться внутри полигона.
        Полигон парковки выделяется синей областью на карте
        Вид виджета
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
        Вид полигона
                ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Dev set -> Parking -> Debug parking polygons on map
        Девайс в портретной ориентации
        Скачать кешы карт текущего местоположения
        Перезапустить приложение и отключить интернет
        Парковочный маршрут не построится при условии ,если рядом нет парковок
        Построить маршрут в любую точку внутри полигона, так что бы точка финиша была внутри синей области (больше 500м и больше 2 минут)
    - do: Запустить ведение по маршруту
    - assert: Курсор двигается по маршруту
    - do:  Дождаться когда до конца маршрута останется 100м или 30 сек
    - assert: Под плашкой ЕТА не выдвигается виджет парковки

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Виджет парковки. Логирование показа виджета:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Вид виджета:
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
        Вид полигона
        ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки: "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Парковочный маршрут не построится при условии ,если рядом нет парковок
        Построить маршрут в любую точку внутри полигона (больше 100м и больше 30 сек)
    - do: Запустить ведение по маршруту
    - assert: |
        За 30сек/100м до финиша под плашкой ЕТА начинает отображаться парковочный виджет
        В консольных логах отображается событие **parking.widget.opened**

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - metric


  Виджет парковки. Логирование автоматического построение маршрута:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Вид виджета:
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
          Вид полигона
          ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки: "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Dev set -> Parking -> Autoparking route enabled
        Dev set -> Parking -> Debug parking polygons on map
        Парковочный маршрут не построится при условии ,если рядом нет парковок
        Построить маршрут в пин организации ,например кафе или ресторан (больше 100м и больше 30 сек)
    - do: Запустить ведение по маршруту на скорости 60 км/ч
    - assert: |
        За 30сек/100м до финиша под плашкой ЕТА начинает отображаться парковочный виджет
    - do: Не взаимодействовать с виджетом и не снижать скорость
    - assert: |
        Происходит автоматическое построение парковочного маршрута
        В консольных логах отображается событие **parking.route.try_build** с параметром **route_type : automatic**

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - metric


  Виджет парковки. Логирование ошибки построение маршрута:
    - info: |
        Включить `Dev.Settings -> Misc -> Unlimit intents enabled -> On`
        Перезагрузить приложение
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Во дворах парковочный маршрут не строится!
        Вид виджета:
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
          Вид полигона
          ![Полигон](https://jing.yandex-team.ru/files/midway/IMAGE%202021-02-26%2016%3A04%3A06.jpg)
    - info: |
        Включить настройки: "Dev settings" -> parking -> "Display Parking widget" - On
        Dev.Set - Misc - Fast day night switching - On
        Парковочный маршрут не построится при условии ,если рядом нет парковок
    - do: |
        Построить маршрут с помощью интента
        android:  adb shell am start -a android.intent.action.VIEW -d "yandexnavi://build_route_on_map?lat_from=55.7534438&lon_from=37.6226073&lat_to=55.7525986&lon_to=37.6238048"
        iOS:  yandexnavi://build_route_on_map?lat_from=55.753653&lon_from=37.6225475&lat_to=55.752598&lon_to=37.6238048
    - assert: |
        За 30сек/100м до финиша под плашкой ЕТА начинает отображаться парковочный виджет
    - do: Тап по кнопке "построить"
    - assert: |
        Парковочный маршрут не строится
        В консольных логах отображается событие **parking.route.error_build ** с параметром **route_type :by_widget**

    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - metric


  Отключение помощи с парковкой. Отображение в настройках:
    - description: Включить настройки Dev settings -> parking -> Display Parking widget - On
        Dev set -> Parking -> Autoparking route enabled - On
        Dev.Set - Misc - Fast day night switching - On
        Перезагрузить приложение
    - do: Перейти Меню - Настройки - Навигация
    - assert: Отображается настройка отключения помощи с парковкой - menu_settings_help_with_parking
        С описанием "menu_settings_help_with_parking_footer"
    - do: Переключить настройки Dev settings -> parking -> Display Parking widget - Off и Dev set -> Parking -> Autoparking route enabled - Off. Перезагрузить приложение
        Перейти Меню - Настройки - Навигация
    - assert: Настройка отключения помощи с парковкой - menu_settings_help_with_parking НЕ отображается и описание для нее отсутствует
        Перезагрузить приложение
    - do: Переключить настройку Dev settings -> parking -> Display Parking widget - On. Перезагрузить приложение
        Перейти Меню - Настройки - Навигация
    - assert: Отображается настройка отключения помощи с парковкой - menu_settings_help_with_parking
        С описанием "menu_settings_help_with_parking_footer"
    - do: Переключить настройки Dev settings -> parking -> Display Parking widget - Off и Dev set -> Parking -> Autoparking route enabled - On. Перезагрузить приложение
        Перейти Меню - Настройки - Навигация
    - assert: Отображается настройка отключения помощи с парковкой - menu_settings_help_with_parking
        С описанием "menu_settings_help_with_parking_footer"

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Отключение помощи с парковкой:
    - description: |
        Виджет парковки отображается за 100м/30сек до финиша маршрута
        Виджет на маршруте должен отображаться только один раз
        Включить настройки Dev settings -> parking -> Display Parking widget - On
        Dev set -> Parking -> Autoparking route enabled - On
        Dev.Set - Misc - Fast day night switching - On
        **Перезагрузить приложение**
        Вид виджета:
        ![виджет](https://jing.yandex-team.ru/files/nataliya99/IMAGE%202021-03-17%2012%3A32%3A27.jpg)
    - info: Парковочный маршрут не построится при условии ,если рядом нет парковок
    - do: Перейти Меню - Настройки - Навигация - menu_settings_help_with_parking - Off
        Построить маршрут в любую точку внутри полигона
    - assert: За 100 метров до финиша парковочный виджет не отображается
    - do: Построить маршрут к любому организации категории "ресторан, кафе" в пределах Садового кольца в Москве. Запустить ведение по маршруту
    - assert: За 100 метров до финиша парковочный виджет НЕ отображается, на финише автоматический парковочный маршрут НЕ строится
    - do: Перейти Меню - Настройки - Навигация - menu_settings_help_with_parking - **On**
        Построить маршрут в любую точку внутри полигона
    - assert: За 100 метров до финиша ОТОБРАЖАЕТСЯ парковочный виджет
    - do: Построить маршрут к любому организации категории "ресторан, кафе" в пределах Садового кольца в Москве. Запустить ведение по маршруту
    - assert: За 100 метров до финиша ОТОБРАЖАЕТСЯ парковочный виджет , на финише СТРОИТСЯ автоматический парковочный маршрут

    - platforms:
        - ios
        - android
    - tags:
        - assessors