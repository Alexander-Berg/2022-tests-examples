components: map_search
integration_run:
  - map_search
testing:
  - regress

specs:
  Категории поиска:
    - do: Тап на поиск в таббаре
    - assert: |
        Открылся экран поиска
        Вверху экрана:
        - Иконка лупы, рядом инпут для ввода текста, с плейсхолдером "Поиск мест и адресов"
        - Кнопка вызова Алисы
        - Кнопка закрытия в виде крестика
        Дальше идет список поисковых категорий:
        - Яндекс заправки
        - АЗС
        - Где поесть
        - Продукты
        - Банкоматы
        - Аптеки
        - Гостиницы
        - Автомойки
        - Автосервисы
        - Больницы
        - Кинотеатры
        - Бары
        - ТЦ
        (порядок категорий может отличаться, необходимо проверить только наличие категорий!)
        Ниже размещены рекламные категории:
        - Бургер Кинг
        - Макдоналдс
        - KFC
        - Новостройки

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi
      - regress
    - integration_run:
      - search


  Поиск по категориям:
    - info: Кейс не проходим на iPad
    - do: |
        Тап на иконку лупы в тапбаре
        Тап по названию категории. Например, “Где поесть”
    - assert: |
        - в нижней половине экрана отображается список организаций поисковой выдачи
        - в начале списка отображается поисковая строка со значком лупы, названием категории и крестиком(на андроид отображаться не будет)
        - под списком организаций отображается блок фильтров.
        - На ios блок с фильтрами расположен под строкой поиска
        - Кнопки масштабирования скрыты
        - На карте под результатами поиска (под серпом) отмечены пины поисковой выдачи
        - Если в поисковой выдаче будет только одна организация, то отобразится миникарточка этой организации

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
      - search
      - mapkit


  Состояние поисковых пинов на карте:
    - do: |
        Осуществить поиск по любой категории
        Тап по пину поисковой выдачи на карте
    - assert: |
        - Открывается карточка организации
        - На карте отображается поднятый пин
    - do: Закрыть карточку организации
    - assert: |
        - Состояние пина меняется на не активное
        - Цвет пина организации стал бледным
        - В нижней части экрана отображается строка поиска с поисковым запросом
    - do: Сменить ориентацию устройства
    - assert: |
        - на карте отображаются поисковые пины
        - слева отображается поисковая выдача с блоком фильтров.
        - На iPhone в лендскейпе кнопок фильтра нет

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - integration_run:
      - search


  Оффлайн поиск по категориям:
    - description: |
        Скачан оффлайн кеш текущего региона
        Открыт экран поиска. Включен авиарежим.
    - do: Тап по названию категории. Например, “Где поесть”.
    - assert: |
        - На карте отмечены пины кафе, ресторанов, баров, в нижней половине экрана — блок с фильтрами и список найденных организаций.
        - Над списком организаций находится поисковая строка
        - В поисковой строке введено название категории
        - Слева поисковой строки отображается турбокнопка в виде молнии
        - Если в данной области поиска ничего не найдено, отображено сообщение “Ничего не найдено” и кнопки “Расширить зону поиска” и “Добавить организацию”
        - Если поиск выдаёт только 1 результат, то сразу показывается мини-карточка результата поиска

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - integration_run:
      - search


  Фильтры результатов поиска:
    - info: |
        Открыт экран поиска
    - do: Тап на категорию Где поесть
    - assert: |
        - Открыт экран результатов поиска
        - В поисковой строке текст ‘Где поесть’ (на андроид может не отображаться поисковая строка)
        - Ниже отображаются поисковые сниппеты
        - В плашке Фильтры присутствует кнопка Высоки рейтинг, Открыто, схлопнутые категории Кухня и Цены, а также кнопки Бизнес-ланч, Кофе с собой, Завтрак
        - На карте отображаются поисковые пины, в нижней части экрана расположен список карточек найденных организаций
    - do: Тап на кнопку категории Кухня
    - assert: |
        Категория развернулась в 4 кнопки: Европейская, Русская, Итальянская и ЕЩЕ (в теории могут быть другие, их может быть меньше, вероятно зависит от популярности, баг на это заводить не нужно)
    - do: Тап на любую категорию кухни, например Европейская, если такая есть
    - assert: |
        - Кнопка выделилась как включено, изменился результат поисковой выборки в соответствии с выбором
        - Выделенный фильтр переместился вперед
        _Фильтр может не переместиться вперед. Известный баг, заводить не нужно_
    - do: Тап на кнопку "ЕЩЕ"
    - assert: Открылся экран Фильтры, в блоке Кухня выделен пункт из шага выше и располагается в верху списка
    - do: Раскрыть секцию Остальные блока Кухня
    - assert: В блоке Кухня отображаются все доступные параметры, выделен выбранный выше пункт и расположен вверху списка
    - do: Выбрать более двух пунктов в порядке сверху вниз, например Кавказская, Осетинская, Русская, если такие есть
    - assert: Пункты выбраны, порядок отображения в списке не изменился
    - do: Тап на кнопку back
    - assert: Открылся экран результатов поиска, изменился результат поисковой выборки, в фильтрах всем кухня написана либо одна выбранная кухня, либо количество выбранное в данном фильтре

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - integration_run:
      - search


  Отображение поисковой выдачи:
    - info: |
        Открыт экран поиска
    - do: Произвести поиск по любой категории
    - assert: |
        - Выполнен поиск по выбранной категории
        - Отображается список результатов поиска
        - Отображаются пины поисковой выдачи на карте
        **Поисковый сннипет (мини-карточка организации) имеет:**
        - модуль заголовка(рядом может отобразиться бейдж заботливой галки)
        - модуль категории организации
        - модуль рейтинга
        - модуль фотогалереии (не должны одновременно отображаться фото и фотогалерея организации)
        - модуль рекламы
        - модуль подстрочника (актуальная информация для данной категории, напр. средний чек)
        - модуль статуса работы
        - модуль доезда (время доезда или расстояние до организации)
    - do: Закрыть поисковую выдачу свайпом вниз
    - assert:  Поисковая выдача свернулась до минимального состояния

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - integration_run:
      - search


  Добавление промежуточной точки через поиск (кнопка Заехать):
    - info: |
        Построить маршрут и запустить ведение по нему
    - do: Осуществить поиск по любой категории
    - assert: На карте вдоль маршрута отображаются пины организаций
    - do: Тап на пин любой организации
    - assert: Открывается карточка организации
    - do: Тап "маршрут" - "заехать"
    - assert: Точка добавляется на маршрут
    - do: Подтвердить перестроенный маршрут
    - assert: |
        Маршрут перестроен
        Конечная точка не изменилась
        Промежуточная точка добавлена на маршрут

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - integration_run:
      - search


  Логирование результатов поиска:
    - info: |
        Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
        Кейс проходить на сборке debug
        **В логах приходит событие: search.get-reask-results с параметром resubmit вместо filtering, на данный момент поведение ожидаемое на Android, на Ios по старому**
    - do: |
        Произвести поиск по любой категории/любому поисковому запросу
    - assert: |
        В логи приходит события:
        1 - **search.start** - Старт поисковой сессии (только у Android)
        2 - **search.get-search-results** - Получение результатов поиска. Событие логируется при получении результата поиска от геопоиска.
        3 - **search.rubric_search** - Получен ответ на рубричный поиск. Отправляется тогда же когда search.get-search-results(search_type=rubric). Отдельное событие необходимо для маркетинга из-за ограничений аппметрики
    - do: |
        Изменить результаты поиска одним из способов:
        - изменение положение карты жестом
        - изменение положение карты не жестом (кнопки зума, скролл карты)
        - применение фильтров при поиске
        - подгрузка результатов на серпе
    - assert: |
        В логах приходит событие: **search.get-reask-results**
        у параметра **reask_reason**: указана причина изменения результатов
        _offset-map-by-gesture _- изменение положения карты на экране жестом
        _offset-map-by-app_ - изменение положение карты не жестом (анимация, кнопки зума, self-tracking)
        _resubmit_ - применение фильтров при поиске
        _serp-scrolling_- подгрузка результатов на серпе
        _reqId_ - идентификатор запроса в геопоиск
        _serpId_ - идентификатор первого запроса в геопоиск в рамках текущей поисковой задачи. То есть при каждом перезапросе reqId меняется, а serpId остается прежним и равен reqId первого запроса
        _Событие логируется после получения ответа при перезапроса из-за изменения поисковых критериев._

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - metric
    - testing:
      - acceptance_navi


  Логирование результатов поиска при ведении по маршруту:
    - info: |
        **Построить маршрут, запустить ведение по нему.**
        Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
        Кейс проходить на сборке debug
    - do: |
        Произвести поиск по любой категории/любому поисковому запросу
    - assert: |
        В логи приходит события:
        1 - **search.start** - Старт поисковой сессии
        2 - **search.get-search-results** - Получение результатов поиска. Событие логируется при получении результата поиска от геопоиска.
        3 - **search.rubric_search** - Получен ответ на рубричный поиск. Отправляется тогда же когда search.get-search-results(search_type=rubric). Отдельное событие необходимо для маркетинга из-за ограничений аппметрики
    - do: |
        Изменить результаты поиска одним из способов:
        - изменение положение карты не жестом (кнопки зума, скролл карты)
        - применение фильтров при поиске
        - подгрузка результатов на серпе
    - assert: |
        В логах приходит событие: **search.get-reask-results**
        у параметра **reask_reason**: указана причина изменения результатов
        _offset-map-by-gesture _- изменение положения карты на экране жестом
        _offset-map-by-app_ - изменение положение карты не жестом (анимация, кнопки зума, self-tracking)
        _filtering_ - применение фильтров при поиске
        _serp-scrolling_- подгрузка результатов на серпе
        _reqId_ - идентификатор запроса в геопоиск
        _serpId_ - идентификатор первого запроса в геопоиск в рамках текущей поисковой задачи. То есть при каждом перезапросе reqId меняется, а serpId остается прежним и равен reqId первого запроса
        _Событие логируется после получения ответа при перезапроса из-за изменения поисковых критериев._

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - metric
    - testing:
      - acceptance_navi


  Логирование результатов поиска при ведении по маршруту в оффлайне:
    - description: |
        **На 11.08.2020 известный баг,** что на iOS может не приходить событие search.rubric_search. Проблема возникает не только при поиске вдоль маршрута, но и при обычном оффлайн поиске.
    - info: |
        Кейс проходить на сборке debug
        1 - Скачать кеш региона, в котором находится пользователь
        2 - Отключить интернет
        3 - Построить маршрут, запустить ведение по нему.
        4 - Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
    - do: |
        Произвести поиск по любой категории/любому поисковому запросу
    - assert: |
        В логи приходит события:
        1 - **search.start** - Старт поисковой сессии
        2 - **search.get-search-results** - Получение результатов поиска. Событие логируется при получении результата поиска от геопоиска.
        3 - **search.rubric_search** - Получен ответ на рубричный поиск. Отправляется тогда же когда search.get-search-results(search_type=rubric). Отдельное событие необходимо для маркетинга из-за ограничений аппметрики
    - do: |
        Изменить результаты поиска одним из способов:
        - изменение положение карты не жестом (кнопки зума, скролл карты)
        - применение фильтров при поиске
        - подгрузка результатов на серпе
    - assert: |
        В логах приходит событие: **search.get-reask-results**
        у параметра **reask_reason**: указана причина изменения результатов
        _offset-map-by-gesture _- изменение положения карты на экране жестом
        _offset-map-by-app_ - изменение положение карты не жестом (анимация, кнопки зума, self-tracking)
        _filtering_ - применение фильтров при поиске
        _serp-scrolling_- подгрузка результатов на серпе
        _reqId_ - идентификатор запроса в геопоиск
        _serpId_ - идентификатор первого запроса в геопоиск в рамках текущей поисковой задачи. То есть при каждом перезапросе reqId меняется, а serpId остается прежним и равен reqId первого запроса
        _Событие логируется после получения ответа при перезапроса из-за изменения поисковых критериев._

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - metric
    - testing:
      - acceptance_navi


  Логирование результатов поиска  в оффлайне:
    - description: |
        **На 11.08.2020 известный баг,** что на iOS может не приходить событие search.rubric_search. Проблема возникает не только при поиске вдоль маршрута, но и при обычном оффлайн поиске.
    - info: |
        Кейс проходить на сборке debug
        1 - Скачать кеш региона, в котором находится пользователь
        2 - Отключить интернет
        3 - Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
    - do: |
        Произвести поиск по любой категории/любому поисковому запросу
    - assert: |
        В логи приходит события:
        1 - **search.start** - Старт поисковой сессии
        2 - **search.get-search-results** - Получение результатов поиска. Событие логируется при получении результата поиска от геопоиска.
        3 - **search.rubric_search** - Получен ответ на рубричный поиск. Отправляется тогда же когда search.get-search-results(search_type=rubric). Отдельное событие необходимо для маркетинга из-за ограничений аппметрики
    - do: |
        Изменить результаты поиска одним из способов:
        - изменение положение карты не жестом (кнопки зума, скролл карты)
        - применение фильтров при поиске
        - подгрузка результатов на серпе
    - assert: |
        В логах приходит событие: **search.get-reask-results**
        у параметра **reask_reason**: указана причина изменения результатов
        _offset-map-by-gesture _- изменение положения карты на экране жестом
        _offset-map-by-app_ - изменение положение карты не жестом (анимация, кнопки зума, self-tracking)
        _filtering_ - применение фильтров при поиске
        _serp-scrolling_- подгрузка результатов на серпе
        _reqId_ - идентификатор запроса в геопоиск
        _serpId_ - идентификатор первого запроса в геопоиск в рамках текущей поисковой задачи. То есть при каждом перезапросе reqId меняется, а serpId остается прежним и равен reqId первого запроса
        _Событие логируется после получения ответа при перезапроса из-за изменения поисковых критериев._

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - metric
    - testing:
      - acceptance_navi


  Карточка результатов поиска. Логирование кнопки "Маршрут":
    - info: |
        Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
        Кейс проходить на сборке debug
    - do: |
        - Произвести поиск по любой категории
        - Выбрать любую карточку организации
    - assert: |
        Открыта карточка организации, в нижней части у карточки присутствуют контроллы:
        Маршрут, позвонить, поделиться, в избранное, перейти на сайт
    - do: Тап на "Маршрут"
    - assert: |
        Строится маршрут до выбранной точки.
        В логах приходит событие: **place.make-route**
        Примерный вид лога:
        ....Name: place.make-route
        ....Attributes: [
        .......advertisement: advertisement=true
        ........card_type: card_type=org
        .......category: category=Супермаркет
        ........logId: logId=dHlwZT1iaXpmaW5kZXI7aWQ9MTk0Nzc0MjcxNjI0
        ........name: name=Перекрёсток
        ........reqid: reqid=1589974326718248-3391943292-vla1-4137-vla-addrs-nmeta-new-8031
        ........route_type_button: route_type_button=single
        ........search_number: search_number=0
        ........source: source=place-view
        ........toponym: toponym=false
        ........type: type=destination
        ........uri: uri=ymapsbm1://org?oid=194774271624

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - metric
    - testing:
      - acceptance_navi


  Карточка результатов поиска. Логирование кнопки "Позвонить":
    - info: |
        Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
        Кейс проходить на сборке debug
    - do: |
        - Произвести поиск по любой категории
        - Выбрать любую карточку организации
    - assert: |
        Открыта карточка организации, в нижней части у карточки присутствуют контроллы:
        Маршрут, позвонить, поделиться, в избранное, перейти на сайт
    - do: Тап на "Позвонить"
    - assert: |
        Открывается экран с номером организации
        В логах приходит событие: **place.make-call** с параметрами:
        _Source = place-card-up_ - нажал на звонок на карточке организации внизу в закрепленных кнопках (иконка) - на ios при тапе на икноку значение может быть _Source = floating-bar
        _Source = place-card-bottom_ – на карточке организации внизу карточки (номер телефона)
        _Source = more-details_ – из экрана подробнее
        _position_ - Номер телефона в списке (начиная с нуля)

        Примерный вид лога:
        ....Name: place.make-call
        ....Attributes: [
        ........advertisement: advertisement=true
        ........card_type: card_type=org
        ........category: category=Магазин сантехники
        ........logId: logId=dHlwZT1iaXpmaW5kZXI7aWQ9MTA4OTY1MjMwNg==
        .......name: name=Пенаты
        ........phone: phone=+7 (4872) 49-44-94
        ........position: position=0
        ........reqid: reqid=1589974656155264-3187753004-man1-8209-man-addrs-nmeta-new-8031
        ........search_number: search_number=0
        ........source: source=place-card-up
        ........uri: uri=ymapsbm1://org?oid=1089652306

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Карточка результатов поиска. Логирование кнопки "Перейти на сайт":
    - info: |
        Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
        Кейс проходить на сборке debug
    - do: |
        - Произвести поиск по любой категории
        - Выбрать любую карточку организации
    - assert: |
        Открыта карточка организации, в нижней части у карточки присутствуют контроллы:
        Маршрут, позвонить, поделиться, в избранное, перейти на сайт
    - do: Тап на "Перейти на сайт"
    - assert: |
        Происходит переход в браузер на сайт организации / открывается поп-ап с выбором нужной ссылки/браузера
        В логах приходит событие: **place.open-site** с параметрами
        _place-card-up _- клик по иконке в верху карточки.
        _place-card-bottom_ - клик по сайту в низу карточки.
        _position_ - Номер сайта в списке (начиная с нуля)
        Примерный вид лога:
        ....Name: place.open-site
        ....Attributes: [
        ........advertisement: advertisement=true
        ........card_type: card_type=org
        ........category: category=Суши-бар
        .......logId: logId=dHlwZT1iaXpmaW5kZXI7aWQ9MTEwNjAxNTQ3MTY0
        ........name: name=Шиитаке
        ........position: position=0
        ........reqid: reqid=1589974845603931-2962294213-sas1-6051-sas-addrs-nmeta-new-8031
        ........search_number: search_number=1
        ........source: source=place-card-up
        ........uri: uri=ymapsbm1://org?oid=110601547164
        ........url: url=https://tula-sushi.ru/

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - metric
    - testing:
      - acceptance_navi


  Карточка результатов поиска. Логирование кнопки "Поделиться":
    - info: |
        Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
        Кейс проходить на сборке debug
    - do: |
        - Произвести поиск по любой категории
        - Выбрать любую карточку организации
    - assert: |
        Открыта карточка организации, в нижней части у карточки присутствуют контроллы:
        Маршрут, позвонить, поделиться, в избранное, перейти на сайт
    - do: Тап на "Поделиться/пошарить результаты"
    - assert: |
        Открывается поп-ап с выбором приложения через которое можно поделиться результатом поиска
        В логах приходит событие: **place.share-place**
        Примерный вид лога:
        ....Name: place.share-place
        ....Attributes: [
        ........advertisement: advertisement=true
        ........card_type: card_type=org
        ........category: category=Кофейня
        ........logId: logId=dHlwZT1iaXpmaW5kZXI7aWQ9MTc5NTkxODQ5MTk1
        ........name: name=Bary Бари
        ........reqid: reqid=1589974845603931-2962294213-sas1-6051-sas-addrs-nmeta-new-8031
        ........search_number: search_number=0
        ........toponym: toponym=false
        ........uri: uri=ymapsbm1://org?oid=179591849195

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - metric
    - testing:
      - acceptance_navi


  Логирование фильтра:
    - info: |
        Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
        Кейс проходить на сборке debug
    - do: Произвести поиск по любой категории
    - assert: |
        Отображается серп с результатами поиска, на нем расположен фильтр.
        При пока фильтра в логи приходит событие:
        **filters.panel-appear**, Где reqid - идентификатор поискового запроса
        Например,
        Event received: [
         ....Name: filters.panel-appear
        ....Attributes: [
        ........reqid: reqid=1593437563492893-3338592358-man1-7847-man-addrs-nmeta-new-8031
        ....]
         ]
    - do: Пользователь тапнул на сам фильтр
    - assert: |
        Открывается экран со всеми фильтрами
        В логи приходит событие:
        **search.open-filters**
        С параметрами:
        button: Enum(filters, more) - как открыли экран (filters для кнопки "Фильтры" на плашке; more для кнопки "еще" в значениях категорийного фильтра на плашке)
        reqid: String

        Например,
        Event received: [
        ....Name: search.open-filters
        ....Attributes: [
        ........button: button=filters
        .......reqid: reqid=1593437563492893-3338592358-man1-7847-man-addrs-nmeta-new-8031
         ....]
         ]
    - do: Тап на "Остальные/Другие" в списке значений фильтров
    - assert: |
        В логи приходит событие:
        **filters.other-filters**
        С параметрами:
        category - категорий поиска (Кафе, Гостиницы и т.п.)
        name - название фильтра
        id - идентификатор фильтра

        Например,
        ....Name: filters.other-filters
        ....Attributes: [
        ........category: category=bars
        ........category_id: category_id=null
        ........id: id=price_category
        .......name: name=цены
        ........reqid: reqid=1589979226246963-3668034214-vla1-4243-vla-addrs-nmeta-new-8031

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - metric
    - testing:
      - acceptance_navi


  Логирование булевого фильтра:
    - info: |
        Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
        Кейс проходить на сборке debug
    - do: |
        Тап на иконку лупы
        Произвести поиск по любой категории
    - assert: Открывается серп с результатами поиска и фильтром
    - do: |
        Тап на булевый фильтр на плашке с фильтром
        (Булевый фильтр - фильтр, который выбирается без варинтов (напр, "Открыто", "Доставка еды", "Круглосуточно" и т.д.). При нажатии он сразу применяется, а не открывается список из подробных фильтров, напр, как у категорийного фильтра "цена")
    - assert: |
        В логи приходит события:
        **filters.select-bool-filter**
        С параметрами:
        category - категорий поиска (Кафе, Гостиницы и т.п.). Может быть null
        name - название фильтра
        id - идентификатор фильтра
        source - место использования фильтра (panel - плашка с фильтрами, view - экран с фильтрами)
        category_id - id категории ответа (всегда не null)

        Например:
        Event received: [
         ....Name: filters.select-bool-filter
        ....Attributes: [
        ........category: category=bars
        ........category_id: category_id=null
        ........id: id=open_24h
        ........name: name=круглосуточно
         ........reqid: reqid=1593438523837151-727193188-man1-7664-man-addrs-nmeta-new-8031
        ........source: source=panel
        ........state: state=true
        ....]
         ]

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - metric
    - testing:
      - acceptance_navi


  Логирование категорийного фильтра:
    - info: |
        Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
        Кейс проходить на сборке debug
    - do: |
        Тап на иконку лупы
        Произвести поиск по любой категории
    - assert: Открывается серп с результатами поиска и фильтрами
    - do: Раскрыть значения категорийного фильтра на плашке (тап на три точки)
    - assert: |
        В логи приходит событие:
        **filters.unfold**
        С параметрами:
        category - категорий поиска (Кафе, Гостиницы и т.п.)
        name - название фильтра
        id - идентификатор фильтра

        Например:
        ....Name: filters.unfold
        ...Attributes: [
        2020-05-20 16:05:07.886 702-1789/? I/AudioPolicyManagerCustom: FLAG None hence request for a primary output
        ........category: category=malls
        ........id: id=rating_threshold
        ........name: name=рейтинг
        ........reqid: reqid=1589979846761501-152115118-sas1-1528-sas-addrs-nmeta-new-8031
        2020-05-20 16:05:07.886 702-25980/? I/AudioPolicyManagerCustom: FLAG None hence request for a primary output
    - do: |
        Тап по любой характеристики из категорийного фильтра (Например, у цены выбрать Средние /Выше среднего / Высокие)
    - assert: |
        В логи приходит событие:
        **filters.select-enum-filter**
        С параметрами:
        category - категорий поиска (Кафе, Гостиницы и т.п.)
        name - название фильтра, например Кухня.
        id - идентификатор фильтра
        value – название выбранного фильтра из списка, например, европейская
        item_id - идентификатор выбранного фильтра из списка
        source - место использования фильтра (panel - плашка с фильтрами, view - экран с фильтрами)

        Например:
        Event received: [
        ....Name: filters.select-enum-filter
        ....Attributes: [
        ........category: category=bars
        ........category_id: category_id=null
        ........id: id=price_category
        ........item_id: item_id=price_expensive
        ........name: name=price_category
        ........reqid: reqid=1593439241894095-1917212831-vla1-1379-vla-addrs-nmeta-new-8031
        ........source: source=panel
        ........state: state=true
        ........value: value=выше среднего
        ....]

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - metric
    - testing:
      - acceptance_navi


  Логирование результатов поиска (показы/клики в категории):
    - info: |
        Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
        Кейс проходить на сборке debug
    - do: |
        Открыть экран поиска с категориями
        (Тапом на иконку лупы в меню либо переключением с вкладки истории на вкладку категорий)
    - assert: |
        Открывается экрна поиска с категориями
        В логи приходит событие:
        **search.categories**
        С параметром: Dictionary - отображение позиции категории(начиная с 0) в id категории.
        Логируются все категории, а не только рекламные. Если есть спец. категория, то она логируется с позицией 0.

        Например:
        ....Name: search.categories
         ....Attributes: [
        ........0: 0=food
        ........1: 1=gasstation
        ........10: 10=car wash
        ........11: 11=auto repair
        ........2: 2=atm
        ........3: 3=drugstores
        ........4: 4=supermarket
        ........5: 5=bars
        ........6: 6=malls
         ........7: 7=hotels
         ........8: 8=cinemas
        ........9: 9=beauty shops
    - do: Выбрать любую категорию на основном экране поиска. (Рекламные и спец категории тоже учитываются.)
    - assert: |
        В логи приходит событие:
        **search.open-category**
        с параметрами:
        name: String
        category_id: String
        source: Enum (search, search-nearby, results-nearby, navigation)

        Например:
        ....Name: search.open-category
        ....Attributes: [
        ........category_id: category_id=beauty shops
        .......name: name=Салоны красоты
    - do: |
        **[Шаг только для Android]** на ios событий 3 и 4 шага нет!
        Перейти от результатов поиска списоком к результатам поиска на карте (например, свернув серп в минимальное состояние)
    - assert: |
        В логи приходит событие: **search.open-map**
    - do: |
        **[Шаг только для Android]**
        Перейти от результатов поиска на карте к результатам поиска списком (например, развернув свернутый серп)
    - assert: |
        В логи приходит событие: **search.open-list**

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - metric
    - testing:
      - acceptance_navi


  Логирование результатов поиска (остальные события):
    - info: |
        Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
        Кейс проходить на сборке debug
    - do: |
        Тап на иконку лупы в тапбаре
        Тап на поисковое поле для ввода запроса вручную
    - assert: |
        Открывается история поиска, начинает отображаться клавиатура
        В логи приходит событие: **search.keyboard-appeared**
    - do: |
        **[Шаг только для android]** на ios данное событие отсутствует
        Произвести любой поиск (вручную/ из истории / по категории)
        Закрыть результаты поиска
    - assert: |
        Результаты поиска закрываются
        В логи приходит событие: **search.end**

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - metric


  Логирование результатов поиска (остальные события- Авиарежим):
    - info: |
        1 - Скачать карту региона.
        2 - Включить авиарежим.
        3 - Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
        Кейс проходить на сборке debug
    - do: |
        Тап по иконке лупы
        Тап по любой категории
    - assert: |
        Открывается серп с результатами поиска. Возле поисковой строки отображается турбо-кнопка ( в виде синей молнии/стрелки)
    - do: Тап на синюю турбо-кнопку
    - assert: |
        Открывается экран "Поиск без интернета" с пояснением и кнопками "Понятно" и "Перейти в онлайн поиск"
        В логи приходит событие:
        **search.turbo-icon**
        С параметром: reqid: String

        Например:
         ....Name: search.turbo-icon
         ....Attributes: [
         ........reqid: reqid=offline-search-1589982110
    - do: |
        Тап  на «Перейти в онлайн» в окне  про турбо режим
    - assert: |
        Открываются результаты поиска.
        В логи переходит событие: **search.switch-to-online**
        С параметрами: reqid: String
        Например,
        ....Name: search.switch-to-online
        ....Attributes: [
        ........reqid: reqid=offline-search-1589982110

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - metric


  Логирование карточки результатов поиска:
    - info: |
        Девайс подключен к программе для отслеживания логов (XCode, AndroidStudio)
        Кейс проходить на сборке debug
        **На 28.07:** данные события были добавлены только на Android
    - do: |
        Произвести поиск по любой категории/любому поисковому запросу
        Тап на любую предложенную карточку так, чтобы открылась карточка организации в максимальном размере
    - assert: |
        В логи приходит событие: **search.open-place-view**

    - platforms:
      - android
    - tags:
        - assessors
        - metric
    - testing:
        - acceptance_navi


  Поиск по конкретному адресу:
    - info: |
        Могут не отображаться результаты поиска или же отображаться в одном месте в 4 шаге, это ожидаемо
    - do: |
        Тап по иконке лупы в тапбаре
        Тап на поисковую строку
    - assert: |
        Курсор становится активным в поисковой строке, открывается клавиатура для набора адреса.
        Под поисковой строкой отображаются кнопки "Категории" и некоторые категории поиска
        Если ранее осуществлялся поиск, то поисковые запросы также отображаются
    - do: |
        Ввести в поисковой строке любой адрес
        Тап на кнопку "Найти"
    - assert: |
        - На карте отмечен пин поисковой выдачи
        - В нижней части экрана отображается карточка топонима
    - do: Тап по карточке топонима
    - assert: |
        - Открывается карточка топонима в максимальном состоянии
        - В карточке размещена следующая информация: адрес, примерное время в пути, километраж, фото, а также присутствуют кнопки "Маршрут", "Поделиться", "Добавить в избранное"
        (Может быть и другая, но указан необходимый минимум)
    - do: Закрыть карточку топонима по крестику
    - assert: |
        - Пин ранее открытого топонима становится неактивным


    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
      - acceptance_navi
      - smoke_navi
    - integration_run:
      - search
      - mapkit


  Карточка пои/пина при открытом поиске:
    - do: |
        Тап по иконке лупы в тапбаре
        Тап по названию любой категории
    - assert: |
        - На карте отмечены поисковые пины
        - Открыт экран результатов поиска
    - do: |
        Свернуть поисковую выдачу в минимальное состояние
        Тап по любому пину
    - assert: |
        Открывается карточка пина
    - do: Закрыть карточку пина тапом на крестик в карточке
    - assert: |
        Карточка пина закрывается
        На карте отображается экран поиска в минимальном состоянии и поисковые пины

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - search
      - mapkit


  Закрытие карточки по системной кнопке back:
    - do: Осуществить поиск по любой категории
    - assert: На карте отображаются пины организаций
    - do: |
        Свернуть поисковую выдачу в минимальное состояние
        Тап по любому пину
    - assert: Открывается карточка пина
    - do: |
        Тап по любому любому пину
        Закрыть карточку пина по системной кнопке back
    - assert: |
        Карточка пина закрывается
        На карте отображается экран поиска в минимальном состоянии и поисковые пины

    - platforms:
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi
    - integration_run:
      - search

  Поиск по введенному адресу улицы:
    - do: |
        - Перейти на экран “Поиск” тапом по иконке лупы в таббаре
        - Тап на поле ввода “Поиск”
    - assert: |
        - Курсор установлен на поисковую строку
        - Появилась клавиатура
        - Произошел автоматический переход на вкладку “История”
    - do: |
        - Ввести в поисковую строку любую улицу (без номера дома)
        - Тап подсказку под поисковой строкой c номером дома
    - assert: |
        - Происходит переход на экран “Карта”
        - На карте отображаются результаты поиска пин и сама улица выделены
        - Снизу выдвигается карточка результата поиска
    - do: |
        - Закрыть карточку результата поиска
    - assert: Результаты поиска исчезли с карты

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Поиск и построение маршрута:
    - do: Тап на кнопку поиска (лупу)
    - assert: Открывается экран "Поиск"
    - do: Выполнить поиск по любой категории/запросу
    - assert: |
        - Происходит переход на экран "Карта"
        - Открывается экран с результатами поиска (серп)
        - На карте отображаются пины результата поиска
    - do: |
        - Тап по любой карточке из результатов поиска
        - Свернуть карточку организации в минимальное состояние
        - Построить маршрут через лонгтап меню
    - assert: |
        - Маршрут построен
        - В нижней части экрана отображается карточка обзора вариантов маршрута c кнопками "Поиск" (иконка лупы), "Отмена" и "Поехали"
        - Открытая ранее карточка организации скрывается

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - both_myspin
        - mapkit_ready
    - testing:
      - acceptance_navi
      - smoke_myspin
    - integration_run:
      - mapkit


  Мои места. Добавление Дом/Работа в поиске мяк:
    - do: Авторизоваться аккаунтом, у которого отсутствует дом/работа в моих местах
    - do: Тап "Мои места" с таббаре
    - assert: Открывается экран Мои места
    - do: Тап "добавить" напротив строки Дом или Работа
    - assert: Открывается карта с карточкой добавления адреса "Двигайте карту, чтобы указать место" и кнопкой "Сохранить адрес"
    - do: Передвигать карту
    - assert: В карточке меняется адрес в зависимости от передвижения карты
    - do: Сделать лонг тап на любое место, вызвать алису, тап на любое дс
    - assert: Лонг тап не происходит, алиса не вызывается, карточки дс не открывается.
    - do: Тап "Сохранить адрес"
    - assert: Указаное на карте место отмечается красным значком
    - do: Перейти в "Мои места" в таббаре
    - assert: На месте выбранного пункта в шаге 2 отображается выбранный адрес

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Добавление точек в Избранное через "Мои места":
    - info: |
        Открыта страница "Мои места"
    - do: |
        Тап "Добавить адрес" в Избранном
    - assert: Открывается Поиск

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - integration_run:
      - search


  Карточка ДС и поиск при движении:
    - info: Построить любой маршрут и запустить ведение по нему
    - do: Тап по любому пину ДС по маршруту
    - assert: Открывается карточка ДС
    - do: |
        Закрыть карточку ДС
        Тап на иконку лупы и произвести поиск по адресу/организации (НЕ по категории)
    - assert: |
        Карточка ДС скрывается
        Открывается карточка поискового запроса, на карте отмечены поисковые пины
    - do: Закрыть поисковую карточку
    - assert: |
        Поисковая карточка скрывается
        Плашка ЕТА отображается, движение по маршруту продолжается

    - platforms:
      - ios
      - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
      - search
      - mapkit


  Автоскролл карты при поиске Алисой:
    - do: |
        - Перейти на экран “Поиск” тапом по иконке Лупы в таббаре
        - Тап на иконку микрофона в поисковой строке
        - Произнести поисковый запрос в виде адреса (напр, Ленина 25 / Москва,Льва Толстого 16)
    - assert: |
        - Происходит переход на экран “Карта”
        - Происходит подскролл к пину результата поиска
        - Снизу выдвигается карточка результата поиска
    - do: |
        - Закрыть результаты поиска
        - Не сдвигая спан карты, перейти на экран “Поиск” тапом по иконке Лупы в таббаре
        - Тап на иконку микрофона в поисковой строке
        - Произнести поисковый запрос в виде адреса
    - assert: |
        - Происходит переход на экран “Карта”
        - На экране карты отмечен поисковый пин
        - Снизу выдвигается карточка результата поиска

    - platforms:
      - ios
      - android
    - tags:
      - assessors
      - not_suitable_for_farm
      - mapkit_ready
    - testing:
      - acceptance_navi
    - integration_run:
      - mapkit


  Открытие карточки через тап по ПОИ:
    - info: |
        в Developer settings в разделе Misc - fast day & night switching - on
        Перезагрузить приложение
    - do: Тап по ПОИ
    - assert: Открылась карточка пои.
    - do: Тап по кнопке Маршрут.
    - assert: Строится маршрут к точке.

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi
    - integration_run:
        - search


  Открытие карточки через тап по ПОИ - смена ориентации:
    - info: |
        - Девайс в портретной ориентации
        - в Developer settings в разделе Misc - fast day & night switching - on
        - Перезагрузить приложение
    - do: Тап по любому ПОИ
    - assert: Открылась карточка пои в среднем состоянии.
    - do: Сменить ориентацию на лендскейп.
    - assert: |
        - UI карточки подстраивается под лендскейп и не "ломается"
        - При смене ориентации карточка расхлопывается в максимальное состояние.
    - do: Не меняя состояния карточки (максимальное), сменить ориентацию на портрет.
    - assert: |
        - UI карточки подстраивается под портрет и не "ломается".
        - При смене ориентации карточка сохраняет максимальное состояние.
    - do: |
        - Сменить состоя карточки на минимальное свайпом вниз (состояние без кнопок).
        - Несколько раз сменить ориентацию.
    - assert: |
        - UI карточки не ломается
        - Карточка сохраняет минимальное состояние.

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi
    - integration_run:
        - search


  Переключение между тапабельными POI:
    - info: |
        - Девайс в портретной ориентации
        в Developer settings в разделе Misc - fast day & night switching - on
        Перезагрузить приложение
    - do: Тап по любому ПОИ
    - assert: Открылась карточка пои в среднем состоянии.
    - do: Переключаться между пои (тап несколько пои друг за другом)
    - assert: |
        Тапнутые пои переходят в активный режим
        Карточка следующего пои открывается сразу за предыдущим, повторно тап не нужно

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi
    - integration_run:
        - search


  Тап по POI во время движения по маршруту:
    - info: |
        Девайс в портретной ориентации
        Developer settings в разделе Misc - fast day & night switching - on
        Перезагрузить приложение
    - do: |
        - Построить маршрут и запустить ведение по нему
        - Тап по POI в режиме ведения
    - assert: |
        Если таббар скрыт, то первый тап по пои не проходит - появляется тапбар и кнопки
        Когда тапбар не скрыт - карточка пои открывается по первому тапу

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - search
        - mapkit


  Взаимодействие с картой при открытом тапабельном POI:
    - info: |
        - Девайс в портретной ориентации
        в Developer settings в разделе Misc - fast day & night switching - on
        Перезагрузить приложение
    - do: Тап по любому ПОИ
    - assert: |
        - После тапа пои переходит в активный режим
        - Открылась карточка пои
    - do: Позумить карту при открытой карточке пои.
    - assert: |
        - Активный режим пои не пропадает
        - Карточка переходит в минимальное состояние
    - do: Тап по карте
    - assert: |
        - Пин ПОИ скрывается
        - Карточка ПОИ скрывается
    - do: Тап по любому ПОИ
    - assert: |
        - После тапа пои переходит в активный режим
        - Открылась карточка пои
    - do: Поскроллить карту с открытой карточкой ПОИ
    - assert: |
        - Активный режим пои не пропадает
        - Карточка переходит в минимальное состояние

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi
    - integration_run:
        - search


  Проверка темозависимости карточки ПОИ:
    - info: |
        в Developer settings в разделе Misc - fast day & night switching - on
        Перезагрузить приложение
    - do: Тап по любому ПОИ
    - assert: |
        - После тапа пои переходит в активный режим
        - Открылась карточка пои
        - Тема карточки соответствует текущей теме в Навигаторе
        - Артефакты противоположной темы отсутствуют.
    - do: Не закрывая карточку, несколько раз сменить ориентацию девайса
    - assert: Артефакты противоположной темы отсутствуют.
    - do: Дождаться смены темы.
    - assert: |
        - Тема карточки подстраивается под новую активную тему
        - Артефакты противоположной темы отсутствуют.
    - do: Не закрывая карточку, несколько раз сменить ориентацию девайса
    - assert: Артефакты противоположной темы отсутствуют.

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi
    - integration_run:
        - search


  Взаимодействие карточки ПОИ с другими карточками приложения. ДС.:
    - info: |
        в Developer settings в разделе Misc - fast day & night switching - on
        Перезагрузить приложение
    - do: |
        - Построить маршрут через несколько ДС
        - Запустить ведение по нему
    - assert: Начинается ведение по маршруту
    - do: Тап по любому ПОИ
    - assert: |
        Открылась карточка ПОИ
        Пин Пои активен
    - do: Не закрывая карточку ПОИ, тап по ДС.
    - assert: |
        Карточка организации скрывается, открывается карточка ДС
        Пин ПОИ становится неактивным, а пин ДС - активным
    - do: Несколько раз сменить ориентацию девайса.
    - assert: Сохраняется карточка ДС
    - do: Тап по любому ПОИ
    - assert: |
        Открывается карточка ПОИ, карточка ДС скрывается.
        Пин ДС становится неактивным, а пин ПОИ - активным
    - do: Закрыть карточку любым способом.
    - assert: Все карточки скрыты.

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi
    - integration_run:
        - search


  Взаимодействие карточки ПОИ с другими карточками приложения. Обзор.:
    - info: |
        в Developer settings в разделе Misc - fast day & night switching - on
        Перезагрузить приложение
    - do: Построить маршрут любым способом.
    - assert: |
        - Строится маршрут
        - Внизу карты появляется карточка обзора с вариантами маршрута.
    - do: Не взаимодействуя в карточкой обзора, тап по любому ПОИ
    - assert: Карточка обзора скрывается, на переднем плане появляется карточка организации.
    - do: Несколько раз сменить ориентацию девайса.
    - assert: Карточка организации на переднем плане.
    - do: Закрыть карточку организации любым способом.
    - assert: |
        - Карточка организации скрывается
        - Появляется карточка обзора.

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi
    - integration_run:
        - search


  Взаимодействие карточки ПОИ с другими карточками приложения. Рекламная карточка.:
    - description: |
        Тестовые биллборды можно поймать по адресам:
        - Рядом С МГУ с кнопками на сайт /позвонить
        [image 1](https://jing.yandex-team.ru/files/natalya-ovs/%D0%91%D0%B8%D0%BB%D0%BB%D0%B1%D0%BE%D1%80%D0%B4%20%D1%80%D1%8F%D0%B4%D0%BE%D0%BC%20%D1%81%20%D0%9C%D0%93%D0%A3.jpg)
        [image 2](https://jing.yandex-team.ru/files/natalya-ovs/%D0%91%D0%B8%D0%BB%D0%BB%D0%B1%D0%BE%D1%80%D0%B4%20%D0%9C%D0%93%D0%A3.jpg)
        - Рядом с м.Новые Черемушки (Нахимовский проспект, Севастопольский проспект, ул.Каховка) с поиском
        [image 1](https://jing.yandex-team.ru/files/natalya-ovs/%D0%91%D0%B8%D0%BB%D0%BB%D0%B1%D0%BE%D1%80%D0%B4%20%D0%A7%D0%B5%D1%80%D0%B5%D0%BC%D1%83%D1%88%D0%BA%D0%B8..jpg)
        [image 2](https://jing.yandex-team.ru/files/natalya-ovs/%D0%91%D0%B8%D0%BB%D0%BB%D0%B1%D0%BE%D1%80%D0%B4%20%D0%A7%D0%B5%D1%80%D0%B5%D0%BC%D1%83%D1%88%D0%BA%D0%B8.jpg)
    - info: |
        в Developer settings - Misc - fast day & night switching - on
        в Developer settings - AD включить свитчер FDE
        - Для тестирования нужно в настройках сделать следующее:
        - Перейти в настройку: Dev. Set. -> Ad -> Setup pages ids
        - Занулить все категории тапом на кнопку "Сбросить все значения в null"
        - В категорию "Пины и билборды по маршруту" вписать следующий pageid:
           для биллборда с поиском (Москва, Черемушки) - navi_billboard_7/testing_billboard_cherem_search
           для биллборд с сайтом и звонком (Москва, рядом с МГУ) - navi_billboard_7/testing_billboard_mgu_call_site
        - Тап сохранить
        - Перезапустить навигатор
    - do: |
        - Построить маршрут рядом С МГУ, или с м.Новые Черемушки
        - Запустить ведение по маршруту через debug-панель
        - Дождаться появления любой рекламной сущности, например Биллборд или рекламный пин по маршруту.
        - Тап по рекламной сущности
    - assert: открывается рекламная карточка
    - do: Не взаимодействуя в карточкой рекламы, тап по любому ПОИ
    - assert: Карточка рекламы скрывается, на переднем плане появляется карточка организации.
    - do: Несколько раз сменить ориентацию девайса.
    - assert: Карточка организации на переднем плане.
    - do: Закрыть карточку организации любым способом.
    - assert: |
        - Карточка организации скрывается
        - На карте отсутствуют другие открытые карточки

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi
    - integration_run:
        - search


  Добавление точки Что здесь?:
    - info: |
        - Developer settings в разделе Misc - fast day & night switching - on
        - Перезагрузить приложение
    - do: |
        - Выполнить лонгтап по зданию
        - Тап "Что здесь"
    - assert: Выдается карточка с адресом местоположения здания
    - do: |
        - Выполнить лонгтап по любой улице
        - Тап "Что здесь"
    - assert: Открывается карточка с названием улицы, выбранная улица имеет выделение
    - do: |
        Выполнить лонгтап по пустому месту на карте
        Тап "Что здесь"
    - assert: Открывается карточка местоположения, выделяется полигон на карте
    - do: Закрыть карточку любым способом.
    - assert: Карточка скрывается

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi
    - integration_run:
        - search


  Карточка ПОИ в оффлайне:
    - info: |
        в Developer settings в разделе Misc - fast day & night switching - on
        Перезагрузить приложение
        Навигатор не запущен.
    - do: |
        - Отключить источники связи, например, перейти в авиарежим.
        - Запустить Навигатор
        - Тап по ПОИ
    - assert: Открывается карточка без информации
    - do: Не закрывая карточки включить связь.
    - assert: Информация подгружается в карточку.
    - do: |
        - Закрыть карточку.
        - Скачать кеш региона (Меню - пункт Загрузка карт)
        - Как закачается кеш, отключить источники связи.
        - Тап по ПОИ
    - assert: Загружается карточка ПОИ, без медийной информации, типа фотографии/отзывы...

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi
    - integration_run:
        - search


  Карточка, открывающаяся по шарингу точки ссылкой:
    - info: |
        в Developer settings в разделе Misc - fast day & night switching - on
        Перезагрузить приложение
        На девайсе устновлен любой мессенджер.
    - do: |
        - Тап по любому ПОИ
        - В карточке организации, тап по кнопке Поделиться
        - Выбрать мессенджер для передачи ссылки
        - Отправить сообщением на девайс с навигатором, например, в телеграмм можно отправить ссылку самому себе в Избранное.
    - assert: В мессенджер приходит сообщение - ссылка на построение маршрута в навигаторе.
    - do: Тап на ссылку.
    - assert: |
        - Запускается навигатор.
        - Открывается карточка с адресом места и красный пин на карте

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi
    - integration_run:
        - search


  Добавление точки Что здесь? Взаимодействие с другими карточками:
    - info: |
        в Developer settings в разделе Misc - fast day & night switching - on
        Перезагрузить приложение
    - do: Тап на любой пин
    - assert: Открывается карточка организации
    - do: |
        Выполнить лонгтап
        Тап на Что здесь?
    - assert: |
        Карточка организации скрывается
        Открывается карточка "Что здесь?"
    - do: Тап на любой пин ДС
    - assert: |
        Пин что здесь пропадает
        Карточка что здесь скрывается
        Карточка ДС открывается
    - do: Выполнить лонгтап по карте
    - assert: |
        Карточка ДС скрывается
        Увеличенный пин ДС уменьшается обратно
        Карточка Что здесь открывается

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi
    - integration_run:
        - search


  Добавление точки Что здесь? Взаимодействие с обзором:
    - info: |
        в Developer settings в разделе Misc - fast day & night switching - on
        Перезагрузить приложение
    - do: |
        Построить маршрут
        Выполнить лонгтап по карте
        Тап на Что здесь
    - assert: |
        Открывается карточка "Что здесь?" поверх обзора
    - do: Закрыть карточку
    - assert: Карточка скрылась, пин "Что здесь?" пропал, открыта карточка обзора

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi
    - integration_run:
        - search


  Открытие поиска по маршруту:
    - info:
        Контролы и кнопки скрываются без взаимодействия с картой
        Для отображения требуется немного изменить зум, или тапнуть в произвольном месте
    - do: Построить любой маршрут, запустить введенние по нему
    - assert: Маршрут построился, запустилось введение
    - do: |
        Тап Поиск
        Выбрать любую категорию, например "Продукты"
    - assert: |
        Происходит переход на карту. На карте отображаются поисковые пины по маршруту.
        Если рядом по маршруту нет подходящий организаций из выбранной категории, то будут отображаться пины поблизости с маршрутом.
    - do: |
        Тап Поиск
        Вызвать Алису и произвести голосовой поиск, например "Где поесть"
    - assert: |
        Происходит переход на карту.
        На карте отображается поисковая выдача по голосовому запросу
        В левой части экрана отображается крестик сброса результатов поиска


    - do: Тап Поиск
    - assert: Поиск открывается, отображаются категории, креша нет

    - integration_run:
        - search
        - mapkit
    - platforms:
        - ios
        - android
    - testing:
        - acceptance_navi
    - tags:
        - assessors
        - mapkit_ready


  Поиск по рекламным категориям:
    - description: |
        На  iPhone в лендскейпе кнопок фильтра нет.  iPad это iPhone в лендскейпе, следовательно, кнопок фильтра не будет отображаться ни в какой ориентации
    - do: |
        Тап на иконку лупы в тапбаре
        Тап по названию рекламной категории (у таких категорий имеется подпись Реклама. Например, "Пик", "Макдоналдс", "Бургеркинг")
    - assert: |
        - в нижней половине экрана отображается список организаций поисковой выдачи
        - в начале списка отображается поисковая строка со значком лупы, названием категории и крестиком(на андроид отображаться не будет)
        - под списком организаций отображается блок фильтров.
        На ios блок с фильтрами расположен под строкой поиска
        - кнопки масштабирования скрыты.
        - на карте под результатами поиска (под серпом) отмечены **брендированные пины** поисковой выдачи (Пин организации в виде кружка с логотипом компании).
        если в поисковой выдаче будет только одна организация, то отобразится миникарточка этой организации

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - search


  Оффлайн переключение отображения результатов поиска между списком и пинами на карте:
    - description: |
        Скачана оффлайн карта текущего региона
        Открыт экран поиска
        Включен авиарежим
    - do: Произвести поиск по любому запросу
    - assert: |
        На карте отмечены пины поисковой выдачи
        В окне поиска отображается список организаций поисковой выдачи
        Отображается блок фильтров
        Если в поисковой выдаче будет только одна организация, то отобразится миникарточка этой организации (в этом случае повторить поиск, чтобы находилось несколько организаций)
    - do: Свайп вниз по карточке с результатами поиска.
    - assert: |
        Список поисковой выдачи свернулся
        На карте отмечены пины поисковой выдачи
        На карте отображаются контрол парковок, зума, кнопки компаса, "мое местоположение", установки ДС, закрытия результатов поиска в виде крестика
    - do: Свайп вверх по свёрнутому списку найденных организаций
    - assert: |
        На карте отмечены пины поисковой выдачи
        В окне поиска отображается список организаций поисковой выдачи
        Отображается блок фильтров

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - search
        - mapkit


  Оффлайн поиск по запросу пользователя с экрана результатов поиска по другому запросу:
    - description: |
        Скачана оффлайн карта текущего региона
        Открыт экран поиска. Включен авиарежим.
    - do: Произвести произвольный поисковый запрос, чтобы отображалось более одного результата на карте
    - assert: |
        На карте отмечены пины поисковой выдачи
        В окне поиска отображается список организаций поисковой выдачи
        Отображается блок фильтров
    - do: |
        - Тап по надписи "Результаты поиска" (отображается только на Android)
        - Тап по полю ввода запроса
    - assert: Отображаются саджесты по введенному запросу
    - do: Тап по крестику в строке ввода запроса
    - assert: |
        Список саджестов не отображается
        Отображаются поисковые категории
    - do: Произвести поиск по другому запросу
    - assert: |
        На карте отмечены пины поисковой выдачи
        В окне поиска отображается список организаций поисковой выдачи
        Отображается блок фильтров
        Если в поисковой выдаче будет только одна организация, то отобразится миникарточка этой организации

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - search
        - mapkit


  Оффлайн поиск в другой области на карте.:
    - description: |
        Скачана оффлайн карта текущего региона
        Открыт экран поиска
        Включен авиарежим.
    - do: Произвести поиск по любому запросу
    - assert: |
        Отображаются результаты поиска с карточками организаций
        На карте отображаются поисковые пины
    - do: Свернуть список найденных организаций и подвинуть карту в сторону
    - assert: На карте отмечены пины поисковой выдачи
    - do: Уменьшить масштаб карты тапом по кнопке “-”
    - assert: |
        Масштаб уменьшился
        Подгружаются организации, присутствующие на спане карты
    - do: Увеличить масштаб карты тапом по кнопке “+”
    - assert: |
        Масштаб увеличился
        Подгружаются организации, присутствующие на спане карты

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - search
        - mapkit


  Оффлайн поиск по запросу, сохраненному в Истории:
    - description: |
        Скачана оффлайн карта текущего региона
        Открыт экран поиска. Включен авиарежим.
    - do: Тап по строке поиска
    - assert: |
        Открылся экран поиска
        Сохранены старые запросы пользователя
        Под поисковой строкой отображается карусель с закешированными поисковыми категориями
    - do: |
        Тап по сохраненному в истории запросу
    - assert: |
        Отображается карта с пинами
        IOS: В поисковом поле отображен запрос из Истории, по которому был проведен поиск
        Android: тап по надписи "Результаты поиска"  => В поисковом поле отображен запрос из Истории, по которому был проведен поиск
    - do: Тап в поле ввода, очистить его тапом на крестик
    - assert: |
        Запрос, по которому был произведен поиск отображается в вверху списка

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - search


  Оффлайн поиск в зоне, где не найден ни один результат:
    - description: |
        Скачана оффлайн карта текущего региона
        Открыт экран поиска. Включен авиарежим.
    - do: Произвести поиск по любому запросу
    - assert: |
        На карте отмечены пины поисковой выдачи
        В окне поиска отображается список организаций поисковой выдачи
        Отображается блок фильтров
        Если в поисковой выдаче будет только одна организация, то отобразится миникарточка этой организации
    - do: Переместить спан карты в место, где нет искомых поисковых результатов
    - assert: В результатах поиска отображается, что ничего не найдено

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - search
        - mapkit


  Комбинированный поиск онлайн->оффлайн в разных регионах:
    - info: |
        Скачана оффлайн карта Минска
        Установить стабильное интернет-соединение
        Открыт главный экран приложения с картой Москвы
        Открыт экран поиска.
    - do: Произвести поиск по любой категории
    - assert: |
        На карте отмечены пины поисковой выдачи
        В окне поиска отображается список организаций поисковой выдачи
        Отображается блок фильтров.
        Если в поисковой выдаче будет только одна организация, то отобразится миникарточка этой организации
    - do: Закрыть форму поиска
    - assert: |
        Открыт главный экран приложения со спаном карты Москвы (в видимой области экрана должна отображаться карта Москвы)
    - do: |
        Переместить карту на спан Минска ( в видимой части экрана должна отображаться карта Минска)
        Отключить интернет-соединение
        Тап на иконку лупы в тапбаре
        Тап на поисковую строку
        Произвести поиск по запросу, например, “Магазин”
    - assert: |
        На карте отмечены пины поисковой выдачи
        В окне поиска отображается список организаций поисковой выдачи
        Отображается блок фильтров
        Если в поисковой выдаче будет только одна организация, то отобразится миникарточка этой организации

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - search
        - mapkit


  Отсутствующие фильтры результатов офлайн поиска:
    - description: |
        Скачана оффлайн карта текущего региона
        Открыт экран поиска
        Включен авиарежим
    - do: Произвести поиск организации с филиалами, например по запросу 'Пятерочка'
    - assert: |
        Открыт экран результатов поиска
        В верхней части экрана отображается карта с пинами - результатами поиска
        В нижней части экрана - блок с фильтрами и результаты поиска в виде списка карточек найденных организаций
    - do: Закрыть экран результатов поиска
    - assert: Открыт экран с картой
    - do: |
        Тап на иконку лупы в тапбаре
        Тап на поисковую строку
        В поисковой строке ввести наименование топонима, например Ленина 125
    - assert: В списке саджестов появились подходящие топонимы
    - do: Тап один из сажестов
    - assert: |
        Открыта миникарточка топонима
        На карте поднят красный пин искомого топонима
    - do: Тап на крестик
    - assert: |
        Карточка закрывается, красный пин искомого топонима скрывается.
        Открыт экран карты

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - search
        - mapkit


  Оффлайн поиск по новому запросу без результатов поиска:
    - info: |
        Скачана оффлайн карта текущего региона
        Открыт экран поиска. Включен авиарежим.
    - do: |
        Тап по строке поиска
        Ввести поисковой запрос, например, Кафе
        Тап по кнопке поиска на клавиатуре
    - assert: |
        Отображается результат поиска на карте
        Отображается список найденых организаций
    - do: Изменить ориентацию устройства
    - assert: |
        Результаты поиска на карте отображаются
        Список найденых организаций отображается
    - do: |
        Тап по строке поиска
        (На android может потребоваться предварительно тап на надпись "Результаты поиска")
    - assert: |
        Отображается системная клавиатура
        Курсор отображается в строке ввода запроса
    - do: Ввести новый запрос без результатов поиска, удалив при этом старый запрос
    - assert: Отображается поисковая выдача без информации
    - do: Изменить ориентацию устройства
    - assert: Результатов поиска все еще нет

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - search
        - mapkit


  Оффлайн фильтрование результатов поиска:
    - info: |
        Скачана оффлайн карта текущего региона
        Открыт экран поиска. Включен авиарежим.
    - do: |
        Произвести поиск по любой категории, например, Кафе
        Тап по кнопке фильтра
    - assert: Отображен экран с фильтрами
    - do: Выбрать несколько фильтров, например, 'Авторская' и 'Оплата картой'
    - assert: Напротив варианта 'Авторская кухня' стоит активный чекбокс. Опция 'Оплата картой' подсвечена
    - do: Тап по кнопке 'Показать результаты' (iOS); Назад/Back (Android)
    - assert: |
        Поисковая выдача изменилась
        В списке результатов - кафе, которые соответствуют установленным фильтрам
        В плашке 'Фильтры' выделены кнопки 'Оплата картой' и 'Кухня'
    - do: Тап по кнопке фильтра
    - assert: Напротив выбранных вариантов стоит активный чекбокс, либо они подсвечены (в зависимости от выбранных фильтров)
    - do: Тап 'Сбросить все'
    - assert: |
        На экране фильтров сбросилось выделение всех фильтров
        Выбранные ранее опции в фильтр не подсвечены, активный чекбокс напротив них не установлена
    - do: Тап по кнопке 'Показать результаты' (iOS); Назад/Back (Android)
    - assert: |
        Поисковая выдача изменилась
        В списке результатов - все организации, соответствующие поисковому запросу, отсортированные по расстоянию или рейтингу
        В плашке Фильтры снялось выделение с кнопки 'Оплата картой'
    - do: Выбрать пару фильтров в плашке под поисковой строкой
    - assert: |
        Поисковая выдача изменяется после каждого нажатия на фильтр
        Результаты поиска соответствуют выбранным фильтрам
    - do: Тап по кнопке Фильтры в плашке
    - assert: На экране фильтров выделены выбранные на предыдущем шаге фильтры

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - search
        - mapkit


  Оффлайн поиск топонима:
    - info: |
        Скачана оффлайн карта текущего региона
        Открыт экран поиска. Включен авиарежим.
    - do: Произвести поиск топонима, например по запросу 'улица Ленина'
    - assert: |
        На карте отображены пины результатов поиска
        В нижней половине экрана - блок с миникарточками результатов поиска
        Если в данной области поиска ничего не найдено, отображено сообщение 'Ничего не найдено'
        Если результатом поиска является единственный топоним, то сразу показывается миникарточка топонима

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - search
        - mapkit


  Раскрывающиеся фильтры результатов оффлайн поиска:
    - description: |
        Скачана оффлайн карта текущего региона
        Открыт экран поиска. Включен авиарежим.
    - do: |
        Произвести поиск по любой категории, например, Кафе
    - assert: |
        Происходит переход на карту
        Открыт экран результатов поиска
        На карте отображаются поисковые пины
    - do: |
        Тап по фильтру из нераскрывающегося списка в плашке фильтров
    - assert: |
        Кнопка выбранного фильтра выделена
        Выдача, возможно, изменилась, согласно выбранному фильтру
    - do: |
        (Android) Тап по кнопке 'Фильтры' в плашке; (iOS) Тап по пиктограмме всех фильтров
    - assert: |
        Открывается экран 'Фильтры'
        Кнопка выбранного ранее фильтра выделена
        Ниже присутствуют другие блоки фильтров
    - do: |
        Тап на 'Остальные' в блоке фильтров
    - assert: |
        Открывается экран выбранного блока (iOS) / Раскрывается список (Android)
        Слева сверху кнопка '< Фильтры' (для iOS)
        Ниже присутствуют категории выбранного блока
    - do: |
        Выделить пункты выбранного блока фильтров (порядок выбора важен)
    - assert: |
        Выбранные пункты отмечены галочкой, порядок отображения в списке не изменился
    - do: |
        Вернуться на экран результатов поиска
    - assert: |
        Открылся экран результатов поиска
        Изменился результат поисковой выборки
        В плашке фильтров отображается свернутая, подсвеченная, ранее выбранная категория
        При тапе на неё активны пункты, отображающиеся в порядке, выбранном ранее
        (iOS) Пиктограмма отображается первой в плашке фильтров

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - search


  Построение маршрута - оффлайн поиск:
    - info: |
        Скачана оффлайн карта текущего региона
        Открыт экран поиска. Включен авиарежим.
    - do: Произвести поиск по любому адресу
    - assert: |
        Происходит переход на карту
        Открыта поисковая карточка
        На карте отмечен пин найденной точки
    - do: Тап на кнопку "Маршрут" на поисковой карточке
    - assert: |
        Строится маршрут от текущей точки местоположения до найденной точки
        На экране обзора указано время и расстояние маршрута, указано, что маршрут был построен без интернета, также есть кнопки: лупа, Отмена и Поехали

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - search
        - mapkit


  Экран «Поиск». Поиск с помощью клавиатуры:
    - info: |
        - Меню -> Настройки -> Звуки и оповещения -> Язык -> По умолчанию
        - Открыть экран поиска тапом на иконку лупы в тапбаре
    - do: Тап по текстовому полю
    - assert: |
        - Происходит переход на вкладку «История», активируется клавиатура
        - Поисковое поле в фокусе, мигает текстовый курсор
        - Справа от текстового поля отображается кнопка “Отмена” (крестик)
        - Cправа от текстового поля отображается иконка вызова Алисы
    - do: Осуществить любой поиск
    - assert: |
        - Ввод с клавиатуры работает
        - Происходит переход на экран Карта, отображаются пины поиска и список организаций

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - mapkit
        - search


  Повтор поиска после удаления кэшей:
    - info: |
        Скачана оффлайн карта текущего региона
        Открыт экран поиска.
        На девайсе включен интернет
    - do: Произвести поиск по любой организации (чтобы открылась поисковая карточка)
    - assert: |
        Происходит переход на карту
        Открыта карточка организации
        На карте отмечен пин найденной организации
    - do: |
        - Включить авиа-режим
        - Закрыть миникарточку
        - Тап Меню - Настройки - Сохраненные данные  - Стереть карты ; во всплывающем окне тап 'да'
    - assert: Удаляются все скачанные кэши
    - do: |
        Перейти на экран поиска, тапом на иконку лупы в тапбаре
        Тап на поле поиск
    - assert: |
        Открыт экран поиска
        В истории сохранён последний пользовательский запрос
    - do: Тап по последнему пользовательскому запросу (орагнизация, которую искали выше)
    - assert: |
        Открывается экран результатов поиска с текстом 'Искать без интернета можно только с загруженной картой'
        Над поиском присутствует строка 'Нет соединения с сетью'
        (iOS) Есть кнопки 'Загрузить карту, когда появится сеть' и 'Повторить поиск'
        (Android) Есть кнопки 'Повторить поиск'

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - integration_run:
        - search
        - mapkit


  Добавление промежуточных точек во время движения по маршруту через поиск:
    - do: |
        - Построить любой маршрут, запустить ведение по нему
        - Тап иконку лупы в тапбаре
        - Выбрать любую категорию, например "Продукты"
    - assert: Происходит переход на карту. На карте отображаются поисковые пины по маршруту.
    - do: Проскроллить карту так, чтобы появились результаты поиска в стороне от маршрута.
    - assert: На открытом участке карты появились пины результатов поиска.
    - do: |
        Тап по пину результата поиска
        Тап на кнопку Заехать
    - assert: Маршрут перестраивается. Открывается экран обзора с информацией по обновленному маршруту
    - do: Тап "Поехали"
    - assert: Начинается ведение по новому маршруту
    - do: |
        - Тап на иконку лупы в тапбаре
        (Если тапбар не отображается, сначала тап по карте)
        - Тап по любой поисоковой категории
    - assert: На карте вдоль линии перестроенного маршрута отображаются пины результатов поиска

    - integration_run:
        - search
        - mapkit
    - testing:
        - acceptance_navi
    - tags:
        - assessors
        - mapkit_ready
    - platforms:
        - ios
        - android


  Закрытие поиска во время движения:
    - do: |
        - Построить любой маршрут, запустить ведение по нему
        - Тап на иконку лупы в тапбаре
        - Выбрать любую категорию, например "Продукты"
    - assert: Происходит переход на карту. На карте отображаются поисковые пины по маршруту.
    - do: |
        - Тап на иконку лупы в тапбаре
        (Если тапбар не отображается, сначала тап по карте)
    - assert: Открывается экран поиска с категориями
    - do: Закрыть экран поиска свайпом вниз/тапом по крестику
    - assert: |
        - Экран поиска закрывается
        - На экране карты отображается построенный ранее маршрут
        - На  Android: Вдоль маршрута не отображаются пины предыдущего поиска
        - На IOS: Вдоль маршрута отображаются пины предыдущего поиска

    - integration_run:
        - search
        - mapkit
    - testing:
        - acceptance_navi
    - tags:
        - assessors
        - mapkit_ready
    - platforms:
        - ios
        - android


  Закрытие поиска во время движения (офлайн):
    - info: |
        - Скачать кеш региона, в котором находится пользователь
        - Отключить интернет на устройстве либо включить авиарежим
    - do: |
        - Построить любой маршрут, запустить ведение по нему
        - Тап на иконку лупы в тапбаре
        - Выбрать любую категорию, например "Продукты"
    - assert: Происходит переход на карту. На карте отображаются поисковые пины по маршруту.
    - do: |
        - Тап на иконку лупы в тапбаре
        (Если тапбар не отображается, нужно тап по карте)
    - assert: Открывается экран поиска с категориями
    - do: Закрыть экран поиска свайпом вниз/тапом по крестику
    - assert: |
        - Экран поиска закрывается
        - На экране карты отображается построенный ранее маршрут
        - На Android: Вдоль маршрута не отображаются пины предыдущего поиска
        - На IOS: Вдоль маршрута отображаются пины предыдущего поиска

    - integration_run:
        - search
        - mapkit
    - tags:
        - assessors
        - mapkit_ready
    - platforms:
        - ios
        - android


  Голосовой поиск, открытый с формы поиска:
    - info: Открыт экран поиска
    - do: |
        Тап по кнопке микрофона
        Произнести любой поисковый запрос
    - assert: |
        Происходит переход на экран “Карта”
        Происходит подскролл к пину результата поиска
        Отображается серп с результатами поиска (если по запросу несколько вариантов есть, например, запрос Магазин)
        Либо  отображается карточка результата поиска, с его адресом и  кнопками Маршрут, Поделиться, В избранное
    - do: |
        Закрыть результаты поиска
        Не сдвигая спан карты, перейти на экран “Поиск” тапом по иконке Лупы в таббаре
        Тап на иконку микрофона в поисковой строке
        Произнести поисковый запрос в виде адреса (тот, что был использован в шаге1 либо любой другой в видимой части карты).
    - assert: |
        Происходит переход на экран “Карта”
        На экране карты отмечен поисковый пин
        Снизу выдвигается карточка результата поиска, с его адресом и  кнопками Маршрут, поделиться, В избранное

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
    - testing:
        - acceptance_navi
    - integration_run:
        - search
        - alice


  Голосовой поиск при отсутствии интернет соединения:
    - info: |
        - На устройстве включен авиарежим
        - Открыт экран поиска
    - do: |
        Тап по кнопке микрофона
        Произнести любой поисковый запрос
    - assert: |
        Алиса не реагирует
        Выводится сообщение о том, что интернет отключен
        (Например, Простите, но интернета, кажется нет, а я без него как без рук")

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
    - testing:
        - acceptance_navi
    - integration_run:
        - search
        - alice


  Голосовой поиск при построении маршрута (одна организация):
    - info: Построен любой маршрут
    - do: |
        Тап на иконку Лупы на экране обзора
        Тап по кнопке микрофона
        Произнести такой поисковый запрос, чтобы был только 1 результат поиска (например, точный адрес)
    - assert: |
        Происходит переход на экран “Карта”
        На экране карты отмечен поисковый пин
        Снизу выдвигается карточка результата поиска, с его адресом и  кнопками Сюда, Заехать, Поделиться, Избранное

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
    - testing:
        - acceptance_navi
    - integration_run:
        - search
        - alice


  Голосовой поиск при нераспознанном запросе:
    - info: Открыт экран поиска
    - do: |
        Тап на микрофон
        Издать неразборчивый звук, например, подуть в микрофон
    - assert: |
        Отображается текст 'Не удалось распознать' либо Алиса спустя некоторое время закрывается

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
    - testing:
        - acceptance_navi
    - integration_run:
        - search
        - alice


  Голосовой поиск при построении маршрута (несколько организаций):
    - info: Построен любой маршрут
    - do: |
        Тап на иконку Лупы на экране обзора
        Тап по кнопке микрофона
        Произнести такой поисковый запрос, чтобы было несколько результатов поиска (например поиск по категории: магазины)
    - assert: |
        Происходит переход на экран “Карта”
        На экране карты отмечены поисковые пины
        Снизу выдвигается серп с результатами поиска

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
    - testing:
        - acceptance_navi
    - integration_run:
        - search
        - alice


  Голосовой поиск при ведении по маршруту при отсутствии интернет соединения:
    - info: |
        - Скачан кеш региона
        - На устройстве включен авиарежим
        - Построить и подтвердить любой маршрут
    - do: |
        Тап на иконку лупы в тапбаре
        Тап по кнопке микрофона
        Произнести любой поисковый запрос
    - assert: |
        Алиса не реагирует
        Выводится сообщение о том, что интернет отключен
        (Например, Простите, но интернета, кажется нет, а я без него как без рук")
    - do: |
        Отключить авиарежим
        Тап на иконку лупы в тапбаре
        Тап по кнопке микрофона
        Произнести любой поисковый запрос
    - assert: |
        Происходит переход на экран “Карта”
        Происходит подскролл к пину результата поиска
        Не отображается серп с результатами поиска
        Либо  отображается карточка результата поиска, с его адресом и кнопками Сюда, Заехать, Поделиться, Избранное

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
    - testing:
        - acceptance_navi
    - integration_run:
        - search
        - alice


  Мои места. Пересечение Дом/Работа в поиске мяк и поиска:
    - do: Тап "Мои места" с таббаре
    - assert: Открывается экран Мои места
    - do: Тап "добавить" напротив строки Дом или Работа
    - assert: Открывается карта с карточкой добавления адреса "Двигайте карту, чтобы указать место" и кнопкой "Сохранить адрес"
    - do: Тап по поисковой строке
    - assert: Приложение стабильно работает, креша и заисаний нет

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - regress
    - integration_run:
        - search


  Тестирование в оффлайне - Что здесь? Кеши не скачаны.:
    - info: |
        - Офлайн кеши не скачаны
    - do: |
        - Открыть Яндекс.Навигатор
        - Включить режим «В самолёте»
        - Лонгтап по любой точке на карте
    - assert: Открывается лонгтап меню.
    - do: Тап "Что здесь?"
    - assert: |
        - Открывается карточка точки:
        - Данные в карточке в процессе загрузки
    - do: Раскрыть карточку точки
    - assert: В карточке присутствуют координаты точки
    - do: Тап по значку Копировать в поле координаты
    - assert: Координаты скопированы в буфер

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Добавление топонима в избранное из поиска:
    - do: Открыть экран "поиск"
    - do: Выполнить поиск по любому сущестующему адресу
    - assert: Открылась карточка топонима
    - do: В открывшейся карточке тап по "добавить в избранное"
    - do: Тап по кнопке "избранное"
    - assert: Открывается попап для указаня назавния точки избранного
    - do: Написать любое название
    - assert: Название отображается в поле ввода
    - do: Тап кнопку "Сохранить"
    - assert: Топоним добавлен в избранное

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  Закрытие экрана поиска, когда не показана клавиатура:
    - info: |
        Отображается главный экран приложения
    - do: Тап на таб поиска в таб баре
    - assert: |
        Открылся экран поиска
    - do: Свайп вниз по экрану поиска
    - assert: |
        Экран поиска закрылся

    - platforms:
        - ios
    - testing:
        - acceptance_navi
    - tags:
        - assessors


  Отображение экрана поиска при закрытии клавиатуры:
      - info: |
          Отображается главный экран приложения
      - do: Тап на таб поиска в таб баре
      - assert: |
          Открылся экран поиска
      - do: Тап на поисковую строку
      - assert: |
          Отображается виртуальная клавиатура
      - do: Свайп вниз посередине экрана
      - assert: |
          Клавиатура закрылась
          Экран поиска продолжает отображаться
      - do: Свайп вниз по экрану поиска
      - assert: Отображается главный экран приложения

      - platforms:
          - ios
      - testing:
          - acceptance_navi
      - tags:
          - assessors
