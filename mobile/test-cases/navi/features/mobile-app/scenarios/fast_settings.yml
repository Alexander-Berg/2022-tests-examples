components: fast_settings
testing:
  - regress
platforms:
  - renault
  - nissan

specs:
  Проверка настройки "Север всегда наверху":
    - description: |
        Выполнять кейс следует, используя меню быстрых настроек, которое отображается непосредственно на ГУ.
    - info: |
        - Настройка "Север всегда наверху" выключена
        - Настройка "Зафиксировать подсказки о маневрах в углу экрана" выключена
        - Настройка "Вид карты" установлена на "Схема"
    - do: Построить маршрут, начать ведение по маршруту
    - assert: Балун полосности отображается.
    - do: |
        - Перейти в настройки Навигатора и включить настройку “Север всегда наверху”.
        - Вернуться к маршруту.
    - assert: Балун полосности не отображается.
    - do: Перейти в настройки и выбрать тип карты “Спутник”. Вернуться к маршруту.
    - assert: Балун полосности не отображается.
    - do: Перейти в настройки, выбрать тип карты “Схема”, выключить настройку “Север всегда наверху”. Вернуться к маршруту.
    - assert: Балун полосности отображается.

    - tags:
      - assessors
    - testing:
      - acceptance_navi


  Проверка настройки "Вид карты":
    - description: Выполнять кейс следует, используя меню быстрых настроек, которое отображается непосредственно на ГУ.
    - info: Настройка “Вид карты” установлена на “Схема”
    - do: Тап на настройку «Вид карты» 
    - assert: |
        Происходит переход к списку видов карт.
        Отображается два пункта с иконками :
        - Схема
        - Спутник
        В строке "Схема" отображается активный чекбокс, т.к. данный вид карты выбран по умолчанию
    - do: |
        - Выбрать вид карты "Спутник"
        - Перейти на экран "Карта"
    - assert: Настройка применилась успешно. Спутниковые тайлы отображаются на всех зумах.
    - do: |
        - Выбрать вид карты "Схема"
        - Перейти на экран "Карта"
    - assert: Настройка применилась успешно. Карта снова отображается в виде схемы

    - tags:
      - assessors
    - testing:
      - acceptance_navi


  Проверка настройки "Курсор":
    - description: Выполнять кейс следует, используя меню быстрых настроек, которое отображается непосредственно на ГУ
    - do: Тап на настройку «Курсор»
    - assert: Открывается список доступных курсоров
    - do: Посмотреть на то, какие курсоры доступны для выбора
    - assert: |
        - В списке нет курсоров автомобилей
        - В списке отображаются все курсоры, доступные на телефоне, кроме вышеуказанных
    - do: Тап на один из курсоров
    - assert: Появляется активный чекбокс напротив выбранного курсора
    - do: Выйти из меню
    - assert: На карте вместо стрелочки отображается выбранный курсор

    - tags:
      - assessors
    - testing:
      - acceptance_navi


  Проверка настройки "Голос":
    - description: Выполнять кейс следует, используя меню быстрых настроек, которое отображается непосредственно на ГУ
    - info: В настройке "Голос" установлена "Оксана"
    - do: Тап на настройку «Голос»
    - assert: |
        - Отображается список загруженных голосов
        - Ниже отображается список незагруженных голосов с возможностью их загрузки
    - do: Загрузить любой голос
    - assert: |
        - Голос загрузился
        - Загруженный голос теперь отображается в категории "Загруженные"
        - Имеется возможность удалить загруженный голос
        - Нет возможности удалить голоса Алисы, Оксаны, Димы и системного голоса
    - do: Выбрать загруженный голос
    - assert: |
        - Произносится аннотация выбранным голосом
        - Отображается активный чекбокс напротив выбранного курсора
    - do: Построить маршрут и начать по нему ведение
    - assert: |
        - Аннотации произносятся выбранным голосом
        - Допустимо, чтобы часть аннотаций произносилась голосом Оксаны (например предупреждения о школах)
    - do: |
        - Зайти в меню
        - Тап настройку голос
        - Удалить загруженный голос
    - assert: |
        - Загруженный голос удаляется
        - Аннотации произносятся голосом Оксаны

    - tags:
      - assessors


  Проверка настройки "Дорожные события":
    - description: |
        Выполнять кейс следует, используя меню быстрых настроек, которое отображается непосредственно на ГУ.
    - do: Тап на настройку "Дорожные события"
    - assert: |
        Внутри настройки отображаются 2 пункта:
        “Отображение” и “Звуковое предупреждение”. 
    - do: |
        - Тап на настройку “Отображение”.
        - Тап на настройку "На карте"
    - assert: |
        Открывается меню камер, со следующими пунктами:
        - Показывать все
         *Далее блок: Камеры*
        - Камера контроля полосы
        - Камера контроля скорости
        - Камера на остановку
        - Камера на разметку
        - Мобильная засада
        - Камера контроля проезда перекрестка
         *Далее блок: Другие события*
        - ДТП
        - Дорожные работы
        - Разговорчики
        - Перекрытие
        - Опасные участки
        - Разведение мостов
        - Прочее
    - do: |
        - Вернуться на настройку "Отображение"
        - Тап "На маршруте"
    - assert: |
        Открывается меню камер, со следующими пунктами:
        - Показывать все
          *Далее блок: Камеры*
        - Камера контроля полосы
        - Камера контроля скорости
        - Камера на остановку
        - Камера на разметку
        - Мобильная засада
        - Камера контроля проезда перекрестка
        - Пользовательская камера
          *Далее блок: Другие события*
        - ДТП
        - Дорожные работы
        - Разговорчики
        - Перекрытие
        - Опасные участки
        - Рядом школа
        - Разведение мостов
        - Прочее
    - do: |
        - Вернуться на экран "Дорожные события"
        - Тап "Звуковое предупреждение"
    - assert: |
        По тапу откроется одноименный пункт меню с пунктами:
        - Отдельный пункт "Камеры"
        - Переключатели дорожных событий, о которых сообщаем: ДТП; Дорожные работы; Опасные участки; Рядом школа
    - do: |
        - Тап на настройку “Звуковое предупреждение”.
        - Тап на настройку “Камеры”
    - assert: |
        Открывается меню камер, со следующими пунктами:
        - Включить
        - Камера контроля скорости
        - Камера контроля полосы
        - Камера на разметку
        - Мобильная засада
        - Камера контроля проезда перекрестка
    - do: Изменить настройки в блоке
    - assert: |
        - Переключатели настроек корректно меняют свой внешний вид (в зависимости от того, включена настройка или отключена)
        - Настройки применились в навигаторе -- не отображаются и не озвучиваются отключенные дорожные события

    - tags:
      - assessors


  Проверка настройки "Об ограничениях скорости":
    - description: Выполнять кейс следует, используя меню быстрых настроек, которое отображается непосредственно на ГУ.
    - info: Настройка "Дорожные события" должна быть выставлена так, чтобы произносились аннотации о камерах. **Проверьте что настройки верно установлены как в "Отображение на карте" так и в "Звуковое предупреждение"**
    - do: Тап на настройку “Об ограничениях скорости”
    - assert: |
        Открывается меню с возможностью выбора того, при какой скорости Навигатор будет сообщать о превышении и камерах:
        - Должен присутствовать ползунок, при помощи которого можно настраивать скорость
        - Должны быть 3 картинки: "Город", "Вне города" и "Автомагистраль", под каждой из которых указано соответствующее ограничение скорости
    - do: Начать двигать ползунок вправо
    - assert: |
        - Под картинками меняются (увеличиваются) значения скорости, при которой будут работать оповещения.
        - При превышении допустимой скорости на 20 км/ч появляется сообщение о том, что за такое превышение скорости предусмотрен штраф. Цифры изменения скорости становятся красными
    - do: Начать двигать ползунок влево
    - assert: |
        - Под картинками меняются (уменьшаются) значения скорости, при которой будут работать оповещения.
        - При понижении значения допустимой скорости меньше чем на 20 км/ч исчезает сообщение  "за такое превышение скорости предусмотрен штраф." Цифры изменения скорости становятся синими
    - do: |
        - Установить предупреждение при превышении скорости на 0 км/ч
        - Запустить ведение
    - assert: Удостовериться, что при достижении допустимой скорости движения произносятся предупреждения о камерах (например при достижении скорости 60 км/ч в городе)
    - do: |
        - Установить предупреждение при превышении скорости на 60 км/ч
        - Запустить ведение в городе, установив максимально возможную скорость
    - assert: Аннотации о камерах произносятся
    - do: Снизить скорость до 100 км/ч
    - assert: Аннотации о камерах не произносятся

    - tags:
      - assessors


  Проверка настройки "Зафиксировать подсказки о маневрах в углу экрана":
    - description: |
        Выполнять кейс следует, используя меню быстрых настроек, которое отображается непосредственно на ГУ.
    - info: Настройка “Север всегда наверху” выключена
    - do: Тап на настройку "Зафиксировать подсказки о маневрах в углу экрана"
    - assert: Настройка переключается
    - do: |
        - Включить настройку
        - Построить маршрут
        - Запустить ведение
    - assert: В левом верхнем углу всегда присутствует подсказка о маневрах
    - do: |
        - Выключить настройку
        - Построить маршрут
        - Запустить ведение
    - assert: Подсказка о маневрах не всегда находится в углу -- непосредственно перед маневром она исчезает из угла и появляется над дорогой в виде балуна

    - tags:
      - assessors


  Проверка отсутствия заголовка Быстрые настройки:
    - description: |
        **Выполнять кейс следует, используя меню быстрых настроек, которое отображается непосредственно на ГУ.
        Быстрые настройки доступны только для ГУ, которые сообщают информацию о производителе, сейчас так умеет только Ниссан начиная с 3323.
        На Рено - ожидаемое поведение, что музыка и быстрые настройки не показываются, так как голова информацию о себе пока не присылает.
    - do: Открыть Меню - Настройки
    - assert: В самом верху заголовок Быстрые настройки отсутствует

    - testing:
      - acceptance_navi
    - tags:
      - assessors


  Проверка работы приложение при отключение дорожных событий:
    - info: |
        - Отключить отображение всех дорожных событий на карте:
        - Настройки - Дорожные события - Отображение - На карте - Снять все чек-боксы 
        - Отключить отображение всех дорожных событий на маршруте:
        - Настройки - Дорожные события - Отображение - На маршруте - Снять все чек-боксы
    - do: |
        - Перейти на экран "Карта"
    - assert: |
        - Экран настроек закрывается
        - Открывается экран карты
        - Дорожные события не отображаюся
    - do: |
        - Свернуть и развернуть приложение
    - assert: |
        - Приложение сворачивается и разворачивается
        - Приложение работает стабильно
    - do: |
        - Выгрузить приложение из мультизадачности
    - assert: |
        - Приложение закрылось
    - do: |
        - Открыть приложение
    - assert: |
        - Приложение открывается
        - Открывается экран карты
        - Дорожные события не отображаюся
        - Приложение работает стабильно
        
    - testing:
        - acceptance_navi
    - platforms:
        - ios
        - android
    - tags:
        - assessors