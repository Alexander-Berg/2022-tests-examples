components: waitcursor
testing:
  - regress

specs:
  Кнопка закрытия в WaitCursor:
    - description: |
        **Цель:** Проверка закрытия плашки "Поиск спутников" в авиарежиме
    - info: _Для ручного тестирования - Чтобы данные дольше подтягивались и плашку было легче поймать можно включить "Местоположение включено только по координатам сети"_
    - do: Построить любой маршрут и тап Поехали
    - assert: Маршрут построился
    - do: |
        Включить авиарежим на девайсе.
        Перезапустить приложение и подождать появления плашки WaitCursor'а с текстом "Поиск спутников"
    - assert: Появилась плашка с кнопкой "Закрыть"
    - do: Тап на "закрыть" на плашке
    - assert: Плашка "Поиск спутников" закрылась
    - do: Перестроить маршрут в любую точку
    - assert: Появляется плашка "Поиск маршрута..." с кнопкой "Отмена"
    - do: Выключить авиа-режим
    - assert: Маршрут строится, плашка wait-курсора исчезает
    - do: Тап на "Отмена"
    - assert: |
        - Построение маршрута отменяется
        - Появляется тост "не удалось построить маршрут"

    - platforms:
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi


  WaitCursor поверх UI элементов:
    - info: Устройство в портретной ориентации
    - do: |
        Вызвать плашку WaitCursor'а:
        - лонг-тап по карте
        - тап Отсюда
    - assert: Показана плашка WaitCursor'а
    - do: |
        - Открыть карточку POI
        - Раскрыть карточку в максимум
    - assert: Карточка находится поверх плашки WaitCursor’а
    - do: Повернуть устройство в лендскейп
    - assert: Карточка находится поверх плашки WaitCursor’а

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - testing:
        - acceptance_navi