components: free_drive
testing:
  - regress

specs:
  Предполагаемый маршрут:
    - info: Установлена debug сборка
    - do: |
        - Построить маршрут, через несколько ДС
        - Запустить симуляцию движения по маршруту через дебаг-панель
    - assert: Началось движение по маршруту
    - do: |
        - Сбросить маршрут, не останавливая симуляции
        - Двигаться без маршрута более 10 секунд
    - assert: |
        - Происходит переход в режим Free Drive
        - ДС, находящиеся на Предполагаемом маршруте, становятся крупнее остальных ДС
    - do: Проехать через ДС на предполагаемом маршруте
    - assert: В момент проезда курсором, ДС уменьшается

    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit
    - platforms:
        - motrex
        - autochip
        - renault
        - geely
        - carsharing_t3
        - ios
        - android
        - vaz
        - nissan
        - t3am
    - tags:
        - assessors
        - mapkit_ready


  Движение без маршрута. Переход во Free Drive:
    - info: Установлена debug сборка
    - do: |
        -Построить маршрут, через несколько ДС
        -Тап Поехали
        -Запустить симуляцию движения через дебаг-панель
    - assert: Началось движение по маршруту
    - do: |
        - Сбросить маршрут, не останавливая симуляции
        - Двигаться без маршрута более 10 секунд
    - assert: |
        - Происходит переход в режим Free Drive
        - С экрана пропадают основные кнопки и таббар

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit


  Движение после финиша. Переход во Free Drive:
    - info: Установлена debug сборка
    - do: |
        - Построить маршрут, через несколько ДС
        - Тап Поехали
        - Запустить симуляцию движения через дебаг-панель
    - assert: Началось движение по маршруту
    - do: |
        - Построить более короткий маршрут на самой линии маршрута (Лонгтап по линии маршрута по которому движемся и в открывшемся меню тап по сюда)
        - Тап Поехали
    - assert: |
        - Маршрут перестроился
        - Продолжается движение
    - do: Дождаться завершения маршрута
    - assert: |
        - Происходит переход в режим Free Drive
        - Движение просходит по направлению первого построенного маршрута
        - С экрана пропадают основные кнопки и таббар

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mapkit_ready
    - testing:
        - acceptance_navi
    - integration_run:
        - mapkit
