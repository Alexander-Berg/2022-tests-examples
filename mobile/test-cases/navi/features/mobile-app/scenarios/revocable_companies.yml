components: revocable_companies
testing:
  - regress

specs:
  Вид Меню навигатора, ОК не просмотрены:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        - В этом кейсе проверяется отображение кнопки "Добавить авто"
        - Кнопка является синей, если ни разу не открывалась и серой, если просматривалась
        - Находится под кнопкой "Войти" или под аватаркой авторизованного пользователя
        Если точка у кнопки Меню зеленая - то зайти Меню - заправки (просмотреть предложение от заправок) и перезагрузить приложение
    - info: |
        - Пользователь авторизован
        - ОК не просматривались ранее
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ (в Москве или Екатеринбурге, например)
        - Просмотрен экран заправок (исчезла зелёная точка на кнопке меню) (Меню - Настройки - Яндекс.Заправки) и приложение перезапущено
        - **Если местоположение Москва и точка не исчезает** на интроскрине заправок тап "Подробнее" и снова перезапустить приложение
        - Открыт главный экран в навигаторе
        - Навигатор запущен во второй или более раз
    - do: Проверить вид кнопки Меню в таббаре (3 горизонтальные линии)
    - assert: Синяя точка в правом верхнем углу кнопки Меню
    - do: Тап Меню в таббаре
    - assert: Открывается Меню навигатора поверх карты
    - do: Проверить вид верхней части Меню
    - assert: |
        - Аватарка с именем залогиненного пользователя
        - Синяя кнопка, содержащая (Цвет кнопки одинаковый для тёмной и светлой темы):
            - Слева текст: "Добавить машину"
            - Справа поле с маской под гос номер автомобиля ( _Х 000 ХХ | 00_ )
        - Под кнопкой серый текст: "Укажите госномер или VIN и узнайте, попал ли ваш автомобиль под отзывную кампанию"
        - Ниже крутилка сервисов (Заправки, Штрафы и т.д.)
        - Внизу экрана таббар, кнопка Меню содержит синюю точку

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  ОК считаются просмотренными (iOS):
    - description: |
        **ОК** - отзывные кампании (открываются тапом кнопки "Добавить авто")
        В этом кейсе проверяется изменение цвета кнопки "Добавить авто" после просмотра ОК.
        Кнопка является синей, если ни разу не открывалась, и серой - если просматривалась. После тапа Отзывные кампании считаются просмотренными и кнопка "Добавить авто" меняет цвет с синей на серую.
        Точка на меню имеет самый низкий приоритет по сравнению с другими точками (Заправки), Синяя точка показывается, если не просмотрены Отзывные кампании (Кнопка ОК синего цвета) и отсутствует, если ОК просмотрены (хоть раз тапалась кнопка). 
        Находятся ОК под кнопкой "Войти" или под аватаркой авторизованного пользователя
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - ОК не просматривались ранее
        - Пользователь авторизован в Навигаторе
        - Просмотрено вебвью Заправок (в меню тап на "Яндекс Заправки" в крутилке сервисов под блоком машин). Навигатор перезапущен после этого 
        - Открыт главный экран Навигатора, в таббаре кнопка меню содержит синюю точку
    - do: Тап на Меню в таббаре
    - assert: |
        - Открывается Меню навигатора поверх карты
        - Под аватаркой с именем залогиненного пользователя **синяя** кнопка:
            - Слева текст: "Добавить машину"
            - Справа поле с маской под гос номер автомобиля ( _х 000 хх | 00_ )
        - Под кнопкой серый текст: “Укажите госномер или VIN и узнайте, попал ли ваш автомобиль под отзывную кампанию”
        - Внизу экрана таббар, кнопка Меню содержит синюю точку
        [collapsed-image](https://jing.yandex-team.ru/files/oshestopalova/Screen%20Shot%202020-06-17%20at%2012.20.37%20PM.png){title= Скриншот}
    - do: Тап на кнопку "Добавить машину"
    - assert: |
        - Открывается экран ввода VIN или гос номера:
            - Заголовок: "Моя машина"
            - Поле ввода с плейсхолдером "Госномер или VIN"
            - Текст: "Введите госномер или VIN, остальное Навигатор попробует угадать сам.
        После этого можно будет проверить, попал ли автомобиль под отзывную кампанию.
        Отзывные кампании проводит производитель, чтобы заменить некачественные детали и устранить проблемы сборки.". 
            - Неактивная кнопка "Добавить"
    - do: Тап на стрелочку "Назад"
    - assert: |
        - Закрывается экран ввода VIN и гос номера
        - Открывается экран Меню навигатора
        - Под аватаркой с именем залогиненного пользователя **серая** кнопка:
            - Слева текст: “Добавить машину”
            - Справа поле с маской под гос номер автомобиля ( _х 000 хх | 00_ )
        - Внизу экрана таббар, кнопка Меню без синей точки
        
        [collapsed-image](https://jing.yandex-team.ru/files/oshestopalova/Screen%20Shot%202020-06-17%20at%2012.22.11%20PM.png){title= Скриншот}

    - platforms:
      - ios
    - tags:
        - assessors


  Переход из интроскрина залогиненым пользователем (без авто):
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
        **Интроскрин** - обучающая страница, показанная при запуске навигатора (перед показом карты)
        В этом кейсе проверяется переход к экрану ввода VIN или гос номера из интроскрина
        Если показ интроскрина не включен официально, то его можно включить вручную.
        Вручную можно вызвать показ интроскрина следующим способом: 
        - для открытия интроскрина вручную необходима сборка Release_debug или Dev_debug (по состоянию на 12 марта 2020)
        - скопировать интент `yandexnavi://add_exp?navi_special_project_launch_intro_rotation_configurations_for_RU=[{"project_name":"revocable","configuration":{"weight":1.0}}]` и вставить его в [поисковую строку](https://jing.yandex-team.ru/files/rlisovoy/introok2.jpg) Яндекс Браузера
        - тап на [синюю строку](https://jing.yandex-team.ru/files/rlisovoy/introok3.jpg) с интентом, которая показалась над поисковой строкой Яндекс Браузера
        - тап кнопку "Понятно" на показавшемся при запуске Навигатора [экране](https://jing.yandex-team.ru/files/rlisovoy/introok1.jpg) (перед этим экраном могут показываться другие экраны и запросы на разрешение, если они не были просмотрены ранее)
        - 1 или 2 раза перезапустить Навигатор до появления требуемого нам [Интроскрина](https://jing.yandex-team.ru/files/oshestopalova/IMAGE%202020-03-03%2014%3A20%3A53.jpg)
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - [Интроскрин](https://jing.yandex-team.ru/files/oshestopalova/IMAGE%202020-03-03%2014%3A20%3A53.jpg) не просматривался ранее
        - Пользователь залогинен
        - Пользователь не добавлял автомобиль в Отзывные Кампании
        - (При необходимости) показ Интроскрина включен вручную по инструкции из Описания (Description) данного тест-кейса
    - do: Перезапустить приложение несколько раз до получения [интроскрина по Отзывным кампаниям](https://jing.yandex-team.ru/files/oshestopalova/IMAGE%202020-03-03%2014%3A20%3A53.jpg)
    - assert: |
        - Показан [интроскрин по Отзывным кампаниям](https://jing.yandex-team.ru/files/oshestopalova/IMAGE%202020-03-03%2014%3A20%3A53.jpg)
        - Внизу экрана две кнопки: "Потом" и "Интересно"
    - do: Тап в "Интересно"
    - assert: Происходит переход на экран поиска по VIN/госномеру

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Переход из интроскрина незалогиненым пользователем:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
        **Интроскрин** - обучающая страница, показанная при запуске навигатора (перед показом карты)
        В этом кейсе проверяется переход к авторизации в АМ, после чего переход к экрану ввода VIN или гос номера из интроскрина
        Если показ интроскрина не включен официально, то его можно включить вручную.
        Вручную можно вызвать показ интроскрина следующим способом: 
        - для открытия интроскрина вручную необходима сборка Release_debug или Dev_debug (по состоянию на 12 марта 2020)
        - скопировать интент `yandexnavi://add_exp?navi_special_project_launch_intro_rotation_configurations_for_RU=[{"project_name":"revocable","configuration":{"weight":1.0}}]` и вставить его в [поисковую строку](https://jing.yandex-team.ru/files/rlisovoy/introok2.jpg) Яндекс Браузера
        - тап на [синюю строку](https://jing.yandex-team.ru/files/rlisovoy/introok3.jpg) с интентом, которая показалась над поисковой строкой Яндекс Браузера
        - тап кнопку "Понятно" на показавшемся при запуске Навигатора [экране](https://jing.yandex-team.ru/files/rlisovoy/introok1.jpg) (перед этим экраном могут показываться другие экраны и запросы на разрешение, если они не были просмотрены ранее)
        - 1 или 2 раза перезапустить Навигатор до появления требуемого нам [Интроскрина](https://jing.yandex-team.ru/files/oshestopalova/IMAGE%202020-03-03%2014%3A20%3A53.jpg)
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - [Интроскрин](https://jing.yandex-team.ru/files/oshestopalova/IMAGE%202020-03-03%2014%3A20%3A53.jpg) не просматривался ранее
        - Пользователь не залогинен
        - Пользователь не добавлял автомобиль в Отзывные Кампании
        - (При необходимости) показ Интроскрина включен вручную по инструкции из Описания (Description) данного тест-кейса
    - do: Перезапустить приложение несколько раз до получения [интроскрина по Отзывным кампаниям](https://jing.yandex-team.ru/files/oshestopalova/IMAGE%202020-03-03%2014%3A20%3A53.jpg)
    - assert: |
        - Показан [интроскрин по Отзывным кампаниям](https://jing.yandex-team.ru/files/oshestopalova/IMAGE%202020-03-03%2014%3A20%3A53.jpg)
        - Внизу экрана - кнопки "Потом" и "Интересно"
    - do: Тап в "Интересно"
    - assert: Открывается меню с открытым АМ для авторизации (если есть сохранённые аккаунты)/Я.Паспортом (если нет сохранённых аккаунтов)
    - do: Авторизоваться
    - assert: Происходит переход на экран поиска по VIN/госномеру

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Открытие поиска машины после авторизации в АМ:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        **Список машин** - кнопки машин под аватаркой пользователя (список скролится вправо, за раз показывается одна кнопка)
        В этом кейсе проверяется авторизация через кнопку "Добавить авто" и переход к экранам ОК после неё.
        После авторизации через АМ открывается экран ввода VIN/ГРЗ.
        В меню синяя кнопка "Добавить авто" меняется на:
        - серую "Добавить авто", если нет добавленных машин
        - список машин, в виде карусели кнопок, если есть добавленные авто 
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь не авторизован в Навигаторе
        - Открыто Меню навигатора
    - do: Тап на синюю кнопку "Добавить машину"
    - assert: |
        - Открывается АМ
        - В зависимости от наличия на устройстве аккаунтов Яндекса это либо экран ввода логина либо карусель аккаунтов
    - do: Авторизоваться
    - assert: Открывается экран ввода VIN или гос номера
    - do: Тап на стрелочку "Назад"
    - assert: |
        - Открыт экран Меню навигатора:
            - Пользователь авторизован (аватарка и имя пользователя)
            - Синяя кнопка "Добавить машину" поменялась на:
                - Серую кнопка "Добавить машину" с маской под гос номер автомобиля _(х 000 хх | 00)_ (если нет добавленных авто на аккаунте)
                - Список машин, в виде карусели кнопок, и индикатор страниц, если есть добавленные авто
            - Кнопка Настроек навигатора

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Открытие подробностей об отзывной кампании в браузере:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется, как открывается страница в браузере с причиной ОК. Если у добавленной машины была отзывная компания от производителя, в карточке автомобиля блок "Отзывные компании" будет содержать кнопку с кратким и подробным описанием причины ОК, и активную кнопку "Подробнее", при тапе на которую открывается сайт в браузере с подробной информацией об ОК данного автомобиля. 
        Можно использовать данный автомобиль с отзывной кампанией  vin Z8NAJL00050366148
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Добавлена машина с отзывной компанией
        - Открыто Меню навигатора
    - do: Тап на машину (под аватаркой и именем пользователя)
    - assert: |
        - Открывается карточка автомобиля
        - Справа от заголовка "Отзывные кампании" находится красный кружок с белой цифрой количества найденных отзывных кампаний
        - В разделе "Отзывные кампании" кнопка с кратким описанием причины ОК
        - Около краткого описания причины ОК стрелочка, раскрывающая более подробное описание  и кнопку "Подробнее"
    - do: Тап на стрелочку из шага 1
    - assert: |
        - Под кратким описанием причины ОК раскрывается описание и кнопка с синим текстом "Подробнее"
        - Всё что находилось под блоком "Отзывные компании" опустилось ниже
    - do: Тап на "Подробнее"
    - assert: В браузере открывается  web-страница с подробностями об отзывной кампании
    - do: Вернуться в приложение Навигатор
    - assert: Показана карточка автомобиля, как в шаге 2

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Поиск машины по VIN (iOS):
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется, поиск машины по VIN. Если введены валидные данные, найдётся автомобиль и отобразится его карточка. Если были введены невалидные данные, отобразится текст с информацией о том, что машина не найдена.
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Нет добавленной машины
        - Открыт экран поиска автомобиля (Меню - "Добавить авто")
    - do: |
        - Тап на поле ввода
        - Ввести несуществующий VIN, например, 00000000000000000
    - assert: |
        - Все текста исчезают, остаётся только поле ввода и появляется клавиатура
        - VIN отображается в поле ввода, кнопка "Добавить" активна
    - do: Тап на "Добавить"
    - assert: |
        - Клавиатура убирается
        - Кнопка "Добавить" неактивна
        - Поле ввода неактивно, введённый ранее VIN отображается
        - Справа в поле ввода спиннер загрузки
    - do: Дождаться окончания поиска автомобиля
    - assert: |
        - Поле ввода активно, VIN из шага 1 отображается в поле ввода
        - Жирный текст "Ничего не нашлось"
        - Текст "Убедитесь что госномер или VIN написаны без ошибок"
        - Кнопка "Добавить" неактивна
    - do: Стереть несуществующий VIN и ввести существующий
    - assert: |
        - Новый VIN отображается в поле ввода
        - Кнопка “Добавить” активна
    - do: Повторить шаги 2-3
    - assert: |
        - Показана карточка результата поиска:
            - Марка + Модель
            - VIN частично закрытый звёздочками
            - Год выпуска
            - Двигатель
            - Цвет
            - Мелкий текст: "По данным портала auto.ru"
        - Под карточкой результата поиска 2 юридических галочки:
            - Одна с условиями лицензионного соглашения
            - Вторая про рекламу
            - Обе выбраны (Синие кнопки с галочкой внутри)
        - Синяя кнопка с белым текстом "Верно, это моя машина"

    - platforms:
      - ios
    - tags:
        - assessors


  Поиск машины по гос номеру (iOS):
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется, поиск машины по Гос номеру. Если введены валидные данные, найдётся автомобиль и отобразится его карточка. Если были введены невалидные данные, отобразится текст с информацией о том, что машина не найдена.
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Нет добавленной машины
        - Открыт экран поиска автомобиля (Меню - "Добавить авто")
    - do: |
        - Тап на поле ввода
        - Ввести несуществующий гос номер, например У646УУ00
    - assert: |
        - Все текста исчезают, остаётся только поле ввода и появляется клавиатура
        - Гос номер отображается в поле ввода, кнопка "Добавить" активна
    - do: Тап на "Добавить"
    - assert: |
        - Клавиатура убирается
        - Кнопка "Добавить" неактивна
        - Поле ввода неактивно, введённый ранее гос номер отображается
        - Справа в поле ввода спиннер загрузки
    - do: Дождаться окончания поиска автомобиля
    - assert: |
        - Поле ввода активно, гос номер из шага 1 отображается в поле ввода
        - Жирный текст "Ничего не нашлось"
        - Текст "Убедитесь что госномер или VIN написаны без ошибок"
        - Кнопка "Добавить" неактивна
    - do: Стереть несуществующий гос номер и ввести существующий
    - assert: |
        - Новый госномер отображается в поле ввода
        - Кнопка “Добавить” активна
    - do: Повторить шаги 2-3
    - assert: |
        - Показана карточка результата поиска:
            - Марка + Модель
            - Гос номер
            - VIN частично закрытый звёздочками
            - Год выпуска
            - Двигатель
            - Цвет
            - Мелкий текст: “По данным портала auto.ru”
        - Под карточкой результата поиска 2 юридических галочки:
            - Одна с условиями лицензионного соглашения
            - Вторая про рекламу
            - Обе выбраны (Синие кнопки с галочкой внутри)
        - Синяя кнопка с белым текстом "Верно, это моя машина"

    - platforms:
      - ios
    - tags:
        - assessors


  Добавление автомобиля:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        **Список машин** - кнопки машин под аватаркой пользователя (список скролится вправо, за раз показывается одна кнопка)
        В этом кейсе проверяется добавление машины. После добавления открывается карточка автомобиля со значениями из поиска. Если поиск осуществлялся через VIN, карточка автомобиля будет без гос номера. 
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в Навигаторе
        - Нет добавленной машины
        - Открыт экран с найденным авто (тап Меню Навигатора - тап кнопку "Добавить автомобиль" - ввести VIN или гос номер реального автомобиля - тап "Добавить")
        - Пропустить добавление даты ОСАГО при добавлении машины
    - do: Тап на "Верно, это моя машина"
    - assert: |
        - Заголовок экрана "Моя машина"
        - В тулбаре крестик и стрелочка "Назад"
        - Рядом с крестиком карандаш для включения режима редактирования
        - Марка + Модель автомобиля
        - Гос номер (если есть)
        - Блок "Отзывные компании" с ОК (если есть) / текст об отсутствии ОК (если нет)
        - Блок "ОСАГО" с кнопкой "Дата окончания" с описанием синим текстом "Добавить дату окончания"
        - Блок "Информация об автомобиле" :
            - Кнопка "Цвет" с цветом автомобиля
            - Кнопка "Двигатель" со значением в формате ( _объём_ / _лошадиные силы_ ) 
            - Кнопка "VIN" со значением VIN'a со *** (звездочками)
            - Кнопка "Год выпуска" со значением года выпуска
    - do: Тап на стрелочку "Назад"
    - assert: |
        - Закрывается карточка автомобиля (из шага 1)
        - Открывается Меню навигатора
        - Под аватаркой и именем пользователя список машин
        - В списке показана 1-ая кнопка автомобиля:
            - Слева Марка + Модель, как в шаге 1
            - Справа гос. номер в формате _(х 000 хх | 00)_ (если есть)
        - Под кнопкой индикатор страниц в виде 2 точек
        - Первая точка выделена (указывает какая страница открыта)
    - do: Свайп влево на кнопке авто
    - assert: |
        - Список машин скролится
        - Вместо кнопки автомобиля показана кнопка "+ Добавить машину"
        - Выбрана 2-ая точка в индикаторе страниц

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Отсутствие Отзывных Кампаний:
    - description: |
        **ОК** - отзывные компании
        **Карточка авто** - карточка с информацией об автомобиле, открывается через: Меню нави - добавленный автомобиль (кнопка под аватаркой и именем пользователя)
        В этом кейсе проверяется отображение ОК в карточке авто, когда они отсутствуют. Поиск наличия ОК начинается автоматически с переходом в карточку авто. В случае отсутствия ОК в карточке авто отображается сообщение о том, что их нет.
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Добавлена машина с отсутствующими ОК
        - Открыто Меню навигатора
    - do: Тап на кнопку автомобиля
    - assert: |
        - Открывается карточка авто
        - Автоматически начинается поиск на ОК:
            - В блоке "Отзывные компании" кнопка с спиннером загрузки (слева) и текстом "Идет проверка" (справа)
    - do: Дождаться окончания поиска
    - assert: |
        - В блоке "Отзывные компании" кнопка меняется:
            - спиннер на зелёную галочку (слева)
            - Текст на "Отзывных кампаний нет" (справа)
    - do: Тап на стрелочку "Назад"
    - assert: |
        - Закрывается карточка авто
        - Показано Меню навигатора
    - do: Повторить шаги 1-2
    - assert: Поведение не изменилось

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  1 Отзывная Кампания:
    - description: |
        **ОК** - отзывные компании
        **Карточка авто** - карточка с информацией об автомобиле, открывается через: Меню нави - добавленный автомобиль (кнопка под аватаркой и именем пользователя)
        В этом кейсе проверяется отображение ОК в карточке авто, когда найдена 1 ОК. Поиск наличия ОК начинается автоматически с переходом в карточку авто. В случае нахождения 1 ОК она отображается в карточке авто с возможность перейти на сайт ОК.
        Можно использовать автомобиль с vin Z8NAJL00050366148 (1 отзывная кампания)
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Добавлена машина с 1 ОК
        - Открыто Меню навигатора
    - do: Тап на кнопку автомобиля
    - assert: |
        - Открывается карточка авто
        - Автоматически начинается поиск на ОК:
            - В блоке "Отзывные компании" кнопка с спиннером загрузки (слева) и текстом "Идет проверка" (справа)
    - do: Дождаться окончания поиска
    - assert: |
        - В блоке "Отзывные компании" кнопка меняется:
            - Справа от жирного текста "Отзывные кампании" показывается красный кружок с белой цифрой 1 
            - Ниже текст с причиной ОК
            - Стрелочка вниз, раскрывающая скрытый текст
    - do: Тап на стрелочку вниз
    - assert: |
        - В блоке "Отзывные компании" кнопка имеет вид:
            - Справа от жирного текста “Отзывные кампании” показывается красный кружок с белой цифрой 1
            - Ниже текст с причиной ОК
            - Под ним текст, скрытый на шаге 2
            - Ниже активная ссылка "Подробнее >"
            - Стрелочка вниз исчезает (вместо нее стрелочка вверх)
    - do: Свернуть - развернуть приложение
    - assert: |
        - Поиск автоматически не начался
        - Показана карточка авто как в шаге 3

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  2 Отзывных Кампании:
    - description: |
        **ОК** - отзывные компании
        **Карточка авто** - карточка с информацией об автомобиле, открывается через: Меню нави - добавленный автомобиль (кнопка под аватаркой и именем пользователя)
        В этом кейсе проверяется отображение ОК в карточке авто, когда найдены 2 ОК. Поиск наличия ОК начинается автоматически с переходом в карточку авто. В случае нахождения 2 ОК они отображается в карточке авто с возможность перейти на сайт ОК.
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Добавлена машина с 2 ОК (VIN JF1GT7LL5JG008055)
        - Открыто Меню навигатора
    - do: Тап на кнопку автомобиля
    - assert: |
        - Открывается карточка авто
        - Автоматически начинается поиск на ОК:
            - В блоке "Отзывные компании" кнопка с спиннером загрузки (слева) и текстом "Идет проверка" (справа)
    - do: Дождаться окончания поиска
    - assert: |
        - В блоке "Отзывные компании" кнопка меняется:
            - Справа от жирного текста “Отзывные кампании” показывается красный кружок с белой цифрой 2
            - Ниже текст с причиной 1-ой ОК
            - Стрелочка вниз, раскрывающая скрытый текст 1-ой ОК
            - Разделитель
            - Ниже текст с причиной 2-ой ОК
            - Стрелочка вниз, раскрывающая скрытый текст 2-ой ОК
    - do: Тап на стрелочку вниз у 1-ой ОК
    - assert: |
        - В блоке "Отзывные компании" кнопка имеет вид:
            - Справа от жирного текста “Отзывные кампании” показывается красный кружок с белой цифрой 2
            - Ниже текст с причиной 1-ой ОК
            - Под ним текст, скрытый на шаге 2
            - Ниже активная ссылка "Подробнее >"
            - Стрелочка вниз у 1-ой ОК исчезает
            - Разделитель
            - Ниже текст с причиной 2-ой ОК
            - Стрелочка вниз, раскрывающая скрытый текст 2-ой ОК
    - do: Тап на стрелочку вниз у 2-ой ОК
    - assert: |
        - В блоке "Отзывные компании" кнопка имеет вид:
            - Справа от жирного текста “Отзывные кампании” показывается красный кружок с белой цифрой 1
            - Ниже текст с причиной 1-ой ОК
            - Скрытый текст и активная ссылка "Подробнее >" из шага 3 скрываются
            - Появляется стрелочка вниз у 1-ой ОК
            - Разделитель
            - Ниже текст с причиной 2-ой ОК
            - Под ним текст, скрытый на шагах 2-3
            - Ниже активная ссылка "Подробнее >"
            - Стрелочка вниз у 2-ой ОК исчезает

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Перелогин с добавленной машиной:
    - description: |
        **ОК** - отзывные компании
        **Карточка авто** - карточка с информацией об автомобиле, открывается через: Меню нави - добавленный автомобиль (кнопка под аватаркой и именем пользователя)
        **Список машин** - кнопки машин под аватаркой пользователя (список скролится вправо, за раз показывается одна кнопка)
        В этом кейсе проверяется отображение добавленного автомобиля у разных пользователей.
        Кнопка "Добавить авто" является синей, если ни разу не открывалась и белой, если просматривалась
        - Если у залогиненного пользователя есть машина, то после разлогина список машин меняется на кнопку "Добавить авто" синего цвета.
        - Если у залогиненного пользователя нет автомобиля, но он просмотрел ОК (тапнул на "Добавить авто"), кнопка белого цвета, после разлогина кнопка становится синей.
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе аккаунтом А
        - К аккаунту А добавлена машина
        - На аккаунте В нет добавленной машины
        - На аккаунте В просмотрены ОК (кнопка белого цвета)
        - Открыта карта  в навигаторе
    - do: Тап на Меню в тапбаре (3 горизонтальные линии)
    - assert: |
        - Открывается меню навигатора
        - Под аватаркой список машин
    - do: Разлогиниться в навигаторе
    - assert: |
        - Аватарка и имя залогиненного пользователя меняется на кнопку "Войти"
        - Список машин меняется на **синюю** кнопку "Добавить авто"
    - do: Авторизоваться в навигаторе аккаунтом В
    - assert: |
        - Кнопка “Войти” меняется на аватарку и имя залогиненного пользователя
        - Цвет кнопки "Добавить авто" меняется с синей на **серую**
    - do: Разлогиниться в навигаторе
    - assert: |
        - Аватарка и имя залогиненного пользователя меняется на кнопку “Войти”
        - Цвет кнопки “Добавить авто” меняется с серой на **синюю**
    - do: Авторизоваться в навигаторе аккаунтом А (из предусловия)
    - assert: |
        - Кнопка “Войти” меняется на аватарку и имя залогиненного пользователя
        - Синяя кнопка "Добавить авто" меняется на список машин

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Добавление одной машины на несколько аккаунтов:
    - description: |
        **ОК** - отзывные компании
        **Карточка авто** - карточка с информацией об автомобиле, открывается через: Меню нави - добавленный автомобиль (кнопка под аватаркой и именем пользователя)
        **Список машин** - кнопки машин под аватаркой пользователя (список скролится вправо, за раз показывается одна кнопка)
        В этом кейсе проверяется возможность добавления одной и той же машины на несколько аккаунтов.
        Одну и ту же машину можно добавить на любое количество аккаунтов.
    - info: |
        Для прохождения кейса необходимо 2 аккаунта:
        - Аккаунт А с добавленным автомобилем
        - Аккаунт В без автомобиля
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе аккаунтом В
        - Локаль ru-RU
        - Открыт экран ввода гос номера или vin, поле ввода активно (тап на поле ввода)
    - do: Ввести vin автомобиля привязанного к аккаунту А
    - assert: |
        - Vin введён
        - Кнопка "Добавить" стала акивной
    - do: Тап на "Добавить"
    - assert: |
        - Во время поиска поле ввода неактивно и кнопка задизейблена
        - После поиска показаны:
            - Карточка результатов поиска с данными автомобиля
            - Галочки на лицензионное соглашение и на рекламу
            - Кнопка "Верно, это моя машина"
    - do: Тап на "Верно, это моя машина"
    - assert: Показана карточка авто (добавленного)
    - do: Тап на стрелочку "Назад"
    - assert: |
        - Закрывается карточка авто
        - Показано Меню навигатора
        - Под логином пользователя список машин из 2-ух кнопок (авто и "+ Добавить машину")
    - do: Перелогиниться в навигаторе аккаунтом А
    - assert: |
        - Открыт экран Меню навигатора
        - Логин поменялся на аккаунт А
        - Под логином отображается список машин как в шаге 4 

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Галочки лицензионного соглашения и рекламы:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяются, галочки лицензионного соглашения и рекламы. Эти кнопки показаны под карточкой авто после поиска. По умолчанию оба пункта выбраны. Кнопка "Всё верно" активна (синяя), если стоит активный чекбокс около лицензионного соглашения. Кнопка "Всё верно" задизейблена (серая), если  не стоит активный чекбокс около лицензионного соглашения. Активный чекбокс рекламы не влияет на кнопку "Всё верно"
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Нет добавленной машины
        - Открыт экран с найденным авто (Маню навигатора - "Добавить автомобиль" - Введён VIN или номер реального автомобиля - Тап на "Добавить")
        - Галочки стоят около лицензионного соглашения и рекламы (по умолчанию)
    - do: Тап на галочку около лицензионного соглашения
    - assert: |
        - Активный чекбокс убирается около лицензионного соглашения
        - Активный чекбокс рекламы остаётся выбранной
        - Кнопка "Верно, это моя машина" задизейблена
    - do: Тап на галочку около рекламы
    - assert: |
        - Активный чекбокс лицензионного соглашения не выбрана
        - Активный чекбокс рекламы убирается
        - Кнопка "Верно, это моя машина" задизейблена
    - do: Тап на галочку около лицензионного соглашения
    - assert: |
        - Активный чекбокс появляется около лицензионного соглашения
        - Активный чекбокс рекламы остаётся не выбранной
        - Кнопка "Верно, это моя машина" активна
    - do: Тап на галочку около рекламы
    - assert: |
        - Активный чекбокс лицензионного соглашения выбрана
        - Активный чекбокс появляется около рекламы
        - Кнопка "Верно, это моя машина" активна
    - do: Тап на "Верно, это моя машина"
    - assert: |
        - Машина добавляется к аккаунту пользователя
        - Закрывается карточка результата поиска (с кнопкой "Верно, это моя машина")
        - Открывается карточка авто

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Лицензионное соглашение:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется, как открывается Лицензионное соглашение в браузире. Кнопка лицензионного соглашения показана на экране с результатом поиска (Меню навигатора - "Добавить машину" - Ввести VIN или гос номер авто - "Добавить"). На этом экране под карточкой авто 2 галочки одна из которых для лицензионного соглашения. Переход в браузер происходит через активную ссылку.
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Нет добавленной машины
        - Открыт экран с результатом поиска (Меню навигатора - “Добавить авто” - Ввести VIN или гос номер авто - “Добавить”)
    - do: Тап на активную ссылку "условия лицензионного соглашения"
    - assert: Открывается браузер со страницей лицензионного соглашения
    - do: Проскроллить лицензионное согланеие
    - assert: Страница скроллится
    - do: Вернуться в приложение Навигатор
    - assert: Показан экран с результатом поиска

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Поиск машины без интернета (iOS):
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется, поиск машины по Гос номеру без интернета. При поиске авто без интернета показана фулскрин ошибка с общим текстом, кнопка "Добавить" активная
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Нет добавленной машины
        - Открыт экран поиска автомобиля (Меню - "Добавить авто")
        - Подключение к интернету отсутствует
    - do: |
        - Тап на поле ввода
        - Ввести существующий гос номер
    - assert: |
        - Все текста исчезают, остаётся только поле ввода и появляется клавиатура
        - Гос номер отображается в поле ввода, кнопка "Добавить" активна
    - do: Там на "Добавить"
    - assert: |
        - Клавиатура убирается
        - Поле ввода активно, гос номер из шага 1 отображается в поле ввода
        - Жирный текст "Ошибка"
        - Текст "Что-то пошло не так, попробуйте повторить позже"
        - Кнопка "Добавить" сменилась на активную кнопку "Повторить поиск"
    - do: Включить интернет
    - do: Тап на "Повторить поиск"
    - assert: Показана карточка результата поиска

    - platforms:
      - ios
    - tags:
        - assessors


  Поиск Отзывных Кампаний без интернета:
    - description: |
        **ОК** - отзывные компании
        **Карточка авто** - карточка с информацией об автомобиле, открывается через: Меню нави - добавленный автомобиль (кнопка под аватаркой и именем пользователя)
        В этом кейсе проверяется отображение ошибки ОК, если поиск происходит без интернета. Поиск наличия ОК начинается автоматически с переходом в карточку авто. В случае отсутствия интернета в карточке авто отображается сообщение об ошибке.
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Добавлена машина
        - Открыто Меню навигатора
        - Подключение к интернету отсутствует
    - do: Тап на кнопку автомобиля
    - assert: |
        - Открывается карточка авто
        - Автоматически начинается поиск на ОК:
            - В блоке "Отзывные компании" кнопка с спиннером загрузки (слева) и текстом "Идет проверка" (справа)
    - do: Дождаться окончания поиска
    - assert: |
        - В блоке "Отзывные компании" кнопка меняется:
            - спиннер на красный восклицательный знак в красном круге (слева)
            - Текст на "Ошибка" (по центру)
            - Синий текст "Повторить поиск" (справа)
    - do: Включить интернет
    - do: Тап на "Повторить поиск"
    - assert: |
        - Начинается поиск на ОК:
        - В блоке “Отзывные компании” кнопка с спиннером загрузки (слева) и текстом “Идет проверка” (справа)
    - do: Дождаться окончания поиска
    - assert: |
        - В блоке “Отзывные компании” кнопка меняется в зависимости от наличия ОК у авто:
            - Либо на зелёную галочку с текстом "Отзывных кампаний нет"
            - Либо на причину ОК со стрелочкой вниз

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Поле ввода - Гос. номер:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        - В данном кейсе проверяется, поведение поля ввода гос номера. 
        - Гос номер (ГРЗ) должен содержать символы используемые в номерных знаках (А, В, Е, К, М, Н, О, Р, С, Т, У и Х), так как только они имеют аналогичные буквы в латинице.
        - Должен содержать в себе буквенное обозначение (Одна буква до числового обозначения, две после), числовое значение от 001 до 999 и регион, указанный в конце номера, формата 01 - 999 (А 000 АА 000) 
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - У пользователя нет добавленной машины
        - Открыт экран поиска автомобиля (Меню - "Добавить машину")
        - Курсор в поле ввода, клавиатура поднята (тап в поле ввода)
    - do: Ввести A001АА01 в поле ввода
    - assert: A001АА01 - Валидный номер, кнопка “Добавить” активна
    - do: Ввести К999АЛ99 в поле ввода
    - assert: К999АЛ99 - Не валидный номер (Добавлена не валидная буква после числового значения), кнопка “Добавить” не активна
    - do: Ввести Б123РР01 в поле ввода
    - assert: Б123РР01 - Не валидный номер (Добавлена не валидная буква перед числовым номером), кнопка “Добавить” не активна
    - do: Ввести А001АА9999 в поле ввода
    - assert: А001АА9999 - Не валидный номер (Регион превышает кол-во допустимых цифр), кнопка “Добавить” не активна
    - do: Ввести АА666А40 в поле ввода
    - assert: АА666А40 - Не валидный номер (Вначале должна быть одна буква, в конце - две), кнопка “Добавить” не активна
    - do: Ввести А9999АА86 в поле ввода
    - assert: А9999АА86 - Не валидный номер (Числовой код превышает кол-во допустимых цифр), кнопка “Добавить” не активна
    - do: Ввести  А999ААА99 в поле ввода
    - assert: Не валидный номер (После числового значения должно быть Две валидные буквы), кнопка “Добавить” не активна
    - do: Ввести T999ОH66 (Первая и последние буквы латинские (t и h), русские - (О)) в поле ввода
    - assert: T999ОH66 - Валидный код (первая и последние буквы латинские t и h ), кнопка “Добавить” активна
    - do: Ввести t888kН88 - (Латинские буквы нижнего регистра (t, k) и русские - верхнего (Н)) в поле ввода
    - assert: t888kН88 - Валидный код (Латинские буквы нижнего регистра (t, k) и русские - верхнего (Н)), кнопка “Добавить” активна

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Вид плашки добавленной машины в Меню Нави:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        **Список машин** - кнопки машин под аватаркой пользователя (список скролится вправо, за раз показывается одна кнопка)
        В этом кейсе проверяется вид кнопки добавленного пользователем автомобиля в Меню Нави. После добавления машины, кнопка "Добавить машину" меняется на список машин
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в Навигаторе
        - Открыт главный экран Навигатора
    - do: |
        - Найти и добавить реальный автомобиль, используя Госномер
        - Перейти в Меню Навигатора
    - assert: |
        - Раскрывается Меню
        - Под блоком профиля показан список машин с плашкой авто макет
        - В плашке указаны марка и модель машины
        - Если марка+модель длинные, они фейдятся
        - В плашке указан госномер авто с кодом региона
        - Под плашкой идёт остальное меню Нави, начиная с Настроек
    - do: |
        - Найти и добавить реальный автомобиль, используя VIN
        - Перейти в Меню Навигатора
    - assert: |
        - Раскрывается Меню
        - Под блоком профиля показан список машин с плашкой авто
        - В плашке указаны марка и модель машины
        - Если марка+модель длинные, они фейдятся
        - В плашке указаны только марка и модель
        - Под плашкой идёт остальное меню Нави, начиная с Настроек

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Переход в добавленную машину Пользователя:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется вид плашки добавленного пользователем автомобиля в Меню Нави. Плашка становится серой после первого тапа и остаётся таковой
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в Навигаторе
        - Есть добавленная машина
        - Открыт главный экран Навигатора
    - do: Открыть Меню Нави
    - assert: |
        - Раскрывается Меню
        - Под блоком профиля показан список машин с плашкой авто макет
        - В плашке указаны марка и модель машины
        - Если марка+модель длинные, они фейдятся
        - Если автомобиль добавлялся через поиск номера - в плашке указан госномер авто с кодом региона
        - Если автомобиль добавлялся через поиск по VIN - в плашке указаны только марка и модель
        - Под плашкой идёт остальное меню Нави, начиная с Настроек
    - do: Тап по плашке с автомобилем
    - assert: |
        - Происходит переход на экран "Моя машина" макет
        - В навбаре: стрелка назад для возврата в Меню, заголовок экрана, кнопка редактирования в виде карандаша и крестик закрытия
        - В карточке указаны:
            - Марка + модель машины
            - Блок с Отзывными кампаниями, состоящий из заголовка и плашкой с наличием/отсутствием ОК
            - Блок ОСАГО с датой окончания ОСАГО/надписью "Добавить дату окончания"
            - Блок с информацией об автомобиле, состоящий из заголовка, цвета, информации о двигателе, VIN, года выпуска и свитчера основная машина (если добавлено 2 или более авто)
    - do: Тап по стрелке назад
    - assert: Происходит возврат в Меню Нави, на экран из шага 1

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Добавление нового автомобиля неавторизованным пользователем:
    - description: |
        Цель: Проверить добавления нового автомобиля неавторизованным пользователем. 
        Кнопка "Добавить автомобиль" является синей, если ни разу не открывалась и белой, если просматривалась. После открытия ОК, они считаются просмотренными и кнопка “Добавить авто” меняет цвет с синей на серую и пропадает точка у кнопки Меню в тапбаре навигатора
        Находится под кнопкой “Войти” или под аватаркой авторизованного пользователя
    - info: |
        Включён эксперимент в dev settings - Ya.Auto - Car info editing
        Пользователь не авторизован в навигаторе
    - do: |
        Открыть меню
    - assert: В меню присутствует кнопка "Добавить машину"
    - do: Тап "Добавить машину"
    - assert: Открывается WebView Выбрать аккаунт, если на устройстве есть Яндекс аккаунты, либо WebView ввода логина.
    - do: |
        Авторизоваться в навигаторе
    - assert: Открыт экран "Моя машина" с вводом госномера или VIN

    - platforms:
      - ios


  Добавление нового автомобиля по госномеру:
    - description: |
        Цель: Проверить добавление нового автомобиля авторизованным пользователем.
        Кнопка “Добавить автомобиль” является синей, если ни разу не открывалась и белой, если просматривалась. После открытия ОК, они считаются просмотренными и кнопка “Добавить авто” меняет цвет с синей на серую и пропадает точка у кнопки Меню в тапбаре навигатора
        Находится под кнопкой “Войти” или под аватаркой авторизованного пользователя
    - info: |
        Включён эксперимент в dev settings - Ya.Auto - Car info editing
        Пользователь авторизован в навигаторе
    - do: |
        Открыть Меню
        Тап на кнопку "Добавить машину"
    - assert: Открыт экран "Моя машина" с вводом госномера или VIN
    - do: |
        Ввести несуществующий госномер
        Тап "Добавить"
    - assert: |
        **Появляется сообщение:**
        Ничего не нашлось
        Убедитесь, что госномер или VIN написан без ошибок
    - do: Ввести существующий госномер формата _х 000 хх | 00_ (например T 777 TM 99)
    - assert: |
        Открывается экран результатов поиска с данными по автомобилю следующего содержания:
        - Марка + Модель
        - Госномер
        - VIN частично закрытый звёздочками
        - Год выпуска
        - Двигатель
        - Цвет
        - Мелкий текст: “По данным портала auto.ru”
        Под карточкой авто 2 юридических галочки:
        - Одна с условиями лицензионного соглашения
        - Вторая про рекламу
        Обе выбраны по умолчанию (Синие кнопки с галочкой внутри)
        Синяя кнопка с белым текстом “Это моя машина”
        Кнопка с синим текстом “Повторить поиск”
    - do: |
        Тап на кнопку Верно, это моя машина
        _Примечание:_ При снятии галочки на согласие на обработку данных кнопка "Это моя машина" становится серой.
    - assert: |
        Открыт экран Моя машина
        **Экран имеет следующее содержание:**
        В тулбаре крестик, иконка корзины и стрелочка “Назад”
        -  Марка + Модель автомобиля
        - Гос номер (если есть) / Кнопка “Добавить гос. номер” (если нет)
        - Блок “Отзывные компании” с ОК (если есть) / текст об отсутствии ОК (если нет)
        Блок “Информация об автомобиле” :
        - Кнопка “ОСАГО” с описанием синим текстом “Добавить дату окончания”
        - Кнопка “VIN” со значением VIN’a
        - Кнопка “Год выпуска” со значением года выпуска
        - Кнопка “Двигатель” со значением в формате ( объём / лошадиные силы )

    - platforms:
      - ios


  Удаление добавленного автомобиля:
    - description: |
        Цель: в этом кейсе проверяется удаление карточки автомобиля с аккаунта.
        На данный момент к аккаунту можно добавить только 1 автомобиль. Чтобы посмотреть другое авто на наличие ОК, надо удалить добавленный и добавить новый.
        Удалить автомобиль можно из карточки авто. Кнопка удаления скрыта тремя вертикальными точками.
    - info: |
        Включён эксперимент в dev settings - Ya.Auto - Car info editing
        Пользователь авторизован в навигаторе
        Добавлена машина
    - do: |
        Открыть карточку автомобиля в меню
        Тап на иконку корзины в правом верхнем углу рядом с крестиком
    - assert: |
        **Появляется поп-ап:**
        Текст: “Удалить информацию об машине?”
        Кнопки “Нет” и “Удалить” 
    - do: Тап "Нет"
    - assert: |
        Открыт экран Моя машина
        Данные не удалены.
    - do: |
        Повторить шаг 1
        Тап "Удалить"
    - assert: |
        Происходит возврат в меню
        Добавленных автомобилей нет
        Присутствует кнопка "Добавить машину"
    - do: Тап на "Добавить машину"
    - assert: Открывается экран "Моя машина" с вводом госномера или VIN

    - platforms:
      - ios


  Добавление нового автомобиля по VIN номеру:
    - info: |
        Включён эксперимент в dev settings - Ya.Auto - Car info editing
        Пользователь авторизован в навигаторе
        Нет добавленной машины
    - do: Открыть меню
    - assert: В меню присутствует кнопка “Добавить машину"
    - do: |
        Ввести несуществующий VIN
        Тап "Добавить"
    - assert: |
        **Появляется сообщение:**
        Ничего не нашлось
        Убедитесь, что госномер или VIN написан без ошибок
    - do: Ввести существующий VIN
    - assert: |
        Открывается экран результатов поиска с данными по автомобилю следующего содержания:
        - Марка + Модель
        - Госномер
        - VIN частично закрытый звёздочками
        - Год выпуска
        - Двигатель
        - Цвет
        - Мелкий текст: “По данным портала auto.ru”
        Под карточкой авто 2 юридических галочки:
        - Одна с условиями лицензионного соглашения
        - Вторая про рекламу
        _Обе выбраны по умолчанию (Синие кнопки с галочкой внутри)_
        Синяя кнопка с белым текстом “Это моя машина”
        Кнопка с синим текстом “Повторить поиск”
    - do: Тап "Верно это моя машина"
    - assert: |
        _Примечание:_ При снятии галочки на согласие на обработку данных кнопка “Это моя машина” становится серой.
        Открыто экран Моя машина
        Экран имеет следующее содержание:
        В тулбаре крестик, иконка корзины и стрелочка “Назад”
        - Марка + Модель автомобиля
        - Гос номер (если есть) / Кнопка “Добавить гос. номер” (если нет)
        - Блок “Отзывные компании” с ОК (если есть) / текст об отсутствии ОК (если нет)
        Блок “Информация об автомобиле” :
        - Кнопка “ОСАГО” с описанием синим текстом “Добавить дату окончания”
        - Кнопка “VIN” со значением VIN’a
        - Кнопка “Год выпуска” со значением года выпуска
        - Кнопка “Двигатель” со значением в формате ( объём / лошадиные силы )

    - platforms:
      - ios


  Вид экранов поиска, результата поиска и карточки машины в горизонтальной ориентации:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется, что все экраны Отзывных кампаний показываются целиком в горизонтальной ориентации, не обрезаются, их можно скроллить, все функциональные элементы видимы и доступны для действий
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в Навигаторе
        - Открыто Меню Навигатора
    - do: Тап по плашке "Добавить машину" под логином пользователя
    - assert: |
        - Происходит переход на экран поиска с заголовком "Моя машина"
        - В навбаре: стрелка назад для возврата в Меню, заголовок экрана, крестик закрытия
        - Ниже - поисковая строка
        - Под строкой поиска показан поясняющий текст
        - Внизу экрана под текстом - кнопка "Добавить", задизейбленная (серого цвета, не нажимается, пока не заполнено поле поиска)
    - do: Перевести устройство в горизонтальную ориентацию
    - assert: |
        - Экран в горизонтальной ориентации
        - Чтобы просмотреть весь экран, можно проскроллить страницу
        - Страница скроллится
        - Все элементы отображаются: показан заголовок, поле поиска, текст, кнопка добавления
    - do: Ввести валидный госномер или VIN
    - assert: |
        - Пропадает поясняющий текст под полем ввода
        - Кнопка "Добавить" становится синей
        - Экран скроллится
    - do: Тап по "Добавить"
    - assert: |
        - Показан экран результата поиска
        - Показан навбар со стрелкой назад, заголовком, крестиком закрытия
        - Показан сниппет карточки автомобиля
        - В сниппете показываются:
            - марка + модель авто
            - VIN (первые 3 символа, затем оставшаяся часть закрыта звёздочками)
            - год выпуска
            - двигатель (объём/мощность)
            - цвет
            - внизу приписка "по данным портала auto.ru"
        - Под сниппетом два выбранных чекбокса - на обработку перс. данных и рассылку рекламы
        - Ниже - кнопка "Верно, это моя машина"
        - Экран скроллится
    - do: Тап в кнопку “Верно, это моя машина”
    - assert: |
        - Показан экран "Моя машина"
        - Показан навбар со стрелкой назад, заголовком, иконкой мусорного бака для удаления авто, крестиком закрытия
        - Ниже - карточка автомобиля
        - Карточка содержит: 
            - Марка + модель
            - Подзаголовок "Отзывные кампании" с бейджем, если кампании есть и без него, если кампаний нет
            - Под подзаголовком плашка:
                - _если нет отзывных кампаний_ - с текстом "отзывных кампаний нет"
                - _если есть ОК_ - текст причины ОК со стрелкой вниз, указывающей на выпадающий список
            - Ниже блок "ОСАГО" с датой окончания/надписью "Добавить дату окончания"
            - Ниже - блок с подзаголовком "Информация о машине" с полями: цвет, VIN, год выпуска, двигатель
        - Карточка авто скроллится

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Удаление карточки ОК (Интернет отсутствует):
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется поведение приложения при удалении карточки автомобиля с аккаунта при выключенном интернете. На данный момент к аккаунту можно добавить только 1 автомобиль. Чтобы посмотреть другое авто на наличие ОК, надо удалить добавленный и добавить новый.
        Удалить автомобиль можно из карточки авто. Кнопка удаления скрыта тремя вертикальными точками.
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Добавлена 1 машина
        - Открыта карточка автомобиля
        - Интернет выключен на девайсе
        - Включен режим редактирования 
    - do: Тап на "Удалить информацию"
    - assert: |
        - Появляется поп-ап:
            - Текст: “Удалить информацию о машине?”
            - Кнопки “Удалить” и “Нет”
    - do: Тап на "Удалить"
    - assert: |
        - Закрывается поп-ап
        - В шапке показана информационная плашка с названием "Информация удаляется" и спиннером загрузки
        - После попытки удаления показана информационная красная плашка с текстом: "Ошибка. Попробуйте удалить позже"
        - Карточка не удалилась 
    - do: Повторить шаги 1-2, с включенным интернетом 
    - assert: |
        - Закрывается поп-ап
        - В шапке показана информационная плашка с названием "Информация удаляется" и спиннером загрузки
        - После удаления показана информационная плашка с зеленой галочкой и названием: "информация удалена"
        - После показа плашки об успешном удалении через ~3-5 сек карточка закрывается автоматически
        - После закрытия карточки - показано меню навигатора
        - Под аватаркой и именем пользователя серая кнопка "Добавить авто"
    - do: Тап на "Добавить авто"
    - assert: Открывается экран ввода VIN или гос номера

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Поле ввода -  VIN:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        - В данном кейсе проверяется ввод VIN-номера для добавления по нему автомобиля
        - Вин-номер (VIN) содержит только латинские символы и цифры - длина VIN составляет 17 символов
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в Навигаторе
        - У пользователя нет добавленной машины
        - Открыт экран поиска автомобиля (Меню - "Добавить машину")
        - Курсор в поле ввода
    - do: |
        Ввести в поле ввода VIN вида:
        - J999TR5445HT56730 
    - assert: После ввода последнего символа кнопка "Добавить" становится синей (что обозначает валидность введённого VIN)
    - do: Очистить поле ввода
    - assert: |
        - Поле ввода пустое 
        - В поле мигает курсор
        - Показан текст-подсказка "Госномер или VIN"
        - Кнопка "Добавить" стала серой (неактивной)
    - do: |
        Ввести в поле ввода VIN вида:
        - J999TR5445HT5673 
        - Ф574989КРЛ09740Ш6 (кириллицей)
        - Ф8576GTE75943Г884 - (кириллицей и латиницей)
    - assert: После ввода последнего символа кнопка "Добавить" остаётся серой (неактивной) - что говорит о невалидности введённого VIN

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Поиск по не валидному госномеру или VIN:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        - В данном кейсе проверяется ввод не валидных гос номеров / ВИН - номеров
        - Валидный ВИН-номер (VIN) содержит только латинские символы и цифры - длина VIN составляет 17 символов.
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - У пользователя нет добавленной машины
        - Открыт экран поиска автомобиля (Меню - "Добавить машину")
        - Курсор в поле ввода, клавиатура поднята (тап в поле ввода)
    - do: |
        Ввести в поле ввода госномер вида:
        - А000АА00
    - assert: Кнопка "Добавить" стала синего цвета
    - do: Тап по кнопке "Добавить"
    - assert: Показана ошибка "Ничего не нашлось. Убедитесь, что госномер или VIN написан без ошибок"
    - do: |
        Повторить шаги 1-2 для следующих VIN номеров:
        - TTTTTTTTTTTTTTTTT
        - 11111111111111111
    - assert: Показана ошибка "Ничего не нашлось. Убедитесь, что госномер или VIN написан без ошибок"

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Поиск несуществующей машины:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу кнопки "Добавить авто")
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - У пользователя нет добавленной машины
        - Открыт экран поиска автомобиля (Меню - "Добавить машину")
        - Курсор в поле ввода, клавиатура поднята (тап в поле ввода)
    - do: Ввести в поле ввода правильный несуществующий госномер (А501ЕТ00) или VIN (RRRRRRRRRRRRRRRRR)
    - assert: После ввода последнего символа, кнопка "Добавить" стала синего цвета
    - do: Тап по кнопке "Добавить"
    - assert: |
        - После поиска показан плейсхолдер с текстом "Убедитесь, что госномер или VIN написан без ошибок"
        - Кнопка "Добавить" имзенилась на активную синюю кнопку "Повторить поиск"

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Поиск машины без обязательных полей:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        **Поле** - данные об автомобиле, которые предоставляет авто.ру (например, данные о двигателе, цвете, годе выпуска, марки и модели автомобиля)
        В этом кейсе проверяется, поиск машины без обязательных полей. Поля года, марки и модели являются необязательными и машина находится в приложении. На месте года будет прочерк в карточке поиска и карточке авто.
        Если отсутствуют поля цвета, двигателя и заголовок, то выдаётся ошибка.
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Нет добавленной машины
        - Открыт экран поиска автомобиля (Меню - "Добавить авто")
    - do: |
        - Тап на поле ввода
        - Ввести номер автомобиля без полей марки и модели (например, А502ЕТ71)
    - assert: |
        - Все текста исчезают, остаётся только поле ввода и появляется клавиатура
        - Госномер отображается в поле ввода, кнопка "Добавить" активна
    - do: Тап на "Добавить"
    - assert: |
        - Клавиатура убирается
        - Кнопка "Добавить" неактивна
        - Поле ввода неактивно, введённый ранее госномер отображается
        - Справа в поле ввода спиннер загрузки
    - do: Дождаться окончания поиска автомобиля
    - assert: |
        - Поле ввода убирается
        - Показана карточка результата поиска
        - Заголовок в карточке авто присутствует
    - do: |
        - Тап на стрелочку "Назад"
        - Стереть старый госномер и ввести номер автомобиля без поля года выпуска (например, Н502КТ71)
    - assert: |
        - Закрывается карточка результата поиска, показан экран поля ввода
        - Госномер отображается в поле ввода, кнопка “Добавить” активна
    - do: Повторить шаги 2-3
    - assert: |
        - Показана карточка результата поиска
        - В карточке около года выпуска прочерк
    - do: |
        - Тап на стрелочку “Назад”
        - Стереть старый госномер и ввести VIN-номер автомобиля без полей двигателя и цвета (например,  WWWWWWWWWWWWWWWWW)
    - assert: |
        - Закрывается карточка результата поиска, показан экран поля ввода
        - Госномер отображается в поле ввода, кнопка “Добавить” активна
    - do: Повторить шаги 2-3
    - assert: |
        - Показана карточка результата поиска
        - В карточке около цвета и двигателя прочерк
    - do: Тап на "Верно, это моя машина"
    - assert: |
        - Закрывается карточка результата поиска
        - Показывается карточка авто:
            - В блоке "Информация о машине" в  строках "Цвет" и "Двигатель" стоит прочерк
            - В блоке "Информация о машине" строки "ОСАГО", "VIN" показан польностью (т. к. искали по VIN) и "Год выпуска" заполнены информацией

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Авто с наличием отзывной компании:
    - info: |
        Включён эксперимент в dev settings - Ya.Auto - Car info editing
        Пользователь авторизован в навигаторе
        Добавлена машина с 2 ОК (VIN JF1GT7LL5JG008055)
        Открыто Меню навигатора
    - do: Тап на кнопку добавленного автомобиля
    - assert: Открывается карточка авто
    - do: Тап на вкладку с первой отзывной компанией
    - assert: |
        Выезжает текст с описанием отзывной компании
        Внизу активная ссылка "Подробнее"
    - do: |
        Закрыть вкладку первой отзывной компании
        Тап на вкладку второй отзывной компании
    - assert: Вызжает текст с описанием и активной ссылкой "Подробнее"
    - do: Тап на "Подробнее"
    - assert: Открывается webview с описанием причины ОК

    - platforms:
      - ios


  ОК считаются просмотренными (Android):
    - description: |
        **ОК** - отзывные кампании (открываются тапом кнопки "Добавить авто")
        В этом кейсе проверяется изменение цвета кнопки "Добавить авто" после просмотра ОК.
        Кнопка является синей, если ни разу не открывалась и серой, если просматривалась. После тапа Отзывные кампании считаются просмотренными и кнопка "Добавить авто" меняет цвет с синей на серую, пропадает точка на иконке Меню в таббаре.
        Находятся ОК под кнопкой "Войти" или под аватаркой авторизованного пользователя
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - ОК не просматривались ранее
        - Пользователь авторизован в Навигаторе
        - Открыт главный экран навигатора
    - do: Тап на Меню в таббаре
    - assert: |
        - Открывается Меню навигатора поверх карты
        - Под аватаркой с именем залогиненного пользователя **синяя** кнопка:
            - Слева текст: "Добавить машину"
            - Справа поле с маской под гос номер автомобиля ( _х 000 хх | 00_ )
        - Под кнопкой серый текст: “Укажите госномер или VIN и узнайте, попал ли ваш автомобиль под отзывную кампанию”
        - Внизу экрана тапбар, кнопка Меню содержит синюю/жёлтую точку
    - do: Тап на кнопку "Добавить машину"
    - assert: |
        - Открывается экран ввода VIN или гос номера:
            - Заголовок: "Моя машина"
            - Поле ввода с плейсхолдером "Госномер или VIN" 
            - В правой части поля ввода неактивная кнопка "Добавить"
            - Текст: "Введите госномер или VIN, остальное Навигатор попробует угадать сам.
        После этого можно будет проверить, попал ли автомобиль под отзывную кампанию.
        Отзывные кампании проводит производитель, чтобы заменить некачественные детали и устранить проблемы сборки.". 
    - do: Тап на стрелочку "Назад"
    - assert: |
        - Закрывается экран ввода VIN и гос номера
        - Открывается экран Меню навигатора
        - Под аватаркой с именем залогиненного пользователя **серая** кнопка:
            - Слева текст: “Добавить машину”
            - Справа поле с маской под гос номер автомобиля ( _х 000 хх | 00_ )
        - Внизу экрана таббар, кнопка Меню без синей/жёлтой точки

    - platforms:
      - android
    - tags:
        - assessors


  Поиск машины по VIN (Android):
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется, поиск машины по VIN. Если введены валидные данные, найдётся автомобиль и отобразится его карточка. Если были введены невалидные данные, отобразится текст с информацией о том, что машина не найдена.
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Нет добавленной машины
        - Открыт экран поиска автомобиля (Меню - "Добавить авто")
    - do: |
        - Тап на поле ввода
        - Ввести несуществующий VIN
    - assert: |
        - Появляется клавиатура, текст под полем ввода остаётся и скролится
        - VIN отображается в поле ввода, кнопка "Добавить" активна
    - do: Тап на "Добавить"
    - assert: |
        - Клавиатура убирается
        - Кнопка добавить дизейблится
        - Текст в кнопке меняется на спиннер загрузки
        - Поле ввода неактивно, введённый ранее VIN отображается
        - Текст под полем ввода не исчезает
    - do: Дождаться окончания поиска автомобиля
    - assert: |
        - Поле ввода активно, VIN из шага 1 отображается в поле ввода
        - Кнопка "Добавить" неактивна
        - Жирный текст "Ничего не нашлось"
        - Текст "Убедитесь что госномер или VIN написаны без ошибок"
    - do: Стереть несуществующий VIN и ввести существующий
    - assert: |
        - Новый VIN отображается в поле ввода
        - Кнопка “Добавить” активна
    - do: Повторить шаги 2-3
    - assert: |
        - Показана карточка результата поиска:
            - Марка + Модель
            - VIN частично закрытый звёздочками
            - Год выпуска
            - Двигатель
            - Цвет
            - Мелкий текст: "По данным портала auto.ru"
        - Под карточкой результата поиска 2 юридических галочки:
            - Одна с условиями лицензионного соглашения
            - Вторая про рекламу
            - Обе выбраны (Синие кнопки с галочкой внутри)
        - Синяя кнопка с белым текстом "Верно, это моя машина"

    - platforms:
      - android
    - tags:
        - assessors


  Поиск машины по гос номеру (Android):
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется, поиск машины по Гос номеру. Если введены валидные данные, найдётся автомобиль и отобразится его карточка. Если были введены невалидные данные, отобразится текст с информацией о том, что машина не найдена.
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Нет добавленной машины
        - Открыт экран поиска автомобиля (Меню - "Добавить авто")
    - do: |
        - Тап на поле ввода
        - Ввести несуществующий гос номер
    - assert: |
        - Появляется клавиатура, текст под полем ввода остаётся и скролится
        - Гос номер отображается в поле ввода, кнопка "Добавить" активна
    - do: Тап на "Добавить"
    - assert: |
        - Клавиатура убирается
        - Кнопка добавить дизейблится
        - Текст в кнопке меняется на спиннер загрузки
        - Поле ввода неактивно, введённый ранее гос номер отображается
        - Текст под полем ввода не исчезает
    - do: Дождаться окончания поиска автомобиля
    - assert: |
        - Поле ввода активно, гос номер из шага 1 отображается в поле ввода
        - Кнопка "Добавить" неактивна
        - Жирный текст "Ничего не нашлось"
        - Текст "Убедитесь что госномер или VIN написаны без ошибок"
    - do: Стереть несуществующий гос номер и ввести существующий
    - assert: |
        - Новый госномер отображается в поле ввода
        - Кнопка “Добавить” активна
    - do: Повторить шаги 2-3
    - assert: |
        - Показана карточка результата поиска:
            - Марка + Модель
            - Гос номер
            - VIN частично закрытый звёздочками
            - Год выпуска
            - Двигатель
            - Цвет
            - Мелкий текст: “По данным портала auto.ru”
        - Под карточкой результата поиска 2 юридических галочки:
            - Одна с условиями лицензионного соглашения
            - Вторая про рекламу
            - Обе выбраны (Синие кнопки с галочкой внутри)
        - Синяя кнопка с белым текстом "Верно, это моя машина"

    - platforms:
      - android
    - tags:
        - assessors


  Поиск машины без интернета (Android):
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется, поиск машины по Гос номеру без интернета. При поиске авто без интернета показана фулскрин ошибка с общим текстом, кнопка "Добавить" активная
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Нет добавленной машины
        - Открыт экран поиска автомобиля (Меню - "Добавить авто")
        - Подключение к интернету отсутствует
    - do: |
        - Тап на поле ввода
        - Ввести существующий гос номер
    - assert: |
        - Появляется клавиатура, текст под полем ввода остаётся и скролится
        - Гос номер отображается в поле ввода, кнопка "Добавить" активна
    - do: Там на "Добавить"
    - assert: |
        - Клавиатура убирается
        - Поле ввода активно, гос номер из шага 1 отображается в поле ввода
        - Кнопка "Добавить" сменилась на активную кнопку "Ещё раз"
        - Текст "Введите госномер или VIN..." меняется на:
            - Жирный текст "Ошибка"
            - Текст "Что-то пошло не так, попробуйте повторить позже"
    - do: Включить интернет
    - do: Тап на "Ещё раз"
    - assert: Показана карточка результата поиска

    - platforms:
      - android
    - tags:
        - assessors


  Переход из интроскрина залогиненым пользователем (с 1 авто):
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
        **Интроскрин** - обучающая страница, показанная при запуске навигатора (перед показом карты)
        **Список машин** - кнопки машин под аватаркой пользователя (список скроллится горизонтально, за раз показывается одна кнопка)
        В этом кейсе проверяется переход в карточку первого авто в списке машин из Интроскрина. Для этого нужно
        несколько раз перезапустить Навигатор до появления требуемого Интроскрина
        [collapsed-image](https://jing.yandex-team.ru/files/oshestopalova/IMAGE%202020-03-03%2014%3A20%3A53.jpg){title= Скриншот}
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Интроскрин не просматривался ранее
        - Пользователь залогинен
        - В аккаунт пользователя добавлен 1 автомобиль. Это делается в Меню Нави тапом кнопки "Добавить машину" - вводом ГРЗ/VIN - подтверждением найденной машины
    - do: Перезапустить приложение несколько раз до получения интроскрина по Отзывным кампаниям
    - assert: |
        - Показан интроскрин по Отзывным кампаниям
        - Внизу экрана две кнопки: "Потом" и "Интересно"
        [collapsed-image](https://jing.yandex-team.ru/files/oshestopalova/IMAGE%202020-03-03%2014%3A20%3A53.jpg){title= Скриншот}
    - do: Тап в "Интересно"
    - assert: Происходит переход в карточку автомобиля (добавленного ранее)

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Удаление карточки ОК, когда добавлено несколько авто (iOS):
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        **Список машин** - кнопки машин под аватаркой пользователя (список скролится вправо, за раз показывается одна кнопка)
        В этом кейсе проверяется удаление карточки автомобиля с аккаунта. Удалить автомобиль можно из карточки авто. Кнопка удаления появляется в режиме редактирования (карандаш около крестика в навбаре карточки авто)
        После удаления карточки авто список машин в меню нави уменьшается на 1
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Добавлены 2 машины
        - Открыта карточка авто
        - Включен режим редактирования
    - do: Тап на кнопку "Удалить информацию" внизу карточки авто
    - assert: |
        - Появляется поп-ап:
            - Текст: “Удалить информацию о машине?”
            - Кнопки  “Нет” и “Удалить”
    - do: Тап на "Удалить"
    - assert: |
        - Закрывается поп-ап
        - В шапке показана информационная плашка с названием "Информация удаляется" и спиннером загрузки
        - После удаления показана информационная плашка с зеленой галочкой и названием: "информация удалена"
    - do: Дождаться автоматического закрытия карточки авто (~3-5 сек)
    - assert: |
        - Карточка авто закрлась
        - Показано меню навигатора
        - Удалилась кнопка автомобиля из шага 1
        - Индикатор страниц состоит из 2 точек

    - platforms:
      - ios
    - tags:
        - assessors


  Изменение цвета в карточке авто (цвета нет в калорпикере):
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется возможность изменения цвета в карточке авто. Данный функционал возможен в режиме редактирования карточки авто. Для включения этого режима необходимо тап на иконку карандаша в навбаре карточки авто.
        Режим редактирования позволяет изменить дату окончания ОСАГО, СТС и цвет, а также удалить автомобиль с аккаунта
        - Если цвет при добавлении авто есть в калорпикере, то в калорпикере стоит около него Активный чекбокс
        - Если цвет при добавлении авто отсутствует в калорпикере, то в калорпикере отсутствует Активный чекбокс около цветов
        - Для сохранения выбора необходима тап "Сохранить" в калорпикере
        Цвета в калорпикере: чёрный, серый, серебристый, белый, красный, розовый, оранжевый, золотой, жёлтый, зелёный, голубой, синий, фиолетовый, пурпурный, коричневый, бежевый 
    - info: |
        - Пользователь авторизован
        - У пользователя добавлено авто в Отзывные кампании (Меню -> Добавить машину -> Ввести Госномер или ВИН (например Т736АА7- -> Выполнить поиск и добавить авто)
        - Пользователь Находится в редактировании карточке авто (Меню -> Тап по машине -> Тап по иконке "Карандаша" )
    - do: Тап на кнопку "Цвет"
    - assert: |
        Поверх карточки авто открывается калорпикер:
            - в шапке заголовок "Цвет" и крестик
            - список цветов с иконками этого цвета
            - отсутствует активный чекбокс, если цвет машины отсутствует в колорпикере
            - кнопка "Сохранить"
    - do: Тап на любой цвет из калорпикера
    - assert: Около выбранного цвета появляется активный чекбокс
    - do: Тап на крестик
    - assert: |
        - Закрывается калорпикер
        - Под кнопкой "Цвет" написан прочерк или цвет из предусловия
    - do: Повторить шаги 1-3, тапнув на "Сохранить"
    - assert: |
        - Закрывается калорпикер
        - Прочерк или цвет под кнопкой "Цвет" меняется на цвет из шага 2
    - do: Тап на стрелочку "Назад"
    - assert: |
        - Закрывается карточка авто
        - Показано меню навигатора
    - do: Тап на кнопку автомобиля
    - assert: |
        - Открывается карточка авто
        - Под кнопкой "Цвет" написан цвет из шага 4

    - testing:
      - acceptance_navi
    - platforms:
      - android
      - ios
    - tags:
        - assessors


  Показ добавленного автомобиля в карточке парковки при оплате:
    - description: |
        - **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        - При добавлении автомобиля в Меню Навигатора данный авто должен "подтянуться" в данные о парковках
        - При оплате парковки добавленный автомобиль подставляется в карточку парковки для оплаты
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в Навигаторе
        - Пользователь имеет ранее добавленную машину
        - Открыто Меню Нави
    - do: Свайп влево по плашке с автомобилем
    - assert: Показалась плашка "+ Добавить машину"
    - do: Ввести госномер или VIN
    - do: Тап по "Добавить"
    - do: Подтвердить "Да, это моя машина"
    - assert: Показана карточка автомобиля
    - do: Закрыть карточку
    - do: Включить слой парковок на карте (в правом верхнем углу контрол рядом с иконкой светофора)
    - assert: |
        - На крупных масштабах карты показаны парковки
        - Платные парковки обозначены ценником с символом рубля
    - do: Переместиться на карте на спан Москвы в районе ТТК
    - assert: Показаны платные парковки
    - do: Тап по одной из парковок (по ценнику)
    - assert: |
        - Показана карточка парковки
        - Внизу карточки кнопки "Оплатить" и "Поехали"
        - По тапу в паркуемый авто может показаться диалог "Выбирать эту машину автоматически при следующих парковках?" с кнопками "Да", "Нет"
    - do: Тап "Оплатить"
    - assert: |
        - Открывается карточка для оплаты парковки (_Если добавлено несколько автомобилей_:  показан экран "Автомобили" с предложением выбрать автомобиль для парковки)
        - Под заголовком с номером парковки показан текст вида "Время парковки *автомобиль из шага 4*"
        - Ниже - таймпикер
        - Под ним - сумма к оплате
        - Ниже - "Выбрать способ оплаты"
        - Внизу экрана кнопка "Заплатить n р." (неактивна)
        - _Если было добавлено несколько автомобилей_ - карточка для оплаты парковки показана после выбора (*закрытия диалогового окна*)

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Переход из интроскрина залогиненым пользователем (несколько авто):
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
        **Интроскрин** - обучающая страница, показанная при запуске навигатора (перед показом карты)
        **Список машин** - кнопки машин под аватаркой пользователя (список скроллится горизонтально, за раз показывается одна кнопка)
        В этом кейсе проверяется переход в карточку первого авто в списке машин из Интроскрина. Для этого нужно
        несколько раз перезапустить Навигатор до появления требуемого Интроскрина
        [collapsed-image](https://jing.yandex-team.ru/files/oshestopalova/IMAGE%202020-03-03%2014%3A20%3A53.jpg){title= Скриншот}
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Интроскрин не просматривался ранее
        - Пользователь залогинен
        - В аккаунт пользователя добавлены минимум 2 автомобиля в Отзывные Кампании. Это делается в Меню Нави тапом кнопки "Добавить машину" - вводом ГРЗ/VIN - подтверждением найденной машины
        - У одно из авто включен свитчер "Основная машина" в карточке автомобиля
    - do: |
        Перезапустить приложение несколько раз до получения интроскрина по Отзывным кампаниям
        [collapsed-image](https://jing.yandex-team.ru/files/oshestopalova/IMAGE%202020-03-03%2014%3A20%3A53.jpg){title= Скриншот}
    - assert: |
        - Показан интроскрин по Отзывным кампаниям
        - Внизу экрана две кнопки: "Потом" и "Интересно"
    - do: Тап в "Интересно"
    - assert: Происходит переход в карточку автомобиля с включенным свитчером "Основная машина" (первый в списке)

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Удаление карточки ОК, когда добавлено несколько авто (Android):
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        **Список машин** - кнопки машин под аватаркой пользователя (список скролится вправо, за раз показывается одна кнопка)
        В этом кейсе проверяется удаление карточки автомобиля с аккаунта. Удалить автомобиль можно из карточки авто. Кнопка удаления появляется в режиме редактирования (карандаш около крестика в навбаре карточки авто)
        После удаления карточки авто список машин в меню нави уменьшается на 1
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Добавлены 2 машины
        - Открыта карточка авто
        - Включен режим редактирования
    - do: Тап на кнопку "Удалить информацию" внизу карточки авто
    - assert: |
        - Появляется поп-ап:
            - Текст: “Удалить информацию о машине?”
            - Кнопки  “Нет” и “Удалить”
    - do: Тап на "Удалить"
    - assert: |
        - Закрывается поп-ап
        - В шапке показана информационная плашка с названием "Информация удаляется" и спиннером загрузки
        - После удаления показана информационная плашка с зеленой галочкой и названием: "информация удалена"
    - do: Дождаться автоматического закрытия карточки авто (~3-5 сек)
    - assert: |
        - Карточка авто закрлась
        - Показан главный экран навигатора
    - do: Открыть меню навигатора (3 горизонтальные линии в тапбаре)
    - assert: |
        - Открыто меню навигатора
        - Удалилась кнопка автомобиля из шага 1
        - Индикатор страниц состоит из 2 точек

    - platforms:
      - android
    - tags:
        - assessors


  Точка во вьюшке машины из Я.Денег:
    - description: |
        Машина из денег - это машина пришедшая из сторонних SDK (Парковки, заправки, штрафы).
        В данном кейсе проверяем наличие, вид точки в каждой вьюшке машины из Я.Денег. Кроме машины из Я.Денег точка не должна показываться ни в какой другой вьюшке. Как только автомобиль подтверждается как авто пользователя (после проверки на Отзывные кампании), машина перестаёт быть машиной из Я.Денег и теряет точку.
        Машину можно добавить через (Developer settings -> Ya.Auto -> Insert Ya.Money car)
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Добавлена машина из денег. Сделать это можно, воспользовавшись портальным аккаунтом или в дебажной сборке (Developer settings -> Ya.Auto -> Insert Ya.Money car)
        - Пользователь находится на главном экране навигатора (Карта)
        - У пользователя добавлена машина в Отзывные кампании
    - do: Тап в "Меню навигатора"
    - assert: |
        - Под именем пользователя появилась вьюшка машины из денег
        - Вьюшка содержит:
            - Название машины "Fake car"
            - Госномер машины формата "А 000 АА 000"
            - Справа от Госномера расположен крестик, для удаления вьюшки машины из денег
            - Плашка с текстом "Проверить на отзывные кампании"
            - Текст под вьюшкой денег "Вы ранее добавили эти данные для оплаты штрафов или парковки", который показывается только под вьюшками, пришедшими из денег
            - Слева от "Fake car" показана синяя точка (и в дневном, и в ночном режимах)
            - Точка возле машины из Я.Денег не обрезается даже при крупном шрифте на устройстве
        - Под вьюшками показаны точки, информирующие о кол-ве добавленных авто (пагинация)
    - do: Проскролить влево
    - assert: |
        - Вьюшки скролятся
        - Плашка "Проверить на отзывные кампании" скрывается
        - Текст под вьюшкой денег “Вы ранее добавили эти данные для оплаты штрафов или парковки” не показывается
        - Точка под вьюшками сменилась на следующую
        - В плашке автомобиля пользователя точка слева от названия НЕ показана
    - do: Сменить ориентацию устройства
    - assert: |
        - Точка во вьюшке машины из Я.Денег НЕ пропала
        - Точка не обрезалась

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Непоказ ОК для пользователя, находящегося за пределами РФ:
    - description: |
        - Плашка отзывных кампаний в меню Нави показывается только на территории РФ
        - Нахождение Пользователя территории РФ определяется исходя из: местоположения, региональной приналежности оператора, локали на устройстве
        - Плашка ОК для всех других стран показываться не должна
        - Отзывные кампании НЕ должны показываться в трёх случаях:
            - Пользователь находится вне пределов РФ
            - Местоположение пользователя отключено или не определено
            - Если у пользователя НЕ российская симкарта (либо локаль - сочетание языка и региона - НЕ российские)
    - info: |
        - Пользователь находится за пределами РФ (например, Турция, Украина, ФРГ, Израиль)
        - Приложению выдан пермишн на определение местоположения
        - Пользователь не авторизован
        - Язык и регион на устройстве ru-ru
        - SIM-карта отсутствует
    - do: Запустить приложение
    - do: Тап на контрол "гео" в правом нижнем углу главного экрана (над таббаром)
    - assert: |
        - Экран показывает местонахождение пользователя по центру
        - Местоположение определено и находится вне территории РФ
    - do: Тап в Меню
    - assert: |
        - Открывается Меню Навигатора
        - Под блоком залогина сразу начинается блок настроек
        - Плашки “Добавить машину” нет
    - do: Авторизоваться
    - assert: |
        - Пользователь авторизован 
        - В Меню Нави по-прежнему не появилась плашка для добавления авто в ОК
    - do: Выгрузить приложение из памяти
    - do: Подменить местоположение на РФ
    - do: Перезапустить приложение
    - do: Повторить шаг 3
    - assert: Под блоком залогина показалась плашка “Добавить машину” (или автомобиль, если у данного пользователя автомобиль ранее был добавлен)
    - do: Повторить шаги 5-8 с местонахождением в любой стране кроме РФ
    - assert: |
        - Под блоком залогина сразу начинается блок настроек
        - Плашки “Добавить машину” нет
    - do: Также повторить шаги 5-8 с РФ и не РФ при использовании режимов различной точности определения геопозиции (применимо к Android-устройствам)
    - assert: |
        - При определении местоположения в РФ плашка с ОК показана
        - При определении местоположения НЕ в РФ плашка с ОК НЕ показана

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Непоказ ОК для пользователя с неопределившейся геопозицией/запрещённым определением геопозиции:
    - description: |
        - Плашка отзывных кампаний в меню Нави показывается только на территории РФ
        - Нахождение Пользователя территории РФ определяется исходя из: местоположения, региональной приналежности оператора, локали на устройстве
        - Плашка ОК для всех других стран показываться не должна
        - Отзывные кампании НЕ должны показываться в трёх случаях:
            - Пользователь находится вне пределов РФ
            - Местоположение пользователя отключено или не определено
            - Если у пользователя НЕ российская симкарта (либо локаль - сочетание языка и региона - НЕ российские)
    - info: |
        - Пользователь НЕ выдавал пермишн приложению на определение местоположения
        - В настройках устройства определение местоположения отключено (по всем источникам)
        - SIM- карта не установлена
        - Bluetooth на устройстве отключен
        - Язык и регион на устройстве ru-ru соответственно
    - do: Запустить приложение
    - do: При показе онбординга отказать приложению в определении местоположения
    - do: Тап на контрол "гео" в правом нижнем углу главного экрана (над таббаром)
    - assert: |
        - Местоположение не определяется
        - Может показаться системный диалог пермишна
    - do: Отказать
    - assert: Геопозиция не определена
    - do: Тап в Меню
    - assert: |
        - Открывается Меню Навигатора
        - Под блоком залогина сразу начинается блок настроек
        - Плашки “Добавить машину” нет
    - do: Выгрузить приложение из памяти
    - do: |
        _Далее рекомендуется проходить шаги в изолирующем девайс окружении с целью блокирования сигнала GPS и невозможности определения местоположения при помощи сотовых вышек (например, использовать специальный блокирующий конверт)_
        - **На Android-устройствах** - включить определение геопозиции только по GPS
        -  **На iOS-устройствах** - включить определение геопозиции на устройстве, в настройках приложений для Навигатора выбрать "Никогда" в "Разрешать доступ к геопозиции"
    - do: Перезапустить приложение
    - do: _Повторить шаг 3 
    - assert: |
        - Под блоком залогина сразу показан блока настроек
        - Кнопка добавления машины или плашка с уже добавленной машиной отсутствуют
    - do: |
        - _Повторить шаги 6, 7 с определением местоположения по сотовым вышкам на Android-устройстве_
        - _Повторить шаги 8, 9 на Android-устройстве_
    - assert: |
        - Под блоком залогина сразу начинается блок настроек
        - Плашки “Добавить машину”/добавленной машины нет
    - do: |
        - _Повторить шаги 6, 7 с определением местоположения по всем источникам **на Android-устройстве** и с "При использовании приложения" в "Разрешать доступ к геопозиции" **на iOS-устройстве**_ 
        - _Повторить шаги 8, 9_
    - assert: |
        - Под блоком залогина сразу начинается блок настроек
        - Плашки “Добавить машину”/добавленной машины нет

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Непоказ ОК для пользователя c иностранной локалью:
    - description: |
        - Плашка отзывных кампаний в меню Нави показывается только на территории РФ
        - Нахождение Пользователя территории РФ определяется исходя из: местоположения, региональной приналежности оператора, локали на устройстве
        - Плашка ОК для всех других стран показываться не должна
        - Показывается при соблюдении всех условий:
        – если у пользователя включена геолокация
        – пользователь на территории России
        – страна определилась как Россия (смотрит на локаль телефона или язык приложения Навигатора)
        [collapsed-image](https://jing.yandex-team.ru/files/oshestopalova/photo_2020-06-19_11-01-44.jpg){title= Плашка Отзывных кампаний}
        - Отзывные кампании НЕ должны показываться в трёх случаях:
            - Пользователь находится вне пределов РФ
            - Местоположение пользователя отключено или не определено
            - Если у пользователя НЕ российская локаль (сочетание языка и региона - НЕ российские)
    - info: |
        - Язык и регион на устройстве ru-ru
        - Приложение запускается впервые
        - Местоположение пользователя в РФ (Москва, Санкт-Петербург, Екатеринбург, Владивосток)
    - do: Запустить приложение
    - do: |
        При показе онбординга на определение геопозиции (обучающий экран на старте)
        [collapsed-image](https://jing.yandex-team.ru/files/oshestopalova/photo_2020-06-19_11-08-28.jpg){title= Онбординг на местоположение}
        отклонить пермишн на определение местоположения
        [collapsed-image](https://jing.yandex-team.ru/files/oshestopalova/photo_2020-06-19_11-08-32.jpg){title= Пермишн на местоположение}
    - do: Тап Меню
    - assert: |
        - Открывается Меню Навигатора
        - Под блоком залогина сразу начинается блок настроек
        - Плашки “Добавить машину” нет
    - do: |
        - Свернуть Меню и свернуть приложение
        - В настройках устройства дать разрешение Навигатору на определение геопозиции
    - do: Развернуть приложение из фона
    - assert: Показан главный экран с картой
    - do: Тап по контролу гео в правом нижнем углу
    - assert: Местоположение пользователя определилось (в РФ)
    - do: Тап Меню
    - assert: |
        - Под блоком залогина сразу показан блок настроек
        - Кнопка добавления машины или плашка с уже добавленной машиной Присутствуют
    - do: Сменить местоположение, например, на Турцию, и перезагрузить приложение
    - do: Тап Меню
    - assert: Кнопка добавления машины или плашка с уже добавленной машиной отсутствуют
    - do: |
        - Закрыть приложение 
        - Установить другую локаль на устройстве (например, tr-tr, en-us)
        - Сменить местоположение на Любой город в России
        - Перезапустить приложение
    - do: Тап Меню
    - assert: |
        - Под блоком залогина сразу показан блок настроек
        - Кнопка добавления машины или плашка с уже добавленной машиной отсутствуют

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Непоказ ОК для пользователя c российской SIM при нахождении вне РФ:
    - description: |
        - Плашка отзывных кампаний в меню Нави показывается только на территории РФ
        - Нахождение Пользователя территории РФ определяется исходя из: местоположения, региональной приналежности оператора, локали на устройстве
        - Плашка ОК для всех других стран показываться не должна
        - Показывается при соблюдении всех условий:
        – если у пользователя включена геолокация, пользователь на территории России, страна определилась как Россия (то есть либо российская SIM, либо, если SIM нет, то, кажется будет смотреть на локаль телефона или язык приложения Навигатора)
        - Отзывные кампании НЕ должны показываться в трёх случаях:
            - Пользователь находится вне пределов РФ
            - Местоположение пользователя отключено или не определено
            - Если у пользователя НЕ российская симкарта (либо локаль - сочетание языка и региона - НЕ российские)
    - info: |
        - Язык и регион на устройстве ru-ru соответственно
        - Местоположение пользователя в Стамбуле/Анкаре/НЕ РФ
    - do: Тап Меню
    - assert: |
        - Открывается Меню Навигатора
        - Под блоком залогина сразу начинается блок настроек
        - Плашки “Добавить машину” нет
    - do: Установить SIM - карту российского оператора
    - do: Перезапустить приложение
    - assert: Показан главный экран с картой
    - do: Тап Меню
    - assert: |
        - Под блоком залогина сразу показан блок настроек
        - Кнопка добавления машины или плашка с уже добавленной машиной отсутствуют

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Непоказ ОК для пользователя с иностранным регионом в локали если нет российской SIM:
    - description: |
        - Плашка отзывных кампаний в меню Нави показывается только на территории РФ
        - Нахождение Пользователя территории РФ определяется исходя из: местоположения, региональной приналежности оператора, локали на устройстве
        - Плашка ОК для всех других стран показываться не должна
        - Показывается при соблюдении всех условий:
        – если у пользователя включена геолокация, пользователь на территории России, страна определилась как Россия (то есть либо российская SIM, либо, если SIM нет, то, кажется будет смотреть на локаль телефона или язык приложения Навигатора)
        - Отзывные кампании НЕ должны показываться в трёх случаях:
            - Пользователь находится вне пределов РФ
            - Местоположение пользователя отключено или не определено
            - Если у пользователя НЕ российская симкарта (либо локаль - сочетание языка и региона - НЕ российские)
    - info: |
        - Язык и регион на устройстве ru-ru соответственно
        - Местоположение пользователя в РФ (Москва, Санкт-Петербург, Екатеринбург, Владивосток)
        - SIM не установлена
    - do: Тап Меню
    - assert: |
        - Открывается Меню Навигатора
        - Под блоком залогина находится “Добавить машину”/автомобиль пользователя
    - do: Выгрузить приложение из памяти
    - do: |
        Установить на устройстве локаль в формате:
        - русский язык - иностранный регион
    - do: Запустить приложение
    - do: Тап "Меню"
    - assert: |
        - Под блоком залогина сразу следуют Настройки 
        - “Добавить машину”/автомобиль отсутствуют
    - do: Тап Меню
    - assert: |
        - Под блоком залогина сразу следуют настройки
        - Плашка добавления автомобиля/блок автомобиля отсутствуют
    - do: Вставить российскую SIM в слот устройства
    - do: Перезапустить приложение с повтором шага 5
    - assert: Под блоком залогина показана плашка добавления автомобиля/автомобиль пользователя
    - do: |
        Вынуть SIM и повторить шаги 2-5 с установкой локали в формате:
        - иностранный язык - регион Россия
    - assert: В Меню под блоком залогина показана плашка добавления автомобиля/автомобиль пользователя

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Добавление ГРЗ в карточке авто:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        **ГРЗ** - государственный регистрационный знак
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в Навигаторе
        - К аккаунту добавлена машина через Отзывные кампании без ГРЗ (найдена при помощи VIN-номера)
        - Открыто Меню Навигатора
    - do: Тап на Плашку автомобиля, добавленного по VIN (ГРЗ на плашке отсутствует)
    - assert: |
        - Открывается карточка авто
        - Под маркой и моделью машины кнопка "Добавить госномер"
    - do: Тап на кнопку "Добавить госномер"
    - assert: |
        - Поверх карточки авто открывается экран добавления госномера:
            - экран прижат к клавиатуре (iOS)
            - экран не прижато к клавиатуре (Android)
            - заголовок "Госномер"
            - крестик для закрытия
            - поле ввода госномера с маской _X 000 XX 00_
            - неактивная кнопка "Сохранить"
    - do: Ввести валидное значение ГРЗ
    - assert: |
        - Значение отображается в поле ввода
        - Кнопка "Сохранить" активная
    - do: Тап на "Сохранить"
    - assert: |
        - Закрывается экранп редактирования
        - Кнопка "Добавить госномер" заменилась на введённый ранее ГРЗ
    - do: Тап на стрелочку "Назад"
    - assert: |
        - Закрывается карточка авто
        - Открыто меню навигатора
        - Справа на плашке автомобиля присутствует введённый ранее ГРЗ

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  (iOS) Экран ввода ГРЗ:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        **ГРЗ** - государственный регистрационный знак
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - К аккаунту добавлена машина без ГРЗ (найдена при помощи VIN)
        - Открыта карточка этого автомобиля
    - do: Тап на кнопку "Добавить госномер"
    - assert: |
        - Поверх карточки авто открывается экран добавления госномера:
            - экран прижато к клавиатуре
            - заголовок "Госномер"
            - крестик для закрытия
            - в поле ввода маска _X 000 XX 00_
            - неактивная кнопка "Сохранить"
    - do: Ввести 1 букву
    - assert: |
        - Маска исчезает
        - Кнопка "Сохранить" задизейблена
    - do: |
        Ввести значения в поле ввода:
        - К999АЛ99
        - Б123РР01
        - А001АА9999
        - АА666А40
        - А9999АА86
        - А999ААА99
    - assert: |
        - Символы не разделяются на блоки
        - Во всех случаях кнопка "Сохранить" задизейблена
    - do: Стереть и ввести в поле ввода А0123АА11111
    - assert: |
        - ограничение в 9 символов отсутствует
        - Кнопка "Сохранить" неактивна

    - platforms:
      - ios
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Haptic при пролистывании карточек ОК:
    - description: |
        Haptic - Тактильный эффект (вибрация) при совершении определенных действий
        ОК - Отзывные кампании
        Карточка авто ОК - это горизонтальный список машин добавленных в отзывные кампании и располагаются под блоком логина пользователя
    - info: |
        **КЕЙС ПРОХОДИТЬ ТОЛЬКО НА IOS И ТОЛЬКО НА iPhone 7 И НОВЕЕ**
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован
        - У пользователя есть несколько привязанных машин (более 2)
        - Пользователь находится в меню навигатора
    - do: Проскролить карточки авто ОК
    - assert: При пролистывании на другую машину ощущается тактильный эффект (вибрация)

    - platforms:
      - ios
    - tags:
        - assessors
        - not_suitable_for_farm
    - testing:
      - acceptance_navi


  Haptic при успешном удалении машины из ОК:
    - description: |
        Haptic - Тактильный эффект (вибрация) при совершении определенных действий
        ОК - Отзывные кампании
        Карточка авто ОК - это горизонтальный список машин добавленных в отзывные кампании и располагаются под блоком логина пользователя
        Снекбар - это выдвижная область, под шапкой карточки авто с информацией о совершенных действиях, успехе, неуспехе тех или иных действий 
    - info: |
        **КЕЙС ПРОХОДИТЬ ТОЛЬКО НА IOS И ТОЛЬКО НА iPhone 7 И НОВЕЕ**
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован
        - У пользователя есть привязанная машина
        - Пользователь находится в карточке авто ОК. Для этого в меню навигатора тап на карточку авто ОК
    - do: Тап значок "Карандаша"
    - assert: Начался процесс редактирования карточки авто ОК
    - do: Пролистать в самый низ и тап "Удалить информацию"
    - assert: Открылось поп-ап удаления информации
    - do: В диалоговом окне тап "Удалить"
    - assert: |
        - Показан снекбар о том что информация удаляется
        - После непродолжительного времени показывается зеленый снекбар с информацией об успешном удалении карточки авто
        - Во время показа снекбара ощущается тактильный эффект (вибрация)

    - platforms:
      - ios
    - tags:
        - assessors
        - not_suitable_for_farm
    - testing:
      - acceptance_navi


  Haptic при НЕ успешном удалении машины из ОК:
    - description: |
        Haptic - Тактильный эффект (вибрация) при совершении определенных действий
        ОК - Отзывные кампании
        Карточка авто ОК - это горизонтальный список машин добавленных в отзывные кампании и располагаются под блоком логина пользователя
        Снекбар - это выдвижная область, под шапкой карточки авто с информацией о совершенных действиях, успехе, неуспехе тех или иных действий 
    - info: |
        **КЕЙС ПРОХОДИТЬ ТОЛЬКО НА IOS И ТОЛЬКО НА iPhone 7 И НОВЕЕ**
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован
        - У пользователя есть привязанная машина
        - Пользователь находится в карточке авто ОК. Для этого в меню навигатора тап на карточку авто ОК
        - У пользователя выключен интернет или включен авиарежим
    - do: Тап значок "Карандаша"
    - assert: Начался процесс редактирования карточки авто ОК
    - do: Пролистать в самый низ и тап "Удалить информацию"
    - assert: Открылось поп-ап удаления информации
    - do: В диалоговом окне тап "Удалить"
    - assert: |
        - Показан снекбар о том что информация удаляется
        - После непродолжительного времени показывается красный снекбар с информацией об **НЕ** успешном удалении карточки авто
        - Во время показа снекбара ощущается тактильный эффект (вибрация)

    - platforms:
      - ios
    - tags:
        - assessors
        - not_suitable_for_farm
    - testing:
      - acceptance_navi


  Тап стрелки назад на экранах Сравни.ру возвращает на шаг назад:
    - description: При переходе по ссылкам типа «правила предоставления инфо» или «правила проведения акции» при тапе «назад» происходит возврат на шаг оформления
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Включить эксперимент по ОСАГО на дебажной сборке: в приложении зайти в Меню Нави - Настройки - dev_settings - Ya.Auto - включить Sravni.ru OSAGO в положение On
        - Включить попадание в выборку: также в Меню Нави - Настройки - dev_settings - Ad - включить Use fake UUID for AdSegments 
        - После включения настроек в dev_settings перезапустить приложение, после захода в приложение подождать 2-3 минуты перед тем, как открывать Меню
        - Пользователь авторизован в Навигаторе
        - У пользователя добавлена минимум одна машина по VIN
        - Чтобы добавить машину, нужно в приложении зайти в Меню - тап кнопку "Добавить машину" под аватаром пользователя - ввести в поле ввода гос. номер авто или его VIN - тап "Найти" - подтвердить, что найденный автомобиль принадлежит пользователю
        - У добавленной машины срок окончания полиса ОСАГО не указан, либо истекает ранее чем через 60 дней от текущей даты
        - Показано Меню Навигатора
        [collapsed-image](https://jing.yandex-team.ru/files/oshestopalova/ОСАГО2.jpg){title= Скриншот}
    - do: Тап "Выбрать ОСАГО" под автомобилем
    - assert: |
        - Показан вебвью: первый экран Сравни.ру - "ОСАГО онлайн"
        [collapsed-image](https://jing.yandex-team.ru/files/oshestopalova/Калькулятор3.jpg){title= Скриншот}
    - do: Тап кнопку "Забыли или ещё не получили номер"
    - assert: |
        - Происходит переход на экран Калькулятора ОСАГО
        [collapsed-image](https://jing.yandex-team.ru/files/oshestopalova/ОСАГО1.jpg){title= Скриншот}
    - do: Заполнить данными автомобиля с нажатием кнопки "Продолжить"
    - assert: Открывается страница "Период и регион"
    - do: Выбрать населённый пункт с нажатием кнопки "Продолжить"
    - assert: Открывается экран "Водители"
    - do: Скролл вниз до галочки соглашения "Согласен с правилами предоставления информации", тап Правила
    - assert: Открывается веб вью Согласия на обработку персональных данных
    - do: Скролл вниз до пункта "Получение согласия Партнерами", там на ссылку в тексте
    - assert: Открывается перечень Партнеров
    - do: Тап стрелку назад
    - assert: Происходит возврат на предыдущий шаг - Согласие на обработку персональных данных
    - do: Тап стрелку назад
    - assert:  Возврат в ОСАГО онлайн (стартовый экран Сравни.ру)
    - do: Заполнить данными все экраны Сравни.ру, дойти до рассчитанных полисов у Страховых кампаний
    - assert: Вверху экрана показана плашка "Подарок при покупке ОСАГО"
    - do: Тап "Подробнее"
    - assert: Переход на экран информации о подарках в веб вью ОСАГО
    - do: Тап стрелку назад
    - assert: Происходит возврат на начальный шаг оформления ОСАГО

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Отсутствие краша при открытии карточки авто по интенту:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется факти стабильной безаварийной работы приложения при открытии карточки авто
        по интенту `yandexnavi://show_ui/menu/car_info` (чтобы пройти по интенту, необходимо скопировать его в Я.Браузер, затем при вставке в поиск пройти по выделенной синим ссылке и подтвердить открытие приложения Я.Навигатор)
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в Навигаторе
        - Нет добавленной машины
        - Открыто Меню
        - Навигатор свернут
    - do: Вызвать интент `"yandexnavi://show_ui/menu/car_info"`, вписав в строку браузера или иным способом
    - assert: |
        - Навигатор развернулся
        - Открылось экран поиска авто
        - Крешей нет
    - do: Добавить автомобиль к аккаунту (в экране поиска ввести любые валидные номера, например А666АА66 -> тап "Добавить" -> Тап "Верно, это моя машина")
    - assert: Показана карточка добавленного авто
    - do: Закрыть карточку авто
    - assert: Показан главный экран навигатора (карта)
    - do: Вызвать интент `"yandexnavi://show_ui/menu/car_info"`, вписав в строку браузера или иным способом
    - assert: |
        - Навигатор развернулся
        - Открылась карточка добавленного автомобиля
        - Крешей нет
    - do: Выгрузить Навигатор из памяти
    - do: Вызвать интент `"yandexnavi://show_ui/menu/car_info"`, вписав в строку браузера или иным способом
    - assert: |
        - Навигатор запустился
        - Открылась карточка добавленного автомобиля 
        - Крешей нет

    - platforms:
      - ios
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  (Android) Экран ввода ГРЗ:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        **ГРЗ** - государственный регистрационный знак
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - К аккаунту добавлена машина без ГРЗ (найдена при помощи VIN-номера)
        - Открыта карточка этого автомобиля
    - do: Тап на кнопку "Добавить госномер"
    - assert: |
        - Поверх карточки авто открывается экран добавления госномера:
            - экран НЕ прижат к клавиатуре
            - заголовок "Госномер"
            - крестик для закрытия
            - в поле ввода маска _X 000 XX 00_
            - неактивная кнопка "Сохранить"
    - do: Ввести 1 букву
    - assert: |
        - Маска остаётся
        - Первый символ в маске заменяется введённой буквой
        - Кнопка "Сохранить" задизейблена
    - do: |
        Ввести значения в поле ввода:
        - К999АЛ99
        - Б123РР01
        - АА666А40
        - А9999АА86
        - А999ААА99
    - assert: |
        - Символы разделяются на блоки, как в маске
        - Во всех случаях кнопка "Сохранить" задизейблена
    - do: Стереть и ввести в поле ввода А123АА11111
    - assert: |
        - ограничение в 9 символов присутствует (остальные символы не появляются в поле ввода)
        - Кнопка "Сохранить" активна

    - platforms:
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Отсутствие креша при тапе в "Повторить поиск":
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован
        - У пользователя добавлены машины из СТС. Чтобы добавить такие авто, проходим в Developer settings -> Ya.Auto -> Insert STS data car
        - Интернет выключен/включен авиарежим
        - Пользователь находится в Меню Навигатора
    - do: Тап "Проверить на отзывные кампании"
    - assert: |
        - Открылся экран поиска авто по СТС
        - Из-за отсутствия интернета показана ошибка поиска
        - На экране присутствует кнопка "Повторить поиск"
    - do: Тап "Повторить поиск"
    - assert: |
        - Поиск повторяется
        - Креш отсутствует
        - Показана ошибка из-за отсутствия интернета 
    - do: Включить интернет / выключить авиарежим
    - do: Тап “Повторить поиск”
    - assert: |
        - Поиск повторяется
        - После некоторого времени показано найденное авто или ошибка об отсутствии авто в базе

    - platforms:
      - ios
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Удаление машины из Денег в экране поиска:
    - description: |
        В данном кейсе проверяем логику удаления авто, добавленного через Деньги
        При генерации машины из денег - Госномер генерируется случайно, из-за этого может не найтись авто в базе данных
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован 
        - У пользователя добавлено несколько машин из Денег. Для этого, авторизовавшись портальным аккаунтом или на дебажной сборке, перейти в Настройки -> Developer settings -> Ya.Auto -> Insert Ya.money car
        При генерации машин номера СТС могут совпадать, в таких случаях нужно удалить одну из машин и добавить машину по новой**
        - Пользователь находится в Меню Навигатора
    - do: Тап на машине из денег по "Проверить на отзывные кампании"
    - assert: |
        - Начался процесс поиска авто в базе
        - После того как нашлась машина, показано экран с найденным результатом (Машина может не найтись в базе, если это произошло, то надо сгенерировать новую машину из денег, см. в info путь)
        - В окне с результатами поиска присутствует кнопка "Удалить машину"
    - do: Тап "Удалить машину"
    - assert: Показано поп-ап удаления с кнопками "Нет", "Удалить"
    - do: Тап "Нет"
    - assert: |
        - Поп-ап закрылся
        - Осталось открытым экран результата поиска машины
    - do: Тап "Удалить машину"
    - assert: Показан поп-ап удаления с кнопками “Нет”, “Удалить”
    - do: Тап "Да"
    - assert: |
        - Поп-ап с удалением и экран результатов поиска авто закрылись
        - Открылось меню навигатора
        -  У пользователя в карусели авто (лента с машинами под логином) присутствует только 1 машина из денег
        - В карусели машин пользователя (лента с машинами под логином) отсутствует машина из денег, удаленная через поиск по отзывным кампаниям 

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Отсутствие кнопки "Удалить авто" для машин найденных вручную по ВИН/ГРЗ:
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован
        - У пользователя есть добавленные машины из СТС иди денег. (Для этого авторизовавшись портальным аккаунтом или на дебажных сборках перейти: Developer settings -> Ya.Auto -> Insert Ya.money car или Insert STS data car)
        - Пользователь находится в меню навигатора
    - do: Тап " Добавить авто"
    - assert: Открылся экран ввода ВИН/ГРЗ
    - do: Выполнить поиск авто по валидному ВИН/ГРЗ (Например Т 777 ТТ 77)
    - assert: |
        - Показан экран с результатом поиска
        - На экране отсутствует кнопка "Удалить машину"
    - do: |
        Выйти в меню навигатора:
        -- Тапнув несколько раз "Назад" 
            или
        -- Закрыть экран тапом на крестик и открыть меню навигатора
    - do: Тап на машине из денег или СТС на "Проверить на отзывные кампании"
    - assert: |
        - Открылся экран поиска авто
        - После поиска показан экран с результатом поиска
        - На экране с результатми поиска присутствует кнопка "Удалить авто"
    - do: Выйти в меню навигатора тапнув несколько раз “Назад”
    - assert: Открыто меню навигатора
    - do: Тап “ Добавить авто”
    - assert: Открылся экран ввода ВИН/ГРЗ
    - do: Выполнить поиск авто по валидному ВИН/ГРЗ (Например Т 777 ТТ 77)
    - assert: |
        - Показан экран с результатом поиска
        - На экране отсутствует кнопка “Удалить машину”

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Включение/выключение режима редактирования карточки авто (с редактированием марки):
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется включение/отключение режима редактирования в карточке авто. В карточке авто можно поменять значения даты окончания ОСАГО, СТС и цвет. С включенным экспериментом Edit model in carinfo можно редактировать модель, марку и год выпуска авто.
        При переходе в режим редактирования появляются:
        - Кнопка "Удалить информацию", позволяющая удалить машину с аккаунта.
        - Стрелочки на плашках ОСАГО, СТС и цвета
        - Стрелочка справа от названия машины
        Для отключения режима редактирования необходимо тап кнопку "Сохранить" в навбаре карточки авто
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в Навигаторе
        - У пользователя добавлена одна машина (чтобы добавить машину, нужно в приложении зайти в Меню - тап кнопку "Добавить машину" под аватаром пользователя - ввести в поле ввода гос. номер авто или его VIN - тап "Найти" - подтвердить, что найденный автомобиль принадлежит пользователю)
        - Открыта карточка авто
    - do: Тап на **иконку карандаша** в правом верхнем углу рядом с крестиком
    - assert: |
        - В навбаре появляется синяя кнопка "Сохранить" вместо карандаша и крестика
        - Появляется стрелочка справа от названия авто
        - Появляются стрелочки в правой части плашек "ОСАГО", "Цвет" и "СТС" (плашка есть, если машина добавлена из денег)
        - Под блоком "Информация о машине" появляется кнопка "Удалить информацию"
    - do: Тап на "Сохранить" в заголовке окна
    - assert: |
        - Кнопка "Сохранить" меняется на иконки карандаша и крестика
        - Исчезает стрелочка справа от названия авто
        - Исчезают стрелочки в правой части плашек "ОСАГО", "Цвет" и  "СТС" (плашка есть, если машина добавлена из денег)
        - Исчезает кнопка "Удалить информацию"

    - testing:
      - acceptance_navi
    - platforms:
      - android
      - ios
    - tags:
        - assessors


  Экран выбора марки авто:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь залогинен
        - Пользователь добавил любой автомобиль в Отзывные Кампании
        - Открыта карточка авто
        - Включен режим редактирования в карточке авто (карандаш в правом верхнем углу)
    - do: Тап на название авто
    - assert: |
        - Справа выезжает экран "Марка":
            - в шапке заголовок экрана и крестик для закрытия
            - поле ввода с плейсхолдером "Поиск марки"
            - список авто поделённый на 2 категории: "Популярные" и "Все"
            - около каждой марки стрелочка вправо
            - внизу экрана серая кнопка "Отмена"
    - do: Проскролить список марок авто
    - assert: |
        - Поле ввода с плейсхолдером “Поиск марки” не скролится, остаётся на экране
        - Марки авто скролятся
        - После категории "Популярные" идёт категория "Все" со всем марками авто (популярные марки авто присутствуют в обоих категориях) 
        - Серая кнопка "Отмена" не скролится, остаётся на экране
    - do: Тап в поле ввода
    - assert: |
        - Появляется клавиатура
        - Кнопка "Отмена" наз клавиатурой
        - Позиция прокрутки списка марок сохранилась
    - do: Ввести любою букву
    - assert: |
        - Клавиатура понята
        - Отображаются все марки авто начинающиеся с этой буквы
    - do: Ввести название любой марки из категории "Популярные"
    - assert: |
        - Клавиатура поднята
        - Марка авто отображается в 2-ух категориях: "Популярные" и "Все"
    - do: Начать скролить список
    - assert: |
        **iOS**
        - Клавиатура закрывается
        - Кнопка "Отмена" опускается вниз экрана
        - Показаны только марки авто, которые начинаются со значения из поля ввода
        **Android**
        - Клавиатура остаётся открыта
        - Кнопка "Отмена" над клавиатурой
        - Показаны только марки авто, которые начинаются со значения из поля ввода

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Экран выбора модели авто:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь залогинен
        - Пользователь добавил любой автомобиль в Отзывные Кампании
        - Включен режим редактирования в карточке авто (карандаш в правом верхнем углу)
        - Открыт экран выбора марки авто (тап на название авто с включенным режимом редактирования)
    - do: Тап на любую марку авто
    - assert: |
        - Справа выезжает экран "Модель":
            - в шапке стрелочка назад, заголовок экрана и крестик для закрытия 
            - поле ввода с плейсхолдером "Поиск модели"
            - около каждой марки стрелочка вправо
            - внизу экрана серая кнопка "Отмена"
        - Список моделей соответствует моделям той марки, которую выбрали
    - do: Проскролить список марок авто
    - assert: |
        - Поле ввода с плейсхолдером “Поиск модели” не скролится, остаётся на экране
        - Модели авто скролятся
        - Серая кнопка "Отмена" не скролится, остаётся на экране
    - do: Тап в поле ввода
    - assert: |
        - Появляется клавиатура
        - Кнопка "Отмена" наз клавиатурой
        - Позиция прокрутки списка моделей сохранилась
    - do: Ввести любою букву/цифру
    - assert: |
        - Клавиатура понята
        - Отображаются все модели авто начинающиеся с этой буквы/цифры
    - do: Ввести название модели, которой нет в списке
    - assert: |
        - Клавиатура поднята
        - Список моделей под полем ввода пустой
    - do: Начать скролить список
    - assert: |
        - Клавиатура закрывается
        - Кнопка "Отмена" опускается вниз экрана
        - Показаны только марки авто, которые начинаются со значения из поля ввода

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Экран выбора года выпуска авто:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь залогинен
        - Пользователь добавил любой автомобиль в Отзывные Кампании
        - Включен режим редактирования в карточке авто (карандаш в правом верхнем углу)
        - Открыт экран выбора модели авто (тап на название авто с включенным режимом редактирования - тап на марку из списка)
    - do: Тап на любую модель авто из списка
    - assert: |
        - Справа выезжает экран "Год":
            - в шапке стрелочка назад, заголовок и крестик для закрытия
            - около каждого года стрелочка вправо
            - внизу экрана серая кнопка "Отмена"
        - Список годов соответствует годам выпуска модели, выбранной до этого
    - do: Проскролить список годов выпуска
    - assert: |
        - Года выпуска скролятся
        - Серая кнопка "Отмена" не скролится, остаётся на экране

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Финальный экран смены марки, модели и года авто:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь залогинен
        - Пользователь добавил любой автомобиль в Отзывные Кампании
        - Открыта карточка авто
        - Включен режим редактирования в карточке авто (карандаш в правом верхнем углу)
    - do: Тап на название авто
    - assert: |
        - Открывается экран "Марка"
        - Внизу экрана серая кнопка "Отмена"
    - do: Тап на любую марку авто
    - assert: |
        - Открывается экран "Модель"
        - Внизу экрана серая кнопка "Отмена"
    - do: Тап на любую модель
    - assert: |
        - Открывается экран “Год”
        - Внизу экрана серая кнопка “Отмена”
    - do: Тап на любой год
    - assert: |
        - Открывается экран “Ваша машина”:
            - в шапке стрелочка назад, заголовок экрана и крестик для закрытия
            - плашка "Марка" с выбранной ранее маркой авто
            - плашка "Модель" с выбранной ранее моделью авто
            - плашка "Год" с выбранным ранее годом выпуска авто
            - справа в каждой плашке стрелочка вправо
        - Серая кнопка "Отмена" поменялась на синюю кнопку "Сохранить"

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Выбор другой марки авто на финальном экране смены марки, модели и года авто:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь залогинен
        - Пользователь добавил автомобиль в Отзывные Кампании
        - Включен режим редактирования в карточке авто (карандаш правом верхнем углу)
        - Открыт финальный экран смены марки, модели и года выпуска (тап на название авто - тап на марку - тап на модель - тап на год) 
    - do: Запомнить значения в плашках "Марка", "Модель" и "Год"
    - do: Тап на поле "Марка"
    - assert: |
        - Открывается экран “Марка”:
            - в шапке заголовок экрана и крестик для закрытия
            - поле ввода с плейсхолдером “Поиск марки”
            - список авто поделённый на 2 категории: “Популярные” и “Все”
            - около каждой марки стрелочка вправо
        - Синяя кнопка "Сохранить" поменялась на  серую кнопку "Отмена"
    - do: Тап на любую марку
    - assert: |
        - Открывается экран “Модель”
        - Внизу экрана серая кнопка “Отмена”
    - do: Тап на любую модель
    - assert: |
        - Открывается экран “Год”
        - Внизу экрана серая кнопка “Отмена”
    - do: Тап на любой год
    - assert: |
        - Открывается экран “Ваша машина”:
             - в шапке стрелочка назад, заголовок экрана и крестик для закрытия
             - плашка “Марка” с новой выбранной маркой
             - плашка “Модель” с новой выбранной моделью
             - плашка “Год” с новым выбранным годом
             - справа в каждой плашке стрелочка вправо
        - Серая кнопка “Отмена” поменялась на синюю кнопку “Сохранить”

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Выбор другой модели авто на финальном экране смены марки, модели и года авто:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь залогинен
        - Пользователь добавил автомобиль в Отзывные Кампании
        - Включен режим редактирования в карточке авто (карандаш правом верхнем углу)
        - Открыт финальный экран смены марки, модели и года выпуска (тап на название авто - тап на марку - тап на модель - тап на год) 
    - do: Запомнить значения в плашках "Марка", "Модель" и "Год"
    - do: Тап на поле "Модель"
    - assert: |
        - Открывается экран “Модель”:
            - в шапке стрелочка назад, заголовок экрана и крестик для закрытия
            - поле ввода с плейсхолдером “Поиск модели”
            - около каждой модели стрелочка вправо
        - Синяя кнопка "Сохранить" поменялась на  серую кнопку "Отмена"
    - do: Тап на любую модель
    - assert: |
        - Открывается экран “Год”
        - Внизу экрана серая кнопка “Отмена”
    - do: Тап на любой год
    - assert: |
        - Открывается экран “Ваша машина”:
             - в шапке стрелочка назад, заголовок экрана и крестик для закрытия
             - плашка “Марка” с маркой из шага 1
             - плашка “Модель” с новой выбранной моделью
             - плашка “Год” с новым выбранным годом
             - справа в каждой плашке стрелочка вправо
        - Серая кнопка “Отмена” поменялась на синюю кнопку “Сохранить”

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Выбор другого года выпуска на финальном экране смены марки, модели и года авто:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь залогинен
        - Пользователь добавил автомобиль в Отзывные Кампании
        - Включен режим редактирования в карточке авто (карандаш правом верхнем углу)
        - Открыт финальный экран смены марки, модели и года выпуска (Тап на название авто - тап на марку - тап на модель - тап на год) 
    - do: Запомнить значения в плашках "Марка", "Модель" и "Год"
    - do: Тап на поле "Год"
    - assert: |
        - Открывается экран “Год”:
            - в шапке стрелочка назад, заголовок экрана и крестик для закрытия
            - около каждого года стрелочка вправо
        - Синяя кнопка "Сохранить" поменялась на  серую кнопку "Отмена"
    - do: Тап на любой год
    - assert: |
        - Открывается экран “Ваша машина”:
             - в шапке стрелочка назад, заголовок экрана и крестик для закрытия
             - плашка “Марка” с маркой из шага 1
             - плашка “Модель” с моделью из шага 1
             - плашка “Год” с новым выбранным годом
             - справа в каждой плашке стрелочка вправо
        - Серая кнопка “Отмена” поменялась на синюю кнопку “Сохранить”

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Изменение марки, модели и года выпуска авто:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь залогинен
        - Пользователь добавил автомобиль в Отзывные Кампании
        - Включен режим редактирования в карточке авто (карандаш правом верхнем углу)
        - Открыт финальный экран смены марки, модели и года выпуска (Тап на название авто - тап на марку - тап на модель - тап на год) 
    - do: Запомнить значения в плашках "Марка", "Модель" и "Год"
    - do: Тап на поле "Сохранить"
    - assert: |
        - Закрывается экран "Ваша машина"
        - Показана карточка авто
        - Название машины в карточке авто поменялось на "Марка" + "Модель" из шага 1
        - Год в карточке авто поменялся на значение из поля "Год" из шага 1
    - do: Тап стрелочку назад
    - assert: |
        - Закрывается карточка авто
        - Открыто меню навигатора
        - В карусели машин (под именем пользователя) на плашке авто марка и модель из шага 1

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Открытие экрана выбора марки авто без интернета:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь залогинен
        - Пользователь добавил автомобиль в Отзывные Кампании
        - Открыта карточка авто
        - Включен режим редактирования в карточке авто (карандаш в правом верхнем углу)
        - Есть доступ к интернету
    - do: Отключить интернет
    - do: Тап на название авто
    - assert: |
        - Справа выезжает экран "Марка":
            - в шапке заголовок экрана и крестик для закрытия
            - поле ввода с плейсхолдером "Поиск марки"
            - по центру экрана текст ошибки: "**Что-то пошло не так** Попробуйте ещё раз, вдруг заработает"
            - внизу экрана синяя кнопка "Попробовать ещё раз"
            - под ней серая кнопка "Отмена"
    - do: Включить интернет
    - do: Тап на "Попробовать ещё раз"
    - assert: |
        - Текст ошибки меняется на список марок авто
        - Кнопка "Попробовать ещё раз исчезает"
        - Кнопка "Отмена" остаётся на месте

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Открытие экрана выбора модели авто без интернета:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь залогинен
        - Пользователь добавил автомобиль в Отзывные Кампании
        - Включен режим редактирования в карточке авто (карандаш правом верхнем углу)
        - Открыт экран выбора марки авто (тап на название авто с включенным режимом редактирования)
        - Есть доступ к интернету
    - do: Отключить интернет
    - do: Тап на любую марку авто
    - assert: |
        - Справа выезжает экран "Модель":
            - в шапке стрелочка назад, заголовок экрана и крестик для закрытия
            - поле ввода с плейсхолдером "Поиск модели"
            - по центру экрана текст ошибки: "**Что-то пошло не так** Попробуйте ещё раз, вдруг заработает"
            - внизу экрана синяя кнопка "Попробовать ещё раз"
            - под ней серая кнопка "Отмена"
    - do: Включить интернет
    - do: Тап на "Попробовать ещё раз"
    - assert: |
        - Текст ошибки меняется на список моделей авто
        - Кнопка "Попробовать ещё раз исчезает"
        - Кнопка "Отмена" остаётся на месте

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Отмена изменений марки, модели и года выпуска:
    - description: |
        **ОК** - отзывные кампании (открываются по тапу на кнопку "Добавить авто")
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь залогинен
        - Пользователь добавил автомобиль в Отзывные Кампании
        - Открыта карточка авто
        - Включен режим редактирования в карточке авто (карандаш правом верхнем углу)
    - do: Тап на название авто
    - assert: |
        - Открывается экран “Марка”
        - Внизу экрана серая кнопка "Отмена"
    - do: Тап на любую марку
    - assert: |
        - Открывается экран “Модель”
        - Внизу экрана серая кнопка “Отмена”
    - do: Тап на любую модель
    - assert: |
        - Открывается экран “Год”
        - Внизу экрана серая кнопка “Отмена”
    - do: Тап на "Отмена"
    - assert: |
        - Закрывается экран "Год"
        - Показана карточка авто
        - Режим редактирования включен
        - Марка и модель, выбранные на предыдущих шагах НЕ присутствуют в названии авто

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Отсутствие краша при тапе по карточкам добавленных машин при отсутствии интернета:
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован
        - У пользователя добавлены машины (Больше 2х)
        - Интернет выключен/включен авиарежим
        - Пользователь находится в меню навигатора
    - do: Тап по добавленной машине
    - assert: |
        - Открылась карточка выбранного авто
        - Креши отсутствуют
    - do: Выйти в меню навигатор, тапнув по стрелочке "Назад"
    - assert: Открылось меню навигатора
    - do: Тап машине, отличной от машины в шаге 1
    - assert: |
        - Открылась карточка выбранного авто
        - Креши отсутствуют
    - do: Тап по стрелочке “Назад”
    - assert: Открылось меню навигатора
    - do: Тап по машине, отличной от выбранной предыдущей
    - assert: |
        - Открылась карточка выбранного авто
        - Креши отсутсвуют

    - platforms:
      - ios
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Эксперимент на свитчер в карточке авто:
    - description: |
        **ОК** - отзывные компании 
        **Карточка авто** - открывается по тапу на кнопку авто в меню навигатора под именем пользователя
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Выключен эксперимент на свитчер в карточке аво (Developer settings - Ya.Auto - OSAGO expired reminders enabled - Off)
        - Навигатор перезапущен после изменений в Developer settings
        - Пользователь авторизован
        - Добавлена машина к аккаунту ("Добавить машину" - Ввести госномер или VIN - Тап на "Добавить" - Тап на "Верно, это моя машина")
        - Открыто меню навигатора
    - do: Тап на плашку авто под именем пользователя 
    - assert: |
        - Открывается карточка авто
        - В блоке "ОСАГО":
            - Плашка "Дата окончания"
            - Кнопка "Оформить новый полис" (если включен эксперимент Developer settings - Ya.Auto - Sravni.ru OSAGO enabled - On)
    - do: Включить эксперимент на свитчер в карточке аво (Developer settings - Ya.Auto - OSAGO expired reminders enabled - On) и перезапустить приложение
    - do: |
        - Тап Меню Нави
        - Тап на плашку авто под именем пользователя
    - assert: |
        - Открывается карточка авто
        - В блоке “ОСАГО”:
            - Плашка “Дата окончания”
            - Ниже плашка под свитчер, в которой либо свитчер (если есть дата окончания ОСАГО), либо текст "Добавьте дату окончания ОСАГО..."
            - Ниже кнопка “Оформить новый полис” (если включен эксперимент Developer settings - Ya.Auto - Sravni.ru OSAGO enabled - On)
    - do: Выключить эксперимент на свитчер в карточке аво (Developer settings - Ya.Auto - OSAGO expired reminders enabled - Off) и перезапустить приложение
    - do: |
        - Тап Меню Нави
        - Тап на плашку авто под именем пользователя
    - assert: |
        - Открывается карточка авто
        - В блоке “ОСАГО”:
            - Плашка “Дата окончания”
            - Ниже кнопка “Оформить новый полис” (если включен эксперимент Developer settings - Ya.Auto - Sravni.ru OSAGO enabled - On)
            - Плашка под свитчер **отсутствует**

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Текст вместо свитчера в карточке авто. Нет даты окончания ОСАГО, выключен эксперимент Сравни.ру:
    - description: |
        **ОК** - отзывные компании 
        **Карточка авто** - открывается по тапу на кнопку авто в меню навигатора под именем пользователя
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Включен эксперимент на свитчер в карточке аво (Developer settings - Ya.Auto - OSAGO expired reminders enabled - On)
        - Выключен эксперимент Сравни.ру (Developer settings - Ya.Auto - Sravni.ru OSAGO enabled - Off)
        - Навигатор перезапущен после изменений в Developer settings
        - Пользователь авторизован
        - Добавлена машина к аккаунту ("Добавить машину" - Ввести госномер или VIN - Тап на "Добавить" - Тап на "Верно, это моя машина")
        - Нет даты окончания ОСАГО в карточке авто (у новой добавленной машины отсутствует)
        - Открыто меню навигатора
    - do: Тап на плашку авто под именем пользователя
    - assert: |
        - Открывается карточка авто
        - В блоке “ОСАГО”:
            - Плашка “Дата окончания”
            - Ниже плашка под свитчер, в которой текст "Добавьте дату окончания ОСАГО и Навигатор напомнит вам продлить полис"
            - Кнопка “Оформить новый полис” **отсутствует**

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Свитчер в карточке авто. Есть дата окончания ОСАГО, выключен эксперимент Сравни.ру:
    - description: |
        **ОК** - отзывные компании 
        **Карточка авто** - открывается по тапу на кнопку авто в меню навигатора под именем пользователя
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Включен эксперимент на свитчер в карточке аво (Developer settings - Ya.Auto - OSAGO expired reminders enabled - On)
        - Выключен эксперимент Сравни.ру (Developer settings - Ya.Auto - Sravni.ru OSAGO enabled - Off)
        - Навигатор перезапущен после изменений в Developer settings
        - Пользователь авторизован
        - Добавлена машина к аккаунту ("Добавить машину" - Ввести госномер или VIN - Тап на "Добавить" - Тап на "Верно, это моя машина")
        - Нет даты окончания ОСАГО в карточке авто (у новой добавленной машины отсутствует)
        - Открыто меню навигатора
    - do: Тап на плашку авто под именем пользователя
    - assert: |
        - Открывается карточка авто
        - В блоке “ОСАГО”:
            - Плашка “Дата окончания”
            - Ниже плашка под свитчер, в которой текст "Добавьте дату окончания ОСАГО и Навигатор напомнит вам продлить полис"
            - Кнопка “Оформить новый полис” **отсутствует**
    - do: Тап на "Добавть дату окончания"
    - assert: Открывается датапикер
    - do: Выбрать любую дату
    - do: |
        - Тап на "ОК" (Android)
        - Тап на "Сохранить" (iOS)
    - assert: |
        - Датапакер закрывается
        - В плашке "Дата окончания" появилась выбранная дата
        - Текст "Добавтье дату окончания ОСАГО..." поменялся на свитчер "Напоменить об окончании"
        - Свитчер по умолчанию включен

    - platforms:
      - ios
      - android
    - tags:
        - assessors
    - testing:
      - acceptance_navi


  Текст вместо свитчера в карточке авто. Нет даты окончания ОСАГО, включен эксперимент Сравни.ру:
    - description: |
        **ОК** - отзывные компании 
        **Карточка авто** - открывается по тапу на кнопку авто в меню навигатора под именем пользователя
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Включен эксперимент на свитчер в карточке аво (Developer settings - Ya.Auto - OSAGO expired reminders enabled - On)
        - Включен эксперимент Сравни.ру (Developer settings - Ya.Auto - Sravni.ru OSAGO enabled - On)
        - Навигатор перезапущен после изменений в Developer settings
        - Пользователь авторизован
        - Добавлена машина к аккаунту ("Добавить машину" - Ввести госномер или VIN - Тап на "Добавить" - Тап на "Верно, это моя машина")
        - Нет даты окончания ОСАГО в карточке авто (у новой добавленной машины отсутствует)
        - Открыто меню навигатора
    - do: Тап на плашку авто под именем пользователя
    - assert: |
        - Открывается карточка авто
        - В блоке “ОСАГО”:
            - Плашка “Дата окончания”
            - Ниже плашка под свитчер, в которой текст "Добавьте дату окончания ОСАГО и Навигатор напомнит вам продлить полис"
            - В этой же плашке ниже кнопка “Оформить новый полис”

    - platforms:
      - ios
      - android
    - tags:
        - assessors


  Добавление машины по гос номеру. Латинские символы:
    - description: |
        **ОК** - отзывные компании (открываются по тапу на кнопку "Добавить авто")
        В этом кейсе проверяется отработка перевода гос номера из Латиницы в кириллицу.
    - info: |
        - СИМ-карта русская или отсутствует
        - Локаль ru-ru
        - Пользователь находится на территории РФ
        - Пользователь авторизован в навигаторе
        - Открыт экран поиска автомобиля (Меню - "Добавить авто")
    - do: |
        - Тап на поле ввода
        - Ввести госномер латиницей, например Y456YB59
        - Тап "Добавить"
    - assert: |
        - Появляется клавиатура, текст под полем ввода остаётся и скролится
        - Гос номер отображается в поле ввода, кнопка "Добавить" активна
        - После поиска авто - показан результат поиска
        - В результате поиска Гос номер записан теми символами, которые указал пользователь (кириллица, латиница или смесь кириллицы-латиницы)
    - do: Тап на "Верно, это моя машина"
    - assert: |
        - Открылся экран добавленного авто
        - **Госномер в карточке записан Кириллицей!**
    - do: |
        - Перезапустить приложение
        - Открыть меню навигатора
        - Пролистать до добавленной машины
    - assert: В добавленной машине госномер записан Кириллицей
    - do: Тап по добавленному авто
    - assert: |
        - Открылась карточка добавленного авто
        - **Госномер в карточке записан Кириллицей!**

    - platforms:
      - android
      - ios
    - tags:
        - assessors
    - testing:
      - acceptance_navi