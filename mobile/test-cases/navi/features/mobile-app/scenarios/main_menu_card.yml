components: main_menu_card
testing:
  - regress

specs:
  (Карточка главного экрана) Включение экрана:
    - info: |
        Включить эксперимент: DevSettings -> Misc -> New main screen
        ВЫГРУЗИТЬ  навигатор
    - do: Запустить навигатор
    - assert: |
        Вместо тапбара отображается карточка главного меню с пунктами:
         `"search"/ "bookmarks" / "menu"` . - поправить после проверки конечного тикета (скорее всего названия и наполнение будут изменены)

    - platforms:
      - ios
    - tags:
        - assessors


  (Карточка главного экрана)  Проверка UI:
    - info: |
        1 - Включить эксперименты: 
        DevSettings -> Misc -> New main screen
        DevSettings -> Misc -> Fast day&night switching вкл
        ПЕРЕЗАГРУЗИТЬ навигатор
        2 - Портретная ориентация девайса
    - do: Свайпом вверх провести по  карточке главного экрана
    - assert: |
        Карточка главного экрана из минимального состояния раскрылась в среднее
        Все пункты главного экрана влезают на экран девайса
    - do: Свайпом вверх провести по карточке главного экрана
    - assert: |
        Карточка главного экрана из среднего состояния раскрылась в максимальное
        Все пункты главного экрана влезают на экран девайса
    - do: |
        Сменить ориентацию девайса на альбомную
        Повторить шаги 1-2
    - assert: |
        Фактическое поведение соответсвует ожидаемому
        Верстка не едет

    - platforms:
      - ios
    - tags:
        - assessors


  (Карточка главного экрана) Переход по пунктам:
    - info: |
        Включить эксперимент: DevSettings -> Misc -> New main screen
        ПЕРЕЗАГРУЗИТЬ навигатор
    - do: Тап по пункту **`"search"` . - поправить после проверки конечного тикета (скорее всего названия и наполнение будут изменены)** . на карточке главного экрана
    - assert: |
        Открывается экран поиска
    - do: |
        Закрыть поиск
        Тап по пункту **`"bookmarks"` . - поправить после проверки конечного тикета (скорее всего названия и наполнение будут изменены)** . на карточке главного экрана
    - assert: Открывается раздел Мои места
    - do: |
        Закрыть раздел Мои места
        Тап по пункту **`"menu"`  . - поправить после проверки конечного тикета (скорее всего названия и наполнение будут изменены)** . на карточке главного экрана
    - assert: Открывается раздел Меню

    - platforms:
      - ios
    - tags:
        - assessors


  (Карточка главного экрана) Построение маршрута:
    - info: |
        Включить эксперимент: DevSettings -> Misc -> New main screen
        ПЕРЕЗАГРУЗИТЬ навигатор
    - do: Построить любой маршрут и подтвердить его
    - assert: |
        Карточка главного экрана скрывается (???)- `изменить после исправления бага`, 
        отображается плашка ETA  
    - do: Тап по любому месту на карте 
    - assert: |
        Отображается плашка ETA
        Под ней появляется карточка главного экрана (???)- `изменить после исправления бага`

    - platforms:
      - ios
    - tags:
        - assessors


  (Карточка главного экрана) Взаимодействие с пинами /пои :
    - info: |
        1 - Включить эксперимент: DevSettings -> Misc -> New main screen
        ПЕРЕЗАГРУЗИТЬ навигатор
        2 - Портретная ориентация
    - do: Тап на любой пин/пои на карте
    - assert: Открывается карточка организации 
    - do: Закрыть карточку организации
    - assert: |
        Карточка организации закрывается
        Появляется карточка главного экрана в том же размере, при котором она была до тапа по пину/пои
    - do: |
        Сменить ориентацию на альбомную 
        Повторить шаги 1-2
    - assert: |
        Фактическое поведение соответсвует ожидаемому
        Размер карточки главного экрана не меняется

    - platforms:
      - ios
    - tags:
      - assessors


  (Карточка главного экрана) Взаимодействие с лонгтап меню:
    - info: |
        1 - Включить эксперимент: DevSettings -> Misc -> New main screen
        ПЕРЕЗАГРУЗИТЬ навигатор
        2 - Портретная ориентация
    - do: Вызвать лонгтап меню
    - assert: |
        Карточка главного экрана закрывается
        Открывается лонгтап меню
    - do: Закрыть лонгтап меню 
    - assert: |
        Лонгтап меню закрывается
        Появляется карточка главного экрана в том же размере, при котором она была до вызова лонгтап меню
    - do: |
        Сменить ориентацию на альбомную 
        Повторить шаги 1-2
    - assert: |
        Фактическое поведение соответсвует ожидаемому
        Размер карточки главного экрана не меняется

    - platforms:
      - ios
    - tags:
        - assessors