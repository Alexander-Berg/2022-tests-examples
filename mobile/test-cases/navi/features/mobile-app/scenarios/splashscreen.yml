components: splashscreen
testing:
  - regress

specs:
  Сплешскрин для  виджета:
    - description: |
        Виджеты **доступны в дебаг** и НЕ доступны в release/dev и др. НЕ дебаг сборках.
        **Цель проверки**: Проверить правильность работы сплешскрина для виджета
        Имеется 2 сплешскрина:
        - для бара
        - для виджета
        Для тестирования понадобятся устройства Самсунг, Асус, Алкатель (флагманы), Леново (Флагманы) - эти производители в своих прошивках поддерживают автоустановку виджетов. Сплеш для виджетов будет показан только для этих устройств, а сплеш бара для всех производителей устройств с Android.
        **Условия показа сплешскрина.**
        - Страна не турция и Навигатор запущен не на голове (без Я.Авто).
        - У нас есть местоположение.
        - Находимся на экране с картой – просто экран с картой без всякого ведения.
        - Нет установленного маршрута.
        - Не подключены к projected.
        - Проект не для Linux’а (голова в машине без Я.Авто, а просто на Линуксе).
        - Не в Я.Авто.
        - Нет рекламы для промобаннера (баннер, который появляется сверху и просит установить Я.Браузер или Едадил например).
        - Не было никаких интро скринов на старте.
        - Эксперименты загрузились (не загрузятся если на сервере случилась ошибка или интентера нет)
        **Для показана сплешскрина необходимо удалить с устройства все приложения от Яндекса**
    - do: |
        - Запустить Навигатор, пройти все интроскрины, выгрузить
        - Повторить
        - Запустить Навигатор снова (получится 3ий запуск)
        - Перейти с экрана "Карта" в Меню/Поиск и обратно несколько раз
    - assert: Появляется сплешскрин предлагающий установить виджет на устройство
    - do: Тап “Не надо”
    - assert: Виджет не установлен
    - do: |
        - Сбросить данные навигатора, повторить шаг 1
        - Тап “Включить”
    - assert: Виджет установлен на устройство

    - platforms:
      - android
    - tags:
        - assessors
    - integration_run:
      - searchlib


  Отсутствие сплешскрина (Searchlib):
    - description: Переустановить приложение
    - do: |
        - Несколько раз перезапустить приложение
        - Дождаться третьего запуска
    - assert: |
        - Сплешскрин (Searchlib) отсутствует

    - platforms:
      - t3am
      - vaz
    - tags:
      - assessors
    - testing:
      - acceptance_navi