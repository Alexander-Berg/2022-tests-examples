components: share
testing:
  - regress

specs:
  Шеринг видео:
    - info: |
        Выданы все разрешения
        Пользователь авторизован
        Debug-панель > Environment > MapKit enviroment > testing
        Перезапустить приложение
        Debug-панель > Environment > Simulate location > On
    - do: Перейти в таб Настройки
    - do: Включить настройку "Параллельно записывать видео"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб "Съемка"
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять видео длиной ~20 сек
    - do: Перейти в таб Галерея > Видео
    - do: Тап на контекстное меню (три точки) видео
    - assert: |
        В контекстном меню присутствуют кнопки:
        "Поделиться", "Удалить", "Отмена". "Удалить" красного цвета
    - do: Тап на "Поделиться"
    - assert: Открыт экран выбора места отправки
    - do: Выбрать куда отправить видео (например Телеграмм)
    - do: Отправить видео
    - assert:
        Отображается экран "Временные видео"
    - do: Открыть приложение в которое было отправленно видео
    - assert: Присутствует отправленное видео

    - platforms:
        - ios
    - testing:
        - smoke
    - tags:
        - assessors
