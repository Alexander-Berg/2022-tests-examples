components: route
testing:
  - regress

aliases:
  - &INFO
    - info: |
        Выданы все разрешения
        Пользователь авторизован
        Debug-панель > Environment > MapKit enviroment > testing
        Перезапустить приложение
        Debug-панель > Environment > Simulate location > On

specs:
  Раздел Маршруты. Добавление поездки через заглушку:
    - *INFO
    - info: Авторизоваться аккаунтом без маршрутов
    - do: Перейти в таб Галерея
    - assert: |
        Присутствуют разделы "Маршруты" и "Видео"
        Под названием раздела "Маршруты" есть счетчик фото, равный 0
    - do: Тап на "Маршруты"
    - assert: |
        Открыт раздел "Маршруты"
        Отображается заглушка "Снимайте улицы, пока едете на машине и улучшайте навигацию"
        Есть кнопка "Снять маршрут"
    - do: Тап на кнопку "Снять маршрут"
    - assert: Открывается экран Съемки
    - do: Начать съемку
    - assert: |
        Нажата кнопка пуска
        "Настройки" и "Галерея" в навбаре меняются на количество фото и длину маршрута
        На экране отображается картинка с камеры устройства
    - do: Снять маршрут длиной минуту или более
    - do: Тап на стрелку Назад в левом верхнем углу экрана
    - assert: |
        Открыт раздел "Маршруты"
        Вместо заглушки отображается список "Маршруты" c одним маршрутом

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Локальный маршрут. Просмотр через таб "Галерея":
    - *INFO
    - do: Тап на "Съемка маршрута"
    - assert: Открывается Экран Съемки
    - do: Снять маршрут длиной минуту или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут
        У маршрута есть превью, дата и время съемки, количество фото, статус, Action Menu (три точки)
        Дата и время съемки соответствуют действительности
        Маршрут первый в списке
    - do: Тап на маршрут
    - assert: Ничего не происходит

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
    - integration_run:
        - mrc


  Локальный маршрут. Просмотр с экрана съемки:
    - *INFO
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной минуту или более
    - do: Тап на кнопку Галерея в нижнем навбаре экрана съемки
    - do: Перейти в раздел "Маршруты"
    - assert: |
        В списке "Маршруты" появился новый маршрут
        У маршрута есть превью, дата и время съемки, количество фото, статус, Action Menu (три точки)
        Дата и время съемки соответствуют действительности
        Маршрут первый в списке
    - do: Тап на маршрут
    - assert: Ничего не происходит

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
    - integration_run:
        - mrc


  Съемка зеркал. Выгрузка по кнопке:
    - estimatedTime: 6m
    - *INFO
    - do: Перезапустить приложение
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - do: Выключить настройку "Параллельно записывать видео"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной 1,5 минуты или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить", где n - количество маршрутов в статусе "Ожидает отправки"
    - do: Тап по кнопке "Отправить"
    - do: Выбрать удобный тип сети для выгрузки
    - assert: |
        Надпись "n маршрутов ожидает отправки" меняется на "n маршрутов отправляется..." и счетчик фото
        Кнопка "Отправить" меняется на круглый прогресс-бар с крестиком
        Первое число в счетчике показывает количество выгружаемых фото и меняется динамически по мере выгрузки
        Второе число показывает общее количество фото всех невыгруженных маршрутах
    - do: Проверить динамику выгрузки
    - assert: |
        По мере выгрузки круглый прогресс-бар заполняется
        Статус маршрута меняется на "Отправляется"
        Счетчик фото у маршрута меняется в соответствие с общим счетчиком в информационной панели
    - do: Дождаться окончания выгрузки
    - assert: |
        Информационная панель скрылась
        Статус маршрута поменялся на "На проверке"

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Съемка зеркал. Выгрузка по кнопке на экране съемки:
    - estimatedTime: 6m
    - *INFO
    - do: Перезапустить приложение
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - do: Выключить настройку "Параллельно записывать видео"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной 1,5 минуты или более
    - do: Тап на кнопку Галерея на Экране Съемки > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить", где n - количество маршрутов в статусе "Ожидает отправки"
    - do: Тап по кнопке "Отправить"
    - do: Выбрать удобный тип сети для выгрузки
    - assert: |
        Надпись "n маршрутов ожидает отправки" меняется на "n маршрутов Отправляется..." и счетчик фото
        Кнопка "Отправить" меняется на круглый прогресс-бар с крестиком
        Первое число в счетчике показывает количество выгружаемых фото и меняется динамически по мере выгрузки
        Второе число показывает общее количество фото всех невыгруженных маршрутах
    - do: Проверить динамику выгрузки
    - assert: |
        По мере выгрузки круглый прогресс-бар заполняется
        Статус маршрута меняется на "Отправляется"
        Счетчик фото у маршрута меняется в соответствие с общим счетчиком в информационной панели
    - do: Дождаться окончания выгрузки
    - assert: |
        Информационная панель скрылась
        Статус маршрута поменялся на "На проверке"

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Локальный маршрут. Счетчик фото:
    - *INFO
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - do: Выключить настройку "Параллельно записывать видео"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Галерея > Маршруты
    - do: Выгрузить все маршруты тапом по кнопке "Отправить" (если есть)
    - assert: Все маршруты имеют статус "На проверке" или "Опубликовано"
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается Экран Съемки
    - do: Начать запись маршрута
    - assert: |
        Нажата кнопка пуска
        "Настройки" и "Галерея" в нижнем навбаре меняются на счетчик фото
        Отсчет фото начинается с нуля
    - do: Закончить съемку, когда счетчик будет больше 3-4 фото
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Количество фото в маршруте соответствует количеству фото из счетчика на Экране Съемки

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Локальный маршрут. 0 фото:
    - *INFO
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки маршрута
    - do: Снять видео длиной около 10 сек, чтобы количество фото в нижнем навбаре не успело поменяться
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут с "0 фото" в статусе "Ожидает отправки"

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Локальный маршрут. Съемка с видео:
    - estimatedTime: 4m 40s
    - *INFO
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - do: Включить настройку "Параллельно записывать видео"
    - do: Включить настройку "Длительность видео" 1 мин
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается Экран Съемки
    - do: Снять маршрут длиной минуту или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Вернуться в Галерею
    - do: Перейти в раздел "Видео"
    - assert: В списке "Временные видео" появилось 2 новых видео

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Локальный маршрут. Дозапись текущего маршрута:
    - *INFO
    - info: В данном кейсе проверяем, что новый маршрут не начинается, пока пользователь не вышел с Экрана Съемки
    - do: Перезапустить приложение
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - do: Выключить настройку "Параллельно записывать видео"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Галерея > Маршруты
    - do: Выгрузить все маршруты тапом по кнопке "Отправить" (если есть)
    - assert: Все маршруты имеют статус "На проверке" или "Опубликован"
    - do: Перейти в таб "Съемка"
    - do: Тап на "Съемка маршрута"
    - assert: Открывается Экран Съемки
    - do: Снять маршрут длиной 3-4 фото или более
    - do: Не выходя с экрана съемки начать запись нового маршрута
    - assert: Отсчет фото начинается с количества фото из предыдущего маршрута
    - do: Дозаписать еще несколько фото и выключить съемку
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился только один новый маршрут в статусе "Ожидает отправки"
        Количество фото в маршруте соответствует количеству фото из счетчика на Экране Съемки

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Локальный маршрут. Дозапись текущего маршрута при автоматической выгрузке:
    - *INFO
    - info: Девайс подключен к Wi-Fi
    - info: В данном кейсе проверяем, что новый маршрут не начинается, пока пользователь не вышел с Экрана Съемки
    - do: Перезапустить приложение
    - do: Перейти в таб Настройки
    - do: Включить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Галерея > Маршруты
    - assert: Все маршруты имеют статус "На проверке" или "Опубликован" (если какой-то маршрут имеет статус "Отправляется",то дождаться полной выгрузки)
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки маршрута
    - do: Снять маршрут длиной 3-4 фото или более
    - do: Не выходя с экрана съемки начать запись нового маршрута
    - do: Дозаписать еще несколько фото и выключить съемку
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился только один новый маршрут в статусе "Отправляется", который меняется на "На проверке" (если маршрут короткий, то статус "Отправляется" можно не заметить)
        Количество фото в маршруте соответствует количеству фото из счетчика на Экране Съемки

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Локальный маршрут. Сортировка:
    - *INFO
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - do: Выключить настройку "Параллельно записывать видео"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб "Съемка"
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной 3-4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Маршрут отображается первым в списке
    - do: Снять еще один маршрут на 3-4 фото
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Маршрут отображается первым в списке

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Съемка зеркал. Смена статусов:
    - estimatedTime: 20m
    - *INFO
    - do: Перезагрузить приложение
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - do: Выключить настройку "Параллельно записывать видео"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб "Съемка"
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки маршрута
    - do: Снять маршрут длиной 3-4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап по кнопке "Отправить"
    - do: Выбрать удобный тип сети для выгрузки
    - assert: Статус маршрута меняется на "Отправляется", затем на "На проверке"
    - do: В вебе перейти на тестовый стенд
    - do: Дождаться, когда на тестовом стенде появится сделанный маршрут (может занять 10-15 мин)
    - assert: |
        У маршрута появляется километраж и время поездки
        Превью, дата и время съемки, количество фото, километраж и время поездки в приложении и на веб совпадает
        У маршрута сохраняется статус "На проверке"
    - do: Перезагрузить приложение
    - assert: Маршрут в приложении никак не меняется, статус "На проверке" сохраняется

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
    - testing:
        - smoke
    - integration_run:
        - mrc


  Съемка зеркал. Смена статусов частично выгруженного маршрута:
    - estimatedTime: 22m
    - *INFO
    - do: Перезагрузить приложение
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб "Съемка"
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки маршрута
    - do: Снять маршрут длиной 2 минуты или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап по кнопке "Отправить"
    - do: Выбрать удобный тип сети для выгрузки
    - do: Прервать выгрузку тапом по крестику в круглом прогресс-баре
    - assert: |
        Выгрузка остановилась
        Статус маршрута остался "Ожидает отправки"
        Счетчик фото показывает количество выгруженных фото и общее количество фото в маршруте
    - do: В вебе перейти на тестовый стенд
    - do: Дождаться, когда на тестовом стенде появится сделанный маршрут (может занять 10-15 мин)
    - assert: Статус маршрута в приложении остался "Ожидает отправки"

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
    - integration_run:
        - mrc


  Съемка зеркал. Вертикальная ориентация:
    - estimatedTime: 18m 20s
    - *INFO
    - info: |
        Девайс подключен к Wi-Fi
        Девайс в вертикальной ориентации
    - do: Перейти в таб Настройки
    - do: Включить настройку "Автоматически выгружать файлы"
    - do: Выключить настройку "Параллельно записывать видео"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб "Съемка"
    - do: Тап на "Съемка маршрута"
    - assert: Открывается Экран Съемки
    - do: Снять маршрут длиной 3-4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Отправляется"/"На проверке"
    - do: В вебе перейти на тестовый стенд
    - do: Дождаться, когда на тестовом стенде появится сделанный маршрут (может занять 10-15 мин)
    - do: Просмотреть запись маршрута
    - assert: Все фото в вертикальной ориентации

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
    - integration_run:
        - mrc


  Съемка зеркал. Горизонтальная ориентация (навбар слева):
    - estimatedTime: 18m 20s
    - *INFO
    - info: Девайс подключен к Wi-Fi
    - do: Перейти в таб Настройки
    - do: Включить настройку "Автоматически выгружать файлы"
    - do: Выключить настройку "Параллельно записывать видео"
    - assert: Тоглы настроек в правильном положение
    - do: Повернуть девайс в горизонтальную ориентацию по часовой стрелке
    - do: Перейти в таб Съемка
    - do: Тап на Съемка маршрута
    - assert: Открывается экран съемки маршрута
    - do: Снять маршрут длиной 3-4 фото и более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Отправляется"/"На проверке"
    - do: В вебе перейти на тестовый стенд
    - do: Дождаться, когда на тестовом стенде появится сделанный маршрут (может занять 10-15 мин)
    - do: Просмотреть запись маршрута
    - assert: Все фото в горизонтальной ориентации

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
    - integration_run:
        - mrc


  Съемка зеркал. Горизонтальная ориентация (навбар справа):
    - estimatedTime: 18m 20s
    - *INFO
    - info: Девайс подключен к Wi-Fi
    - do: Перейти в таб Настройки
    - do: Включить настройку "Автоматически выгружать файлы"
    - do: Выключить настройку "Параллельно записывать видео"
    - assert: Тоглы настроек в правильном положение
    - do: Повернуть девайс в горизонтальную ориентацию против часовой стрелке
    - do: Перейти в таб Съемка
    - do: Тап на Съемка маршрута
    - assert: Открывается экран съемки маршрута
    - do: Снять маршрут длиной 3-4 фото и более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Отправляется"/"На проверке"
    - do: В вебе перейти на тестовый стенд
    - do: Дождаться, когда на тестовом стенде появится сделанный маршрут (может занять 10-15 мин)
    - do: Просмотреть запись маршрута
    - assert: Все фото в горизонтальной ориентации

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - not_suitable_for_farm
    - integration_run:
        - mrc


  Раздел Маршруты. Счетчик фото:
    - *INFO
    - do: Перейти в таб Галерея
    - assert: |
        Открывается Галерея
        Присутствуют разделы "Маршруты" и "Видео"
        Под заголовком раздела Маршруты есть счетчик с общим количеством всех сделанных фото
    - do: Запомнить количество фото
    - do: Перейти в таб Съемка
    - do: Тап на Съемка маршрута
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной 3-4 фото и более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут
    - do: Вернуться в Галерею
    - assert: Количество фото в счетчике у раздела "Маршруты" увеличелось на количество фото нового маршрута

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Раздел маршруты. Оффлайн с локально-серверной поездкой:
    - *INFO
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - do: Выключить настройку "Параллельно записывать видео"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить"
    - do: Тап по кнопке "Отправить"
    - do: Выбрать подходящий тип сети для выгрузки при необходимости
    - assert: |
        Статус маршрута меняется на "Отправляется", затем на "На проверке" (если маршрут короткий, то статус Отправляется можно не заметить)
        Информационная панель сверху скрывается
    - do: Включить на девайсе авиарежим
    - assert: |
        Через 30 сек над списком маршрутов появляется плашка "Показаны только маршруты, сохраненные на устройстве"
        Все маршруты, сделанные на других сборках приложения (т. е. серверные маршруты), скрылись

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Раздел маршруты. Оффлайн с локальной поездкой:
    - *INFO
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - do: Выключить настройку "Параллельно записывать видео"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить"
    - do: Включить на девайсе авиарежим
    - assert: |
        Через 30 сек над информационной панелью появляется плашка "Показаны только маршруты, сохраненные на устройстве"
        Все маршруты, сделанные на других сборках приложения (т. е. серверные маршруты), скрылись

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Выгрузка маршрута. Предупреждение о выгрузки:
    - *INFO
    - info: Девайс в вертикальной ориентации
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить", где n - количество маршрутов в статусе "Ожидает отправки"
    - do: Повернуть девайс в горизонтальную ориентацию
    - assert: Информационная панель сохраняется
    - do: Перезагрузить приложение с выгрузкой из памяти
    - do: Перейти в таб Галерея > Маршруты
    - assert: Информационная панель сохраняется

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Выгрузка маршрута. Счетчик невыгруженных маршрутов:
    - *INFO
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить", где n - количество маршрутов в статусе "Ожидает отправки"
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: Количество маршрутов, ожидающих выгрузку, увеличилось на 1

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Выгрузка маршрута. Выбор сети:
    - *INFO
    - info: Девайс в вертикальной ориентации
    - do: Перезапустить приложение
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить", где n - количество маршрутов в статусе "Ожидает отправки"
    - do: Тап по кнопке "Отправить"
    - assert: |
        Внизу экрана появляется диалог "Как выгрузить фотографии?"
        Присутствуют три кнопки: "При подключении к Wi- Fi", "Через мобильную сеть", "Отмена"
    - do: Повернуть девайс в горизонтальную ориентацию
    - assert: Диалог продолжает отображаться
    - do: Тап по экрану за пределами плашки диалога
    - assert: Диалог скрывается

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Выгрузка маршрута. Отмена при выборе сети:
    - *INFO
    - do: Перезапустить приложение
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить", где n - количество маршрутов в статусе "Ожидает отправки"
    - do: Тап по кнопке "Отправить"
    - assert: |
        Внизу экрана появляется диалог "Как выгрузить фотографии?"
        Присутствуют три кнопки: "При подключении к Wi- Fi", "Через мобильную сеть", "Отмена"
    - do: Тап на "Отмена"
    - assert: |
        Диалог скрывается
        Информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить" продолжает отображаться
    - do: Тап по кнопке "Отправить"
    - assert: Внизу экрана появляется диалог "Как выгрузить фотографии?"

    - platforms:
        - ios
    - tags:
        - assessors
    - integration_run:
        - mrc


  Выгрузка маршрута. Мобильная сеть:
    - *INFO
    - do: Перезапустить приложение
    - do: На девайсе отключить Wi-Fi и включить мобильный интернет
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3-4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить", где n - количество маршрутов в статусе "Ожидает отправки"
    - do: Тап по кнопке "Отправить"
    - assert: |
        Внизу экрана появляется диалог "Как выгрузить фотографии?"
        Присутствуют три кнопки: "При подключении к Wi- Fi", "Через мобильную сеть", "Отмена"
    - do: Тап на кнопку "Через мобильную сеть"
    - assert: |
        Статус маршрута меняется на "Отправляется", затем на "На проверке" (если маршрут короткий, то статус Отправляется можно не заметить)
        Предупреждение "n маршрутов ожидает отправки" и кнопка "Отправить" скрывается

    - platforms:
        - ios
        - android
    - tags:
        - mobile_internet
        - assessors
    - integration_run:
        - mrc


  Выгрузка маршрута. Отсутствие выгрузки по мобильной сети при выбранном Wi-Fi:
    - *INFO
    - do: На девайсе отключить Wi-Fi и включить мобильный интернет
    - do: Перезапустить приложение
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3-4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить", где n - количество маршрутов в статусе "Ожидает отправки"
    - do: Тап по кнопке "Отправить"
    - assert: Внизу экрана появляется диалог "Как выгрузить фотографии?"
    - do: Тап по кнопке "При подключении к Wi-Fi"
    - assert: |
        Выгрузка не начинается
        Вместо кнопки "Отправить" появляется бесконечный прелоадер
        Маршрут остается в статусе "Ожидает отправки"

    - platforms:
        - ios
        - android
    - tags:
        - mobile_internet
        - assessors
    - integration_run:
        - mrc


  Выгрузка маршрута. Отсутствие повторного запроса на тип сети в одной сессии:
    - *INFO
    - do: Перезапустить приложение
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3-4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить", где n - количество маршрутов в статусе "Ожидает отправки"
    - do: Тап по кнопке "Отправить"
    - assert: Внизу экрана появляется диалог "Как выгрузить фотографии?"
    - do: Выбрать подходящий для выгрузки тип сети
    - assert: |
        Статус маршрута меняется на "Отправляется", затем на "На проверке" (если маршрут короткий, то статус Отправляется можно не заметить)
        Предупреждение "n маршрутов ожидает отправки и кнопка "Отправить" скрывается
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3-4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить", где n - количество маршрутов в статусе "Ожидает отправки"
    - do: Тап по кнопке "Отправить"
    - assert: |
        Диалог "Как выгрузить фотографии?" отсутствует
        Статус маршрута меняется на "Отправляется", затем на "На проверке"

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Автоматическая выгрузка маршрута:
    - *INFO
    - info: Девайс подключен к Wi-Fi
    - do: Перейти в таб Настройки
    - do: Включить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Тап на кнопку Галерея на Экране Съемки > Маршруты
    - assert: Маршрут отображается в статусе "На проверке"

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Автоматическая выгрузка маршрута. Отсутствие выгрузки по мобильной сети:
    - *INFO
    - info: Девайс подключен к мобильной сети
    - do: Перезагрузить приложение
    - do: Перейти в таб Настройки
    - do: Включить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3-4 фото или более
    - do: Тап на кнопку Галерея на Экране Съемки > Маршруты
    - assert: |
        Выгрузка не начинается
        Над списком маршрутов появляется информационная панель предупреждением "n маршрутов ожидает отправки" и бесконечный прелоадер
    - do: Подключить девайс к Wi-Fi
    - assert: |
        Начинается выгрузка маршрута
        Статус маршрута меняется на "Отправляется", затем на "На проверке"
        После окончаниия выгрузки информационная панель сверху скрывается

    - platforms:
        - ios
        - android
    - tags:
        - mobile_internet
        - assessors
    - testing:
        - smoke
    - integration_run:
        - mrc


  Автоматическая выгрузка. Оффлайн:
    - *INFO
    - info: На девайсе включен авиарежим
    - do: Перейти в таб Настройки
    - do: Включить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3-4 фото или более
    - do: Тап на кнопку Галерея на Экране Съемки > Маршруты
    - assert: |
        Выгрузка не начинается
        Над списком маршрутов появляется предупреждение "n маршрутов ожидает отправки" и бесконечный прелоадер
    - do: Подключить девайс к Wi-Fi
    - assert: |
        Начинается выгрузка маршрута
        Статус маршрута меняется на "Отправляется", затем на "На проверке"
        Информационная панель сверху скрывается

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Сохранение маршрута в MRC после выгрузки:
    - *INFO
    - do: Перейти в таб Настройки
    - do: Debug-панель > Various > Show Mirrors Info
    - do: Запомнить количество поездок в MRC (Rides = n, где n - нужное число)
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в в 3-4 фото или более
    - do: Тап на кнопку Галерея на Экране Съемки > Маршруты
    - do: Тап на "Отправить" в информационной панели сверху
    - assert: Маршрут отображается в статусе "На проверке"
    - do: Перезапустить приложение
    - do: Перейти в таб Настройки
    - do: Debug-панель > Various > Show Mirrors Info
    - assert: |
        Все фото выгружены (photo = 0)
        Количество поездок в MRC увеличилось на 1 (Rides = n + 1)

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Удаление маршрута. Отмена:
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут
    - do: Тап на Action menu (три точки) маршрута
    - assert: Открывается диалог с кнопками "Удалить" и "Отмена"
    - do: Тап за пределами диалога
    - assert: |
        Диалог скрывается
        Маршрут не удаляется
    - do: Тап на Action menu (три точки) маршрута
    - assert: Открывается диалог с кнопками "Удалить" и "Отмена"
    - do: Тап на "Отмена"
    - assert: |
        Диалог скрывается
        Маршрут не удаляется

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Удаление маршрута. Один локальный маршрут:
    - *INFO
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Галерея > Маршруты
    - do: Выгрузить все маршруты тапом по кнопке "Отправить" (если есть)
    - assert: Все маршруты имеют статус "На проверке" или "Опубликован"
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить"
    - do: Тап на Action menu (три точки) маршрута
    - assert: Открывается диалог с кнопками "Удалить" и "Отмена"
    - do: Тап на "Удалить"
    - assert: |
        Маршрут удалился
        Список перестроился
        Сортировка сохранилась (более поздние маршруты находятся выше)
        Если маршрут был единственный, то отображается заглушка "Пока нет снятых маршрутов"
        Информационная панель и кнопка "Отправить" сверху скрылись

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Удаление маршрута. Локальный маршрут:
    - *INFO
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Перезапустить приложение с выгрузкой из памяти
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появилися два новых маршрута в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить", , где n - количество маршрутов в статусе "Ожидает отправки"
    - do: Тап на Action menu (три точки) любого маршрута в статусе "Ожидает отправки"
    - assert: Открывается диалог с кнопками "Удалить" и "Отмена"
    - do: Тап на "Удалить"
    - assert: |
        Маршрут удалился
        Список перестроился
        Сортировка сохранилась (более поздние маршруты находятся выше)
        В информационной панели сверху количество маршрутов для выгрузки уменьшилось на 1

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Удаление маршрута. Локально-серверный маршрут:
    - estimatedTime: 15m
    - *INFO
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить"
    - do: Тап по кнопке "Отправить"
    - do: Выбрать подходящий тип сети для отправки при необходимости
    - assert: Статус маршрута меняется на "Отправляется", затем на "На проверке" (если маршрут короткий, то статус Отправляется можно не заметить)
    - do: В вебе перейти на тестовый стенд
    - assert: Маршрут отсутствует на тестовом стенде, так как еще не успел загрузиться
    - do: На девайсе тап на Action menu (три точки) маршрута
    - assert: Открывается информационная панель с кнопками "Удалить" и "Отмена"
    - do: Тап на "Удалить"
    - assert: |
        Маршрут удалился
        Список перестроился
        Сортировка сохранилась (более поздние видео находятся выше)
        Если маршрут был единственный, то отображается заглушка "Пока нет снятых маршрутов"
    - do: Подождать около 10 мин
    - do: В приложении перейти в таб Галерея > Маршруты
    - assert: Маршрут отсутствует
    - do: В вебе перейти на тестовый стенд
    - assert: Маршрут отсутствует

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Удаление маршрута. Серверный маршрут:
    - estimatedTime: 17m
    - *INFO
    - info: Для прохождения кейса можно использовать готовый серверный маршрут (если остался с предыдущей сборки)
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Выйти с экрана съемки
    - do: Перейти в таб Галерея > Маршруты
    - assert: |
       В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
       Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить"
    - do: Тап по кнопке "Отправить"
    - do: Выбрать подходящий тип сети для выгрузки при необходимости
    - assert: Статус маршрута меняется на "Отправляется", затем на "На проверке" (если маршрут короткий, то статус Отправляется можно не заметить)
    - do: В вебе перейти на тестовый стенд
    - do: Дождаться, когда на тестовом стенде появится сделанный маршрут (может занять 10-15 мин)
    - do: В вебе удалить сделанный маршрут (три точки > удалить маршрут)
    - do: Переустановить приложение
    - do: В приложении перейти в таб Галерея > Маршруты
    - assert: |
        Маршрут удалился
        Список перестроился
        Сортировка сохранилась (более поздние видео находятся выше)
        Если маршрут был единственный, то отображается заглушка "Пока нет снятых маршрутов"

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Удаление маршрута с экрана съемки:
    - *INFO
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Галерея > Маршруты
    - do: Выгрузить все маршруты тапом по кнопке "Отправить" (если есть)
    - assert: Все маршруты имеют статус "На проверке" или "Опубликован"
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Тап на кнопку Галерея экрана съемки > Маршруты
    - assert: |
        В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
        Сверху раздела появляется информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить"
    - do: Тап на Action menu (три точки) маршрута
    - assert: Открывается диалог с кнопками "Удалить" и "Отмена"
    - do: Тап на "Удалить"
    - assert: |
        Маршрут удалился
        Список перестроился
        Сортировка сохранилась (более поздние маршруты находятся выше)
        Если маршрут был единственный, то отображается заглушка "Пока нет снятых маршрутов"
        Информационная панель и кнопка "Отправить" сверху скрылись

    - platforms:
        - ios
        - android
    - tags:
        - assessors
    - integration_run:
        - mrc


  Удаление маршрута. Локальный маршрут оффлайн:
    - *INFO
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 3 - 4 фото или более
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Перейти в авиарежим на устройстве
    - assert: |
        Через 30 сек над списком маршрутов появляется плашка "Показаны только маршруты, сохраненные на устройстве"
        Все маршруты, сделанные на других сборках приложения (т. е. серверные маршруты), скрылись
    - do: Тап на Action menu (три точки) любого маршрута
    - assert: Открывается диалог с кнопками "Удалить" и "Отмена"
    - do: Тап на "Удалить"
    - assert: |
        Маршрут удалился
        Плашка "Показаны только маршруты, сохраненные на устройстве" продолжает отображаться
        Если маршрут был единственный, то отображается заглушка "Пока нет снятых маршрутов"

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Выгрузка маршрута. Скрролл списка маршрутов во время выгрузки:
    - estimatedTime: 5m 40s
    - *INFO
    - info: Авторизоваться аккаунтом с готовыми маршрутами
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной в 30-50 фото (ок 3 мин)
    - do: Тап на кнопку Галерея на Экране Съемки > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап на кнопку "Отправить"
    - do: Пока идет выгрузка, быстро скроллить список маршрутов
    - assert: |
        Скролл работает плавно, без зависаний
        Через некоторое время все маршруты выгружены и имеют статус "На проверке"

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Прерывание выгрузки. Пуш при переходе в фон во время активной выгрузки из таба Галерея:
    - estimatedTime: 6m 20s
    - *INFO
    - info: Для кейса удобнее использовать медленный интернет
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной около 30 фото (ок 3 мин)
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап на кнопку "Отправить"
    - do: При необходимости выбрать нужный тип сети для выгрузки
    - do: Свернуть приложение во время выгрузки
    - assert: Отображается пуш о прекращении выгрузки и необходимости вернуться в прилождение
    - do: Тап на пуш
    - assert: |
        Приложение развернулось
        Открыт список маршрутов
        Выгрузка продолжается

    - platforms:
        - ios
    - tags:
        - assessors


  Прерывание выгрузки. Пуш при переходе в фон во время активной выгрузки с экрана съемки:
    - estimatedTime: 6m 20s
    - *INFO
    - info: Для кейса удобнее использовать медленный интернет
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной около 30 фото (ок 3 мин)
    - do: Тап на иконку Галереи в нижнем навбаре > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап на кнопку "Отправить"
    - do: При необходимости выбрать нужный тип сети для выгрузки
    - do: Свернуть приложение во время выгрузки
    - assert: Отображается пуш о прекращении выгрузки и необходимости вернуться в прилождение
    - do: Тап на пуш
    - assert: |
        Приложение развернулось
        Открыт список маршрутов
        Выгрузка продолжается

    - platforms:
        - ios
    - tags:
        - assessors


  Прерывание выгрузки. Пуш при блокировки экрана во время активной выгрузки:
    - estimatedTime: 6m 20s
    - *INFO
    - info: Для кейса удобнее использовать медленный интернет
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной около 30 фото (ок 3 мин)
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап на кнопку "Отправить"
    - do: При необходимости выбрать нужный тип сети для выгрузки
    - do: Заблокировать экран девайса во время выгрузки
    - assert: Отображается пуш о прекращении выгрузки и необходимости вернуться в прилождение
    - do: Открыть пуш из центра уведомлений
    - assert: |
        Приложение развернулось
        Открыт список маршрутов
        Выгрузка продолжается

    - platforms:
        - ios
    - tags:
        - assessors


  Прерывание выгрузки. Пуш при переходе в фон во время активной выгрузки в горизонтальной ориентации:
    - estimatedTime: 6m 20s
    - info: Кейс актуален для девайсов, поддерживающих горизонтальную ориентацию домашнего экрана
    - *INFO
    - info: Для кейса удобнее использовать медленный интернет
    - info: Девайс в горизонтальной ориентации
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной около 30 фото (ок 3 мин)
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап на кнопку "Отправить"
    - do: При необходимости выбрать нужный тип сети для выгрузки
    - do: Свернуть приложение во время выгрузки
    - assert: Отображается пуш о прекращении выгрузки и необходимости вернуться в прилождение
    - do: Тап на пуш
    - assert: |
        Приложение развернулось
        Открыт список маршрутов
        Выгрузка продолжается

    - platforms:
        - ios
    - tags:
        - assessors


  Прерывание выгрузки. Отсутствие пуша о прекращении выгрузки без разрешения на уведомления:
    - estimatedTime: 6m 20s
    - *INFO
    - info: Для кейса удобнее использовать медленный интернет
    - do: В настройках девайса выключить разрешениие на уведомления (Настройки -> Kartograph -> Уведомления -> Допуск уведомлений -> Выкл)
    - do: Запустить приложение
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной около 30 фото (ок 3 мин)
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап на кнопку "Отправить"
    - do: При необходимости выбрать нужный тип сети для выгрузки
    - do: Свернуть приложение во время выгрузки
    - assert: Пуш о прекращении выгрузки не отображается

    - platforms:
        - ios
    - tags:
        - assessors


  Прерывание выгрузки. Перезапуск приложения:
    - estimatedTime: 6m
    - *INFO
    - info: Для кейса удобнее использовать медленный интернет
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной около 30 фото (ок 3 мин)
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап на кнопку "Отправить"
    - do: При необходимости выбрать нужный тип сети для выгрузки
    - do: Во время выгрузки перезапустить приложение
    - assert: Открывается главный экран приложения
    - do: Перейти в таб Галерея > Маршруты
    - assert: Сверху раздела присутствует информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить"

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Прерывание выгрузки. Переход в оффлайн:
    - estimatedTime: 6m
    - *INFO
    - info: Для кейса удобнее использовать медленный интернет
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной около 30 фото (ок 3 мин)
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап на кнопку "Отправить"
    - do: При необходимости выбрать нужный тип сети для выгрузки
    - do: Во время выгрузки выключить интернет на устройстве
    - assert: |
        Выгрузка останавливается
        Вместо прогресс-бара отображается бесконечный прелоадер
    - do: Включить интернет на устройстве
    - assert: |
        Выгрузка возобновляется
        После окончания выгрузки информационная панель сверху скрывается
        Статус маршрута меняется на "На проверке"

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Прерывание выгрузки. Смена сети:
    - estimatedTime: 7m
    - *INFO
    - info: |
        Для кейса удобнее использовать медленный интернет
        Девайс подключен к Wifi
    - do: Перезапустить приложеение
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной около 30 фото (ок 3 мин)
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап на кнопку "Отправить"
    - do: В диалоге выбрать тип сети "по WiFi"
    - assert: Начинается выгрузка
    - do: Во время выгрузки поменять тип сети на устройстве на мобильный интернет
    - assert: |
        Выгрузка останавливается
        Вместо прогресс-бара отображается бесконечный прелоадер
    - do: Снова включить WiFi на устройстве
    - assert: |
        Выгрузка возобновляется
        После окончания выгрузки информационная панель сверху скрывается
        Статус маршрута меняется на "На проверке"

    - platforms:
        - ios
        - android
    - tags:
        - assessors
        - mobile_internet


  Прерывание выгрузки крестиком:
    - estimatedTime: 6m
    - *INFO
    - info: Для кейса удобнее использовать медленный интернет
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной около 30 фото (ок 3 мин)
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап на кнопку "Отправить"
    - do: При необходимости выбрать нужный тип сети для выгрузки
    - assert:
        Надпись "n маршрутов ожидает отправки" меняется на "n маршрутов отправляется..." и счетчик фото
        Кнопка "Отправить" меняется на круглый прогресс-бар с крестиком
    - do: Прервать выгрузку тапом по крестику
    - assert: |
        Выгрузка останавливается
        Сверху раздела присутствует информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить"

    - platforms:
         - ios
         - android
    - tags:
         - assessors


  Прерывание выгрузки. Нет активной сессии:
    - estimatedTime: 6m
    - *INFO
    - info: Для кейса удобнее использовать медленный интернет
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной около 30 фото (ок 3 мин)
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап на кнопку "Отправить"
    - do: При необходимости выбрать нужный тип сети для выгрузки
    - do: Во время выгрузки выключить интернет на устройстве
    - assert: |
        Выгрузка останавливается
        Вместо прогресс-бара отображается бесконечный прелоадер
    - do: Свернуть и развернуть приложение
    - assert: Бесконечный прелоадер сохраняется
    - do: Перезапустить приложение
    - assert: Сверху раздела присутствует информационная панель с предупреждением "n маршрутов ожидает отправки" и кнопкой "Отправить"

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Выгрузка маршрута в фоне:
    - estimatedTime: 6m
    - *INFO
    - info: Для кейса удобнее использовать медленный интернет
    - do: Перейти в таб Настройки
    - do: Выключить настройку "Автоматически выгружать файлы"
    - assert: Тоглы настроек в правильном положение
    - do: Перейти в таб Съемка
    - do: Тап на "Съемка маршрута"
    - assert: Открывается экран съемки
    - do: Снять маршрут длиной около 30 фото (ок 3 мин)
    - do: Перейти в таб Галерея > Маршруты
    - assert: В списке "Маршруты" появился новый маршрут в статусе "Ожидает отправки"
    - do: Тап на кнопку "Отправить"
    - do: При необходимости выбрать нужный тип сети для выгрузки
    - assert: Начинается выгрузка маршрута
    - do: Во время выгрузки свернуть приложение в фон
    - do: Подождать время, приблизительно необходимое для выгрузки маршрута
    - do: Запустить приложение
    - assert: |
        Выгрузка продолжалась в фоне
        После окончания выгрузки информационная панель сверху скрылась
        Статус маршрута поменялся на "На проверке"

    - platforms:
        - android
    - tags:
        - assessors