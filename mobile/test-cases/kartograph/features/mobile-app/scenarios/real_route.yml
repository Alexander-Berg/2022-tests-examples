components: real_route
testing:
  - real_road_test

aliases:
  - &INFO
    - info: |
        Выданы все разрешения
        Пользователь авторизован
        Debug-панель > Environment > MapKit enviroment > prod
        Перезапустить приложение
        Debug-панель > Environment > Simulate location > off

specs:
  Быстрая проверка выгруженного маршрута после заезда:
    - *INFO
    - do: Включить настройку "Параллельно записывать видео"
    - do: Снять и выгрузить маршрут
    - do: Перейти в зеркала под тем же аккаунтом, что и в приложении
    - assert:
        Появился новый маршрут
        Дата съемки, время, километраж и количество фото соответствуют реальности
    - do: Тап на маршрут
    - assert:
        Нитка маршрута соответствует реальным координатам
    - do: Просмотреть фото в маршруте
    - assert:
        Фото в правильном порядке
        Нет повторяющихся
        Нет поворотов экрана
    - do: Вернуться в приложение
    - do: Просмотреть видео
        Нет одинаковых и повторяющихся видео
        Общая длина всех видео соответствует времени поездки

    - platforms:
        - ios
        - android


  Размытие лиц и номеров:
    - *INFO
    - do: Снять маршрут, где на фото попали лица людей и номера машин
    - do: Выгрузить маршрут
    - do: Перейти в зеркала под аккаунтом, отличным от того, под которым снимался маршрут
    - do: Открыть маршрут на просмотр
    - assert: Лица людей и номера машин размыты

    - platforms:
        - ios
        - android