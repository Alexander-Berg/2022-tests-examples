components: main_screen
testing:
  - regress

specs:
  Онбординг. UI:
    - info: |
        Первый запуск приложения
        Девайс в вертикальной ориентации
    - do: Запустить приложение
    - assert: |
        Открывается онбординг
        Онбординг состоит из нескольких страниц
        Каждая страница имеет картинку, надпись и элемент управление страницами (точки внизу экрана)
    - do: Повернуть девайс в горизонтальную ориентация
    - assert: |
        (телефоны) Ориентация не меняется
        (планшеты) Ориентация поменялась, верстка корректна, все элементы страницы присутствуют
    - do: Сменить тему в настройках девайса
    - assert: |
        Тема онбординга сменилась
        Все элементы страницы присутствуют

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Онбординг. Перелистывание страниц:
    - info: |
        Первый запуск приложения
    - do: Запустить приложение
    - assert: |
        Открывается онбординг
        Онбординг состоит из нескольких страниц
        Каждая страница имеет картинку, надпись и элемент управление страницами (точки внизу экрана)
    - do: Пролистать все страницы
    - assert: |
        Надписи под картинками не содержат орфографических ошибок и переносов слов
        Номер страницы выделен в элементе управления страницами (точки внизу экрана)
        Последняя страница содержит кнопку перехода к авторизации
    - do: Пролистать страницы в обратном направление
    - assert: |
        Кнопка перехода к авторизации скрывается
        Страницы перелистываются до первой

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Онбординг. Логика показа:
    - info: |
        Первый запуск приложения
    - do: Запустить приложение
    - assert: |
        Открывается онбординг
        Онбординг состоит из нескольких страниц
        Каждая страница имеет картинку, надпись и элемент управление страницами (точки внизу экрана)
    - do: Перезапустить приложение с выгрузкой из памяти
    - assert: Открывается онбординг
    - do: Пролистать онбординг до последней страницы
    - assert: Последняя страница содержит кнопку перехода к авторизации
    - do: Тап на кнопку в онбординге
    - assert: Открывается экран авторизации
    - do: Перезагрузить приложение
    - assert: Онбординг не показывается

    - platforms:
        - ios
        - android
    - testing:
        - smoke
    - tags:
        - assessors


  Главный экран. Навигация:
    - info: |
        Первый запуск приложения
    - do: Запустить приложение
    - do: Авторизоваться и выдать все необходимые разрешения
    - assert: |
        Открывается главный экран приложения с блоками:
        - Информация об аккаунте
        - "Съемка маршрута"
        - "Сообщить о неточности" - задизейблена, присутствует подстрочник "Скоро"
        - Нижний таббар с табами "Галерея", "Создать", "Настройки"
         Активен таб "Создать"

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Главный экран. Поворот:
    - info: |
        Девайс в вертикальной ориентации
        Пользователь авторизован
        Выданы все разрешения
        Открыт главный экран приложения
    - do: Повернуть экран в горизонтальное положение
    - assert: |
        Остается открытым главный экран приложеения с блоками:
        - Информация об аккаунте
        - "Съемка маршрута"
        - "Сообщить о неточности" - задизейблена, присутствует подстрочник "Скоро"
        - Нижний таббар с табами "Галерея", "Создать", "Настройки"
        Активен таб "Создать"
        Блоки выглядят корректно, не обрезаются
        При необходимости внутри экрана работает скролл
    - do: По очереди открыть все вкладки через таббар
    - assert: Открывается экран Настроек/Галерея/Главный экран

    - platforms:
        - ios
        - android
    - tags:
        - assessors


  Главный экран. Смена темы:
    - info: |
        На девайсе выставлена светлая тема
        Выданы все разрешения
        Пользователь авторизован
        Приложение не запущено
    - do: Запустить приложение
    - assert: |
        Открыт экран "Съемка"
        Экран отображется в светлой теме
    - do: На девайсе сменить тему на темную
    - assert: |
        Открыт экран "Съемка"
        Экран отображется в темной теме
        Артефакты светлой темы отсутствуют

    - platforms:
        - android
        - ios
