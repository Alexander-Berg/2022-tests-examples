// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM component/sbp-extended-banks-list-component.ts >>>

package com.yandex.xplat.testopithecus.payment.sdk

import com.yandex.xplat.common.*
import com.yandex.xplat.eventus.common.*
import com.yandex.xplat.testopithecus.common.*
import com.yandex.xplat.payment.sdk.*

public open class SbpExtendedBanksListComponent: MBTComponent {
    open override fun assertMatches(model: App, application: App): Unit {
        val appFeature = SbpExtendedBanksListFeature.`get`.forceCast(application)
        assertTrue(appFeature.waitForInterface(PaymentSdkConstants.SCREEN_APPEARANCE_TIMEOUT), "Extended banks list does not load in ${PaymentSdkConstants.SCREEN_APPEARANCE_TIMEOUT} milliseconds")
        val modelFeature = SbpExtendedBanksListFeature.`get`.forceCast(model)
        val appShowEmpty = appFeature.isEmptyMessageDisplayed()
        val modelShowEmpty = modelFeature.isEmptyMessageDisplayed()
        assertTrue(appShowEmpty == modelShowEmpty, "Incorect state of empty message")
        if (!appShowEmpty) {
            val appBanks = appFeature.getBanksList()
            val modelBanks = modelFeature.getBanksList()
            assertTrue(appBanks.size == modelBanks.size, "Incorrect banks list length")
            for (bank in modelBanks) {
                assertTrue(appBanks.contains(bank), "Incorrect bank")
            }
        }
    }

    open override fun getComponentType(): MBTComponentType {
        return "SbpExtendedBanksListComponent"
    }

    open override fun tostring(): String {
        return this.getComponentType()
    }

}

