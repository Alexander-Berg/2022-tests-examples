// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM action/unbind-card-actions.ts >>>

import Foundation

open class UnbindCardAction: BaseSimpleAction<UnbindCard, UnbindCardComponent> {
  public static let type: MBTActionType = "UnbindCardAction"
  private var index: Int32
  public init(_ index: Int32) {
    self.index = index
    super.init(UnbindCardAction.type)
  }

  @discardableResult
  open override func requiredFeature() -> Feature<UnbindCard> {
    return UnbindCardFeature.`get`
  }

  @discardableResult
  open override func performImpl(_ modelOrApplication: UnbindCard, _ currentComponent: UnbindCardComponent) throws -> MBTComponent {
    let numberOfCards = modelOrApplication.getCards().length
    (try modelOrApplication.unbindCard(self.index))
    return numberOfCards - 1 > 0 ? UnbindCardComponent() : PaymentMethodSelectedComponent()
  }

  @discardableResult
  open override func events() -> YSArray<EventusEvent> {
    return YSArray()
  }

}

open class TapOnEditButtonAction: BaseSimpleAction<UnbindCard, MBTComponent> {
  public static let type: MBTActionType = "TapOnEditButtonAction"
  public init() {
    super.init(TapOnEditButtonAction.type)
  }

  @discardableResult
  open override func requiredFeature() -> Feature<UnbindCard> {
    return UnbindCardFeature.`get`
  }

  @discardableResult
  open override func performImpl(_ modelOrApplication: UnbindCard, _ currentComponent: MBTComponent) throws -> MBTComponent {
    (try modelOrApplication.tapOnEditButton())
    return UnbindCardComponent()
  }

  @discardableResult
  open override func events() -> YSArray<EventusEvent> {
    return YSArray()
  }

}

open class TapOnDoneButtonAction: BaseSimpleAction<UnbindCard, UnbindCardComponent> {
  public static let type: MBTActionType = "TapOnDoneButtonAction"
  public init() {
    super.init(TapOnDoneButtonAction.type)
  }

  @discardableResult
  open override func requiredFeature() -> Feature<UnbindCard> {
    return UnbindCardFeature.`get`
  }

  @discardableResult
  open override func performImpl(_ modelOrApplication: UnbindCard, _ currentComponent: UnbindCardComponent) throws -> MBTComponent {
    (try modelOrApplication.tapOnDoneButton())
    return PaymentMethodSelectedComponent()
  }

  @discardableResult
  open override func events() -> YSArray<EventusEvent> {
    return YSArray()
  }

}

