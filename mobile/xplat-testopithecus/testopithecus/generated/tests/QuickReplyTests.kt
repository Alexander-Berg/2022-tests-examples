// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM tests/quick-reply-tests.ts >>>

package com.yandex.xplat.testopithecus

import com.yandex.xplat.common.*
import com.yandex.xplat.eventus.common.*
import com.yandex.xplat.eventus.*
import com.yandex.xplat.mapi.*
import com.yandex.xplat.testopithecus.common.*

public open class QuickReplyToMessageTests(): RegularYandexMailTestBase("QuickReply. Отправка ответа на одиночное письмо") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(7667).androidCase(6536)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.sendMessageViaMobileApi().nextCustomMessage(MessageSpecBuilder().withDefaults().withTextBody("Как дела?").withSubject("Тема письма"))
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenMessageAction(0)).then(QuickReplyTapOnTextFieldAction()).then(QuickReplySetTextFieldAction("Хорошо")).then(QuickReplyTapOnSendButtonAction())
    }

}

public open class QuickReplyIsTextFieldExpandedTests(): RegularYandexMailTestBase("QuickReply. Растягивание текстового поля") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(7672).androidCase(6541)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.sendMessageViaMobileApi().nextCustomMessage(MessageSpecBuilder().withDefaults().withTextBody("Как дела?").withSubject("Тема письма"))
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenMessageAction(0)).then(QuickReplyTapOnTextFieldAction()).then(QuickReplySetTextFieldAction("Хорошо\n\n\n"))
    }

}

public open class QuickReplyOpenFilledComposeTests(): RegularYandexMailTestBase("QuickReply. Переход в композ из заполненного Quick Reply") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(7669).androidCase(6538)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.sendMessageViaMobileApi().nextCustomMessage(MessageSpecBuilder().withDefaults().withTextBody("Как дела?").withSubject("Тема письма"))
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenMessageAction(0)).then(QuickReplyTapOnTextFieldAction()).then(QuickReplySetTextFieldAction("Хорошо")).then(AssertAction()).then(QuickReplyTapOnComposeButtonAction())
    }

}

public open class QuickReplyRotateTests(): RegularYandexMailTestBase("QuickReply. Изменение ориентации устройства с введенным текстом") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(7685).androidCase(6554)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.sendMessageViaMobileApi().nextCustomMessage(MessageSpecBuilder().withDefaults().withTextBody("Как дела?").withSubject("Тема письма"))
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenMessageAction(0)).then(QuickReplyTapOnTextFieldAction()).then(QuickReplySetTextFieldAction("Хорошо")).then(RotateToLandscape())
    }

}

public open class SmartReplyMissingIfSettingsDisabledTest(): RegularYandexMailTestBase("SmartReply. Отсутствие умных ответов при выключенной настройке") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(7683).androidCase(6552)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.sendMessageViaMobileApi().nextCustomMessage(MessageSpecBuilder().withDefaults().withTextBody("Как дела?").withSubject("Тема письма"))
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenFolderListAction()).then(OpenSettingsAction()).then(OpenGeneralSettingsAction()).then(TurnOffSmartReplyAction()).then(CloseGeneralSettingsAction()).then(CloseRootSettings()).then(GoToFolderAction(DefaultFolderName.inbox)).then(OpenMessageAction(0))
    }

}

public open class SmartReplyShowIfSettingsEnabledTest(): RegularYandexMailTestBase("SmartReply. Показ умных ответов при включенной настройке") {
    open override fun setupSettings(settings: TestSettings): Unit {
        settings.iosCase(7682).androidCase(6551).ignoreOn(MBTPlatform.Android)
    }

    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.sendMessageViaMobileApi().nextCustomMessage(MessageSpecBuilder().withDefaults().withTextBody("Как дела?").withSubject("Тема письма"))
    }

    open override fun testScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenMessageAction(0))
    }

}

