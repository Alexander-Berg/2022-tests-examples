// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM mbt/actions/debug-dump-action.ts >>>

package com.yandex.xplat.testopithecus.common

import com.yandex.xplat.common.*
import com.yandex.xplat.eventus.common.*
import com.yandex.xplat.eventus.*

public open class DebugDumpAction: MBTAction {
    open override fun supported(_modelFeatures: YSArray<FeatureID>, _applicationFeatures: YSArray<FeatureID>): Boolean {
        return true
    }

    open override fun canBePerformed(_model: App): Boolean {
        return true
    }

    open override fun perform(model: App, application: App, history: MBTHistory): MBTComponent {
        val expected = model.dump(model)
        val actual = application.dump(model)
        Log.info("DEBUG DUMP\nMODEL\n${expected}APPLICATION\n${actual}")
        return history.currentComponent
    }

    open override fun events(): YSArray<EventusEvent> {
        return mutableListOf()
    }

    open override fun tostring(): String {
        return "DEBUG DUMP"
    }

    open override fun getActionType(): MBTActionType {
        return DebugDumpAction.type
    }

    companion object {
        @JvmStatic val type: MBTActionType = "DebugDump"
    }
}

