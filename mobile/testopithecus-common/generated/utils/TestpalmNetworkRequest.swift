// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM utils/testpalm-network-request.ts >>>

import Foundation

open class TestpalmTrustedNetworkRequest: BaseNetworkRequest {
  private let platform: MBTPlatform
  public init(_ platform: MBTPlatform) {
    self.platform = platform
    super.init()
  }

  @discardableResult
  open override func encoding() -> RequestEncoding {
    return JsonRequestEncoding()
  }

  @discardableResult
  open override func method() -> NetworkMethod {
    return NetworkMethod.`get`
  }

  @discardableResult
  open override func targetPath() -> String {
    return "testcases/\(TestpalmTrustedNetworkRequest.getPathByPlatform(self.platform))"
  }

  @discardableResult
  open override func urlExtra() -> NetworkParams {
    return MapJSONItem().putString("expression", TestpalmTrustedNetworkRequest.getFilterByPlatform(self.platform)).putString("include", "id")
  }

  @discardableResult
  private class func getFilterByPlatform(_ platform: MBTPlatform) -> String {
    switch platform {
      case MBTPlatform.IOS:
        return "{\"type\":\"AND\",\"left\":{\"type\":\"EQ\",\"key\":\"attributes.5c8abacebb580fb2967a0e23\",\"value\":\"Trusted\"},\"right\":{\"type\":\"EQ\",\"key\":\"attributes.5c4acdf4d477414d135c4d29\",\"value\":\"iOS\"}}"
      case MBTPlatform.Android:
        return "{\"type\":\"AND\",\"left\":{\"type\":\"EQ\",\"key\":\"attributes.5c8abacebb580fb2967a0e23\",\"value\":\"Trusted\"},\"right\":{\"type\":\"EQ\",\"key\":\"attributes.5c4acdf4d477414d135c4d29\",\"value\":\"Android\"}}"
      default:
        return ""
    }
  }

  @discardableResult
  private class func getPathByPlatform(_ platform: MBTPlatform) -> String {
    switch platform {
      case MBTPlatform.IOS:
        return "mobilemail"
      case MBTPlatform.Android:
        return "mobilemail"
      default:
        return ""
    }
  }

}

