from builtins import map
TVM_FRONTEND = int(os.environ.get('TVM_FRONTEND', 2001095))
TVM_TAKEOUT = int(os.environ.get('TVM_TAKEOUT', 2009783))
TVM_IDM = int(os.environ.get('TVM_IDM', 2001602))
TVM_YANDEX_FORMS = int(os.environ.get('TVM_YANDEX_FORMS', 2001259))

DEFAULT_TVM_ALLOWED_CLIENTS = [TVM_FRONTEND, TVM_TAKEOUT, TVM_CLIENT_ID, TVM_IDM, TVM_YANDEX_FORMS]

API_CLIENTS_TVM_IDS = os.environ.get('API_CLIENTS_TVM_IDS')
API_CLIENTS_TVM_IDS = set(map(int, API_CLIENTS_TVM_IDS.split(','))) if API_CLIENTS_TVM_IDS else set()

TVM_ALLOWED_CLIENTS = os.environ.get('TVM_ALLOWED_CLIENTS')
TVM_ALLOWED_CLIENTS = (
    set(map(int, TVM_ALLOWED_CLIENTS.split(','))) if TVM_ALLOWED_CLIENTS else set(DEFAULT_TVM_ALLOWED_CLIENTS)
)

TVM_ALLOWED_CLIENTS |= API_CLIENTS_TVM_IDS
