{
   "comment" : "Updating resource catalogia_publish.tgz from 2209692078 to 2242547210 in backend ",
   "components" : [
      {
         "activateRecipe" : {
            "doneThreshold" : "100%",
            "recipe" : "INTERNAL",
            "updateLimit" : "100%",
            "updatePeriod" : "20",
            "updateWindow" : "100%"
         },
         "componentFeatures" : [
            "PORTO_SOCKET"
         ],
         "componentName" : "backend",
         "componentType" : "standard",
         "embedJugglerClient" : false,
         "environmentVariables" : {
            "BM_HOSTINFO_JSON" : "{\"crontab_name\": \"bmapi-qloud\", \"role\": \"bmapi-qloud-test\", \"number_of_fcgi_processes\": 8}",
            "BM_HOSTINFO_STRING" : "crontab_name => \"bmapi-qloud\", number_of_fcgi_processes => 8",
            "BM_HOSTROLE" : "bmapi-qloud-test",
            "BM_QLOUD_SETTINGS_NAME" : "bmapi-qloud"
         },
         "instanceGroups" : [
            {
               "backup" : false,
               "location" : "SASOVO",
               "units" : 2,
               "weight" : 1
            },
            {
               "backup" : false,
               "location" : "VLADIMIR",
               "units" : 2,
               "weight" : 1
            }
         ],
         "jugglerBundleResources" : [],
         "l3Config" : {
            "vss" : []
         },
         "overlays" : [],
         "prepareRecipe" : {
            "doneThreshold" : "100%",
            "recipe" : "INTERNAL",
            "updateLimit" : "100%",
            "updatePeriod" : "20s",
            "updateWindow" : "100%"
         },
         "properties" : {
            "allocationFailThreshold" : "0",
            "allocationStrategy" : "dynamic",
            "allowedCpuNames" : "",
            "componentEnvironment" : "BM_HOSTINFO_JSON={\"crontab_name\": \"bmapi-qloud\", \"role\": \"bmapi-qloud-test\", \"number_of_fcgi_processes\": 8}\nBM_HOSTINFO_STRING=crontab_name => \"bmapi-qloud\", number_of_fcgi_processes => 8\nBM_HOSTROLE=bmapi-qloud-test\nBM_QLOUD_SETTINGS_NAME=bmapi-qloud",
            "deployPolicy" : "BlueGreen",
            "diskSerial" : "0",
            "diskSize" : "10",
            "dnsCache" : "true",
            "dnsNat64" : "false",
            "ediskSerial" : "0",
            "ediskSize" : "200",
            "failTimeout" : "60",
            "fastboneRequired" : "false",
            "hardwareSegment" : "common",
            "hash" : "sha256:924f4114d1765fd7acccc62862fde1f5a5cabc7d70c90103e4c8df0e00fdb999",
            "healthCheckFall" : "5",
            "healthCheckHttpExpectedCode" : "http_2xx",
            "healthCheckHttpUrl" : "/ping",
            "healthCheckInterval" : "5000",
            "healthCheckRise" : "2",
            "healthCheckTimeout" : "1000",
            "healthCheckType" : "http",
            "httpCheckOn" : "true",
            "ioLimit" : "0",
            "isolationGroup" : "root",
            "isolationUser" : "root",
            "java" : "false",
            "listenBacklogSize" : "511",
            "maxFails" : "0",
            "maxInstancesPerHost" : "999",
            "maxWorkerConnections" : "16384",
            "minPrepared" : "50",
            "multiAccept" : "false",
            "network" : "BMNETS",
            "notResolveServerName" : "false",
            "preAuthenticate" : "false",
            "profiles" : "production",
            "qloudCoreDumpDirectory" : "/coredumps_qloud",
            "qloudCoreDumpFileSizeGb" : "0",
            "qloudInitPolicy" : "stable",
            "qloudInitVersion" : "637",
            "qloudMaxCoreDumpedStopsRespawnDelay" : "0s",
            "qloudMaxCoreDumpsOnDisk" : "0",
            "repository" : "registry.yandex.net/catalogia/bm-qloud:1.6",
            "size" : "48;8.0;32;10",
            "sslStapling" : "false",
            "statusChecksCorrected" : "true",
            "stderr" : "line",
            "stdout" : "line",
            "storage" : "",
            "tmpfsDiskSerial" : "0",
            "tmpfsDiskSize" : "1",
            "unistat" : "false",
            "unistatPath" : "/unistat",
            "unistatPort" : "80",
            "units" : "0",
            "upstreamPort" : "80",
            "useDockerUserGroup" : "false",
            "useHealthCheck" : "true",
            "useHttps" : "false",
            "useTorrents" : "false",
            "usedVolumes" : ""
         },
         "resourceUpdateAction" : {
            "httpPort" : 0,
            "signal" : "SIGTERM",
            "timeoutMs" : 10000,
            "type" : "signal"
         },
         "sandboxResources" : [
            {
               "dynamic" : true,
               "extract" : true,
               "id" : 1978373979,
               "localName" : "dicts_for_bmapi.tgz",
               "symlink" : "/opt/BM_GENDICT/dicts_for_bmapi"
            },
            {
               "dynamic" : true,
               "extract" : true,
               "id" : 2242547210,
               "localName" : "catalogia_publish.tgz",
               "symlink" : "/opt/catalogia_publish"
            }
         ],
         "secrets" : [
            {
               "objectId" : "secret.bmapi-zoracl-clientid",
               "target" : "/home/broadmatching/.zoracl/tvm_clientid",
               "used" : true
            },
            {
               "objectId" : "secret.bmapi-zoracl-secret",
               "target" : "/home/broadmatching/.zoracl/tvm_secret",
               "used" : true
            },
            {
               "objectId" : "secret.solomon-token",
               "target" : "/opt/broadmatching/secrets/tokens/solomon_oauth_token",
               "used" : true
            },
            {
               "objectId" : "secret.yt-plato",
               "target" : "/opt/broadmatching/secrets/tokens/yt_plato",
               "used" : true
            }
         ],
         "statusHookChecks" : [
            {
               "path" : "/ping",
               "port" : 80,
               "timeout" : 1000,
               "type" : "http"
            }
         ],
         "upstreamComponents" : []
      }
   ],
   "engine" : "platform",
   "objectId" : "bm.bmapi-ql.test",
   "routeSettings" : [
      {
         "componentName" : "backend",
         "defaultErrorPageUrl" : "http://any.yandex.ru",
         "defaultNoUriPart" : false,
         "defaultProxyBufferSize" : "-1",
         "defaultProxyBuffers" : "-1",
         "defaultProxyConnectTimeout" : "60ms",
         "defaultProxyNextUpstream" : "error timeout",
         "defaultProxyNextUpstreamTimeout" : 10,
         "defaultProxyNextUpstreamTries" : 3,
         "defaultProxyPolicy" : "round_robin",
         "defaultProxyReadTimeout" : "5",
         "defaultProxyWriteTimeout" : "5",
         "defaultWebAuthCert" : "NO_CHECK",
         "defaultWebAuthCookie" : "NO_CHECK",
         "defaultWebAuthIdmRole" : false,
         "defaultWebAuthToken" : "NO_CHECK",
         "errorPage" : "INHERITED",
         "errorPageUrl" : "http://any.yandex.ru",
         "geo" : false,
         "keepAliveTimeout" : "-1s",
         "location" : "/",
         "molly" : false,
         "noUriPart" : false,
         "preAuthenticate" : false,
         "proxyBufferSize" : "-1",
         "proxyBuffering" : false,
         "proxyBuffers" : "-1",
         "proxyConnectTimeout" : "60s",
         "proxyNextUpstream" : "error timeout http_502 non_idempotent",
         "proxyNextUpstreamTimeout" : 3600,
         "proxyNextUpstreamTries" : 3,
         "proxyPolicy" : "round_robin",
         "proxyReadTimeout" : "3600",
         "proxyRequestBuffering" : false,
         "proxyWriteTimeout" : "5",
         "resolver" : {
            "resolverTimeout" : "-1s",
            "resolverValid" : "-1s"
         },
         "upstreamPath" : "/",
         "wallarm" : false,
         "webAuthCert" : "DISABLED",
         "webAuthCheckIdm" : false,
         "webAuthCookies" : "DISABLED",
         "webAuthMode" : "OFF",
         "webAuthToken" : "DISABLED"
      }
   ],
   "userEnvironment" : "TZ=Europe/Moscow\n",
   "userEnvironmentMap" : {
      "TZ" : "Europe/Moscow"
   }
}
